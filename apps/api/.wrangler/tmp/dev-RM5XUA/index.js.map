{
  "version": 3,
  "sources": ["wrangler-modules-watch:wrangler:modules-watch", "../../../../../node_modules/wrangler/templates/modules-watch-stub.js", "../../../../../node_modules/kysely/dist/esm/util/object-utils.js", "../../../../../node_modules/kysely/dist/esm/operation-node/alter-table-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/identifier-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/create-index-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/create-schema-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/create-table-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/schemable-identifier-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/drop-index-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/drop-schema-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/drop-table-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/alias-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/table-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/operation-node-source.js", "../../../../../node_modules/kysely/dist/esm/expression/expression.js", "../../../../../node_modules/kysely/dist/esm/operation-node/select-modifier-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/and-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/or-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/on-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/join-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/binary-operation-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/operator-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/column-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/select-all-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/reference-node.js", "../../../../../node_modules/kysely/dist/esm/dynamic/dynamic-reference-builder.js", "../../../../../node_modules/kysely/dist/esm/operation-node/order-by-item-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/raw-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/collate-node.js", "../../../../../node_modules/kysely/dist/esm/query-builder/order-by-item-builder.js", "../../../../../node_modules/kysely/dist/esm/util/log-once.js", "../../../../../node_modules/kysely/dist/esm/parser/order-by-parser.js", "../../../../../node_modules/kysely/dist/esm/operation-node/json-reference-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/json-operator-chain-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/json-path-node.js", "../../../../../node_modules/kysely/dist/esm/parser/reference-parser.js", "../../../../../node_modules/kysely/dist/esm/operation-node/primitive-value-list-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/value-list-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/value-node.js", "../../../../../node_modules/kysely/dist/esm/parser/value-parser.js", "../../../../../node_modules/kysely/dist/esm/operation-node/parens-node.js", "../../../../../node_modules/kysely/dist/esm/parser/binary-operation-parser.js", "../../../../../node_modules/kysely/dist/esm/operation-node/order-by-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/partition-by-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/over-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/from-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/group-by-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/having-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/insert-query-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/list-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/update-query-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/using-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/delete-query-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/where-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/returning-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/explain-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/when-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/merge-query-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/output-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/query-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/select-query-node.js", "../../../../../node_modules/kysely/dist/esm/query-builder/join-builder.js", "../../../../../node_modules/kysely/dist/esm/operation-node/partition-by-item-node.js", "../../../../../node_modules/kysely/dist/esm/parser/partition-by-parser.js", "../../../../../node_modules/kysely/dist/esm/query-builder/over-builder.js", "../../../../../node_modules/kysely/dist/esm/operation-node/selection-node.js", "../../../../../node_modules/kysely/dist/esm/parser/select-parser.js", "../../../../../node_modules/kysely/dist/esm/operation-node/values-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/default-insert-value-node.js", "../../../../../node_modules/kysely/dist/esm/parser/insert-values-parser.js", "../../../../../node_modules/kysely/dist/esm/operation-node/column-update-node.js", "../../../../../node_modules/kysely/dist/esm/parser/update-set-parser.js", "../../../../../node_modules/kysely/dist/esm/operation-node/on-duplicate-key-node.js", "../../../../../node_modules/kysely/dist/esm/query-builder/insert-result.js", "../../../../../node_modules/kysely/dist/esm/query-builder/no-result-error.js", "../../../../../node_modules/kysely/dist/esm/operation-node/on-conflict-node.js", "../../../../../node_modules/kysely/dist/esm/query-builder/on-conflict-builder.js", "../../../../../node_modules/kysely/dist/esm/operation-node/top-node.js", "../../../../../node_modules/kysely/dist/esm/parser/top-parser.js", "../../../../../node_modules/kysely/dist/esm/operation-node/or-action-node.js", "../../../../../node_modules/kysely/dist/esm/query-builder/insert-query-builder.js", "../../../../../node_modules/kysely/dist/esm/query-builder/delete-result.js", "../../../../../node_modules/kysely/dist/esm/operation-node/limit-node.js", "../../../../../node_modules/kysely/dist/esm/query-builder/delete-query-builder.js", "../../../../../node_modules/kysely/dist/esm/query-builder/update-result.js", "../../../../../node_modules/kysely/dist/esm/query-builder/update-query-builder.js", "../../../../../node_modules/kysely/dist/esm/operation-node/common-table-expression-name-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/common-table-expression-node.js", "../../../../../node_modules/kysely/dist/esm/query-builder/cte-builder.js", "../../../../../node_modules/kysely/dist/esm/parser/with-parser.js", "../../../../../node_modules/kysely/dist/esm/operation-node/with-node.js", "../../../../../node_modules/kysely/dist/esm/util/random-string.js", "../../../../../node_modules/kysely/dist/esm/util/query-id.js", "../../../../../node_modules/kysely/dist/esm/util/require-all-props.js", "../../../../../node_modules/kysely/dist/esm/operation-node/operation-node-transformer.js", "../../../../../node_modules/kysely/dist/esm/plugin/with-schema/with-schema-transformer.js", "../../../../../node_modules/kysely/dist/esm/plugin/with-schema/with-schema-plugin.js", "../../../../../node_modules/kysely/dist/esm/operation-node/matched-node.js", "../../../../../node_modules/kysely/dist/esm/parser/merge-parser.js", "../../../../../node_modules/kysely/dist/esm/util/deferred.js", "../../../../../node_modules/kysely/dist/esm/util/provide-controlled-connection.js", "../../../../../node_modules/kysely/dist/esm/query-executor/query-executor-base.js", "../../../../../node_modules/kysely/dist/esm/query-executor/noop-query-executor.js", "../../../../../node_modules/kysely/dist/esm/query-builder/merge-result.js", "../../../../../node_modules/kysely/dist/esm/query-builder/merge-query-builder.js", "../../../../../node_modules/kysely/dist/esm/query-creator.js", "../../../../../node_modules/kysely/dist/esm/parser/parse-utils.js", "../../../../../node_modules/kysely/dist/esm/parser/join-parser.js", "../../../../../node_modules/kysely/dist/esm/operation-node/offset-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/group-by-item-node.js", "../../../../../node_modules/kysely/dist/esm/parser/group-by-parser.js", "../../../../../node_modules/kysely/dist/esm/operation-node/set-operation-node.js", "../../../../../node_modules/kysely/dist/esm/parser/set-operation-parser.js", "../../../../../node_modules/kysely/dist/esm/expression/expression-wrapper.js", "../../../../../node_modules/kysely/dist/esm/operation-node/fetch-node.js", "../../../../../node_modules/kysely/dist/esm/parser/fetch-parser.js", "../../../../../node_modules/kysely/dist/esm/query-builder/select-query-builder.js", "../../../../../node_modules/kysely/dist/esm/operation-node/aggregate-function-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/function-node.js", "../../../../../node_modules/kysely/dist/esm/query-builder/aggregate-function-builder.js", "../../../../../node_modules/kysely/dist/esm/query-builder/function-module.js", "../../../../../node_modules/kysely/dist/esm/operation-node/unary-operation-node.js", "../../../../../node_modules/kysely/dist/esm/parser/unary-operation-parser.js", "../../../../../node_modules/kysely/dist/esm/operation-node/case-node.js", "../../../../../node_modules/kysely/dist/esm/query-builder/case-builder.js", "../../../../../node_modules/kysely/dist/esm/operation-node/json-path-leg-node.js", "../../../../../node_modules/kysely/dist/esm/query-builder/json-path-builder.js", "../../../../../node_modules/kysely/dist/esm/operation-node/tuple-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/data-type-node.js", "../../../../../node_modules/kysely/dist/esm/parser/data-type-parser.js", "../../../../../node_modules/kysely/dist/esm/operation-node/cast-node.js", "../../../../../node_modules/kysely/dist/esm/expression/expression-builder.js", "../../../../../node_modules/kysely/dist/esm/parser/expression-parser.js", "../../../../../node_modules/kysely/dist/esm/dynamic/dynamic-table-builder.js", "../../../../../node_modules/kysely/dist/esm/parser/table-parser.js", "../../../../../node_modules/kysely/dist/esm/operation-node/add-column-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/column-definition-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/drop-column-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/rename-column-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/check-constraint-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/references-node.js", "../../../../../node_modules/kysely/dist/esm/parser/default-value-parser.js", "../../../../../node_modules/kysely/dist/esm/operation-node/generated-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/default-value-node.js", "../../../../../node_modules/kysely/dist/esm/parser/on-modify-action-parser.js", "../../../../../node_modules/kysely/dist/esm/schema/column-definition-builder.js", "../../../../../node_modules/kysely/dist/esm/operation-node/modify-column-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/foreign-key-constraint-node.js", "../../../../../node_modules/kysely/dist/esm/schema/foreign-key-constraint-builder.js", "../../../../../node_modules/kysely/dist/esm/operation-node/add-constraint-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/unique-constraint-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/drop-constraint-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/alter-column-node.js", "../../../../../node_modules/kysely/dist/esm/schema/alter-column-builder.js", "../../../../../node_modules/kysely/dist/esm/schema/alter-table-executor.js", "../../../../../node_modules/kysely/dist/esm/schema/alter-table-add-foreign-key-constraint-builder.js", "../../../../../node_modules/kysely/dist/esm/schema/alter-table-drop-constraint-builder.js", "../../../../../node_modules/kysely/dist/esm/operation-node/primary-key-constraint-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/add-index-node.js", "../../../../../node_modules/kysely/dist/esm/schema/alter-table-add-index-builder.js", "../../../../../node_modules/kysely/dist/esm/schema/unique-constraint-builder.js", "../../../../../node_modules/kysely/dist/esm/schema/primary-key-constraint-builder.js", "../../../../../node_modules/kysely/dist/esm/schema/check-constraint-builder.js", "../../../../../node_modules/kysely/dist/esm/operation-node/rename-constraint-node.js", "../../../../../node_modules/kysely/dist/esm/schema/alter-table-builder.js", "../../../../../node_modules/kysely/dist/esm/plugin/immediate-value/immediate-value-transformer.js", "../../../../../node_modules/kysely/dist/esm/schema/create-index-builder.js", "../../../../../node_modules/kysely/dist/esm/schema/create-schema-builder.js", "../../../../../node_modules/kysely/dist/esm/parser/on-commit-action-parse.js", "../../../../../node_modules/kysely/dist/esm/schema/create-table-builder.js", "../../../../../node_modules/kysely/dist/esm/schema/drop-index-builder.js", "../../../../../node_modules/kysely/dist/esm/schema/drop-schema-builder.js", "../../../../../node_modules/kysely/dist/esm/schema/drop-table-builder.js", "../../../../../node_modules/kysely/dist/esm/operation-node/create-view-node.js", "../../../../../node_modules/kysely/dist/esm/plugin/immediate-value/immediate-value-plugin.js", "../../../../../node_modules/kysely/dist/esm/schema/create-view-builder.js", "../../../../../node_modules/kysely/dist/esm/operation-node/drop-view-node.js", "../../../../../node_modules/kysely/dist/esm/schema/drop-view-builder.js", "../../../../../node_modules/kysely/dist/esm/operation-node/create-type-node.js", "../../../../../node_modules/kysely/dist/esm/schema/create-type-builder.js", "../../../../../node_modules/kysely/dist/esm/operation-node/drop-type-node.js", "../../../../../node_modules/kysely/dist/esm/schema/drop-type-builder.js", "../../../../../node_modules/kysely/dist/esm/parser/identifier-parser.js", "../../../../../node_modules/kysely/dist/esm/operation-node/refresh-materialized-view-node.js", "../../../../../node_modules/kysely/dist/esm/schema/refresh-materialized-view-builder.js", "../../../../../node_modules/kysely/dist/esm/schema/schema.js", "../../../../../node_modules/kysely/dist/esm/dynamic/dynamic.js", "../../../../../node_modules/kysely/dist/esm/driver/default-connection-provider.js", "../../../../../node_modules/kysely/dist/esm/query-executor/default-query-executor.js", "../../../../../node_modules/kysely/dist/esm/util/performance-now.js", "../../../../../node_modules/kysely/dist/esm/driver/runtime-driver.js", "../../../../../node_modules/kysely/dist/esm/driver/single-connection-provider.js", "../../../../../node_modules/kysely/dist/esm/driver/driver.js", "../../../../../node_modules/kysely/dist/esm/util/log.js", "../../../../../node_modules/kysely/dist/esm/util/compilable.js", "../../../../../node_modules/kysely/dist/esm/kysely.js", "../../../../../node_modules/kysely/dist/esm/query-builder/where-interface.js", "../../../../../node_modules/kysely/dist/esm/query-builder/returning-interface.js", "../../../../../node_modules/kysely/dist/esm/query-builder/output-interface.js", "../../../../../node_modules/kysely/dist/esm/query-builder/having-interface.js", "../../../../../node_modules/kysely/dist/esm/query-builder/order-by-interface.js", "../../../../../node_modules/kysely/dist/esm/raw-builder/raw-builder.js", "../../../../../node_modules/kysely/dist/esm/raw-builder/sql.js", "../../../../../node_modules/kysely/dist/esm/query-executor/query-executor.js", "../../../../../node_modules/kysely/dist/esm/query-executor/query-executor-provider.js", "../../../../../node_modules/kysely/dist/esm/operation-node/operation-node-visitor.js", "../../../../../node_modules/kysely/dist/esm/query-compiler/default-query-compiler.js", "../../../../../node_modules/kysely/dist/esm/query-compiler/compiled-query.js", "../../../../../node_modules/kysely/dist/esm/driver/database-connection.js", "../../../../../node_modules/kysely/dist/esm/driver/connection-provider.js", "../../../../../node_modules/kysely/dist/esm/driver/dummy-driver.js", "../../../../../node_modules/kysely/dist/esm/dialect/dialect.js", "../../../../../node_modules/kysely/dist/esm/dialect/dialect-adapter.js", "../../../../../node_modules/kysely/dist/esm/dialect/dialect-adapter-base.js", "../../../../../node_modules/kysely/dist/esm/dialect/database-introspector.js", "../../../../../node_modules/kysely/dist/esm/parser/savepoint-parser.js", "../../../../../node_modules/kysely/dist/esm/dialect/sqlite/sqlite-driver.js", "../../../../../node_modules/kysely/dist/esm/dialect/sqlite/sqlite-query-compiler.js", "../../../../../node_modules/kysely/dist/esm/migration/migrator.js", "../../../../../node_modules/kysely/dist/esm/dialect/sqlite/sqlite-introspector.js", "../../../../../node_modules/kysely/dist/esm/dialect/sqlite/sqlite-adapter.js", "../../../../../node_modules/kysely/dist/esm/dialect/sqlite/sqlite-dialect.js", "../../../../../node_modules/kysely/dist/esm/dialect/sqlite/sqlite-dialect-config.js", "../../../../../node_modules/kysely/dist/esm/dialect/postgres/postgres-query-compiler.js", "../../../../../node_modules/kysely/dist/esm/dialect/postgres/postgres-introspector.js", "../../../../../node_modules/kysely/dist/esm/dialect/postgres/postgres-adapter.js", "../../../../../node_modules/kysely/dist/esm/util/stack-trace-utils.js", "../../../../../node_modules/kysely/dist/esm/dialect/mysql/mysql-driver.js", "../../../../../node_modules/kysely/dist/esm/dialect/mysql/mysql-query-compiler.js", "../../../../../node_modules/kysely/dist/esm/dialect/mysql/mysql-introspector.js", "../../../../../node_modules/kysely/dist/esm/dialect/mysql/mysql-adapter.js", "../../../../../node_modules/kysely/dist/esm/dialect/mysql/mysql-dialect.js", "../../../../../node_modules/kysely/dist/esm/dialect/mysql/mysql-dialect-config.js", "../../../../../node_modules/kysely/dist/esm/dialect/postgres/postgres-driver.js", "../../../../../node_modules/kysely/dist/esm/dialect/postgres/postgres-dialect-config.js", "../../../../../node_modules/kysely/dist/esm/dialect/postgres/postgres-dialect.js", "../../../../../node_modules/kysely/dist/esm/dialect/mssql/mssql-adapter.js", "../../../../../node_modules/kysely/dist/esm/dialect/mssql/mssql-dialect-config.js", "../../../../../node_modules/kysely/dist/esm/dialect/mssql/mssql-driver.js", "../../../../../node_modules/kysely/dist/esm/dialect/mssql/mssql-introspector.js", "../../../../../node_modules/kysely/dist/esm/dialect/mssql/mssql-query-compiler.js", "../../../../../node_modules/kysely/dist/esm/dialect/mssql/mssql-dialect.js", "../../../../../node_modules/kysely/dist/esm/query-compiler/query-compiler.js", "../../../../../node_modules/kysely/dist/esm/migration/file-migration-provider.js", "../../../../../node_modules/kysely/dist/esm/plugin/kysely-plugin.js", "../../../../../node_modules/kysely/dist/esm/plugin/camel-case/camel-case-plugin.js", "../../../../../node_modules/kysely/dist/esm/plugin/deduplicate-joins/deduplicate-joins-plugin.js", "../../../../../node_modules/kysely/dist/esm/plugin/parse-json-results/parse-json-results-plugin.js", "../../../../../node_modules/kysely/dist/esm/plugin/handle-empty-in-lists/handle-empty-in-lists-plugin.js", "../../../../../node_modules/kysely/dist/esm/plugin/handle-empty-in-lists/handle-empty-in-lists.js", "../../../../../node_modules/kysely/dist/esm/operation-node/constraint-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/operation-node.js", "../../../../../node_modules/kysely/dist/esm/operation-node/simple-reference-expression-node.js", "../../../../../node_modules/kysely/dist/esm/util/column-type.js", "../../../../../node_modules/kysely/dist/esm/util/explainable.js", "../../../../../node_modules/kysely/dist/esm/util/streamable.js", "../../../../../node_modules/kysely/dist/esm/util/infer-result.js", "../../../../../node_modules/kysely/dist/esm/index.js", "../../../../../node_modules/better-auth/dist/chunks/bun-sqlite-dialect.mjs", "../bundle-VdaOLi/middleware-loader.entry.ts", "../bundle-VdaOLi/middleware-insertion-facade.js", "../../../src/index.ts", "../../../../../node_modules/hono/dist/index.js", "../../../../../node_modules/hono/dist/hono.js", "../../../../../node_modules/hono/dist/hono-base.js", "../../../../../node_modules/hono/dist/compose.js", "../../../../../node_modules/hono/dist/context.js", "../../../../../node_modules/hono/dist/request.js", "../../../../../node_modules/hono/dist/request/constants.js", "../../../../../node_modules/hono/dist/utils/body.js", "../../../../../node_modules/hono/dist/utils/url.js", "../../../../../node_modules/hono/dist/utils/html.js", "../../../../../node_modules/hono/dist/router.js", "../../../../../node_modules/hono/dist/utils/constants.js", "../../../../../node_modules/hono/dist/router/reg-exp-router/index.js", "../../../../../node_modules/hono/dist/router/reg-exp-router/router.js", "../../../../../node_modules/hono/dist/router/reg-exp-router/node.js", "../../../../../node_modules/hono/dist/router/reg-exp-router/trie.js", "../../../../../node_modules/hono/dist/router/smart-router/index.js", "../../../../../node_modules/hono/dist/router/smart-router/router.js", "../../../../../node_modules/hono/dist/router/trie-router/index.js", "../../../../../node_modules/hono/dist/router/trie-router/router.js", "../../../../../node_modules/hono/dist/router/trie-router/node.js", "../../../../../node_modules/hono/dist/middleware/cors/index.js", "../../../../../packages/constants/src/cloudflare.ts", "../../../../../node_modules/arktype/out/index.js", "../../../../../node_modules/@ark/schema/out/index.js", "../../../../../node_modules/@ark/schema/out/config.js", "../../../../../node_modules/@ark/schema/out/shared/implement.js", "../../../../../node_modules/@ark/util/out/index.js", "../../../../../node_modules/@ark/util/out/arrays.js", "../../../../../node_modules/@ark/util/out/clone.js", "../../../../../node_modules/@ark/util/out/objectKinds.js", "../../../../../node_modules/@ark/util/out/domain.js", "../../../../../node_modules/@ark/util/out/records.js", "../../../../../node_modules/@ark/util/out/errors.js", "../../../../../node_modules/@ark/util/out/flatMorph.js", "../../../../../node_modules/@ark/util/out/describe.js", "../../../../../node_modules/@ark/util/out/functions.js", "../../../../../node_modules/@ark/util/out/generics.js", "../../../../../node_modules/@ark/util/out/hkt.js", "../../../../../node_modules/@ark/util/out/intersections.js", "../../../../../node_modules/@ark/util/out/isomorphic.js", "../../../../../node_modules/@ark/util/out/keys.js", "../../../../../node_modules/@ark/util/out/lazily.js", "../../../../../node_modules/@ark/util/out/numbers.js", "../../../../../node_modules/@ark/util/out/strings.js", "../../../../../node_modules/@ark/util/out/path.js", "../../../../../node_modules/@ark/util/out/registry.js", "../../../../../node_modules/@ark/util/out/serialize.js", "../../../../../node_modules/@ark/util/out/primitive.js", "../../../../../node_modules/@ark/util/out/scanner.js", "../../../../../node_modules/@ark/util/out/traits.js", "../../../../../node_modules/@ark/util/out/unionToTuple.js", "../../../../../node_modules/@ark/schema/out/shared/compile.js", "../../../../../node_modules/@ark/schema/out/shared/registry.js", "../../../../../node_modules/@ark/schema/out/shared/utils.js", "../../../../../node_modules/@ark/schema/out/shared/toJsonSchema.js", "../../../../../node_modules/@ark/schema/out/constraint.js", "../../../../../node_modules/@ark/schema/out/node.js", "../../../../../node_modules/@ark/schema/out/shared/traversal.js", "../../../../../node_modules/@ark/schema/out/shared/errors.js", "../../../../../node_modules/@ark/schema/out/shared/disjoint.js", "../../../../../node_modules/@ark/schema/out/shared/intersections.js", "../../../../../node_modules/@ark/schema/out/generic.js", "../../../../../node_modules/@ark/schema/out/intrinsic.js", "../../../../../node_modules/@ark/schema/out/scope.js", "../../../../../node_modules/@ark/schema/out/kinds.js", "../../../../../node_modules/@ark/schema/out/predicate.js", "../../../../../node_modules/@ark/schema/out/refinements/divisor.js", "../../../../../node_modules/@ark/schema/out/refinements/kinds.js", "../../../../../node_modules/@ark/schema/out/refinements/after.js", "../../../../../node_modules/@ark/schema/out/refinements/range.js", "../../../../../node_modules/@ark/schema/out/refinements/before.js", "../../../../../node_modules/@ark/schema/out/refinements/exactLength.js", "../../../../../node_modules/@ark/schema/out/refinements/max.js", "../../../../../node_modules/@ark/schema/out/refinements/maxLength.js", "../../../../../node_modules/@ark/schema/out/refinements/min.js", "../../../../../node_modules/@ark/schema/out/refinements/minLength.js", "../../../../../node_modules/@ark/schema/out/refinements/pattern.js", "../../../../../node_modules/@ark/schema/out/roots/alias.js", "../../../../../node_modules/@ark/schema/out/parse.js", "../../../../../node_modules/@ark/schema/out/roots/root.js", "../../../../../node_modules/@ark/schema/out/structure/optional.js", "../../../../../node_modules/@ark/schema/out/structure/prop.js", "../../../../../node_modules/@ark/schema/out/roots/utils.js", "../../../../../node_modules/@ark/schema/out/roots/domain.js", "../../../../../node_modules/@ark/schema/out/roots/basis.js", "../../../../../node_modules/@ark/schema/out/roots/intersection.js", "../../../../../node_modules/@ark/schema/out/roots/morph.js", "../../../../../node_modules/@ark/schema/out/roots/proto.js", "../../../../../node_modules/@ark/schema/out/roots/union.js", "../../../../../node_modules/@ark/schema/out/roots/unit.js", "../../../../../node_modules/@ark/schema/out/structure/index.js", "../../../../../node_modules/@ark/schema/out/structure/required.js", "../../../../../node_modules/@ark/schema/out/structure/sequence.js", "../../../../../node_modules/@ark/schema/out/structure/structure.js", "../../../../../node_modules/@ark/schema/out/module.js", "../../../../../node_modules/@ark/schema/out/structure/shared.js", "../../../../../node_modules/@ark/schema/out/shared/declare.js", "../../../../../node_modules/@ark/schema/out/shared/jsonSchema.js", "../../../../../node_modules/@ark/schema/out/shared/standardSchema.js", "../../../../../node_modules/arktype/out/config.js", "../../../../../node_modules/arktype/out/generic.js", "../../../../../node_modules/arktype/out/parser/reduce/dynamic.js", "../../../../../node_modules/arktype/out/parser/shift/operand/operand.js", "../../../../../node_modules/arktype/out/parser/shift/operand/enclosed.js", "../../../../../node_modules/arktype/out/parser/shift/operand/date.js", "../../../../../node_modules/arktype/out/parser/shift/operand/unenclosed.js", "../../../../../node_modules/arktype/out/parser/ast/validate.js", "../../../../../node_modules/arktype/out/parser/shift/operand/genericArgs.js", "../../../../../node_modules/arktype/out/parser/reduce/shared.js", "../../../../../node_modules/arktype/out/parser/shift/operator/operator.js", "../../../../../node_modules/arktype/out/parser/shift/scanner.js", "../../../../../node_modules/arktype/out/parser/shift/operator/bounds.js", "../../../../../node_modules/arktype/out/parser/shift/operator/brand.js", "../../../../../node_modules/arktype/out/parser/shift/operator/divisor.js", "../../../../../node_modules/arktype/out/parser/string.js", "../../../../../node_modules/arktype/out/parser/shift/operator/default.js", "../../../../../node_modules/arktype/out/keywords/keywords.js", "../../../../../node_modules/arktype/out/scope.js", "../../../../../node_modules/arktype/out/match.js", "../../../../../node_modules/arktype/out/parser/definition.js", "../../../../../node_modules/arktype/out/parser/objectLiteral.js", "../../../../../node_modules/arktype/out/parser/property.js", "../../../../../node_modules/arktype/out/parser/tupleExpressions.js", "../../../../../node_modules/arktype/out/parser/tupleLiteral.js", "../../../../../node_modules/arktype/out/type.js", "../../../../../node_modules/arktype/out/keywords/builtins.js", "../../../../../node_modules/arktype/out/keywords/constructors.js", "../../../../../node_modules/arktype/out/keywords/Array.js", "../../../../../node_modules/arktype/out/keywords/FormData.js", "../../../../../node_modules/arktype/out/keywords/TypedArray.js", "../../../../../node_modules/arktype/out/keywords/number.js", "../../../../../node_modules/arktype/out/keywords/string.js", "../../../../../node_modules/arktype/out/keywords/ts.js", "../../../../../node_modules/arktype/out/module.js", "../../../../../packages/constants/src/apps.ts", "../../../src/lib/auth.ts", "../../../../../node_modules/better-auth/dist/index.mjs", "../../../../../node_modules/better-auth/dist/shared/better-auth.VOBpdwFt.mjs", "../../../../../node_modules/better-auth/dist/api/index.mjs", "../../../../../node_modules/uncrypto/dist/crypto.web.mjs", "../../../../../node_modules/rou3/dist/index.mjs", "../../../../../node_modules/better-call/src/error.ts", "../../../../../node_modules/better-call/src/utils.ts", "../../../../../node_modules/better-call/src/to-response.ts", "../../../../../node_modules/better-call/src/validator.ts", "../../../../../node_modules/better-call/src/crypto.ts", "../../../../../node_modules/better-call/src/cookies.ts", "../../../../../node_modules/better-call/src/context.ts", "../../../../../node_modules/better-call/src/middleware.ts", "../../../../../node_modules/better-call/src/endpoint.ts", "../../../../../node_modules/better-call/src/router.ts", "../../../../../node_modules/better-call/node_modules/.pnpm/zod@3.24.1/node_modules/zod/lib/index.mjs", "../../../../../node_modules/better-call/src/openapi.ts", "../../../../../node_modules/better-auth/dist/shared/better-auth.D4HhkCZJ.mjs", "../../../../../node_modules/better-auth/node_modules/zod/v4/classic/external.js", "../../../../../node_modules/better-auth/node_modules/zod/v4/core/index.js", "../../../../../node_modules/better-auth/node_modules/zod/v4/core/core.js", "../../../../../node_modules/better-auth/node_modules/zod/v4/core/parse.js", "../../../../../node_modules/better-auth/node_modules/zod/v4/core/errors.js", "../../../../../node_modules/better-auth/node_modules/zod/v4/core/util.js", "../../../../../node_modules/better-auth/node_modules/zod/v4/core/schemas.js", "../../../../../node_modules/better-auth/node_modules/zod/v4/core/checks.js", "../../../../../node_modules/better-auth/node_modules/zod/v4/core/regexes.js", "../../../../../node_modules/better-auth/node_modules/zod/v4/core/doc.js", "../../../../../node_modules/better-auth/node_modules/zod/v4/core/versions.js", "../../../../../node_modules/better-auth/node_modules/zod/v4/locales/en.js", "../../../../../node_modules/better-auth/node_modules/zod/v4/core/registries.js", "../../../../../node_modules/better-auth/node_modules/zod/v4/core/api.js", "../../../../../node_modules/better-auth/node_modules/zod/v4/classic/schemas.js", "../../../../../node_modules/better-auth/node_modules/zod/v4/classic/checks.js", "../../../../../node_modules/better-auth/node_modules/zod/v4/classic/iso.js", "../../../../../node_modules/better-auth/node_modules/zod/v4/classic/parse.js", "../../../../../node_modules/better-auth/node_modules/zod/v4/classic/errors.js", "../../../../../node_modules/better-auth/node_modules/zod/v4/classic/coerce.js", "../../../../../node_modules/better-auth/dist/shared/better-auth.CW6D9eSx.mjs", "../../../../../node_modules/@better-auth/utils/dist/hash.mjs", "../../../../../node_modules/@better-auth/utils/dist/base64.mjs", "../../../../../node_modules/better-auth/dist/crypto/index.mjs", "../../../../../node_modules/@noble/ciphers/src/chacha.ts", "../../../../../node_modules/@noble/ciphers/src/_arx.ts", "../../../../../node_modules/@noble/ciphers/src/_assert.ts", "../../../../../node_modules/@noble/ciphers/src/utils.ts", "../../../../../node_modules/@noble/ciphers/src/_poly1305.ts", "../../../../../node_modules/@noble/ciphers/src/webcrypto.ts", "../../../../../node_modules/@noble/ciphers/src/crypto.ts", "../../../../../node_modules/jose/dist/browser/index.js", "../../../../../node_modules/jose/dist/browser/runtime/base64url.js", "../../../../../node_modules/jose/dist/browser/lib/buffer_utils.js", "../../../../../node_modules/jose/dist/browser/runtime/webcrypto.js", "../../../../../node_modules/jose/dist/browser/util/errors.js", "../../../../../node_modules/jose/dist/browser/lib/crypto_key.js", "../../../../../node_modules/jose/dist/browser/lib/invalid_key_input.js", "../../../../../node_modules/jose/dist/browser/runtime/is_key_like.js", "../../../../../node_modules/jose/dist/browser/lib/is_disjoint.js", "../../../../../node_modules/jose/dist/browser/lib/is_object.js", "../../../../../node_modules/jose/dist/browser/runtime/check_key_length.js", "../../../../../node_modules/jose/dist/browser/runtime/normalize_key.js", "../../../../../node_modules/jose/dist/browser/lib/is_jwk.js", "../../../../../node_modules/jose/dist/browser/runtime/jwk_to_key.js", "../../../../../node_modules/jose/dist/browser/key/import.js", "../../../../../node_modules/jose/dist/browser/lib/check_key_type.js", "../../../../../node_modules/jose/dist/browser/lib/validate_crit.js", "../../../../../node_modules/jose/dist/browser/lib/validate_algorithms.js", "../../../../../node_modules/jose/dist/browser/jws/compact/verify.js", "../../../../../node_modules/jose/dist/browser/jws/flattened/verify.js", "../../../../../node_modules/jose/dist/browser/runtime/verify.js", "../../../../../node_modules/jose/dist/browser/runtime/subtle_dsa.js", "../../../../../node_modules/jose/dist/browser/runtime/get_sign_verify_key.js", "../../../../../node_modules/jose/dist/browser/jwt/verify.js", "../../../../../node_modules/jose/dist/browser/lib/jwt_claims_set.js", "../../../../../node_modules/jose/dist/browser/lib/epoch.js", "../../../../../node_modules/jose/dist/browser/lib/secs.js", "../../../../../node_modules/jose/dist/browser/jws/compact/sign.js", "../../../../../node_modules/jose/dist/browser/jws/flattened/sign.js", "../../../../../node_modules/jose/dist/browser/runtime/sign.js", "../../../../../node_modules/jose/dist/browser/jwt/sign.js", "../../../../../node_modules/jose/dist/browser/jwt/produce.js", "../../../../../node_modules/jose/dist/browser/jwks/local.js", "../../../../../node_modules/jose/dist/browser/jwks/remote.js", "../../../../../node_modules/jose/dist/browser/runtime/fetch_jwks.js", "../../../../../node_modules/jose/dist/browser/util/decode_protected_header.js", "../../../../../node_modules/jose/dist/browser/util/base64url.js", "../../../../../node_modules/jose/dist/browser/util/decode_jwt.js", "../../../../../node_modules/@noble/hashes/src/scrypt.ts", "../../../../../node_modules/@noble/hashes/src/pbkdf2.ts", "../../../../../node_modules/@noble/hashes/src/hmac.ts", "../../../../../node_modules/@noble/hashes/src/utils.ts", "../../../../../node_modules/@noble/hashes/src/sha2.ts", "../../../../../node_modules/@noble/hashes/src/_md.ts", "../../../../../node_modules/@better-auth/utils/dist/index.mjs", "../../../../../node_modules/@better-auth/utils/dist/hex.mjs", "../../../../../node_modules/better-auth/dist/shared/better-auth.B4Qoxdgc.mjs", "../../../../../node_modules/@better-auth/utils/dist/random.mjs", "../../../../../node_modules/@better-fetch/fetch/src/error.ts", "../../../../../node_modules/@better-fetch/fetch/src/plugins.ts", "../../../../../node_modules/@better-fetch/fetch/src/retry.ts", "../../../../../node_modules/@better-fetch/fetch/src/auth.ts", "../../../../../node_modules/@better-fetch/fetch/src/utils.ts", "../../../../../node_modules/@better-fetch/fetch/src/create-fetch/schema.ts", "../../../../../node_modules/@better-fetch/fetch/src/create-fetch/index.ts", "../../../../../node_modules/@better-fetch/fetch/src/url.ts", "../../../../../node_modules/@better-fetch/fetch/src/fetch.ts", "../../../../../node_modules/better-auth/dist/shared/better-auth.VTXNLFMT.mjs", "../../../../../node_modules/better-auth/dist/shared/better-auth.8zoxzg-F.mjs", "../../../../../node_modules/better-auth/dist/shared/better-auth.DdzSJf-n.mjs", "../../../../../node_modules/better-auth/dist/cookies/index.mjs", "../../../../../node_modules/@better-auth/utils/dist/hmac.mjs", "../../../../../node_modules/better-auth/dist/shared/better-auth.tB5eU6EY.mjs", "../../../../../node_modules/@better-auth/utils/dist/binary.mjs", "../../../../../node_modules/better-auth/dist/shared/better-auth.DBGfIDnh.mjs", "../../../../../node_modules/better-auth/dist/shared/better-auth.n2KFGwjY.mjs", "../../../../../node_modules/defu/dist/defu.mjs", "../../../../../node_modules/better-auth/dist/shared/better-auth.DcfNPS8q.mjs", "../../../../../node_modules/better-auth/dist/shared/better-auth.ByruPN9q.mjs", "../../../../../node_modules/better-auth/dist/shared/better-auth.DORkW_Ge.mjs", "../../../../../node_modules/better-auth/dist/shared/better-auth.DwzM-9N1.mjs", "../../../../../node_modules/better-auth/dist/shared/better-auth.gBl3F_xa.mjs", "../../../../../node_modules/better-auth/dist/shared/better-auth.DGpadpzN.mjs", "../../../../../node_modules/better-auth/dist/shared/better-auth.YwDQhoPc.mjs", "../../../../../node_modules/better-auth/dist/shared/better-auth.D-2CmEwz.mjs", "../../../../../node_modules/better-auth/dist/adapters/drizzle-adapter/index.mjs", "../../../../../node_modules/src/alias.ts", "../../../../../node_modules/src/column.ts", "../../../../../node_modules/src/entity.ts", "../../../../../node_modules/src/sql/sql.ts", "../../../../../node_modules/src/pg-core/columns/enum.ts", "../../../../../node_modules/src/pg-core/columns/common.ts", "../../../../../node_modules/src/column-builder.ts", "../../../../../node_modules/src/pg-core/foreign-keys.ts", "../../../../../node_modules/src/table.utils.ts", "../../../../../node_modules/src/tracing-utils.ts", "../../../../../node_modules/src/pg-core/unique-constraint.ts", "../../../../../node_modules/src/pg-core/utils/array.ts", "../../../../../node_modules/src/subquery.ts", "../../../../../node_modules/src/tracing.ts", "../../../../../node_modules/drizzle-orm/version.js", "../../../../../node_modules/src/view-common.ts", "../../../../../node_modules/src/table.ts", "../../../../../node_modules/src/errors.ts", "../../../../../node_modules/src/logger.ts", "../../../../../node_modules/src/query-promise.ts", "../../../../../node_modules/src/relations.ts", "../../../../../node_modules/src/pg-core/primary-keys.ts", "../../../../../node_modules/src/pg-core/table.ts", "../../../../../node_modules/src/pg-core/columns/all.ts", "../../../../../node_modules/src/pg-core/columns/bigint.ts", "../../../../../node_modules/src/utils.ts", "../../../../../node_modules/src/pg-core/columns/int.common.ts", "../../../../../node_modules/src/pg-core/columns/bigserial.ts", "../../../../../node_modules/src/pg-core/columns/boolean.ts", "../../../../../node_modules/src/pg-core/columns/char.ts", "../../../../../node_modules/src/pg-core/columns/cidr.ts", "../../../../../node_modules/src/pg-core/columns/custom.ts", "../../../../../node_modules/src/pg-core/columns/date.ts", "../../../../../node_modules/src/pg-core/columns/date.common.ts", "../../../../../node_modules/src/pg-core/columns/double-precision.ts", "../../../../../node_modules/src/pg-core/columns/inet.ts", "../../../../../node_modules/src/pg-core/columns/integer.ts", "../../../../../node_modules/src/pg-core/columns/interval.ts", "../../../../../node_modules/src/pg-core/columns/json.ts", "../../../../../node_modules/src/pg-core/columns/jsonb.ts", "../../../../../node_modules/src/pg-core/columns/line.ts", "../../../../../node_modules/src/pg-core/columns/macaddr.ts", "../../../../../node_modules/src/pg-core/columns/macaddr8.ts", "../../../../../node_modules/src/pg-core/columns/numeric.ts", "../../../../../node_modules/src/pg-core/columns/point.ts", "../../../../../node_modules/src/pg-core/columns/postgis_extension/geometry.ts", "../../../../../node_modules/src/pg-core/columns/postgis_extension/utils.ts", "../../../../../node_modules/src/pg-core/columns/real.ts", "../../../../../node_modules/src/pg-core/columns/serial.ts", "../../../../../node_modules/src/pg-core/columns/smallint.ts", "../../../../../node_modules/src/pg-core/columns/smallserial.ts", "../../../../../node_modules/src/pg-core/columns/text.ts", "../../../../../node_modules/src/pg-core/columns/time.ts", "../../../../../node_modules/src/pg-core/columns/timestamp.ts", "../../../../../node_modules/src/pg-core/columns/uuid.ts", "../../../../../node_modules/src/pg-core/columns/varchar.ts", "../../../../../node_modules/src/pg-core/columns/vector_extension/bit.ts", "../../../../../node_modules/src/pg-core/columns/vector_extension/halfvec.ts", "../../../../../node_modules/src/pg-core/columns/vector_extension/sparsevec.ts", "../../../../../node_modules/src/pg-core/columns/vector_extension/vector.ts", "../../../../../node_modules/src/sql/expressions/conditions.ts", "../../../../../node_modules/src/sql/expressions/select.ts", "../../../../../node_modules/src/sql/functions/aggregate.ts", "../../../../../packages/db/src/index.ts", "../../../../../packages/db/src/client.ts", "../../../../../node_modules/@neondatabase/serverless/index.mjs", "../../../../../node_modules/src/neon-http/driver.ts", "../../../../../node_modules/src/pg-core/db.ts", "../../../../../node_modules/src/pg-core/query-builders/delete.ts", "../../../../../node_modules/src/selection-proxy.ts", "../../../../../node_modules/src/pg-core/utils.ts", "../../../../../node_modules/src/pg-core/query-builders/query-builder.ts", "../../../../../node_modules/src/pg-core/dialect.ts", "../../../../../node_modules/src/casing.ts", "../../../../../node_modules/src/pg-core/view-base.ts", "../../../../../node_modules/src/pg-core/query-builders/select.ts", "../../../../../node_modules/src/query-builders/query-builder.ts", "../../../../../node_modules/src/pg-core/query-builders/insert.ts", "../../../../../node_modules/src/pg-core/query-builders/refresh-materialized-view.ts", "../../../../../node_modules/src/pg-core/query-builders/update.ts", "../../../../../node_modules/src/pg-core/query-builders/count.ts", "../../../../../node_modules/src/pg-core/query-builders/query.ts", "../../../../../node_modules/src/pg-core/query-builders/raw.ts", "../../../../../node_modules/src/neon-http/session.ts", "../../../../../node_modules/src/cache/core/cache.ts", "../../../../../node_modules/src/pg-core/session.ts", "../../../../../node_modules/src/errors/index.ts", "../../../../../packages/db/src/schema/index.ts", "../../../../../packages/db/src/schema/auth.ts", "../../../../../packages/db/src/schema/assistantConfigs.ts", "../../../../../node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts", "../../../../../node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts", "../../../../../node_modules/wrangler/templates/middleware/common.ts"],
  "sourceRoot": "/Users/braden/Code/whispering/apps/auth/.wrangler/tmp/dev-RM5XUA",
  "sourcesContent": ["", "// `esbuild` doesn't support returning `watch*` options from `onStart()`\n// plugin callbacks. Instead, we define an empty virtual module that is\n// imported by this injected file. Importing the module registers watchers.\nimport \"wrangler:modules-watch\";\n", "/// <reference types=\"./object-utils.d.ts\" />\nexport function isEmpty(obj) {\n    if (Array.isArray(obj) || isString(obj) || isBuffer(obj)) {\n        return obj.length === 0;\n    }\n    else if (obj) {\n        return Object.keys(obj).length === 0;\n    }\n    return false;\n}\nexport function isUndefined(obj) {\n    return typeof obj === 'undefined' || obj === undefined;\n}\nexport function isString(obj) {\n    return typeof obj === 'string';\n}\nexport function isNumber(obj) {\n    return typeof obj === 'number';\n}\nexport function isBoolean(obj) {\n    return typeof obj === 'boolean';\n}\nexport function isNull(obj) {\n    return obj === null;\n}\nexport function isDate(obj) {\n    return obj instanceof Date;\n}\nexport function isBigInt(obj) {\n    return typeof obj === 'bigint';\n}\n// Don't change the returnd type to `obj is Buffer` to not create a\n// hard dependency to node.\nexport function isBuffer(obj) {\n    return typeof Buffer !== 'undefined' && Buffer.isBuffer(obj);\n}\nexport function isFunction(obj) {\n    return typeof obj === 'function';\n}\nexport function isObject(obj) {\n    return typeof obj === 'object' && obj !== null;\n}\nexport function isArrayBufferOrView(obj) {\n    return obj instanceof ArrayBuffer || ArrayBuffer.isView(obj);\n}\nexport function isPlainObject(obj) {\n    if (!isObject(obj) || getTag(obj) !== '[object Object]') {\n        return false;\n    }\n    if (Object.getPrototypeOf(obj) === null) {\n        return true;\n    }\n    let proto = obj;\n    while (Object.getPrototypeOf(proto) !== null) {\n        proto = Object.getPrototypeOf(proto);\n    }\n    return Object.getPrototypeOf(obj) === proto;\n}\nexport function getLast(arr) {\n    return arr[arr.length - 1];\n}\nexport function freeze(obj) {\n    return Object.freeze(obj);\n}\nexport function asArray(arg) {\n    if (isReadonlyArray(arg)) {\n        return arg;\n    }\n    else {\n        return [arg];\n    }\n}\nexport function asReadonlyArray(arg) {\n    if (isReadonlyArray(arg)) {\n        return arg;\n    }\n    else {\n        return freeze([arg]);\n    }\n}\nexport function isReadonlyArray(arg) {\n    return Array.isArray(arg);\n}\nexport function noop(obj) {\n    return obj;\n}\nexport function compare(obj1, obj2) {\n    if (isReadonlyArray(obj1) && isReadonlyArray(obj2)) {\n        return compareArrays(obj1, obj2);\n    }\n    else if (isObject(obj1) && isObject(obj2)) {\n        return compareObjects(obj1, obj2);\n    }\n    return obj1 === obj2;\n}\nfunction compareArrays(arr1, arr2) {\n    if (arr1.length !== arr2.length) {\n        return false;\n    }\n    for (let i = 0; i < arr1.length; ++i) {\n        if (!compare(arr1[i], arr2[i])) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction compareObjects(obj1, obj2) {\n    if (isBuffer(obj1) && isBuffer(obj2)) {\n        return compareBuffers(obj1, obj2);\n    }\n    else if (isDate(obj1) && isDate(obj2)) {\n        return compareDates(obj1, obj2);\n    }\n    return compareGenericObjects(obj1, obj2);\n}\nfunction compareBuffers(buf1, buf2) {\n    return Buffer.compare(buf1, buf2) === 0;\n}\nfunction compareDates(date1, date2) {\n    return date1.getTime() === date2.getTime();\n}\nfunction compareGenericObjects(obj1, obj2) {\n    const keys1 = Object.keys(obj1);\n    const keys2 = Object.keys(obj2);\n    if (keys1.length !== keys2.length) {\n        return false;\n    }\n    for (const key of keys1) {\n        if (!compare(obj1[key], obj2[key])) {\n            return false;\n        }\n    }\n    return true;\n}\nconst toString = Object.prototype.toString;\nfunction getTag(value) {\n    if (value == null) {\n        return value === undefined ? '[object Undefined]' : '[object Null]';\n    }\n    return toString.call(value);\n}\n", "/// <reference types=\"./alter-table-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const AlterTableNode = freeze({\n    is(node) {\n        return node.kind === 'AlterTableNode';\n    },\n    create(table) {\n        return freeze({\n            kind: 'AlterTableNode',\n            table,\n        });\n    },\n    cloneWithTableProps(node, props) {\n        return freeze({\n            ...node,\n            ...props,\n        });\n    },\n    cloneWithColumnAlteration(node, columnAlteration) {\n        return freeze({\n            ...node,\n            columnAlterations: node.columnAlterations\n                ? [...node.columnAlterations, columnAlteration]\n                : [columnAlteration],\n        });\n    },\n});\n", "/// <reference types=\"./identifier-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const IdentifierNode = freeze({\n    is(node) {\n        return node.kind === 'IdentifierNode';\n    },\n    create(name) {\n        return freeze({\n            kind: 'IdentifierNode',\n            name,\n        });\n    },\n});\n", "/// <reference types=\"./create-index-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { IdentifierNode } from './identifier-node.js';\n/**\n * @internal\n */\nexport const CreateIndexNode = freeze({\n    is(node) {\n        return node.kind === 'CreateIndexNode';\n    },\n    create(name) {\n        return freeze({\n            kind: 'CreateIndexNode',\n            name: IdentifierNode.create(name),\n        });\n    },\n    cloneWith(node, props) {\n        return freeze({\n            ...node,\n            ...props,\n        });\n    },\n    cloneWithColumns(node, columns) {\n        return freeze({\n            ...node,\n            columns: [...(node.columns || []), ...columns],\n        });\n    },\n});\n", "/// <reference types=\"./create-schema-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { IdentifierNode } from './identifier-node.js';\n/**\n * @internal\n */\nexport const CreateSchemaNode = freeze({\n    is(node) {\n        return node.kind === 'CreateSchemaNode';\n    },\n    create(schema, params) {\n        return freeze({\n            kind: 'CreateSchemaNode',\n            schema: IdentifierNode.create(schema),\n            ...params,\n        });\n    },\n    cloneWith(createSchema, params) {\n        return freeze({\n            ...createSchema,\n            ...params,\n        });\n    },\n});\n", "/// <reference types=\"./create-table-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nexport const ON_COMMIT_ACTIONS = ['preserve rows', 'delete rows', 'drop'];\n/**\n * @internal\n */\nexport const CreateTableNode = freeze({\n    is(node) {\n        return node.kind === 'CreateTableNode';\n    },\n    create(table) {\n        return freeze({\n            kind: 'CreateTableNode',\n            table,\n            columns: freeze([]),\n        });\n    },\n    cloneWithColumn(createTable, column) {\n        return freeze({\n            ...createTable,\n            columns: freeze([...createTable.columns, column]),\n        });\n    },\n    cloneWithConstraint(createTable, constraint) {\n        return freeze({\n            ...createTable,\n            constraints: createTable.constraints\n                ? freeze([...createTable.constraints, constraint])\n                : freeze([constraint]),\n        });\n    },\n    cloneWithFrontModifier(createTable, modifier) {\n        return freeze({\n            ...createTable,\n            frontModifiers: createTable.frontModifiers\n                ? freeze([...createTable.frontModifiers, modifier])\n                : freeze([modifier]),\n        });\n    },\n    cloneWithEndModifier(createTable, modifier) {\n        return freeze({\n            ...createTable,\n            endModifiers: createTable.endModifiers\n                ? freeze([...createTable.endModifiers, modifier])\n                : freeze([modifier]),\n        });\n    },\n    cloneWith(createTable, params) {\n        return freeze({\n            ...createTable,\n            ...params,\n        });\n    },\n});\n", "/// <reference types=\"./schemable-identifier-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { IdentifierNode } from './identifier-node.js';\n/**\n * @internal\n */\nexport const SchemableIdentifierNode = freeze({\n    is(node) {\n        return node.kind === 'SchemableIdentifierNode';\n    },\n    create(identifier) {\n        return freeze({\n            kind: 'SchemableIdentifierNode',\n            identifier: IdentifierNode.create(identifier),\n        });\n    },\n    createWithSchema(schema, identifier) {\n        return freeze({\n            kind: 'SchemableIdentifierNode',\n            schema: IdentifierNode.create(schema),\n            identifier: IdentifierNode.create(identifier),\n        });\n    },\n});\n", "/// <reference types=\"./drop-index-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { SchemableIdentifierNode } from './schemable-identifier-node.js';\n/**\n * @internal\n */\nexport const DropIndexNode = freeze({\n    is(node) {\n        return node.kind === 'DropIndexNode';\n    },\n    create(name, params) {\n        return freeze({\n            kind: 'DropIndexNode',\n            name: SchemableIdentifierNode.create(name),\n            ...params,\n        });\n    },\n    cloneWith(dropIndex, props) {\n        return freeze({\n            ...dropIndex,\n            ...props,\n        });\n    },\n});\n", "/// <reference types=\"./drop-schema-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { IdentifierNode } from './identifier-node.js';\n/**\n * @internal\n */\nexport const DropSchemaNode = freeze({\n    is(node) {\n        return node.kind === 'DropSchemaNode';\n    },\n    create(schema, params) {\n        return freeze({\n            kind: 'DropSchemaNode',\n            schema: IdentifierNode.create(schema),\n            ...params,\n        });\n    },\n    cloneWith(dropSchema, params) {\n        return freeze({\n            ...dropSchema,\n            ...params,\n        });\n    },\n});\n", "/// <reference types=\"./drop-table-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const DropTableNode = freeze({\n    is(node) {\n        return node.kind === 'DropTableNode';\n    },\n    create(table, params) {\n        return freeze({\n            kind: 'DropTableNode',\n            table,\n            ...params,\n        });\n    },\n    cloneWith(dropIndex, params) {\n        return freeze({\n            ...dropIndex,\n            ...params,\n        });\n    },\n});\n", "/// <reference types=\"./alias-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const AliasNode = freeze({\n    is(node) {\n        return node.kind === 'AliasNode';\n    },\n    create(node, alias) {\n        return freeze({\n            kind: 'AliasNode',\n            node,\n            alias,\n        });\n    },\n});\n", "/// <reference types=\"./table-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { SchemableIdentifierNode } from './schemable-identifier-node.js';\n/**\n * @internal\n */\nexport const TableNode = freeze({\n    is(node) {\n        return node.kind === 'TableNode';\n    },\n    create(table) {\n        return freeze({\n            kind: 'TableNode',\n            table: SchemableIdentifierNode.create(table),\n        });\n    },\n    createWithSchema(schema, table) {\n        return freeze({\n            kind: 'TableNode',\n            table: SchemableIdentifierNode.createWithSchema(schema, table),\n        });\n    },\n});\n", "/// <reference types=\"./operation-node-source.d.ts\" />\nimport { isFunction, isObject } from '../util/object-utils.js';\nexport function isOperationNodeSource(obj) {\n    return isObject(obj) && isFunction(obj.toOperationNode);\n}\n", "/// <reference types=\"./expression.d.ts\" />\nimport { isOperationNodeSource, } from '../operation-node/operation-node-source.js';\nimport { isObject, isString } from '../util/object-utils.js';\nexport function isExpression(obj) {\n    return isObject(obj) && 'expressionType' in obj && isOperationNodeSource(obj);\n}\nexport function isAliasedExpression(obj) {\n    return (isObject(obj) &&\n        'expression' in obj &&\n        isString(obj.alias) &&\n        isOperationNodeSource(obj));\n}\n", "/// <reference types=\"./select-modifier-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const SelectModifierNode = freeze({\n    is(node) {\n        return node.kind === 'SelectModifierNode';\n    },\n    create(modifier, of) {\n        return freeze({\n            kind: 'SelectModifierNode',\n            modifier,\n            of,\n        });\n    },\n    createWithExpression(modifier) {\n        return freeze({\n            kind: 'SelectModifierNode',\n            rawModifier: modifier,\n        });\n    },\n});\n", "/// <reference types=\"./and-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const AndNode = freeze({\n    is(node) {\n        return node.kind === 'AndNode';\n    },\n    create(left, right) {\n        return freeze({\n            kind: 'AndNode',\n            left,\n            right,\n        });\n    },\n});\n", "/// <reference types=\"./or-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const OrNode = freeze({\n    is(node) {\n        return node.kind === 'OrNode';\n    },\n    create(left, right) {\n        return freeze({\n            kind: 'OrNode',\n            left,\n            right,\n        });\n    },\n});\n", "/// <reference types=\"./on-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { AndNode } from './and-node.js';\nimport { OrNode } from './or-node.js';\n/**\n * @internal\n */\nexport const OnNode = freeze({\n    is(node) {\n        return node.kind === 'OnNode';\n    },\n    create(filter) {\n        return freeze({\n            kind: 'OnNode',\n            on: filter,\n        });\n    },\n    cloneWithOperation(onNode, operator, operation) {\n        return freeze({\n            ...onNode,\n            on: operator === 'And'\n                ? AndNode.create(onNode.on, operation)\n                : OrNode.create(onNode.on, operation),\n        });\n    },\n});\n", "/// <reference types=\"./join-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { OnNode } from './on-node.js';\n/**\n * @internal\n */\nexport const JoinNode = freeze({\n    is(node) {\n        return node.kind === 'JoinNode';\n    },\n    create(joinType, table) {\n        return freeze({\n            kind: 'JoinNode',\n            joinType,\n            table,\n            on: undefined,\n        });\n    },\n    createWithOn(joinType, table, on) {\n        return freeze({\n            kind: 'JoinNode',\n            joinType,\n            table,\n            on: OnNode.create(on),\n        });\n    },\n    cloneWithOn(joinNode, operation) {\n        return freeze({\n            ...joinNode,\n            on: joinNode.on\n                ? OnNode.cloneWithOperation(joinNode.on, 'And', operation)\n                : OnNode.create(operation),\n        });\n    },\n});\n", "/// <reference types=\"./binary-operation-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const BinaryOperationNode = freeze({\n    is(node) {\n        return node.kind === 'BinaryOperationNode';\n    },\n    create(leftOperand, operator, rightOperand) {\n        return freeze({\n            kind: 'BinaryOperationNode',\n            leftOperand,\n            operator,\n            rightOperand,\n        });\n    },\n});\n", "/// <reference types=\"./operator-node.d.ts\" />\nimport { freeze, isString } from '../util/object-utils.js';\nexport const COMPARISON_OPERATORS = [\n    '=',\n    '==',\n    '!=',\n    '<>',\n    '>',\n    '>=',\n    '<',\n    '<=',\n    'in',\n    'not in',\n    'is',\n    'is not',\n    'like',\n    'not like',\n    'match',\n    'ilike',\n    'not ilike',\n    '@>',\n    '<@',\n    '^@',\n    '&&',\n    '?',\n    '?&',\n    '?|',\n    '!<',\n    '!>',\n    '<=>',\n    '!~',\n    '~',\n    '~*',\n    '!~*',\n    '@@',\n    '@@@',\n    '!!',\n    '<->',\n    'regexp',\n    'is distinct from',\n    'is not distinct from',\n];\nexport const ARITHMETIC_OPERATORS = [\n    '+',\n    '-',\n    '*',\n    '/',\n    '%',\n    '^',\n    '&',\n    '|',\n    '#',\n    '<<',\n    '>>',\n];\nexport const JSON_OPERATORS = ['->', '->>'];\nexport const BINARY_OPERATORS = [\n    ...COMPARISON_OPERATORS,\n    ...ARITHMETIC_OPERATORS,\n    '&&',\n    '||',\n];\nexport const UNARY_FILTER_OPERATORS = ['exists', 'not exists'];\nexport const UNARY_OPERATORS = ['not', '-', ...UNARY_FILTER_OPERATORS];\nexport const OPERATORS = [\n    ...BINARY_OPERATORS,\n    ...JSON_OPERATORS,\n    ...UNARY_OPERATORS,\n    'between',\n    'between symmetric',\n];\n/**\n * @internal\n */\nexport const OperatorNode = freeze({\n    is(node) {\n        return node.kind === 'OperatorNode';\n    },\n    create(operator) {\n        return freeze({\n            kind: 'OperatorNode',\n            operator,\n        });\n    },\n});\nexport function isOperator(op) {\n    return isString(op) && OPERATORS.includes(op);\n}\nexport function isBinaryOperator(op) {\n    return isString(op) && BINARY_OPERATORS.includes(op);\n}\nexport function isComparisonOperator(op) {\n    return isString(op) && COMPARISON_OPERATORS.includes(op);\n}\nexport function isArithmeticOperator(op) {\n    return isString(op) && ARITHMETIC_OPERATORS.includes(op);\n}\nexport function isJSONOperator(op) {\n    return isString(op) && JSON_OPERATORS.includes(op);\n}\n", "/// <reference types=\"./column-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { IdentifierNode } from './identifier-node.js';\n/**\n * @internal\n */\nexport const ColumnNode = freeze({\n    is(node) {\n        return node.kind === 'ColumnNode';\n    },\n    create(column) {\n        return freeze({\n            kind: 'ColumnNode',\n            column: IdentifierNode.create(column),\n        });\n    },\n});\n", "/// <reference types=\"./select-all-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const SelectAllNode = freeze({\n    is(node) {\n        return node.kind === 'SelectAllNode';\n    },\n    create() {\n        return freeze({\n            kind: 'SelectAllNode',\n        });\n    },\n});\n", "/// <reference types=\"./reference-node.d.ts\" />\nimport { SelectAllNode } from './select-all-node.js';\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const ReferenceNode = freeze({\n    is(node) {\n        return node.kind === 'ReferenceNode';\n    },\n    create(column, table) {\n        return freeze({\n            kind: 'ReferenceNode',\n            table,\n            column,\n        });\n    },\n    createSelectAll(table) {\n        return freeze({\n            kind: 'ReferenceNode',\n            table,\n            column: SelectAllNode.create(),\n        });\n    },\n});\n", "/// <reference types=\"./dynamic-reference-builder.d.ts\" />\nimport { isOperationNodeSource, } from '../operation-node/operation-node-source.js';\nimport { parseSimpleReferenceExpression } from '../parser/reference-parser.js';\nimport { isObject, isString } from '../util/object-utils.js';\nexport class DynamicReferenceBuilder {\n    #dynamicReference;\n    get dynamicReference() {\n        return this.#dynamicReference;\n    }\n    /**\n     * @private\n     *\n     * This needs to be here just so that the typings work. Without this\n     * the generated .d.ts file contains no reference to the type param R\n     * which causes this type to be equal to DynamicReferenceBuilder with\n     * any R.\n     */\n    get refType() {\n        return undefined;\n    }\n    constructor(reference) {\n        this.#dynamicReference = reference;\n    }\n    toOperationNode() {\n        return parseSimpleReferenceExpression(this.#dynamicReference);\n    }\n}\nexport function isDynamicReferenceBuilder(obj) {\n    return (isObject(obj) &&\n        isOperationNodeSource(obj) &&\n        isString(obj.dynamicReference));\n}\n", "/// <reference types=\"./order-by-item-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const OrderByItemNode = freeze({\n    is(node) {\n        return node.kind === 'OrderByItemNode';\n    },\n    create(orderBy, direction) {\n        return freeze({\n            kind: 'OrderByItemNode',\n            orderBy,\n            direction,\n        });\n    },\n    cloneWith(node, props) {\n        return freeze({\n            ...node,\n            ...props,\n        });\n    },\n});\n", "/// <reference types=\"./raw-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const RawNode = freeze({\n    is(node) {\n        return node.kind === 'RawNode';\n    },\n    create(sqlFragments, parameters) {\n        return freeze({\n            kind: 'RawNode',\n            sqlFragments: freeze(sqlFragments),\n            parameters: freeze(parameters),\n        });\n    },\n    createWithSql(sql) {\n        return RawNode.create([sql], []);\n    },\n    createWithChild(child) {\n        return RawNode.create(['', ''], [child]);\n    },\n    createWithChildren(children) {\n        return RawNode.create(new Array(children.length + 1).fill(''), children);\n    },\n});\n", "/// <reference types=\"./collate-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { IdentifierNode } from './identifier-node.js';\n/**\n * @internal\n */\nexport const CollateNode = {\n    is(node) {\n        return node.kind === 'CollateNode';\n    },\n    create(collation) {\n        return freeze({\n            kind: 'CollateNode',\n            collation: IdentifierNode.create(collation),\n        });\n    },\n};\n", "/// <reference types=\"./order-by-item-builder.d.ts\" />\nimport { CollateNode } from '../operation-node/collate-node.js';\nimport { OrderByItemNode } from '../operation-node/order-by-item-node.js';\nimport { RawNode } from '../operation-node/raw-node.js';\nimport { freeze } from '../util/object-utils.js';\nexport class OrderByItemBuilder {\n    #props;\n    constructor(props) {\n        this.#props = freeze(props);\n    }\n    /**\n     * Adds `desc` to the `order by` item.\n     *\n     * See {@link asc} for the opposite.\n     */\n    desc() {\n        return new OrderByItemBuilder({\n            node: OrderByItemNode.cloneWith(this.#props.node, {\n                direction: RawNode.createWithSql('desc'),\n            }),\n        });\n    }\n    /**\n     * Adds `asc` to the `order by` item.\n     *\n     * See {@link desc} for the opposite.\n     */\n    asc() {\n        return new OrderByItemBuilder({\n            node: OrderByItemNode.cloneWith(this.#props.node, {\n                direction: RawNode.createWithSql('asc'),\n            }),\n        });\n    }\n    /**\n     * Adds `nulls last` to the `order by` item.\n     *\n     * This is only supported by some dialects like PostgreSQL and SQLite.\n     *\n     * See {@link nullsFirst} for the opposite.\n     */\n    nullsLast() {\n        return new OrderByItemBuilder({\n            node: OrderByItemNode.cloneWith(this.#props.node, { nulls: 'last' }),\n        });\n    }\n    /**\n     * Adds `nulls first` to the `order by` item.\n     *\n     * This is only supported by some dialects like PostgreSQL and SQLite.\n     *\n     * See {@link nullsLast} for the opposite.\n     */\n    nullsFirst() {\n        return new OrderByItemBuilder({\n            node: OrderByItemNode.cloneWith(this.#props.node, { nulls: 'first' }),\n        });\n    }\n    /**\n     * Adds `collate <collationName>` to the `order by` item.\n     */\n    collate(collation) {\n        return new OrderByItemBuilder({\n            node: OrderByItemNode.cloneWith(this.#props.node, {\n                collation: CollateNode.create(collation),\n            }),\n        });\n    }\n    toOperationNode() {\n        return this.#props.node;\n    }\n}\n", "/// <reference types=\"./log-once.d.ts\" />\nconst LOGGED_MESSAGES = new Set();\n/**\n * Use for system-level logging, such as deprecation messages.\n * Logs a message and ensures it won't be logged again.\n */\nexport function logOnce(message) {\n    if (LOGGED_MESSAGES.has(message)) {\n        return;\n    }\n    LOGGED_MESSAGES.add(message);\n    console.log(message);\n}\n", "/// <reference types=\"./order-by-parser.d.ts\" />\nimport { isDynamicReferenceBuilder, } from '../dynamic/dynamic-reference-builder.js';\nimport { isExpression } from '../expression/expression.js';\nimport { OrderByItemNode } from '../operation-node/order-by-item-node.js';\nimport { RawNode } from '../operation-node/raw-node.js';\nimport { OrderByItemBuilder } from '../query-builder/order-by-item-builder.js';\nimport { logOnce } from '../util/log-once.js';\nimport { isExpressionOrFactory, parseExpression, } from './expression-parser.js';\nimport { parseStringReference, } from './reference-parser.js';\nexport function isOrderByDirection(thing) {\n    return thing === 'asc' || thing === 'desc';\n}\nexport function parseOrderBy(args) {\n    if (args.length === 2) {\n        return [parseOrderByItem(args[0], args[1])];\n    }\n    if (args.length === 1) {\n        const [orderBy] = args;\n        if (Array.isArray(orderBy)) {\n            logOnce('orderBy(array) is deprecated, use multiple orderBy calls instead.');\n            return orderBy.map((item) => parseOrderByItem(item));\n        }\n        return [parseOrderByItem(orderBy)];\n    }\n    throw new Error(`Invalid number of arguments at order by! expected 1-2, received ${args.length}`);\n}\nexport function parseOrderByItem(expr, modifiers) {\n    const parsedRef = parseOrderByExpression(expr);\n    if (OrderByItemNode.is(parsedRef)) {\n        if (modifiers) {\n            throw new Error('Cannot specify direction twice!');\n        }\n        return parsedRef;\n    }\n    return parseOrderByWithModifiers(parsedRef, modifiers);\n}\nfunction parseOrderByExpression(expr) {\n    if (isExpressionOrFactory(expr)) {\n        return parseExpression(expr);\n    }\n    if (isDynamicReferenceBuilder(expr)) {\n        return expr.toOperationNode();\n    }\n    const [ref, direction] = expr.split(' ');\n    if (direction) {\n        logOnce(\"`orderBy('column asc')` is deprecated. Use `orderBy('column', 'asc')` instead.\");\n        return parseOrderByWithModifiers(parseStringReference(ref), direction);\n    }\n    return parseStringReference(expr);\n}\nfunction parseOrderByWithModifiers(expr, modifiers) {\n    if (typeof modifiers === 'string') {\n        if (!isOrderByDirection(modifiers)) {\n            throw new Error(`Invalid order by direction: ${modifiers}`);\n        }\n        return OrderByItemNode.create(expr, RawNode.createWithSql(modifiers));\n    }\n    if (isExpression(modifiers)) {\n        logOnce(\"`orderBy(..., expr)` is deprecated. Use `orderBy(..., 'asc')` or `orderBy(..., (ob) => ...)` instead.\");\n        return OrderByItemNode.create(expr, modifiers.toOperationNode());\n    }\n    const node = OrderByItemNode.create(expr);\n    if (!modifiers) {\n        return node;\n    }\n    return modifiers(new OrderByItemBuilder({ node })).toOperationNode();\n}\n", "/// <reference types=\"./json-reference-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const JSONReferenceNode = freeze({\n    is(node) {\n        return node.kind === 'JSONReferenceNode';\n    },\n    create(reference, traversal) {\n        return freeze({\n            kind: 'JSONReferenceNode',\n            reference,\n            traversal,\n        });\n    },\n    cloneWithTraversal(node, traversal) {\n        return freeze({\n            ...node,\n            traversal,\n        });\n    },\n});\n", "/// <reference types=\"./json-operator-chain-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const JSONOperatorChainNode = freeze({\n    is(node) {\n        return node.kind === 'JSONOperatorChainNode';\n    },\n    create(operator) {\n        return freeze({\n            kind: 'JSONOperatorChainNode',\n            operator,\n            values: freeze([]),\n        });\n    },\n    cloneWithValue(node, value) {\n        return freeze({\n            ...node,\n            values: freeze([...node.values, value]),\n        });\n    },\n});\n", "/// <reference types=\"./json-path-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const JSONPathNode = freeze({\n    is(node) {\n        return node.kind === 'JSONPathNode';\n    },\n    create(inOperator) {\n        return freeze({\n            kind: 'JSONPathNode',\n            inOperator,\n            pathLegs: freeze([]),\n        });\n    },\n    cloneWithLeg(jsonPathNode, pathLeg) {\n        return freeze({\n            ...jsonPathNode,\n            pathLegs: freeze([...jsonPathNode.pathLegs, pathLeg]),\n        });\n    },\n});\n", "/// <reference types=\"./reference-parser.d.ts\" />\nimport { AliasNode } from '../operation-node/alias-node.js';\nimport { ColumnNode } from '../operation-node/column-node.js';\nimport { ReferenceNode } from '../operation-node/reference-node.js';\nimport { TableNode } from '../operation-node/table-node.js';\nimport { isReadonlyArray, isString } from '../util/object-utils.js';\nimport { parseExpression, isExpressionOrFactory, } from './expression-parser.js';\nimport { IdentifierNode } from '../operation-node/identifier-node.js';\nimport { isOrderByDirection, parseOrderBy, } from './order-by-parser.js';\nimport { OperatorNode, isJSONOperator, } from '../operation-node/operator-node.js';\nimport { JSONReferenceNode } from '../operation-node/json-reference-node.js';\nimport { JSONOperatorChainNode } from '../operation-node/json-operator-chain-node.js';\nimport { JSONPathNode } from '../operation-node/json-path-node.js';\nexport function parseSimpleReferenceExpression(exp) {\n    if (isString(exp)) {\n        return parseStringReference(exp);\n    }\n    return exp.toOperationNode();\n}\nexport function parseReferenceExpressionOrList(arg) {\n    if (isReadonlyArray(arg)) {\n        return arg.map((it) => parseReferenceExpression(it));\n    }\n    else {\n        return [parseReferenceExpression(arg)];\n    }\n}\nexport function parseReferenceExpression(exp) {\n    if (isExpressionOrFactory(exp)) {\n        return parseExpression(exp);\n    }\n    return parseSimpleReferenceExpression(exp);\n}\nexport function parseJSONReference(ref, op) {\n    const referenceNode = parseStringReference(ref);\n    if (isJSONOperator(op)) {\n        return JSONReferenceNode.create(referenceNode, JSONOperatorChainNode.create(OperatorNode.create(op)));\n    }\n    const opWithoutLastChar = op.slice(0, -1);\n    if (isJSONOperator(opWithoutLastChar)) {\n        return JSONReferenceNode.create(referenceNode, JSONPathNode.create(OperatorNode.create(opWithoutLastChar)));\n    }\n    throw new Error(`Invalid JSON operator: ${op}`);\n}\nexport function parseStringReference(ref) {\n    const COLUMN_SEPARATOR = '.';\n    if (!ref.includes(COLUMN_SEPARATOR)) {\n        return ReferenceNode.create(ColumnNode.create(ref));\n    }\n    const parts = ref.split(COLUMN_SEPARATOR).map(trim);\n    if (parts.length === 3) {\n        return parseStringReferenceWithTableAndSchema(parts);\n    }\n    if (parts.length === 2) {\n        return parseStringReferenceWithTable(parts);\n    }\n    throw new Error(`invalid column reference ${ref}`);\n}\nexport function parseAliasedStringReference(ref) {\n    const ALIAS_SEPARATOR = ' as ';\n    if (ref.includes(ALIAS_SEPARATOR)) {\n        const [columnRef, alias] = ref.split(ALIAS_SEPARATOR).map(trim);\n        return AliasNode.create(parseStringReference(columnRef), IdentifierNode.create(alias));\n    }\n    else {\n        return parseStringReference(ref);\n    }\n}\nexport function parseColumnName(column) {\n    return ColumnNode.create(column);\n}\nexport function parseOrderedColumnName(column) {\n    const ORDER_SEPARATOR = ' ';\n    if (column.includes(ORDER_SEPARATOR)) {\n        const [columnName, order] = column.split(ORDER_SEPARATOR).map(trim);\n        if (!isOrderByDirection(order)) {\n            throw new Error(`invalid order direction \"${order}\" next to \"${columnName}\"`);\n        }\n        return parseOrderBy([columnName, order])[0];\n    }\n    else {\n        return parseColumnName(column);\n    }\n}\nfunction parseStringReferenceWithTableAndSchema(parts) {\n    const [schema, table, column] = parts;\n    return ReferenceNode.create(ColumnNode.create(column), TableNode.createWithSchema(schema, table));\n}\nfunction parseStringReferenceWithTable(parts) {\n    const [table, column] = parts;\n    return ReferenceNode.create(ColumnNode.create(column), TableNode.create(table));\n}\nfunction trim(str) {\n    return str.trim();\n}\n", "/// <reference types=\"./primitive-value-list-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const PrimitiveValueListNode = freeze({\n    is(node) {\n        return node.kind === 'PrimitiveValueListNode';\n    },\n    create(values) {\n        return freeze({\n            kind: 'PrimitiveValueListNode',\n            values: freeze([...values]),\n        });\n    },\n});\n", "/// <reference types=\"./value-list-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const ValueListNode = freeze({\n    is(node) {\n        return node.kind === 'ValueListNode';\n    },\n    create(values) {\n        return freeze({\n            kind: 'ValueListNode',\n            values: freeze(values),\n        });\n    },\n});\n", "/// <reference types=\"./value-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const ValueNode = freeze({\n    is(node) {\n        return node.kind === 'ValueNode';\n    },\n    create(value) {\n        return freeze({\n            kind: 'ValueNode',\n            value,\n        });\n    },\n    createImmediate(value) {\n        return freeze({\n            kind: 'ValueNode',\n            value,\n            immediate: true,\n        });\n    },\n});\n", "/// <reference types=\"./value-parser.d.ts\" />\nimport { PrimitiveValueListNode } from '../operation-node/primitive-value-list-node.js';\nimport { ValueListNode } from '../operation-node/value-list-node.js';\nimport { ValueNode } from '../operation-node/value-node.js';\nimport { isBoolean, isNull, isNumber, isReadonlyArray, } from '../util/object-utils.js';\nimport { parseExpression, isExpressionOrFactory, } from './expression-parser.js';\nexport function parseValueExpressionOrList(arg) {\n    if (isReadonlyArray(arg)) {\n        return parseValueExpressionList(arg);\n    }\n    return parseValueExpression(arg);\n}\nexport function parseValueExpression(exp) {\n    if (isExpressionOrFactory(exp)) {\n        return parseExpression(exp);\n    }\n    return ValueNode.create(exp);\n}\nexport function isSafeImmediateValue(value) {\n    return isNumber(value) || isBoolean(value) || isNull(value);\n}\nexport function parseSafeImmediateValue(value) {\n    if (!isSafeImmediateValue(value)) {\n        throw new Error(`unsafe immediate value ${JSON.stringify(value)}`);\n    }\n    return ValueNode.createImmediate(value);\n}\nfunction parseValueExpressionList(arg) {\n    if (arg.some(isExpressionOrFactory)) {\n        return ValueListNode.create(arg.map((it) => parseValueExpression(it)));\n    }\n    return PrimitiveValueListNode.create(arg);\n}\n", "/// <reference types=\"./parens-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const ParensNode = freeze({\n    is(node) {\n        return node.kind === 'ParensNode';\n    },\n    create(node) {\n        return freeze({\n            kind: 'ParensNode',\n            node,\n        });\n    },\n});\n", "/// <reference types=\"./binary-operation-parser.d.ts\" />\nimport { BinaryOperationNode } from '../operation-node/binary-operation-node.js';\nimport { isBoolean, isNull, isString, isUndefined, } from '../util/object-utils.js';\nimport { isOperationNodeSource, } from '../operation-node/operation-node-source.js';\nimport { OperatorNode, OPERATORS, } from '../operation-node/operator-node.js';\nimport { parseReferenceExpression, } from './reference-parser.js';\nimport { parseValueExpression, parseValueExpressionOrList, } from './value-parser.js';\nimport { ValueNode } from '../operation-node/value-node.js';\nimport { AndNode } from '../operation-node/and-node.js';\nimport { ParensNode } from '../operation-node/parens-node.js';\nimport { OrNode } from '../operation-node/or-node.js';\nexport function parseValueBinaryOperationOrExpression(args) {\n    if (args.length === 3) {\n        return parseValueBinaryOperation(args[0], args[1], args[2]);\n    }\n    else if (args.length === 1) {\n        return parseValueExpression(args[0]);\n    }\n    throw new Error(`invalid arguments: ${JSON.stringify(args)}`);\n}\nexport function parseValueBinaryOperation(left, operator, right) {\n    if (isIsOperator(operator) && needsIsOperator(right)) {\n        return BinaryOperationNode.create(parseReferenceExpression(left), parseOperator(operator), ValueNode.createImmediate(right));\n    }\n    return BinaryOperationNode.create(parseReferenceExpression(left), parseOperator(operator), parseValueExpressionOrList(right));\n}\nexport function parseReferentialBinaryOperation(left, operator, right) {\n    return BinaryOperationNode.create(parseReferenceExpression(left), parseOperator(operator), parseReferenceExpression(right));\n}\nexport function parseFilterObject(obj, combinator) {\n    return parseFilterList(Object.entries(obj)\n        .filter(([, v]) => !isUndefined(v))\n        .map(([k, v]) => parseValueBinaryOperation(k, needsIsOperator(v) ? 'is' : '=', v)), combinator);\n}\nexport function parseFilterList(list, combinator, withParens = true) {\n    const combine = combinator === 'and' ? AndNode.create : OrNode.create;\n    if (list.length === 0) {\n        return BinaryOperationNode.create(ValueNode.createImmediate(1), OperatorNode.create('='), ValueNode.createImmediate(combinator === 'and' ? 1 : 0));\n    }\n    let node = toOperationNode(list[0]);\n    for (let i = 1; i < list.length; ++i) {\n        node = combine(node, toOperationNode(list[i]));\n    }\n    if (list.length > 1 && withParens) {\n        return ParensNode.create(node);\n    }\n    return node;\n}\nfunction isIsOperator(operator) {\n    return operator === 'is' || operator === 'is not';\n}\nfunction needsIsOperator(value) {\n    return isNull(value) || isBoolean(value);\n}\nfunction parseOperator(operator) {\n    if (isString(operator) && OPERATORS.includes(operator)) {\n        return OperatorNode.create(operator);\n    }\n    if (isOperationNodeSource(operator)) {\n        return operator.toOperationNode();\n    }\n    throw new Error(`invalid operator ${JSON.stringify(operator)}`);\n}\nfunction toOperationNode(nodeOrSource) {\n    return isOperationNodeSource(nodeOrSource)\n        ? nodeOrSource.toOperationNode()\n        : nodeOrSource;\n}\n", "/// <reference types=\"./order-by-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const OrderByNode = freeze({\n    is(node) {\n        return node.kind === 'OrderByNode';\n    },\n    create(items) {\n        return freeze({\n            kind: 'OrderByNode',\n            items: freeze([...items]),\n        });\n    },\n    cloneWithItems(orderBy, items) {\n        return freeze({\n            ...orderBy,\n            items: freeze([...orderBy.items, ...items]),\n        });\n    },\n});\n", "/// <reference types=\"./partition-by-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const PartitionByNode = freeze({\n    is(node) {\n        return node.kind === 'PartitionByNode';\n    },\n    create(items) {\n        return freeze({\n            kind: 'PartitionByNode',\n            items: freeze(items),\n        });\n    },\n    cloneWithItems(partitionBy, items) {\n        return freeze({\n            ...partitionBy,\n            items: freeze([...partitionBy.items, ...items]),\n        });\n    },\n});\n", "/// <reference types=\"./over-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { OrderByNode } from './order-by-node.js';\nimport { PartitionByNode } from './partition-by-node.js';\n/**\n * @internal\n */\nexport const OverNode = freeze({\n    is(node) {\n        return node.kind === 'OverNode';\n    },\n    create() {\n        return freeze({\n            kind: 'OverNode',\n        });\n    },\n    cloneWithOrderByItems(overNode, items) {\n        return freeze({\n            ...overNode,\n            orderBy: overNode.orderBy\n                ? OrderByNode.cloneWithItems(overNode.orderBy, items)\n                : OrderByNode.create(items),\n        });\n    },\n    cloneWithPartitionByItems(overNode, items) {\n        return freeze({\n            ...overNode,\n            partitionBy: overNode.partitionBy\n                ? PartitionByNode.cloneWithItems(overNode.partitionBy, items)\n                : PartitionByNode.create(items),\n        });\n    },\n});\n", "/// <reference types=\"./from-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const FromNode = freeze({\n    is(node) {\n        return node.kind === 'FromNode';\n    },\n    create(froms) {\n        return freeze({\n            kind: 'FromNode',\n            froms: freeze(froms),\n        });\n    },\n    cloneWithFroms(from, froms) {\n        return freeze({\n            ...from,\n            froms: freeze([...from.froms, ...froms]),\n        });\n    },\n});\n", "/// <reference types=\"./group-by-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const GroupByNode = freeze({\n    is(node) {\n        return node.kind === 'GroupByNode';\n    },\n    create(items) {\n        return freeze({\n            kind: 'GroupByNode',\n            items: freeze(items),\n        });\n    },\n    cloneWithItems(groupBy, items) {\n        return freeze({\n            ...groupBy,\n            items: freeze([...groupBy.items, ...items]),\n        });\n    },\n});\n", "/// <reference types=\"./having-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { AndNode } from './and-node.js';\nimport { OrNode } from './or-node.js';\n/**\n * @internal\n */\nexport const HavingNode = freeze({\n    is(node) {\n        return node.kind === 'HavingNode';\n    },\n    create(filter) {\n        return freeze({\n            kind: 'HavingNode',\n            having: filter,\n        });\n    },\n    cloneWithOperation(havingNode, operator, operation) {\n        return freeze({\n            ...havingNode,\n            having: operator === 'And'\n                ? AndNode.create(havingNode.having, operation)\n                : OrNode.create(havingNode.having, operation),\n        });\n    },\n});\n", "/// <reference types=\"./insert-query-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const InsertQueryNode = freeze({\n    is(node) {\n        return node.kind === 'InsertQueryNode';\n    },\n    create(into, withNode, replace) {\n        return freeze({\n            kind: 'InsertQueryNode',\n            into,\n            ...(withNode && { with: withNode }),\n            replace,\n        });\n    },\n    createWithoutInto() {\n        return freeze({\n            kind: 'InsertQueryNode',\n        });\n    },\n    cloneWith(insertQuery, props) {\n        return freeze({\n            ...insertQuery,\n            ...props,\n        });\n    },\n});\n", "/// <reference types=\"./list-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const ListNode = freeze({\n    is(node) {\n        return node.kind === 'ListNode';\n    },\n    create(items) {\n        return freeze({\n            kind: 'ListNode',\n            items: freeze(items),\n        });\n    },\n});\n", "/// <reference types=\"./update-query-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { FromNode } from './from-node.js';\nimport { ListNode } from './list-node.js';\n/**\n * @internal\n */\nexport const UpdateQueryNode = freeze({\n    is(node) {\n        return node.kind === 'UpdateQueryNode';\n    },\n    create(tables, withNode) {\n        return freeze({\n            kind: 'UpdateQueryNode',\n            // For backwards compatibility, use the raw table node when there's only one table\n            // and don't rename the property to something like `tables`.\n            table: tables.length === 1 ? tables[0] : ListNode.create(tables),\n            ...(withNode && { with: withNode }),\n        });\n    },\n    createWithoutTable() {\n        return freeze({\n            kind: 'UpdateQueryNode',\n        });\n    },\n    cloneWithFromItems(updateQuery, fromItems) {\n        return freeze({\n            ...updateQuery,\n            from: updateQuery.from\n                ? FromNode.cloneWithFroms(updateQuery.from, fromItems)\n                : FromNode.create(fromItems),\n        });\n    },\n    cloneWithUpdates(updateQuery, updates) {\n        return freeze({\n            ...updateQuery,\n            updates: updateQuery.updates\n                ? freeze([...updateQuery.updates, ...updates])\n                : updates,\n        });\n    },\n    cloneWithLimit(updateQuery, limit) {\n        return freeze({\n            ...updateQuery,\n            limit,\n        });\n    },\n});\n", "/// <reference types=\"./using-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const UsingNode = freeze({\n    is(node) {\n        return node.kind === 'UsingNode';\n    },\n    create(tables) {\n        return freeze({\n            kind: 'UsingNode',\n            tables: freeze(tables),\n        });\n    },\n    cloneWithTables(using, tables) {\n        return freeze({\n            ...using,\n            tables: freeze([...using.tables, ...tables]),\n        });\n    },\n});\n", "/// <reference types=\"./delete-query-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { FromNode } from './from-node.js';\nimport { UsingNode } from './using-node.js';\nimport { QueryNode } from './query-node.js';\n/**\n * @internal\n */\nexport const DeleteQueryNode = freeze({\n    is(node) {\n        return node.kind === 'DeleteQueryNode';\n    },\n    create(fromItems, withNode) {\n        return freeze({\n            kind: 'DeleteQueryNode',\n            from: FromNode.create(fromItems),\n            ...(withNode && { with: withNode }),\n        });\n    },\n    // TODO: remove in v0.29\n    /**\n     * @deprecated Use `QueryNode.cloneWithoutOrderBy` instead.\n     */\n    cloneWithOrderByItems: (node, items) => QueryNode.cloneWithOrderByItems(node, items),\n    // TODO: remove in v0.29\n    /**\n     * @deprecated Use `QueryNode.cloneWithoutOrderBy` instead.\n     */\n    cloneWithoutOrderBy: (node) => QueryNode.cloneWithoutOrderBy(node),\n    cloneWithLimit(deleteNode, limit) {\n        return freeze({\n            ...deleteNode,\n            limit,\n        });\n    },\n    cloneWithoutLimit(deleteNode) {\n        return freeze({\n            ...deleteNode,\n            limit: undefined,\n        });\n    },\n    cloneWithUsing(deleteNode, tables) {\n        return freeze({\n            ...deleteNode,\n            using: deleteNode.using !== undefined\n                ? UsingNode.cloneWithTables(deleteNode.using, tables)\n                : UsingNode.create(tables),\n        });\n    },\n});\n", "/// <reference types=\"./where-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { AndNode } from './and-node.js';\nimport { OrNode } from './or-node.js';\n/**\n * @internal\n */\nexport const WhereNode = freeze({\n    is(node) {\n        return node.kind === 'WhereNode';\n    },\n    create(filter) {\n        return freeze({\n            kind: 'WhereNode',\n            where: filter,\n        });\n    },\n    cloneWithOperation(whereNode, operator, operation) {\n        return freeze({\n            ...whereNode,\n            where: operator === 'And'\n                ? AndNode.create(whereNode.where, operation)\n                : OrNode.create(whereNode.where, operation),\n        });\n    },\n});\n", "/// <reference types=\"./returning-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const ReturningNode = freeze({\n    is(node) {\n        return node.kind === 'ReturningNode';\n    },\n    create(selections) {\n        return freeze({\n            kind: 'ReturningNode',\n            selections: freeze(selections),\n        });\n    },\n    cloneWithSelections(returning, selections) {\n        return freeze({\n            ...returning,\n            selections: returning.selections\n                ? freeze([...returning.selections, ...selections])\n                : freeze(selections),\n        });\n    },\n});\n", "/// <reference types=\"./explain-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const ExplainNode = freeze({\n    is(node) {\n        return node.kind === 'ExplainNode';\n    },\n    create(format, options) {\n        return freeze({\n            kind: 'ExplainNode',\n            format,\n            options,\n        });\n    },\n});\n", "/// <reference types=\"./when-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const WhenNode = freeze({\n    is(node) {\n        return node.kind === 'WhenNode';\n    },\n    create(condition) {\n        return freeze({\n            kind: 'WhenNode',\n            condition,\n        });\n    },\n    cloneWithResult(whenNode, result) {\n        return freeze({\n            ...whenNode,\n            result,\n        });\n    },\n});\n", "/// <reference types=\"./merge-query-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { WhenNode } from './when-node.js';\n/**\n * @internal\n */\nexport const MergeQueryNode = freeze({\n    is(node) {\n        return node.kind === 'MergeQueryNode';\n    },\n    create(into, withNode) {\n        return freeze({\n            kind: 'MergeQueryNode',\n            into,\n            ...(withNode && { with: withNode }),\n        });\n    },\n    cloneWithUsing(mergeNode, using) {\n        return freeze({\n            ...mergeNode,\n            using,\n        });\n    },\n    cloneWithWhen(mergeNode, when) {\n        return freeze({\n            ...mergeNode,\n            whens: mergeNode.whens\n                ? freeze([...mergeNode.whens, when])\n                : freeze([when]),\n        });\n    },\n    cloneWithThen(mergeNode, then) {\n        return freeze({\n            ...mergeNode,\n            whens: mergeNode.whens\n                ? freeze([\n                    ...mergeNode.whens.slice(0, -1),\n                    WhenNode.cloneWithResult(mergeNode.whens[mergeNode.whens.length - 1], then),\n                ])\n                : undefined,\n        });\n    },\n});\n", "/// <reference types=\"./output-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const OutputNode = freeze({\n    is(node) {\n        return node.kind === 'OutputNode';\n    },\n    create(selections) {\n        return freeze({\n            kind: 'OutputNode',\n            selections: freeze(selections),\n        });\n    },\n    cloneWithSelections(output, selections) {\n        return freeze({\n            ...output,\n            selections: output.selections\n                ? freeze([...output.selections, ...selections])\n                : freeze(selections),\n        });\n    },\n});\n", "/// <reference types=\"./query-node.d.ts\" />\nimport { InsertQueryNode } from './insert-query-node.js';\nimport { SelectQueryNode } from './select-query-node.js';\nimport { UpdateQueryNode } from './update-query-node.js';\nimport { DeleteQueryNode } from './delete-query-node.js';\nimport { WhereNode } from './where-node.js';\nimport { freeze } from '../util/object-utils.js';\nimport { ReturningNode } from './returning-node.js';\nimport { ExplainNode } from './explain-node.js';\nimport { MergeQueryNode } from './merge-query-node.js';\nimport { OutputNode } from './output-node.js';\nimport { OrderByNode } from './order-by-node.js';\n/**\n * @internal\n */\nexport const QueryNode = freeze({\n    is(node) {\n        return (SelectQueryNode.is(node) ||\n            InsertQueryNode.is(node) ||\n            UpdateQueryNode.is(node) ||\n            DeleteQueryNode.is(node) ||\n            MergeQueryNode.is(node));\n    },\n    cloneWithEndModifier(node, modifier) {\n        return freeze({\n            ...node,\n            endModifiers: node.endModifiers\n                ? freeze([...node.endModifiers, modifier])\n                : freeze([modifier]),\n        });\n    },\n    cloneWithWhere(node, operation) {\n        return freeze({\n            ...node,\n            where: node.where\n                ? WhereNode.cloneWithOperation(node.where, 'And', operation)\n                : WhereNode.create(operation),\n        });\n    },\n    cloneWithJoin(node, join) {\n        return freeze({\n            ...node,\n            joins: node.joins ? freeze([...node.joins, join]) : freeze([join]),\n        });\n    },\n    cloneWithReturning(node, selections) {\n        return freeze({\n            ...node,\n            returning: node.returning\n                ? ReturningNode.cloneWithSelections(node.returning, selections)\n                : ReturningNode.create(selections),\n        });\n    },\n    cloneWithoutReturning(node) {\n        return freeze({\n            ...node,\n            returning: undefined,\n        });\n    },\n    cloneWithoutWhere(node) {\n        return freeze({\n            ...node,\n            where: undefined,\n        });\n    },\n    cloneWithExplain(node, format, options) {\n        return freeze({\n            ...node,\n            explain: ExplainNode.create(format, options?.toOperationNode()),\n        });\n    },\n    cloneWithTop(node, top) {\n        return freeze({\n            ...node,\n            top,\n        });\n    },\n    cloneWithOutput(node, selections) {\n        return freeze({\n            ...node,\n            output: node.output\n                ? OutputNode.cloneWithSelections(node.output, selections)\n                : OutputNode.create(selections),\n        });\n    },\n    cloneWithOrderByItems(node, items) {\n        return freeze({\n            ...node,\n            orderBy: node.orderBy\n                ? OrderByNode.cloneWithItems(node.orderBy, items)\n                : OrderByNode.create(items),\n        });\n    },\n    cloneWithoutOrderBy(node) {\n        return freeze({\n            ...node,\n            orderBy: undefined,\n        });\n    },\n});\n", "/// <reference types=\"./select-query-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { FromNode } from './from-node.js';\nimport { GroupByNode } from './group-by-node.js';\nimport { HavingNode } from './having-node.js';\nimport { QueryNode } from './query-node.js';\n/**\n * @internal\n */\nexport const SelectQueryNode = freeze({\n    is(node) {\n        return node.kind === 'SelectQueryNode';\n    },\n    create(withNode) {\n        return freeze({\n            kind: 'SelectQueryNode',\n            ...(withNode && { with: withNode }),\n        });\n    },\n    createFrom(fromItems, withNode) {\n        return freeze({\n            kind: 'SelectQueryNode',\n            from: FromNode.create(fromItems),\n            ...(withNode && { with: withNode }),\n        });\n    },\n    cloneWithSelections(select, selections) {\n        return freeze({\n            ...select,\n            selections: select.selections\n                ? freeze([...select.selections, ...selections])\n                : freeze(selections),\n        });\n    },\n    cloneWithDistinctOn(select, expressions) {\n        return freeze({\n            ...select,\n            distinctOn: select.distinctOn\n                ? freeze([...select.distinctOn, ...expressions])\n                : freeze(expressions),\n        });\n    },\n    cloneWithFrontModifier(select, modifier) {\n        return freeze({\n            ...select,\n            frontModifiers: select.frontModifiers\n                ? freeze([...select.frontModifiers, modifier])\n                : freeze([modifier]),\n        });\n    },\n    // TODO: remove in v0.29\n    /**\n     * @deprecated Use `QueryNode.cloneWithoutOrderBy` instead.\n     */\n    cloneWithOrderByItems: (node, items) => QueryNode.cloneWithOrderByItems(node, items),\n    cloneWithGroupByItems(selectNode, items) {\n        return freeze({\n            ...selectNode,\n            groupBy: selectNode.groupBy\n                ? GroupByNode.cloneWithItems(selectNode.groupBy, items)\n                : GroupByNode.create(items),\n        });\n    },\n    cloneWithLimit(selectNode, limit) {\n        return freeze({\n            ...selectNode,\n            limit,\n        });\n    },\n    cloneWithOffset(selectNode, offset) {\n        return freeze({\n            ...selectNode,\n            offset,\n        });\n    },\n    cloneWithFetch(selectNode, fetch) {\n        return freeze({\n            ...selectNode,\n            fetch,\n        });\n    },\n    cloneWithHaving(selectNode, operation) {\n        return freeze({\n            ...selectNode,\n            having: selectNode.having\n                ? HavingNode.cloneWithOperation(selectNode.having, 'And', operation)\n                : HavingNode.create(operation),\n        });\n    },\n    cloneWithSetOperations(selectNode, setOperations) {\n        return freeze({\n            ...selectNode,\n            setOperations: selectNode.setOperations\n                ? freeze([...selectNode.setOperations, ...setOperations])\n                : freeze([...setOperations]),\n        });\n    },\n    cloneWithoutSelections(select) {\n        return freeze({\n            ...select,\n            selections: [],\n        });\n    },\n    cloneWithoutLimit(select) {\n        return freeze({\n            ...select,\n            limit: undefined,\n        });\n    },\n    cloneWithoutOffset(select) {\n        return freeze({\n            ...select,\n            offset: undefined,\n        });\n    },\n    // TODO: remove in v0.29\n    /**\n     * @deprecated Use `QueryNode.cloneWithoutOrderBy` instead.\n     */\n    cloneWithoutOrderBy: (node) => QueryNode.cloneWithoutOrderBy(node),\n    cloneWithoutGroupBy(select) {\n        return freeze({\n            ...select,\n            groupBy: undefined,\n        });\n    },\n});\n", "/// <reference types=\"./join-builder.d.ts\" />\nimport { JoinNode } from '../operation-node/join-node.js';\nimport { RawNode } from '../operation-node/raw-node.js';\nimport { parseValueBinaryOperationOrExpression, parseReferentialBinaryOperation, } from '../parser/binary-operation-parser.js';\nimport { freeze } from '../util/object-utils.js';\nexport class JoinBuilder {\n    #props;\n    constructor(props) {\n        this.#props = freeze(props);\n    }\n    on(...args) {\n        return new JoinBuilder({\n            ...this.#props,\n            joinNode: JoinNode.cloneWithOn(this.#props.joinNode, parseValueBinaryOperationOrExpression(args)),\n        });\n    }\n    /**\n     * Just like {@link WhereInterface.whereRef} but adds an item to the join's\n     * `on` clause instead.\n     *\n     * See {@link WhereInterface.whereRef} for documentation and examples.\n     */\n    onRef(lhs, op, rhs) {\n        return new JoinBuilder({\n            ...this.#props,\n            joinNode: JoinNode.cloneWithOn(this.#props.joinNode, parseReferentialBinaryOperation(lhs, op, rhs)),\n        });\n    }\n    /**\n     * Adds `on true`.\n     */\n    onTrue() {\n        return new JoinBuilder({\n            ...this.#props,\n            joinNode: JoinNode.cloneWithOn(this.#props.joinNode, RawNode.createWithSql('true')),\n        });\n    }\n    /**\n     * Simply calls the provided function passing `this` as the only argument. `$call` returns\n     * what the provided function returns.\n     */\n    $call(func) {\n        return func(this);\n    }\n    toOperationNode() {\n        return this.#props.joinNode;\n    }\n}\n", "/// <reference types=\"./partition-by-item-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const PartitionByItemNode = freeze({\n    is(node) {\n        return node.kind === 'PartitionByItemNode';\n    },\n    create(partitionBy) {\n        return freeze({\n            kind: 'PartitionByItemNode',\n            partitionBy,\n        });\n    },\n});\n", "/// <reference types=\"./partition-by-parser.d.ts\" />\nimport { PartitionByItemNode } from '../operation-node/partition-by-item-node.js';\nimport { parseReferenceExpressionOrList, } from './reference-parser.js';\nexport function parsePartitionBy(partitionBy) {\n    return parseReferenceExpressionOrList(partitionBy).map(PartitionByItemNode.create);\n}\n", "/// <reference types=\"./over-builder.d.ts\" />\nimport { OverNode } from '../operation-node/over-node.js';\nimport { QueryNode } from '../operation-node/query-node.js';\nimport { parseOrderBy, } from '../parser/order-by-parser.js';\nimport { parsePartitionBy, } from '../parser/partition-by-parser.js';\nimport { freeze } from '../util/object-utils.js';\nexport class OverBuilder {\n    #props;\n    constructor(props) {\n        this.#props = freeze(props);\n    }\n    orderBy(...args) {\n        return new OverBuilder({\n            overNode: OverNode.cloneWithOrderByItems(this.#props.overNode, parseOrderBy(args)),\n        });\n    }\n    clearOrderBy() {\n        return new OverBuilder({\n            overNode: QueryNode.cloneWithoutOrderBy(this.#props.overNode),\n        });\n    }\n    partitionBy(partitionBy) {\n        return new OverBuilder({\n            overNode: OverNode.cloneWithPartitionByItems(this.#props.overNode, parsePartitionBy(partitionBy)),\n        });\n    }\n    /**\n     * Simply calls the provided function passing `this` as the only argument. `$call` returns\n     * what the provided function returns.\n     */\n    $call(func) {\n        return func(this);\n    }\n    toOperationNode() {\n        return this.#props.overNode;\n    }\n}\n", "/// <reference types=\"./selection-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { ReferenceNode } from './reference-node.js';\nimport { SelectAllNode } from './select-all-node.js';\n/**\n * @internal\n */\nexport const SelectionNode = freeze({\n    is(node) {\n        return node.kind === 'SelectionNode';\n    },\n    create(selection) {\n        return freeze({\n            kind: 'SelectionNode',\n            selection: selection,\n        });\n    },\n    createSelectAll() {\n        return freeze({\n            kind: 'SelectionNode',\n            selection: SelectAllNode.create(),\n        });\n    },\n    createSelectAllFromTable(table) {\n        return freeze({\n            kind: 'SelectionNode',\n            selection: ReferenceNode.createSelectAll(table),\n        });\n    },\n});\n", "/// <reference types=\"./select-parser.d.ts\" />\nimport { isFunction, isReadonlyArray, isString } from '../util/object-utils.js';\nimport { SelectionNode } from '../operation-node/selection-node.js';\nimport { parseAliasedStringReference } from './reference-parser.js';\nimport { isDynamicReferenceBuilder, } from '../dynamic/dynamic-reference-builder.js';\nimport { parseAliasedExpression, } from './expression-parser.js';\nimport { parseTable } from './table-parser.js';\nimport { expressionBuilder, } from '../expression/expression-builder.js';\nexport function parseSelectArg(selection) {\n    if (isFunction(selection)) {\n        return parseSelectArg(selection(expressionBuilder()));\n    }\n    else if (isReadonlyArray(selection)) {\n        return selection.map((it) => parseSelectExpression(it));\n    }\n    else {\n        return [parseSelectExpression(selection)];\n    }\n}\nfunction parseSelectExpression(selection) {\n    if (isString(selection)) {\n        return SelectionNode.create(parseAliasedStringReference(selection));\n    }\n    else if (isDynamicReferenceBuilder(selection)) {\n        return SelectionNode.create(selection.toOperationNode());\n    }\n    else {\n        return SelectionNode.create(parseAliasedExpression(selection));\n    }\n}\nexport function parseSelectAll(table) {\n    if (!table) {\n        return [SelectionNode.createSelectAll()];\n    }\n    else if (Array.isArray(table)) {\n        return table.map(parseSelectAllArg);\n    }\n    else {\n        return [parseSelectAllArg(table)];\n    }\n}\nfunction parseSelectAllArg(table) {\n    if (isString(table)) {\n        return SelectionNode.createSelectAllFromTable(parseTable(table));\n    }\n    throw new Error(`invalid value selectAll expression: ${JSON.stringify(table)}`);\n}\n", "/// <reference types=\"./values-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const ValuesNode = freeze({\n    is(node) {\n        return node.kind === 'ValuesNode';\n    },\n    create(values) {\n        return freeze({\n            kind: 'ValuesNode',\n            values: freeze(values),\n        });\n    },\n});\n", "/// <reference types=\"./default-insert-value-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const DefaultInsertValueNode = freeze({\n    is(node) {\n        return node.kind === 'DefaultInsertValueNode';\n    },\n    create() {\n        return freeze({\n            kind: 'DefaultInsertValueNode',\n        });\n    },\n});\n", "/// <reference types=\"./insert-values-parser.d.ts\" />\nimport { ColumnNode } from '../operation-node/column-node.js';\nimport { PrimitiveValueListNode } from '../operation-node/primitive-value-list-node.js';\nimport { ValueListNode } from '../operation-node/value-list-node.js';\nimport { freeze, isFunction, isReadonlyArray, isUndefined, } from '../util/object-utils.js';\nimport { parseValueExpression } from './value-parser.js';\nimport { ValuesNode } from '../operation-node/values-node.js';\nimport { isExpressionOrFactory } from './expression-parser.js';\nimport { DefaultInsertValueNode } from '../operation-node/default-insert-value-node.js';\nimport { expressionBuilder, } from '../expression/expression-builder.js';\nexport function parseInsertExpression(arg) {\n    const objectOrList = isFunction(arg) ? arg(expressionBuilder()) : arg;\n    const list = isReadonlyArray(objectOrList)\n        ? objectOrList\n        : freeze([objectOrList]);\n    return parseInsertColumnsAndValues(list);\n}\nfunction parseInsertColumnsAndValues(rows) {\n    const columns = parseColumnNamesAndIndexes(rows);\n    return [\n        freeze([...columns.keys()].map(ColumnNode.create)),\n        ValuesNode.create(rows.map((row) => parseRowValues(row, columns))),\n    ];\n}\nfunction parseColumnNamesAndIndexes(rows) {\n    const columns = new Map();\n    for (const row of rows) {\n        const cols = Object.keys(row);\n        for (const col of cols) {\n            if (!columns.has(col) && row[col] !== undefined) {\n                columns.set(col, columns.size);\n            }\n        }\n    }\n    return columns;\n}\nfunction parseRowValues(row, columns) {\n    const rowColumns = Object.keys(row);\n    const rowValues = Array.from({\n        length: columns.size,\n    });\n    let hasUndefinedOrComplexColumns = false;\n    let indexedRowColumns = rowColumns.length;\n    for (const col of rowColumns) {\n        const columnIdx = columns.get(col);\n        if (isUndefined(columnIdx)) {\n            indexedRowColumns--;\n            continue;\n        }\n        const value = row[col];\n        if (isUndefined(value) || isExpressionOrFactory(value)) {\n            hasUndefinedOrComplexColumns = true;\n        }\n        rowValues[columnIdx] = value;\n    }\n    const hasMissingColumns = indexedRowColumns < columns.size;\n    if (hasMissingColumns || hasUndefinedOrComplexColumns) {\n        const defaultValue = DefaultInsertValueNode.create();\n        return ValueListNode.create(rowValues.map((it) => isUndefined(it) ? defaultValue : parseValueExpression(it)));\n    }\n    return PrimitiveValueListNode.create(rowValues);\n}\n", "/// <reference types=\"./column-update-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const ColumnUpdateNode = freeze({\n    is(node) {\n        return node.kind === 'ColumnUpdateNode';\n    },\n    create(column, value) {\n        return freeze({\n            kind: 'ColumnUpdateNode',\n            column,\n            value,\n        });\n    },\n});\n", "/// <reference types=\"./update-set-parser.d.ts\" />\nimport { ColumnNode } from '../operation-node/column-node.js';\nimport { ColumnUpdateNode } from '../operation-node/column-update-node.js';\nimport { expressionBuilder, } from '../expression/expression-builder.js';\nimport { isFunction } from '../util/object-utils.js';\nimport { parseValueExpression } from './value-parser.js';\nimport { parseReferenceExpression, } from './reference-parser.js';\nexport function parseUpdate(...args) {\n    if (args.length === 2) {\n        return [\n            ColumnUpdateNode.create(parseReferenceExpression(args[0]), parseValueExpression(args[1])),\n        ];\n    }\n    return parseUpdateObjectExpression(args[0]);\n}\nexport function parseUpdateObjectExpression(update) {\n    const updateObj = isFunction(update) ? update(expressionBuilder()) : update;\n    return Object.entries(updateObj)\n        .filter(([_, value]) => value !== undefined)\n        .map(([key, value]) => {\n        return ColumnUpdateNode.create(ColumnNode.create(key), parseValueExpression(value));\n    });\n}\n", "/// <reference types=\"./on-duplicate-key-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const OnDuplicateKeyNode = freeze({\n    is(node) {\n        return node.kind === 'OnDuplicateKeyNode';\n    },\n    create(updates) {\n        return freeze({\n            kind: 'OnDuplicateKeyNode',\n            updates,\n        });\n    },\n});\n", "/// <reference types=\"./insert-result.d.ts\" />\n/**\n * The result of an insert query.\n *\n * If the table has an auto incrementing primary key {@link insertId} will hold\n * the generated id on dialects that support it. For example PostgreSQL doesn't\n * return the id by default and {@link insertId} is undefined. On PostgreSQL you\n * need to use {@link ReturningInterface.returning} or {@link ReturningInterface.returningAll}\n * to get out the inserted id.\n *\n * {@link numInsertedOrUpdatedRows} holds the number of (actually) inserted rows.\n * On MySQL, updated rows are counted twice when using `on duplicate key update`.\n *\n * ### Examples\n *\n * ```ts\n * import type { NewPerson } from 'type-editor' // imaginary module\n *\n * async function insertPerson(person: NewPerson) {\n *   const result = await db\n *     .insertInto('person')\n *     .values(person)\n *     .executeTakeFirstOrThrow()\n *\n *   console.log(result.insertId) // relevant on MySQL\n *   console.log(result.numInsertedOrUpdatedRows) // always relevant\n * }\n * ```\n */\nexport class InsertResult {\n    /**\n     * The auto incrementing primary key of the inserted row.\n     *\n     * This property can be undefined when the query contains an `on conflict`\n     * clause that makes the query succeed even when nothing gets inserted.\n     *\n     * This property is always undefined on dialects like PostgreSQL that\n     * don't return the inserted id by default. On those dialects you need\n     * to use the {@link ReturningInterface.returning | returning} method.\n     */\n    insertId;\n    /**\n     * Affected rows count.\n     */\n    numInsertedOrUpdatedRows;\n    constructor(insertId, numInsertedOrUpdatedRows) {\n        this.insertId = insertId;\n        this.numInsertedOrUpdatedRows = numInsertedOrUpdatedRows;\n    }\n}\n", "/// <reference types=\"./no-result-error.d.ts\" />\nexport class NoResultError extends Error {\n    /**\n     * The operation node tree of the query that was executed.\n     */\n    node;\n    constructor(node) {\n        super('no result');\n        this.node = node;\n    }\n}\nexport function isNoResultErrorConstructor(fn) {\n    return Object.prototype.hasOwnProperty.call(fn, 'prototype');\n}\n", "/// <reference types=\"./on-conflict-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { WhereNode } from './where-node.js';\n/**\n * @internal\n */\nexport const OnConflictNode = freeze({\n    is(node) {\n        return node.kind === 'OnConflictNode';\n    },\n    create() {\n        return freeze({\n            kind: 'OnConflictNode',\n        });\n    },\n    cloneWith(node, props) {\n        return freeze({\n            ...node,\n            ...props,\n        });\n    },\n    cloneWithIndexWhere(node, operation) {\n        return freeze({\n            ...node,\n            indexWhere: node.indexWhere\n                ? WhereNode.cloneWithOperation(node.indexWhere, 'And', operation)\n                : WhereNode.create(operation),\n        });\n    },\n    cloneWithIndexOrWhere(node, operation) {\n        return freeze({\n            ...node,\n            indexWhere: node.indexWhere\n                ? WhereNode.cloneWithOperation(node.indexWhere, 'Or', operation)\n                : WhereNode.create(operation),\n        });\n    },\n    cloneWithUpdateWhere(node, operation) {\n        return freeze({\n            ...node,\n            updateWhere: node.updateWhere\n                ? WhereNode.cloneWithOperation(node.updateWhere, 'And', operation)\n                : WhereNode.create(operation),\n        });\n    },\n    cloneWithUpdateOrWhere(node, operation) {\n        return freeze({\n            ...node,\n            updateWhere: node.updateWhere\n                ? WhereNode.cloneWithOperation(node.updateWhere, 'Or', operation)\n                : WhereNode.create(operation),\n        });\n    },\n    cloneWithoutIndexWhere(node) {\n        return freeze({\n            ...node,\n            indexWhere: undefined,\n        });\n    },\n    cloneWithoutUpdateWhere(node) {\n        return freeze({\n            ...node,\n            updateWhere: undefined,\n        });\n    },\n});\n", "/// <reference types=\"./on-conflict-builder.d.ts\" />\nimport { ColumnNode } from '../operation-node/column-node.js';\nimport { IdentifierNode } from '../operation-node/identifier-node.js';\nimport { OnConflictNode } from '../operation-node/on-conflict-node.js';\nimport { parseValueBinaryOperationOrExpression, parseReferentialBinaryOperation, } from '../parser/binary-operation-parser.js';\nimport { parseUpdateObjectExpression, } from '../parser/update-set-parser.js';\nimport { freeze } from '../util/object-utils.js';\nexport class OnConflictBuilder {\n    #props;\n    constructor(props) {\n        this.#props = freeze(props);\n    }\n    /**\n     * Specify a single column as the conflict target.\n     *\n     * Also see the {@link columns}, {@link constraint} and {@link expression}\n     * methods for alternative ways to specify the conflict target.\n     */\n    column(column) {\n        const columnNode = ColumnNode.create(column);\n        return new OnConflictBuilder({\n            ...this.#props,\n            onConflictNode: OnConflictNode.cloneWith(this.#props.onConflictNode, {\n                columns: this.#props.onConflictNode.columns\n                    ? freeze([...this.#props.onConflictNode.columns, columnNode])\n                    : freeze([columnNode]),\n            }),\n        });\n    }\n    /**\n     * Specify a list of columns as the conflict target.\n     *\n     * Also see the {@link column}, {@link constraint} and {@link expression}\n     * methods for alternative ways to specify the conflict target.\n     */\n    columns(columns) {\n        const columnNodes = columns.map(ColumnNode.create);\n        return new OnConflictBuilder({\n            ...this.#props,\n            onConflictNode: OnConflictNode.cloneWith(this.#props.onConflictNode, {\n                columns: this.#props.onConflictNode.columns\n                    ? freeze([...this.#props.onConflictNode.columns, ...columnNodes])\n                    : freeze(columnNodes),\n            }),\n        });\n    }\n    /**\n     * Specify a specific constraint by name as the conflict target.\n     *\n     * Also see the {@link column}, {@link columns} and {@link expression}\n     * methods for alternative ways to specify the conflict target.\n     */\n    constraint(constraintName) {\n        return new OnConflictBuilder({\n            ...this.#props,\n            onConflictNode: OnConflictNode.cloneWith(this.#props.onConflictNode, {\n                constraint: IdentifierNode.create(constraintName),\n            }),\n        });\n    }\n    /**\n     * Specify an expression as the conflict target.\n     *\n     * This can be used if the unique index is an expression index.\n     *\n     * Also see the {@link column}, {@link columns} and {@link constraint}\n     * methods for alternative ways to specify the conflict target.\n     */\n    expression(expression) {\n        return new OnConflictBuilder({\n            ...this.#props,\n            onConflictNode: OnConflictNode.cloneWith(this.#props.onConflictNode, {\n                indexExpression: expression.toOperationNode(),\n            }),\n        });\n    }\n    where(...args) {\n        return new OnConflictBuilder({\n            ...this.#props,\n            onConflictNode: OnConflictNode.cloneWithIndexWhere(this.#props.onConflictNode, parseValueBinaryOperationOrExpression(args)),\n        });\n    }\n    whereRef(lhs, op, rhs) {\n        return new OnConflictBuilder({\n            ...this.#props,\n            onConflictNode: OnConflictNode.cloneWithIndexWhere(this.#props.onConflictNode, parseReferentialBinaryOperation(lhs, op, rhs)),\n        });\n    }\n    clearWhere() {\n        return new OnConflictBuilder({\n            ...this.#props,\n            onConflictNode: OnConflictNode.cloneWithoutIndexWhere(this.#props.onConflictNode),\n        });\n    }\n    /**\n     * Adds the \"do nothing\" conflict action.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * const id = 1\n     * const first_name = 'John'\n     *\n     * await db\n     *   .insertInto('person')\n     *   .values({\u00A0first_name, id })\n     *   .onConflict((oc) => oc\n     *     .column('id')\n     *     .doNothing()\n     *   )\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * insert into \"person\" (\"first_name\", \"id\")\n     * values ($1, $2)\n     * on conflict (\"id\") do nothing\n     * ```\n     */\n    doNothing() {\n        return new OnConflictDoNothingBuilder({\n            ...this.#props,\n            onConflictNode: OnConflictNode.cloneWith(this.#props.onConflictNode, {\n                doNothing: true,\n            }),\n        });\n    }\n    /**\n     * Adds the \"do update set\" conflict action.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * const id = 1\n     * const first_name = 'John'\n     *\n     * await db\n     *   .insertInto('person')\n     *   .values({\u00A0first_name, id })\n     *   .onConflict((oc) => oc\n     *     .column('id')\n     *     .doUpdateSet({ first_name })\n     *   )\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * insert into \"person\" (\"first_name\", \"id\")\n     * values ($1, $2)\n     * on conflict (\"id\")\n     * do update set \"first_name\" = $3\n     * ```\n     *\n     * In the next example we use the `ref` method to reference\n     * columns of the virtual table `excluded` in a type-safe way\n     * to create an upsert operation:\n     *\n     * ```ts\n     * import type { NewPerson } from 'type-editor' // imaginary module\n     *\n     * async function upsertPerson(person: NewPerson): Promise<void> {\n     *   await db.insertInto('person')\n     *     .values(person)\n     *     .onConflict((oc) => oc\n     *       .column('id')\n     *       .doUpdateSet((eb) => ({\n     *         first_name: eb.ref('excluded.first_name'),\n     *         last_name: eb.ref('excluded.last_name')\n     *       })\n     *     )\n     *   )\n     *   .execute()\n     * }\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * insert into \"person\" (\"first_name\", \"last_name\")\n     * values ($1, $2)\n     * on conflict (\"id\")\n     * do update set\n     *  \"first_name\" = excluded.\"first_name\",\n     *  \"last_name\" = excluded.\"last_name\"\n     * ```\n     */\n    doUpdateSet(update) {\n        return new OnConflictUpdateBuilder({\n            ...this.#props,\n            onConflictNode: OnConflictNode.cloneWith(this.#props.onConflictNode, {\n                updates: parseUpdateObjectExpression(update),\n            }),\n        });\n    }\n    /**\n     * Simply calls the provided function passing `this` as the only argument. `$call` returns\n     * what the provided function returns.\n     */\n    $call(func) {\n        return func(this);\n    }\n}\nexport class OnConflictDoNothingBuilder {\n    #props;\n    constructor(props) {\n        this.#props = freeze(props);\n    }\n    toOperationNode() {\n        return this.#props.onConflictNode;\n    }\n}\nexport class OnConflictUpdateBuilder {\n    #props;\n    constructor(props) {\n        this.#props = freeze(props);\n    }\n    where(...args) {\n        return new OnConflictUpdateBuilder({\n            ...this.#props,\n            onConflictNode: OnConflictNode.cloneWithUpdateWhere(this.#props.onConflictNode, parseValueBinaryOperationOrExpression(args)),\n        });\n    }\n    /**\n     * Specify a where condition for the update operation.\n     *\n     * See {@link WhereInterface.whereRef} for more info.\n     */\n    whereRef(lhs, op, rhs) {\n        return new OnConflictUpdateBuilder({\n            ...this.#props,\n            onConflictNode: OnConflictNode.cloneWithUpdateWhere(this.#props.onConflictNode, parseReferentialBinaryOperation(lhs, op, rhs)),\n        });\n    }\n    clearWhere() {\n        return new OnConflictUpdateBuilder({\n            ...this.#props,\n            onConflictNode: OnConflictNode.cloneWithoutUpdateWhere(this.#props.onConflictNode),\n        });\n    }\n    /**\n     * Simply calls the provided function passing `this` as the only argument. `$call` returns\n     * what the provided function returns.\n     */\n    $call(func) {\n        return func(this);\n    }\n    toOperationNode() {\n        return this.#props.onConflictNode;\n    }\n}\n", "/// <reference types=\"./top-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const TopNode = freeze({\n    is(node) {\n        return node.kind === 'TopNode';\n    },\n    create(expression, modifiers) {\n        return freeze({\n            kind: 'TopNode',\n            expression,\n            modifiers,\n        });\n    },\n});\n", "/// <reference types=\"./top-parser.d.ts\" />\nimport { TopNode } from '../operation-node/top-node.js';\nimport { isBigInt, isNumber, isUndefined } from '../util/object-utils.js';\nexport function parseTop(expression, modifiers) {\n    if (!isNumber(expression) && !isBigInt(expression)) {\n        throw new Error(`Invalid top expression: ${expression}`);\n    }\n    if (!isUndefined(modifiers) && !isTopModifiers(modifiers)) {\n        throw new Error(`Invalid top modifiers: ${modifiers}`);\n    }\n    return TopNode.create(expression, modifiers);\n}\nfunction isTopModifiers(modifiers) {\n    return (modifiers === 'percent' ||\n        modifiers === 'with ties' ||\n        modifiers === 'percent with ties');\n}\n", "/// <reference types=\"./or-action-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const OrActionNode = freeze({\n    is(node) {\n        return node.kind === 'OrActionNode';\n    },\n    create(action) {\n        return freeze({\n            kind: 'OrActionNode',\n            action,\n        });\n    },\n});\n", "/// <reference types=\"./insert-query-builder.d.ts\" />\nimport { parseSelectArg, parseSelectAll, } from '../parser/select-parser.js';\nimport { parseInsertExpression, } from '../parser/insert-values-parser.js';\nimport { InsertQueryNode } from '../operation-node/insert-query-node.js';\nimport { QueryNode } from '../operation-node/query-node.js';\nimport { parseUpdateObjectExpression, } from '../parser/update-set-parser.js';\nimport { freeze } from '../util/object-utils.js';\nimport { OnDuplicateKeyNode } from '../operation-node/on-duplicate-key-node.js';\nimport { InsertResult } from './insert-result.js';\nimport { isNoResultErrorConstructor, NoResultError, } from './no-result-error.js';\nimport { parseExpression, } from '../parser/expression-parser.js';\nimport { ColumnNode } from '../operation-node/column-node.js';\nimport { OnConflictBuilder, } from './on-conflict-builder.js';\nimport { OnConflictNode } from '../operation-node/on-conflict-node.js';\nimport { parseTop } from '../parser/top-parser.js';\nimport { OrActionNode } from '../operation-node/or-action-node.js';\nexport class InsertQueryBuilder {\n    #props;\n    constructor(props) {\n        this.#props = freeze(props);\n    }\n    /**\n     * Sets the values to insert for an {@link Kysely.insertInto | insert} query.\n     *\n     * This method takes an object whose keys are column names and values are\n     * values to insert. In addition to the column's type, the values can be\n     * raw {@link sql} snippets or select queries.\n     *\n     * You must provide all fields you haven't explicitly marked as nullable\n     * or optional using {@link Generated} or {@link ColumnType}.\n     *\n     * The return value of an `insert` query is an instance of {@link InsertResult}. The\n     * {@link InsertResult.insertId | insertId} field holds the auto incremented primary\n     * key if the database returned one.\n     *\n     * On PostgreSQL and some other dialects, you need to call `returning` to get\n     * something out of the query.\n     *\n     * Also see the {@link expression} method for inserting the result of a select\n     * query or any other expression.\n     *\n     * ### Examples\n     *\n     * <!-- siteExample(\"insert\", \"Single row\", 10) -->\n     *\n     * Insert a single row:\n     *\n     * ```ts\n     * const result = await db\n     *   .insertInto('person')\n     *   .values({\n     *     first_name: 'Jennifer',\n     *     last_name: 'Aniston',\n     *     age: 40\n     *   })\n     *   .executeTakeFirst()\n     *\n     * // `insertId` is only available on dialects that\n     * // automatically return the id of the inserted row\n     * // such as MySQL and SQLite. On PostgreSQL, for example,\n     * // you need to add a `returning` clause to the query to\n     * // get anything out. See the \"returning data\" example.\n     * console.log(result.insertId)\n     * ```\n     *\n     * The generated SQL (MySQL):\n     *\n     * ```sql\n     * insert into `person` (`first_name`, `last_name`, `age`) values (?, ?, ?)\n     * ```\n     *\n     * <!-- siteExample(\"insert\", \"Multiple rows\", 20) -->\n     *\n     * On dialects that support it (for example PostgreSQL) you can insert multiple\n     * rows by providing an array. Note that the return value is once again very\n     * dialect-specific. Some databases may only return the id of the *last* inserted\n     * row and some return nothing at all unless you call `returning`.\n     *\n     * ```ts\n     * await db\n     *   .insertInto('person')\n     *   .values([{\n     *     first_name: 'Jennifer',\n     *     last_name: 'Aniston',\n     *     age: 40,\n     *   }, {\n     *     first_name: 'Arnold',\n     *     last_name: 'Schwarzenegger',\n     *     age: 70,\n     *   }])\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * insert into \"person\" (\"first_name\", \"last_name\", \"age\") values (($1, $2, $3), ($4, $5, $6))\n     * ```\n     *\n     * <!-- siteExample(\"insert\", \"Returning data\", 30) -->\n     *\n     * On supported dialects like PostgreSQL you need to chain `returning` to the query to get\n     * the inserted row's columns (or any other expression) as the return value. `returning`\n     * works just like `select`. Refer to `select` method's examples and documentation for\n     * more info.\n     *\n     * ```ts\n     * const result = await db\n     *   .insertInto('person')\n     *   .values({\n     *     first_name: 'Jennifer',\n     *     last_name: 'Aniston',\n     *     age: 40,\n     *   })\n     *   .returning(['id', 'first_name as name'])\n     *   .executeTakeFirstOrThrow()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * insert into \"person\" (\"first_name\", \"last_name\", \"age\") values ($1, $2, $3) returning \"id\", \"first_name\" as \"name\"\n     * ```\n     *\n     * <!-- siteExample(\"insert\", \"Complex values\", 40) -->\n     *\n     * In addition to primitives, the values can also be arbitrary expressions.\n     * You can build the expressions by using a callback and calling the methods\n     * on the expression builder passed to it:\n     *\n     * ```ts\n     * import { sql } from 'kysely'\n     *\n     * const ani = \"Ani\"\n     * const ston = \"ston\"\n     *\n     * const result = await db\n     *   .insertInto('person')\n     *   .values(({ ref, selectFrom, fn }) => ({\n     *     first_name: 'Jennifer',\n     *     last_name: sql<string>`concat(${ani}, ${ston})`,\n     *     middle_name: ref('first_name'),\n     *     age: selectFrom('person')\n     *       .select(fn.avg<number>('age').as('avg_age')),\n     *   }))\n     *   .executeTakeFirst()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * insert into \"person\" (\n     *   \"first_name\",\n     *   \"last_name\",\n     *   \"middle_name\",\n     *   \"age\"\n     * )\n     * values (\n     *   $1,\n     *   concat($2, $3),\n     *   \"first_name\",\n     *   (select avg(\"age\") as \"avg_age\" from \"person\")\n     * )\n     * ```\n     *\n     * You can also use the callback version of subqueries or raw expressions:\n     *\n     * ```ts\n     * await db.with('jennifer', (db) => db\n     *   .selectFrom('person')\n     *   .where('first_name', '=', 'Jennifer')\n     *   .select(['id', 'first_name', 'gender'])\n     *   .limit(1)\n     * ).insertInto('pet').values((eb) => ({\n     *   owner_id: eb.selectFrom('jennifer').select('id'),\n     *   name: eb.selectFrom('jennifer').select('first_name'),\n     *   species: 'cat',\n     * }))\n     * .execute()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * with \"jennifer\" as (\n     *   select \"id\", \"first_name\", \"gender\"\n     *   from \"person\"\n     *   where \"first_name\" = $1\n     *   limit $2\n     * )\n     * insert into \"pet\" (\"owner_id\", \"name\", \"species\")\n     * values (\n     *  (select \"id\" from \"jennifer\"),\n     *  (select \"first_name\" from \"jennifer\"),\n     *  $3\n     * )\n     * ```\n     */\n    values(insert) {\n        const [columns, values] = parseInsertExpression(insert);\n        return new InsertQueryBuilder({\n            ...this.#props,\n            queryNode: InsertQueryNode.cloneWith(this.#props.queryNode, {\n                columns,\n                values,\n            }),\n        });\n    }\n    /**\n     * Sets the columns to insert.\n     *\n     * The {@link values} method sets both the columns and the values and this method\n     * is not needed. But if you are using the {@link expression} method, you can use\n     * this method to set the columns to insert.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.insertInto('person')\n     *   .columns(['first_name'])\n     *   .expression((eb) => eb.selectFrom('pet').select('pet.name'))\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * insert into \"person\" (\"first_name\")\n     * select \"pet\".\"name\" from \"pet\"\n     * ```\n     */\n    columns(columns) {\n        return new InsertQueryBuilder({\n            ...this.#props,\n            queryNode: InsertQueryNode.cloneWith(this.#props.queryNode, {\n                columns: freeze(columns.map(ColumnNode.create)),\n            }),\n        });\n    }\n    /**\n     * Insert an arbitrary expression. For example the result of a select query.\n     *\n     * ### Examples\n     *\n     * <!-- siteExample(\"insert\", \"Insert subquery\", 50) -->\n     *\n     * You can create an `INSERT INTO SELECT FROM` query using the `expression` method.\n     * This API doesn't follow our WYSIWYG principles and might be a bit difficult to\n     * remember. The reasons for this design stem from implementation difficulties.\n     *\n     * ```ts\n     * const result = await db.insertInto('person')\n     *   .columns(['first_name', 'last_name', 'age'])\n     *   .expression((eb) => eb\n     *     .selectFrom('pet')\n     *     .select((eb) => [\n     *       'pet.name',\n     *       eb.val('Petson').as('last_name'),\n     *       eb.lit(7).as('age'),\n     *     ])\n     *   )\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * insert into \"person\" (\"first_name\", \"last_name\", \"age\")\n     * select \"pet\".\"name\", $1 as \"last_name\", 7 as \"age from \"pet\"\n     * ```\n     */\n    expression(expression) {\n        return new InsertQueryBuilder({\n            ...this.#props,\n            queryNode: InsertQueryNode.cloneWith(this.#props.queryNode, {\n                values: parseExpression(expression),\n            }),\n        });\n    }\n    /**\n     * Creates an `insert into \"person\" default values` query.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.insertInto('person')\n     *   .defaultValues()\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * insert into \"person\" default values\n     * ```\n     */\n    defaultValues() {\n        return new InsertQueryBuilder({\n            ...this.#props,\n            queryNode: InsertQueryNode.cloneWith(this.#props.queryNode, {\n                defaultValues: true,\n            }),\n        });\n    }\n    /**\n     * This can be used to add any additional SQL to the end of the query.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * import { sql } from 'kysely'\n     *\n     * await db.insertInto('person')\n     *   .values({\n     *     first_name: 'John',\n     *     last_name: 'Doe',\n     *     gender: 'male',\n     *   })\n     *   .modifyEnd(sql`-- This is a comment`)\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (MySQL):\n     *\n     * ```sql\n     * insert into `person` (\"first_name\", \"last_name\", \"gender\")\n     * values (?, ?, ?) -- This is a comment\n     * ```\n     */\n    modifyEnd(modifier) {\n        return new InsertQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithEndModifier(this.#props.queryNode, modifier.toOperationNode()),\n        });\n    }\n    /**\n     * Changes an `insert into` query to an `insert ignore into` query.\n     *\n     * This is only supported by some dialects like MySQL.\n     *\n     * To avoid a footgun, when invoked with the SQLite dialect, this method will\n     * be handled like {@link orIgnore}. See also, {@link orAbort}, {@link orFail},\n     * {@link orReplace}, and {@link orRollback}.\n     *\n     * If you use the ignore modifier, ignorable errors that occur while executing the\n     * insert statement are ignored. For example, without ignore, a row that duplicates\n     * an existing unique index or primary key value in the table causes a duplicate-key\n     * error and the statement is aborted. With ignore, the row is discarded and no error\n     * occurs.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.insertInto('person')\n     *   .ignore()\n     *   .values({\n     *     first_name: 'John',\n     *     last_name: 'Doe',\n     *     gender: 'female',\n     *   })\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (MySQL):\n     *\n     * ```sql\n     * insert ignore into `person` (`first_name`, `last_name`, `gender`) values (?, ?, ?)\n     * ```\n     *\n     * The generated SQL (SQLite):\n     *\n     * ```sql\n     * insert or ignore into \"person\" (\"first_name\", \"last_name\", \"gender\") values (?, ?, ?)\n     * ```\n     */\n    ignore() {\n        return new InsertQueryBuilder({\n            ...this.#props,\n            queryNode: InsertQueryNode.cloneWith(this.#props.queryNode, {\n                orAction: OrActionNode.create('ignore'),\n            }),\n        });\n    }\n    /**\n     * Changes an `insert into` query to an `insert or ignore into` query.\n     *\n     * This is only supported by some dialects like SQLite.\n     *\n     * To avoid a footgun, when invoked with the MySQL dialect, this method will\n     * be handled like {@link ignore}.\n     *\n     * See also, {@link orAbort}, {@link orFail}, {@link orReplace}, and {@link orRollback}.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.insertInto('person')\n     *   .orIgnore()\n     *   .values({\n     *     first_name: 'John',\n     *     last_name: 'Doe',\n     *     gender: 'female',\n     *   })\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (SQLite):\n     *\n     * ```sql\n     * insert or ignore into \"person\" (\"first_name\", \"last_name\", \"gender\") values (?, ?, ?)\n     * ```\n     *\n     * The generated SQL (MySQL):\n     *\n     * ```sql\n     * insert ignore into `person` (`first_name`, `last_name`, `gender`) values (?, ?, ?)\n     * ```\n     */\n    orIgnore() {\n        return new InsertQueryBuilder({\n            ...this.#props,\n            queryNode: InsertQueryNode.cloneWith(this.#props.queryNode, {\n                orAction: OrActionNode.create('ignore'),\n            }),\n        });\n    }\n    /**\n     * Changes an `insert into` query to an `insert or abort into` query.\n     *\n     * This is only supported by some dialects like SQLite.\n     *\n     * See also, {@link orIgnore}, {@link orFail}, {@link orReplace}, and {@link orRollback}.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.insertInto('person')\n     *   .orAbort()\n     *   .values({\n     *     first_name: 'John',\n     *     last_name: 'Doe',\n     *     gender: 'female',\n     *   })\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (SQLite):\n     *\n     * ```sql\n     * insert or abort into \"person\" (\"first_name\", \"last_name\", \"gender\") values (?, ?, ?)\n     * ```\n     */\n    orAbort() {\n        return new InsertQueryBuilder({\n            ...this.#props,\n            queryNode: InsertQueryNode.cloneWith(this.#props.queryNode, {\n                orAction: OrActionNode.create('abort'),\n            }),\n        });\n    }\n    /**\n     * Changes an `insert into` query to an `insert or fail into` query.\n     *\n     * This is only supported by some dialects like SQLite.\n     *\n     * See also, {@link orIgnore}, {@link orAbort}, {@link orReplace}, and {@link orRollback}.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.insertInto('person')\n     *   .orFail()\n     *   .values({\n     *     first_name: 'John',\n     *     last_name: 'Doe',\n     *     gender: 'female',\n     *   })\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (SQLite):\n     *\n     * ```sql\n     * insert or fail into \"person\" (\"first_name\", \"last_name\", \"gender\") values (?, ?, ?)\n     * ```\n     */\n    orFail() {\n        return new InsertQueryBuilder({\n            ...this.#props,\n            queryNode: InsertQueryNode.cloneWith(this.#props.queryNode, {\n                orAction: OrActionNode.create('fail'),\n            }),\n        });\n    }\n    /**\n     * Changes an `insert into` query to an `insert or replace into` query.\n     *\n     * This is only supported by some dialects like SQLite.\n     *\n     * You can also use {@link Kysely.replaceInto} to achieve the same result.\n     *\n     * See also, {@link orIgnore}, {@link orAbort}, {@link orFail}, and {@link orRollback}.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.insertInto('person')\n     *   .orReplace()\n     *   .values({\n     *     first_name: 'John',\n     *     last_name: 'Doe',\n     *     gender: 'female',\n     *   })\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (SQLite):\n     *\n     * ```sql\n     * insert or replace into \"person\" (\"first_name\", \"last_name\", \"gender\") values (?, ?, ?)\n     * ```\n     */\n    orReplace() {\n        return new InsertQueryBuilder({\n            ...this.#props,\n            queryNode: InsertQueryNode.cloneWith(this.#props.queryNode, {\n                orAction: OrActionNode.create('replace'),\n            }),\n        });\n    }\n    /**\n     * Changes an `insert into` query to an `insert or rollback into` query.\n     *\n     * This is only supported by some dialects like SQLite.\n     *\n     * See also, {@link orIgnore}, {@link orAbort}, {@link orFail}, and {@link orReplace}.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.insertInto('person')\n     *   .orRollback()\n     *   .values({\n     *     first_name: 'John',\n     *     last_name: 'Doe',\n     *     gender: 'female',\n     *   })\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (SQLite):\n     *\n     * ```sql\n     * insert or rollback into \"person\" (\"first_name\", \"last_name\", \"gender\") values (?, ?, ?)\n     * ```\n     */\n    orRollback() {\n        return new InsertQueryBuilder({\n            ...this.#props,\n            queryNode: InsertQueryNode.cloneWith(this.#props.queryNode, {\n                orAction: OrActionNode.create('rollback'),\n            }),\n        });\n    }\n    /**\n     * Changes an `insert into` query to an `insert top into` query.\n     *\n     * `top` clause is only supported by some dialects like MS SQL Server.\n     *\n     * ### Examples\n     *\n     * Insert the first 5 rows:\n     *\n     * ```ts\n     * import { sql } from 'kysely'\n     *\n     * await db.insertInto('person')\n     *   .top(5)\n     *   .columns(['first_name', 'gender'])\n     *   .expression(\n     *     (eb) => eb.selectFrom('pet').select(['name', sql.lit('other').as('gender')])\n     *   )\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (MS SQL Server):\n     *\n     * ```sql\n     * insert top(5) into \"person\" (\"first_name\", \"gender\") select \"name\", 'other' as \"gender\" from \"pet\"\n     * ```\n     *\n     * Insert the first 50 percent of rows:\n     *\n     * ```ts\n     * import { sql } from 'kysely'\n     *\n     * await db.insertInto('person')\n     *   .top(50, 'percent')\n     *   .columns(['first_name', 'gender'])\n     *   .expression(\n     *     (eb) => eb.selectFrom('pet').select(['name', sql.lit('other').as('gender')])\n     *   )\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (MS SQL Server):\n     *\n     * ```sql\n     * insert top(50) percent into \"person\" (\"first_name\", \"gender\") select \"name\", 'other' as \"gender\" from \"pet\"\n     * ```\n     */\n    top(expression, modifiers) {\n        return new InsertQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithTop(this.#props.queryNode, parseTop(expression, modifiers)),\n        });\n    }\n    /**\n     * Adds an `on conflict` clause to the query.\n     *\n     * `on conflict` is only supported by some dialects like PostgreSQL and SQLite. On MySQL\n     * you can use {@link ignore} and {@link onDuplicateKeyUpdate} to achieve similar results.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db\n     *   .insertInto('pet')\n     *   .values({\n     *     name: 'Catto',\n     *     species: 'cat',\n     *     owner_id: 3,\n     *   })\n     *   .onConflict((oc) => oc\n     *     .column('name')\n     *     .doUpdateSet({ species: 'hamster' })\n     *   )\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * insert into \"pet\" (\"name\", \"species\", \"owner_id\")\n     * values ($1, $2, $3)\n     * on conflict (\"name\")\n     * do update set \"species\" = $4\n     * ```\n     *\n     * You can provide the name of the constraint instead of a column name:\n     *\n     * ```ts\n     * await db\n     *   .insertInto('pet')\n     *   .values({\n     *     name: 'Catto',\n     *     species: 'cat',\n     *     owner_id: 3,\n     *   })\n     *   .onConflict((oc) => oc\n     *     .constraint('pet_name_key')\n     *     .doUpdateSet({ species: 'hamster' })\n     *   )\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * insert into \"pet\" (\"name\", \"species\", \"owner_id\")\n     * values ($1, $2, $3)\n     * on conflict on constraint \"pet_name_key\"\n     * do update set \"species\" = $4\n     * ```\n     *\n     * You can also specify an expression as the conflict target in case\n     * the unique index is an expression index:\n     *\n     * ```ts\n     * import { sql } from 'kysely'\n     *\n     * await db\n     *   .insertInto('pet')\n     *   .values({\n     *     name: 'Catto',\n     *     species: 'cat',\n     *     owner_id: 3,\n     *   })\n     *   .onConflict((oc) => oc\n     *     .expression(sql<string>`lower(name)`)\n     *     .doUpdateSet({ species: 'hamster' })\n     *   )\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * insert into \"pet\" (\"name\", \"species\", \"owner_id\")\n     * values ($1, $2, $3)\n     * on conflict (lower(name))\n     * do update set \"species\" = $4\n     * ```\n     *\n     * You can add a filter for the update statement like this:\n     *\n     * ```ts\n     * await db\n     *   .insertInto('pet')\n     *   .values({\n     *     name: 'Catto',\n     *     species: 'cat',\n     *     owner_id: 3,\n     *   })\n     *   .onConflict((oc) => oc\n     *     .column('name')\n     *     .doUpdateSet({ species: 'hamster' })\n     *     .where('excluded.name', '!=', 'Catto')\n     *   )\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * insert into \"pet\" (\"name\", \"species\", \"owner_id\")\n     * values ($1, $2, $3)\n     * on conflict (\"name\")\n     * do update set \"species\" = $4\n     * where \"excluded\".\"name\" != $5\n     * ```\n     *\n     * You can create an `on conflict do nothing` clauses like this:\n     *\n     * ```ts\n     * await db\n     *   .insertInto('pet')\n     *   .values({\n     *     name: 'Catto',\n     *     species: 'cat',\n     *     owner_id: 3,\n     *   })\n     *   .onConflict((oc) => oc\n     *     .column('name')\n     *     .doNothing()\n     *   )\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * insert into \"pet\" (\"name\", \"species\", \"owner_id\")\n     * values ($1, $2, $3)\n     * on conflict (\"name\") do nothing\n     * ```\n     *\n     * You can refer to the columns of the virtual `excluded` table\n     * in a type-safe way using a callback and the `ref` method of\n     * `ExpressionBuilder`:\n     *\n     * ```ts\n     * await db.insertInto('person')\n     *   .values({\n     *     id: 1,\n     *     first_name: 'John',\n     *     last_name: 'Doe',\n     *     gender: 'male',\n     *   })\n     *   .onConflict(oc => oc\n     *     .column('id')\n     *     .doUpdateSet({\n     *       first_name: (eb) => eb.ref('excluded.first_name'),\n     *       last_name: (eb) => eb.ref('excluded.last_name')\n     *     })\n     *   )\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * insert into \"person\" (\"id\", \"first_name\", \"last_name\", \"gender\")\n     * values ($1, $2, $3, $4)\n     * on conflict (\"id\")\n     * do update set\n     *  \"first_name\" = \"excluded\".\"first_name\",\n     *  \"last_name\" = \"excluded\".\"last_name\"\n     * ```\n     */\n    onConflict(callback) {\n        return new InsertQueryBuilder({\n            ...this.#props,\n            queryNode: InsertQueryNode.cloneWith(this.#props.queryNode, {\n                onConflict: callback(new OnConflictBuilder({\n                    onConflictNode: OnConflictNode.create(),\n                })).toOperationNode(),\n            }),\n        });\n    }\n    /**\n     * Adds `on duplicate key update` to the query.\n     *\n     * If you specify `on duplicate key update`, and a row is inserted that would cause\n     * a duplicate value in a unique index or primary key, an update of the old row occurs.\n     *\n     * This is only implemented by some dialects like MySQL. On most dialects you should\n     * use {@link onConflict} instead.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db\n     *   .insertInto('person')\n     *   .values({\n     *     id: 1,\n     *     first_name: 'John',\n     *     last_name: 'Doe',\n     *     gender: 'male',\n     *   })\n     *   .onDuplicateKeyUpdate({ updated_at: new Date().toISOString() })\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (MySQL):\n     *\n     * ```sql\n     * insert into `person` (`id`, `first_name`, `last_name`, `gender`)\n     * values (?, ?, ?, ?)\n     * on duplicate key update `updated_at` = ?\n     * ```\n     */\n    onDuplicateKeyUpdate(update) {\n        return new InsertQueryBuilder({\n            ...this.#props,\n            queryNode: InsertQueryNode.cloneWith(this.#props.queryNode, {\n                onDuplicateKey: OnDuplicateKeyNode.create(parseUpdateObjectExpression(update)),\n            }),\n        });\n    }\n    returning(selection) {\n        return new InsertQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithReturning(this.#props.queryNode, parseSelectArg(selection)),\n        });\n    }\n    returningAll() {\n        return new InsertQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithReturning(this.#props.queryNode, parseSelectAll()),\n        });\n    }\n    output(args) {\n        return new InsertQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithOutput(this.#props.queryNode, parseSelectArg(args)),\n        });\n    }\n    outputAll(table) {\n        return new InsertQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithOutput(this.#props.queryNode, parseSelectAll(table)),\n        });\n    }\n    /**\n     * Clears all `returning` clauses from the query.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.insertInto('person')\n     *   .values({ first_name: 'James', last_name: 'Smith', gender: 'male' })\n     *   .returning(['first_name'])\n     *   .clearReturning()\n     *   .execute()\n     * ```\n     *\n     * The generated SQL(PostgreSQL):\n     *\n     * ```sql\n     * insert into \"person\" (\"first_name\", \"last_name\", \"gender\") values ($1, $2, $3)\n     * ```\n     */\n    clearReturning() {\n        return new InsertQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithoutReturning(this.#props.queryNode),\n        });\n    }\n    /**\n     * Simply calls the provided function passing `this` as the only argument. `$call` returns\n     * what the provided function returns.\n     *\n     * If you want to conditionally call a method on `this`, see\n     * the {@link $if} method.\n     *\n     * ### Examples\n     *\n     * The next example uses a helper function `log` to log a query:\n     *\n     * ```ts\n     * import type { Compilable } from 'kysely'\n     *\n     * function log<T extends Compilable>(qb: T): T {\n     *   console.log(qb.compile())\n     *   return qb\n     * }\n     *\n     * await db.insertInto('person')\n     *   .values({ first_name: 'John', last_name: 'Doe', gender: 'male' })\n     *   .$call(log)\n     *   .execute()\n     * ```\n     */\n    $call(func) {\n        return func(this);\n    }\n    /**\n     * Call `func(this)` if `condition` is true.\n     *\n     * This method is especially handy with optional selects. Any `returning` or `returningAll`\n     * method calls add columns as optional fields to the output type when called inside\n     * the `func` callback. This is because we can't know if those selections were actually\n     * made before running the code.\n     *\n     * You can also call any other methods inside the callback.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * import type { NewPerson } from 'type-editor' // imaginary module\n     *\n     * async function insertPerson(values: NewPerson, returnLastName: boolean) {\n     *   return await db\n     *     .insertInto('person')\n     *     .values(values)\n     *     .returning(['id', 'first_name'])\n     *     .$if(returnLastName, (qb) => qb.returning('last_name'))\n     *     .executeTakeFirstOrThrow()\n     * }\n     * ```\n     *\n     * Any selections added inside the `if` callback will be added as optional fields to the\n     * output type since we can't know if the selections were actually made before running\n     * the code. In the example above the return type of the `insertPerson` function is:\n     *\n     * ```ts\n     * Promise<{\n     *   id: number\n     *   first_name: string\n     *   last_name?: string\n     * }>\n     * ```\n     */\n    $if(condition, func) {\n        if (condition) {\n            return func(this);\n        }\n        return new InsertQueryBuilder({\n            ...this.#props,\n        });\n    }\n    /**\n     * Change the output type of the query.\n     *\n     * This method call doesn't change the SQL in any way. This methods simply\n     * returns a copy of this `InsertQueryBuilder` with a new output type.\n     */\n    $castTo() {\n        return new InsertQueryBuilder(this.#props);\n    }\n    /**\n     * Narrows (parts of) the output type of the query.\n     *\n     * Kysely tries to be as type-safe as possible, but in some cases we have to make\n     * compromises for better maintainability and compilation performance. At present,\n     * Kysely doesn't narrow the output type of the query based on {@link values} input\n     * when using {@link returning} or {@link returningAll}.\n     *\n     * This utility method is very useful for these situations, as it removes unncessary\n     * runtime assertion/guard code. Its input type is limited to the output type\n     * of the query, so you can't add a column that doesn't exist, or change a column's\n     * type to something that doesn't exist in its union type.\n     *\n     * ### Examples\n     *\n     * Turn this code:\n     *\n     * ```ts\n     * import type { Person } from 'type-editor' // imaginary module\n     *\n     * const person = await db.insertInto('person')\n     *   .values({\n     *     first_name: 'John',\n     *     last_name: 'Doe',\n     *     gender: 'male',\n     *     nullable_column: 'hell yeah!'\n     *   })\n     *   .returningAll()\n     *   .executeTakeFirstOrThrow()\n     *\n     * if (isWithNoNullValue(person)) {\n     *   functionThatExpectsPersonWithNonNullValue(person)\n     * }\n     *\n     * function isWithNoNullValue(person: Person): person is Person & { nullable_column: string } {\n     *   return person.nullable_column != null\n     * }\n     * ```\n     *\n     * Into this:\n     *\n     * ```ts\n     * import type { NotNull } from 'kysely'\n     *\n     * const person = await db.insertInto('person')\n     *   .values({\n     *     first_name: 'John',\n     *     last_name: 'Doe',\n     *     gender: 'male',\n     *     nullable_column: 'hell yeah!'\n     *   })\n     *   .returningAll()\n     *   .$narrowType<{ nullable_column: NotNull }>()\n     *   .executeTakeFirstOrThrow()\n     *\n     * functionThatExpectsPersonWithNonNullValue(person)\n     * ```\n     */\n    $narrowType() {\n        return new InsertQueryBuilder(this.#props);\n    }\n    /**\n     * Asserts that query's output row type equals the given type `T`.\n     *\n     * This method can be used to simplify excessively complex types to make TypeScript happy\n     * and much faster.\n     *\n     * Kysely uses complex type magic to achieve its type safety. This complexity is sometimes too much\n     * for TypeScript and you get errors like this:\n     *\n     * ```\n     * error TS2589: Type instantiation is excessively deep and possibly infinite.\n     * ```\n     *\n     * In these case you can often use this method to help TypeScript a little bit. When you use this\n     * method to assert the output type of a query, Kysely can drop the complex output type that\n     * consists of multiple nested helper types and replace it with the simple asserted type.\n     *\n     * Using this method doesn't reduce type safety at all. You have to pass in a type that is\n     * structurally equal to the current type.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * import type { NewPerson, NewPet, Species } from 'type-editor' // imaginary module\n     *\n     * async function insertPersonAndPet(person: NewPerson, pet: Omit<NewPet, 'owner_id'>) {\n     *   return await db\n     *     .with('new_person', (qb) => qb\n     *       .insertInto('person')\n     *       .values(person)\n     *       .returning('id')\n     *       .$assertType<{ id: number }>()\n     *     )\n     *     .with('new_pet', (qb) => qb\n     *       .insertInto('pet')\n     *       .values((eb) => ({\n     *         owner_id: eb.selectFrom('new_person').select('id'),\n     *         ...pet\n     *       }))\n     *       .returning(['name as pet_name', 'species'])\n     *       .$assertType<{ pet_name: string, species: Species }>()\n     *     )\n     *     .selectFrom(['new_person', 'new_pet'])\n     *     .selectAll()\n     *     .executeTakeFirstOrThrow()\n     * }\n     * ```\n     */\n    $assertType() {\n        return new InsertQueryBuilder(this.#props);\n    }\n    /**\n     * Returns a copy of this InsertQueryBuilder instance with the given plugin installed.\n     */\n    withPlugin(plugin) {\n        return new InsertQueryBuilder({\n            ...this.#props,\n            executor: this.#props.executor.withPlugin(plugin),\n        });\n    }\n    toOperationNode() {\n        return this.#props.executor.transformQuery(this.#props.queryNode, this.#props.queryId);\n    }\n    compile() {\n        return this.#props.executor.compileQuery(this.toOperationNode(), this.#props.queryId);\n    }\n    /**\n     * Executes the query and returns an array of rows.\n     *\n     * Also see the {@link executeTakeFirst} and {@link executeTakeFirstOrThrow} methods.\n     */\n    async execute() {\n        const compiledQuery = this.compile();\n        const result = await this.#props.executor.executeQuery(compiledQuery);\n        const { adapter } = this.#props.executor;\n        const query = compiledQuery.query;\n        if ((query.returning && adapter.supportsReturning) ||\n            (query.output && adapter.supportsOutput)) {\n            return result.rows;\n        }\n        return [\n            new InsertResult(result.insertId, result.numAffectedRows ?? BigInt(0)),\n        ];\n    }\n    /**\n     * Executes the query and returns the first result or undefined if\n     * the query returned no result.\n     */\n    async executeTakeFirst() {\n        const [result] = await this.execute();\n        return result;\n    }\n    /**\n     * Executes the query and returns the first result or throws if\n     * the query returned no result.\n     *\n     * By default an instance of {@link NoResultError} is thrown, but you can\n     * provide a custom error class, or callback as the only argument to throw a different\n     * error.\n     */\n    async executeTakeFirstOrThrow(errorConstructor = NoResultError) {\n        const result = await this.executeTakeFirst();\n        if (result === undefined) {\n            const error = isNoResultErrorConstructor(errorConstructor)\n                ? new errorConstructor(this.toOperationNode())\n                : errorConstructor(this.toOperationNode());\n            throw error;\n        }\n        return result;\n    }\n    async *stream(chunkSize = 100) {\n        const compiledQuery = this.compile();\n        const stream = this.#props.executor.stream(compiledQuery, chunkSize);\n        for await (const item of stream) {\n            yield* item.rows;\n        }\n    }\n    async explain(format, options) {\n        const builder = new InsertQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithExplain(this.#props.queryNode, format, options),\n        });\n        return await builder.execute();\n    }\n}\n", "/// <reference types=\"./delete-result.d.ts\" />\nexport class DeleteResult {\n    numDeletedRows;\n    constructor(numDeletedRows) {\n        this.numDeletedRows = numDeletedRows;\n    }\n}\n", "/// <reference types=\"./limit-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const LimitNode = freeze({\n    is(node) {\n        return node.kind === 'LimitNode';\n    },\n    create(limit) {\n        return freeze({\n            kind: 'LimitNode',\n            limit,\n        });\n    },\n});\n", "/// <reference types=\"./delete-query-builder.d.ts\" />\nimport { parseJoin, } from '../parser/join-parser.js';\nimport { parseTableExpressionOrList, } from '../parser/table-parser.js';\nimport { parseSelectArg, parseSelectAll, } from '../parser/select-parser.js';\nimport { QueryNode } from '../operation-node/query-node.js';\nimport { freeze } from '../util/object-utils.js';\nimport { isNoResultErrorConstructor, NoResultError, } from './no-result-error.js';\nimport { DeleteResult } from './delete-result.js';\nimport { DeleteQueryNode } from '../operation-node/delete-query-node.js';\nimport { LimitNode } from '../operation-node/limit-node.js';\nimport { parseOrderBy, } from '../parser/order-by-parser.js';\nimport { parseValueBinaryOperationOrExpression, parseReferentialBinaryOperation, } from '../parser/binary-operation-parser.js';\nimport { parseValueExpression, } from '../parser/value-parser.js';\nimport { parseTop } from '../parser/top-parser.js';\nexport class DeleteQueryBuilder {\n    #props;\n    constructor(props) {\n        this.#props = freeze(props);\n    }\n    where(...args) {\n        return new DeleteQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithWhere(this.#props.queryNode, parseValueBinaryOperationOrExpression(args)),\n        });\n    }\n    whereRef(lhs, op, rhs) {\n        return new DeleteQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithWhere(this.#props.queryNode, parseReferentialBinaryOperation(lhs, op, rhs)),\n        });\n    }\n    clearWhere() {\n        return new DeleteQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithoutWhere(this.#props.queryNode),\n        });\n    }\n    /**\n     * Changes a `delete from` query into a `delete top from` query.\n     *\n     * `top` clause is only supported by some dialects like MS SQL Server.\n     *\n     * ### Examples\n     *\n     * Delete the first 5 rows:\n     *\n     * ```ts\n     * await db\n     *   .deleteFrom('person')\n     *   .top(5)\n     *   .where('age', '>', 18)\n     *   .executeTakeFirstOrThrow()\n     * ```\n     *\n     * The generated SQL (MS SQL Server):\n     *\n     * ```sql\n     * delete top(5) from \"person\" where \"age\" > @1\n     * ```\n     *\n     * Delete the first 50% of rows:\n     *\n     * ```ts\n     * await db\n     *   .deleteFrom('person')\n     *   .top(50, 'percent')\n     *   .where('age', '>', 18)\n     *   .executeTakeFirstOrThrow()\n     * ```\n     *\n     * The generated SQL (MS SQL Server):\n     *\n     * ```sql\n     * delete top(50) percent from \"person\" where \"age\" > @1\n     * ```\n     */\n    top(expression, modifiers) {\n        return new DeleteQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithTop(this.#props.queryNode, parseTop(expression, modifiers)),\n        });\n    }\n    using(tables) {\n        return new DeleteQueryBuilder({\n            ...this.#props,\n            queryNode: DeleteQueryNode.cloneWithUsing(this.#props.queryNode, parseTableExpressionOrList(tables)),\n        });\n    }\n    innerJoin(...args) {\n        return this.#join('InnerJoin', args);\n    }\n    leftJoin(...args) {\n        return this.#join('LeftJoin', args);\n    }\n    rightJoin(...args) {\n        return this.#join('RightJoin', args);\n    }\n    fullJoin(...args) {\n        return this.#join('FullJoin', args);\n    }\n    #join(joinType, args) {\n        return new DeleteQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithJoin(this.#props.queryNode, parseJoin(joinType, args)),\n        });\n    }\n    returning(selection) {\n        return new DeleteQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithReturning(this.#props.queryNode, parseSelectArg(selection)),\n        });\n    }\n    returningAll(table) {\n        return new DeleteQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithReturning(this.#props.queryNode, parseSelectAll(table)),\n        });\n    }\n    output(args) {\n        return new DeleteQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithOutput(this.#props.queryNode, parseSelectArg(args)),\n        });\n    }\n    outputAll(table) {\n        return new DeleteQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithOutput(this.#props.queryNode, parseSelectAll(table)),\n        });\n    }\n    /**\n     * Clears all `returning` clauses from the query.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.deleteFrom('pet')\n     *   .returningAll()\n     *   .where('name', '=', 'Max')\n     *   .clearReturning()\n     *   .execute()\n     * ```\n     *\n     * The generated SQL(PostgreSQL):\n     *\n     * ```sql\n     * delete from \"pet\" where \"name\" = \"Max\"\n     * ```\n     */\n    clearReturning() {\n        return new DeleteQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithoutReturning(this.#props.queryNode),\n        });\n    }\n    /**\n     * Clears the `limit` clause from the query.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.deleteFrom('pet')\n     *   .returningAll()\n     *   .where('name', '=', 'Max')\n     *   .limit(5)\n     *   .clearLimit()\n     *   .execute()\n     * ```\n     *\n     * The generated SQL(PostgreSQL):\n     *\n     * ```sql\n     * delete from \"pet\" where \"name\" = \"Max\" returning *\n     * ```\n     */\n    clearLimit() {\n        return new DeleteQueryBuilder({\n            ...this.#props,\n            queryNode: DeleteQueryNode.cloneWithoutLimit(this.#props.queryNode),\n        });\n    }\n    orderBy(...args) {\n        return new DeleteQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithOrderByItems(this.#props.queryNode, parseOrderBy(args)),\n        });\n    }\n    clearOrderBy() {\n        return new DeleteQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithoutOrderBy(this.#props.queryNode),\n        });\n    }\n    /**\n     * Adds a limit clause to the query.\n     *\n     * A limit clause in a delete query is only supported by some dialects\n     * like MySQL.\n     *\n     * ### Examples\n     *\n     * Delete 5 oldest items in a table:\n     *\n     * ```ts\n     * await db\n     *   .deleteFrom('pet')\n     *   .orderBy('created_at')\n     *   .limit(5)\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (MySQL):\n     *\n     * ```sql\n     * delete from `pet` order by `created_at` limit ?\n     * ```\n     */\n    limit(limit) {\n        return new DeleteQueryBuilder({\n            ...this.#props,\n            queryNode: DeleteQueryNode.cloneWithLimit(this.#props.queryNode, LimitNode.create(parseValueExpression(limit))),\n        });\n    }\n    /**\n     * This can be used to add any additional SQL to the end of the query.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * import { sql } from 'kysely'\n     *\n     * await db.deleteFrom('person')\n     *   .where('first_name', '=', 'John')\n     *   .modifyEnd(sql`-- This is a comment`)\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (MySQL):\n     *\n     * ```sql\n     * delete from `person`\n     * where `first_name` = \"John\" -- This is a comment\n     * ```\n     */\n    modifyEnd(modifier) {\n        return new DeleteQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithEndModifier(this.#props.queryNode, modifier.toOperationNode()),\n        });\n    }\n    /**\n     * Simply calls the provided function passing `this` as the only argument. `$call` returns\n     * what the provided function returns.\n     *\n     * If you want to conditionally call a method on `this`, see\n     * the {@link $if} method.\n     *\n     * ### Examples\n     *\n     * The next example uses a helper function `log` to log a query:\n     *\n     * ```ts\n     * import type { Compilable } from 'kysely'\n     *\n     * function log<T extends Compilable>(qb: T): T {\n     *   console.log(qb.compile())\n     *   return qb\n     * }\n     *\n     * await db.deleteFrom('person')\n     *   .$call(log)\n     *   .execute()\n     * ```\n     */\n    $call(func) {\n        return func(this);\n    }\n    /**\n     * Call `func(this)` if `condition` is true.\n     *\n     * This method is especially handy with optional selects. Any `returning` or `returningAll`\n     * method calls add columns as optional fields to the output type when called inside\n     * the `func` callback. This is because we can't know if those selections were actually\n     * made before running the code.\n     *\n     * You can also call any other methods inside the callback.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * async function deletePerson(id: number, returnLastName: boolean) {\n     *   return await db\n     *     .deleteFrom('person')\n     *     .where('id', '=', id)\n     *     .returning(['id', 'first_name'])\n     *     .$if(returnLastName, (qb) => qb.returning('last_name'))\n     *     .executeTakeFirstOrThrow()\n     * }\n     * ```\n     *\n     * Any selections added inside the `if` callback will be added as optional fields to the\n     * output type since we can't know if the selections were actually made before running\n     * the code. In the example above the return type of the `deletePerson` function is:\n     *\n     * ```ts\n     * Promise<{\n     *   id: number\n     *   first_name: string\n     *   last_name?: string\n     * }>\n     * ```\n     */\n    $if(condition, func) {\n        if (condition) {\n            return func(this);\n        }\n        return new DeleteQueryBuilder({\n            ...this.#props,\n        });\n    }\n    /**\n     * Change the output type of the query.\n     *\n     * This method call doesn't change the SQL in any way. This methods simply\n     * returns a copy of this `DeleteQueryBuilder` with a new output type.\n     */\n    $castTo() {\n        return new DeleteQueryBuilder(this.#props);\n    }\n    /**\n     * Narrows (parts of) the output type of the query.\n     *\n     * Kysely tries to be as type-safe as possible, but in some cases we have to make\n     * compromises for better maintainability and compilation performance. At present,\n     * Kysely doesn't narrow the output type of the query when using {@link where} and {@link returning} or {@link returningAll}.\n     *\n     * This utility method is very useful for these situations, as it removes unncessary\n     * runtime assertion/guard code. Its input type is limited to the output type\n     * of the query, so you can't add a column that doesn't exist, or change a column's\n     * type to something that doesn't exist in its union type.\n     *\n     * ### Examples\n     *\n     * Turn this code:\n     *\n     * ```ts\n     * import type { Person } from 'type-editor' // imaginary module\n     *\n     * const person = await db.deleteFrom('person')\n     *   .where('id', '=', 3)\n     *   .where('nullable_column', 'is not', null)\n     *   .returningAll()\n     *   .executeTakeFirstOrThrow()\n     *\n     * if (isWithNoNullValue(person)) {\n     *   functionThatExpectsPersonWithNonNullValue(person)\n     * }\n     *\n     * function isWithNoNullValue(person: Person): person is Person & { nullable_column: string } {\n     *   return person.nullable_column != null\n     * }\n     * ```\n     *\n     * Into this:\n     *\n     * ```ts\n     * import type { NotNull } from 'kysely'\n     *\n     * const person = await db.deleteFrom('person')\n     *   .where('id', '=', 3)\n     *   .where('nullable_column', 'is not', null)\n     *   .returningAll()\n     *   .$narrowType<{ nullable_column: NotNull }>()\n     *   .executeTakeFirstOrThrow()\n     *\n     * functionThatExpectsPersonWithNonNullValue(person)\n     * ```\n     */\n    $narrowType() {\n        return new DeleteQueryBuilder(this.#props);\n    }\n    /**\n     * Asserts that query's output row type equals the given type `T`.\n     *\n     * This method can be used to simplify excessively complex types to make TypeScript happy\n     * and much faster.\n     *\n     * Kysely uses complex type magic to achieve its type safety. This complexity is sometimes too much\n     * for TypeScript and you get errors like this:\n     *\n     * ```\n     * error TS2589: Type instantiation is excessively deep and possibly infinite.\n     * ```\n     *\n     * In these case you can often use this method to help TypeScript a little bit. When you use this\n     * method to assert the output type of a query, Kysely can drop the complex output type that\n     * consists of multiple nested helper types and replace it with the simple asserted type.\n     *\n     * Using this method doesn't reduce type safety at all. You have to pass in a type that is\n     * structurally equal to the current type.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * import type { Species } from 'type-editor' // imaginary module\n     *\n     * async function deletePersonAndPets(personId: number) {\n     *   return await db\n     *     .with('deleted_person', (qb) => qb\n     *        .deleteFrom('person')\n     *        .where('id', '=', personId)\n     *        .returning('first_name')\n     *        .$assertType<{ first_name: string }>()\n     *     )\n     *     .with('deleted_pets', (qb) => qb\n     *       .deleteFrom('pet')\n     *       .where('owner_id', '=', personId)\n     *       .returning(['name as pet_name', 'species'])\n     *       .$assertType<{ pet_name: string, species: Species }>()\n     *     )\n     *     .selectFrom(['deleted_person', 'deleted_pets'])\n     *     .selectAll()\n     *     .execute()\n     * }\n     * ```\n     */\n    $assertType() {\n        return new DeleteQueryBuilder(this.#props);\n    }\n    /**\n     * Returns a copy of this DeleteQueryBuilder instance with the given plugin installed.\n     */\n    withPlugin(plugin) {\n        return new DeleteQueryBuilder({\n            ...this.#props,\n            executor: this.#props.executor.withPlugin(plugin),\n        });\n    }\n    toOperationNode() {\n        return this.#props.executor.transformQuery(this.#props.queryNode, this.#props.queryId);\n    }\n    compile() {\n        return this.#props.executor.compileQuery(this.toOperationNode(), this.#props.queryId);\n    }\n    /**\n     * Executes the query and returns an array of rows.\n     *\n     * Also see the {@link executeTakeFirst} and {@link executeTakeFirstOrThrow} methods.\n     */\n    async execute() {\n        const compiledQuery = this.compile();\n        const result = await this.#props.executor.executeQuery(compiledQuery);\n        const { adapter } = this.#props.executor;\n        const query = compiledQuery.query;\n        if ((query.returning && adapter.supportsReturning) ||\n            (query.output && adapter.supportsOutput)) {\n            return result.rows;\n        }\n        return [new DeleteResult(result.numAffectedRows ?? BigInt(0))];\n    }\n    /**\n     * Executes the query and returns the first result or undefined if\n     * the query returned no result.\n     */\n    async executeTakeFirst() {\n        const [result] = await this.execute();\n        return result;\n    }\n    /**\n     * Executes the query and returns the first result or throws if\n     * the query returned no result.\n     *\n     * By default an instance of {@link NoResultError} is thrown, but you can\n     * provide a custom error class, or callback as the only argument to throw a different\n     * error.\n     */\n    async executeTakeFirstOrThrow(errorConstructor = NoResultError) {\n        const result = await this.executeTakeFirst();\n        if (result === undefined) {\n            const error = isNoResultErrorConstructor(errorConstructor)\n                ? new errorConstructor(this.toOperationNode())\n                : errorConstructor(this.toOperationNode());\n            throw error;\n        }\n        return result;\n    }\n    async *stream(chunkSize = 100) {\n        const compiledQuery = this.compile();\n        const stream = this.#props.executor.stream(compiledQuery, chunkSize);\n        for await (const item of stream) {\n            yield* item.rows;\n        }\n    }\n    async explain(format, options) {\n        const builder = new DeleteQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithExplain(this.#props.queryNode, format, options),\n        });\n        return await builder.execute();\n    }\n}\n", "/// <reference types=\"./update-result.d.ts\" />\nexport class UpdateResult {\n    /**\n     * The number of rows the update query updated (even if not changed).\n     */\n    numUpdatedRows;\n    /**\n     * The number of rows the update query changed.\n     *\n     * This is **optional** and only supported in dialects such as MySQL.\n     * You would probably use {@link numUpdatedRows} in most cases.\n     */\n    numChangedRows;\n    constructor(numUpdatedRows, numChangedRows) {\n        this.numUpdatedRows = numUpdatedRows;\n        this.numChangedRows = numChangedRows;\n    }\n}\n", "/// <reference types=\"./update-query-builder.d.ts\" />\nimport { parseJoin, } from '../parser/join-parser.js';\nimport { parseTableExpressionOrList, } from '../parser/table-parser.js';\nimport { parseSelectArg, parseSelectAll, } from '../parser/select-parser.js';\nimport { QueryNode } from '../operation-node/query-node.js';\nimport { UpdateQueryNode } from '../operation-node/update-query-node.js';\nimport { parseUpdate, } from '../parser/update-set-parser.js';\nimport { freeze } from '../util/object-utils.js';\nimport { UpdateResult } from './update-result.js';\nimport { isNoResultErrorConstructor, NoResultError, } from './no-result-error.js';\nimport { parseReferentialBinaryOperation, parseValueBinaryOperationOrExpression, } from '../parser/binary-operation-parser.js';\nimport { parseValueExpression, } from '../parser/value-parser.js';\nimport { LimitNode } from '../operation-node/limit-node.js';\nimport { parseTop } from '../parser/top-parser.js';\nimport { parseOrderBy, } from '../parser/order-by-parser.js';\nexport class UpdateQueryBuilder {\n    #props;\n    constructor(props) {\n        this.#props = freeze(props);\n    }\n    where(...args) {\n        return new UpdateQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithWhere(this.#props.queryNode, parseValueBinaryOperationOrExpression(args)),\n        });\n    }\n    whereRef(lhs, op, rhs) {\n        return new UpdateQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithWhere(this.#props.queryNode, parseReferentialBinaryOperation(lhs, op, rhs)),\n        });\n    }\n    clearWhere() {\n        return new UpdateQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithoutWhere(this.#props.queryNode),\n        });\n    }\n    /**\n     * Changes an `update` query into a `update top` query.\n     *\n     * `top` clause is only supported by some dialects like MS SQL Server.\n     *\n     * ### Examples\n     *\n     * Update the first row:\n     *\n     * ```ts\n     * await db.updateTable('person')\n     *   .top(1)\n     *   .set({ first_name: 'Foo' })\n     *   .where('age', '>', 18)\n     *   .executeTakeFirstOrThrow()\n     * ```\n     *\n     * The generated SQL (MS SQL Server):\n     *\n     * ```sql\n     * update top(1) \"person\" set \"first_name\" = @1 where \"age\" > @2\n     * ```\n     *\n     * Update the 50% first rows:\n     *\n     * ```ts\n     * await db.updateTable('person')\n     *   .top(50, 'percent')\n     *   .set({ first_name: 'Foo' })\n     *   .where('age', '>', 18)\n     *   .executeTakeFirstOrThrow()\n     * ```\n     *\n     * The generated SQL (MS SQL Server):\n     *\n     * ```sql\n     * update top(50) percent \"person\" set \"first_name\" = @1 where \"age\" > @2\n     * ```\n     */\n    top(expression, modifiers) {\n        return new UpdateQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithTop(this.#props.queryNode, parseTop(expression, modifiers)),\n        });\n    }\n    from(from) {\n        return new UpdateQueryBuilder({\n            ...this.#props,\n            queryNode: UpdateQueryNode.cloneWithFromItems(this.#props.queryNode, parseTableExpressionOrList(from)),\n        });\n    }\n    innerJoin(...args) {\n        return this.#join('InnerJoin', args);\n    }\n    leftJoin(...args) {\n        return this.#join('LeftJoin', args);\n    }\n    rightJoin(...args) {\n        return this.#join('RightJoin', args);\n    }\n    fullJoin(...args) {\n        return this.#join('FullJoin', args);\n    }\n    #join(joinType, args) {\n        return new UpdateQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithJoin(this.#props.queryNode, parseJoin(joinType, args)),\n        });\n    }\n    orderBy(...args) {\n        return new UpdateQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithOrderByItems(this.#props.queryNode, parseOrderBy(args)),\n        });\n    }\n    clearOrderBy() {\n        return new UpdateQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithoutOrderBy(this.#props.queryNode),\n        });\n    }\n    /**\n     * Adds a limit clause to the update query for supported databases, such as MySQL.\n     *\n     * ### Examples\n     *\n     * Update the first 2 rows in the 'person' table:\n     *\n     * ```ts\n     * await db\n     *   .updateTable('person')\n     *   .set({ first_name: 'Foo' })\n     *   .limit(2)\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (MySQL):\n     *\n     * ```sql\n     * update `person` set `first_name` = ? limit ?\n     * ```\n     */\n    limit(limit) {\n        return new UpdateQueryBuilder({\n            ...this.#props,\n            queryNode: UpdateQueryNode.cloneWithLimit(this.#props.queryNode, LimitNode.create(parseValueExpression(limit))),\n        });\n    }\n    set(...args) {\n        return new UpdateQueryBuilder({\n            ...this.#props,\n            queryNode: UpdateQueryNode.cloneWithUpdates(this.#props.queryNode, parseUpdate(...args)),\n        });\n    }\n    returning(selection) {\n        return new UpdateQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithReturning(this.#props.queryNode, parseSelectArg(selection)),\n        });\n    }\n    returningAll(table) {\n        return new UpdateQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithReturning(this.#props.queryNode, parseSelectAll(table)),\n        });\n    }\n    output(args) {\n        return new UpdateQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithOutput(this.#props.queryNode, parseSelectArg(args)),\n        });\n    }\n    outputAll(table) {\n        return new UpdateQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithOutput(this.#props.queryNode, parseSelectAll(table)),\n        });\n    }\n    /**\n     * This can be used to add any additional SQL to the end of the query.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * import { sql } from 'kysely'\n     *\n     * await db.updateTable('person')\n     *   .set({ age: 39 })\n     *   .where('first_name', '=', 'John')\n     *   .modifyEnd(sql.raw('-- This is a comment'))\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (MySQL):\n     *\n     * ```sql\n     * update `person`\n     * set `age` = 39\n     * where `first_name` = \"John\" -- This is a comment\n     * ```\n     */\n    modifyEnd(modifier) {\n        return new UpdateQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithEndModifier(this.#props.queryNode, modifier.toOperationNode()),\n        });\n    }\n    /**\n     * Clears all `returning` clauses from the query.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * db.updateTable('person')\n     *   .returningAll()\n     *   .set({ age: 39 })\n     *   .where('first_name', '=', 'John')\n     *   .clearReturning()\n     * ```\n     *\n     * The generated SQL(PostgreSQL):\n     *\n     * ```sql\n     * update \"person\" set \"age\" = 39 where \"first_name\" = \"John\"\n     * ```\n     */\n    clearReturning() {\n        return new UpdateQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithoutReturning(this.#props.queryNode),\n        });\n    }\n    /**\n     * Simply calls the provided function passing `this` as the only argument. `$call` returns\n     * what the provided function returns.\n     *\n     * If you want to conditionally call a method on `this`, see\n     * the {@link $if} method.\n     *\n     * ### Examples\n     *\n     * The next example uses a helper function `log` to log a query:\n     *\n     * ```ts\n     * import type { Compilable } from 'kysely'\n     * import type { PersonUpdate } from 'type-editor' // imaginary module\n     *\n     * function log<T extends Compilable>(qb: T): T {\n     *   console.log(qb.compile())\n     *   return qb\n     * }\n     *\n     * const values = {\n     *   first_name: 'John',\n     * } satisfies PersonUpdate\n     *\n     * db.updateTable('person')\n     *   .set(values)\n     *   .$call(log)\n     *   .execute()\n     * ```\n     */\n    $call(func) {\n        return func(this);\n    }\n    /**\n     * Call `func(this)` if `condition` is true.\n     *\n     * This method is especially handy with optional selects. Any `returning` or `returningAll`\n     * method calls add columns as optional fields to the output type when called inside\n     * the `func` callback. This is because we can't know if those selections were actually\n     * made before running the code.\n     *\n     * You can also call any other methods inside the callback.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * import type { PersonUpdate } from 'type-editor' // imaginary module\n     *\n     * async function updatePerson(id: number, updates: PersonUpdate, returnLastName: boolean) {\n     *   return await db\n     *     .updateTable('person')\n     *     .set(updates)\n     *     .where('id', '=', id)\n     *     .returning(['id', 'first_name'])\n     *     .$if(returnLastName, (qb) => qb.returning('last_name'))\n     *     .executeTakeFirstOrThrow()\n     * }\n     * ```\n     *\n     * Any selections added inside the `if` callback will be added as optional fields to the\n     * output type since we can't know if the selections were actually made before running\n     * the code. In the example above the return type of the `updatePerson` function is:\n     *\n     * ```ts\n     * Promise<{\n     *   id: number\n     *   first_name: string\n     *   last_name?: string\n     * }>\n     * ```\n     */\n    $if(condition, func) {\n        if (condition) {\n            return func(this);\n        }\n        return new UpdateQueryBuilder({\n            ...this.#props,\n        });\n    }\n    /**\n     * Change the output type of the query.\n     *\n     * This method call doesn't change the SQL in any way. This methods simply\n     * returns a copy of this `UpdateQueryBuilder` with a new output type.\n     */\n    $castTo() {\n        return new UpdateQueryBuilder(this.#props);\n    }\n    /**\n     * Narrows (parts of) the output type of the query.\n     *\n     * Kysely tries to be as type-safe as possible, but in some cases we have to make\n     * compromises for better maintainability and compilation performance. At present,\n     * Kysely doesn't narrow the output type of the query based on {@link set} input\n     * when using {@link where} and/or {@link returning} or {@link returningAll}.\n     *\n     * This utility method is very useful for these situations, as it removes unncessary\n     * runtime assertion/guard code. Its input type is limited to the output type\n     * of the query, so you can't add a column that doesn't exist, or change a column's\n     * type to something that doesn't exist in its union type.\n     *\n     * ### Examples\n     *\n     * Turn this code:\n     *\n     * ```ts\n     * import type { Person } from 'type-editor' // imaginary module\n     *\n     * const id = 1\n     * const now = new Date().toISOString()\n     *\n     * const person = await db.updateTable('person')\n     *   .set({ deleted_at: now })\n     *   .where('id', '=', id)\n     *   .where('nullable_column', 'is not', null)\n     *   .returningAll()\n     *   .executeTakeFirstOrThrow()\n     *\n     * if (isWithNoNullValue(person)) {\n     *   functionThatExpectsPersonWithNonNullValue(person)\n     * }\n     *\n     * function isWithNoNullValue(person: Person): person is Person & { nullable_column: string } {\n     *   return person.nullable_column != null\n     * }\n     * ```\n     *\n     * Into this:\n     *\n     * ```ts\n     * import type { NotNull } from 'kysely'\n     *\n     * const id = 1\n     * const now = new Date().toISOString()\n     *\n     * const person = await db.updateTable('person')\n     *   .set({ deleted_at: now })\n     *   .where('id', '=', id)\n     *   .where('nullable_column', 'is not', null)\n     *   .returningAll()\n     *   .$narrowType<{ deleted_at: Date; nullable_column: NotNull }>()\n     *   .executeTakeFirstOrThrow()\n     *\n     * functionThatExpectsPersonWithNonNullValue(person)\n     * ```\n     */\n    $narrowType() {\n        return new UpdateQueryBuilder(this.#props);\n    }\n    /**\n     * Asserts that query's output row type equals the given type `T`.\n     *\n     * This method can be used to simplify excessively complex types to make TypeScript happy\n     * and much faster.\n     *\n     * Kysely uses complex type magic to achieve its type safety. This complexity is sometimes too much\n     * for TypeScript and you get errors like this:\n     *\n     * ```\n     * error TS2589: Type instantiation is excessively deep and possibly infinite.\n     * ```\n     *\n     * In these case you can often use this method to help TypeScript a little bit. When you use this\n     * method to assert the output type of a query, Kysely can drop the complex output type that\n     * consists of multiple nested helper types and replace it with the simple asserted type.\n     *\n     * Using this method doesn't reduce type safety at all. You have to pass in a type that is\n     * structurally equal to the current type.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * import type { PersonUpdate, PetUpdate, Species } from 'type-editor' // imaginary module\n     *\n     * const person = {\n     *   id: 1,\n     *   gender: 'other',\n     * } satisfies PersonUpdate\n     *\n     * const pet = {\n     *   name: 'Fluffy',\n     * } satisfies PetUpdate\n     *\n     * const result = await db\n     *   .with('updated_person', (qb) => qb\n     *     .updateTable('person')\n     *     .set(person)\n     *     .where('id', '=', person.id)\n     *     .returning('first_name')\n     *     .$assertType<{ first_name: string }>()\n     *   )\n     *   .with('updated_pet', (qb) => qb\n     *     .updateTable('pet')\n     *     .set(pet)\n     *     .where('owner_id', '=', person.id)\n     *     .returning(['name as pet_name', 'species'])\n     *     .$assertType<{ pet_name: string, species: Species }>()\n     *   )\n     *   .selectFrom(['updated_person', 'updated_pet'])\n     *   .selectAll()\n     *   .executeTakeFirstOrThrow()\n     * ```\n     */\n    $assertType() {\n        return new UpdateQueryBuilder(this.#props);\n    }\n    /**\n     * Returns a copy of this UpdateQueryBuilder instance with the given plugin installed.\n     */\n    withPlugin(plugin) {\n        return new UpdateQueryBuilder({\n            ...this.#props,\n            executor: this.#props.executor.withPlugin(plugin),\n        });\n    }\n    toOperationNode() {\n        return this.#props.executor.transformQuery(this.#props.queryNode, this.#props.queryId);\n    }\n    compile() {\n        return this.#props.executor.compileQuery(this.toOperationNode(), this.#props.queryId);\n    }\n    /**\n     * Executes the query and returns an array of rows.\n     *\n     * Also see the {@link executeTakeFirst} and {@link executeTakeFirstOrThrow} methods.\n     */\n    async execute() {\n        const compiledQuery = this.compile();\n        const result = await this.#props.executor.executeQuery(compiledQuery);\n        const { adapter } = this.#props.executor;\n        const query = compiledQuery.query;\n        if ((query.returning && adapter.supportsReturning) ||\n            (query.output && adapter.supportsOutput)) {\n            return result.rows;\n        }\n        return [\n            new UpdateResult(result.numAffectedRows ?? BigInt(0), result.numChangedRows),\n        ];\n    }\n    /**\n     * Executes the query and returns the first result or undefined if\n     * the query returned no result.\n     */\n    async executeTakeFirst() {\n        const [result] = await this.execute();\n        return result;\n    }\n    /**\n     * Executes the query and returns the first result or throws if\n     * the query returned no result.\n     *\n     * By default an instance of {@link NoResultError} is thrown, but you can\n     * provide a custom error class, or callback as the only argument to throw a different\n     * error.\n     */\n    async executeTakeFirstOrThrow(errorConstructor = NoResultError) {\n        const result = await this.executeTakeFirst();\n        if (result === undefined) {\n            const error = isNoResultErrorConstructor(errorConstructor)\n                ? new errorConstructor(this.toOperationNode())\n                : errorConstructor(this.toOperationNode());\n            throw error;\n        }\n        return result;\n    }\n    async *stream(chunkSize = 100) {\n        const compiledQuery = this.compile();\n        const stream = this.#props.executor.stream(compiledQuery, chunkSize);\n        for await (const item of stream) {\n            yield* item.rows;\n        }\n    }\n    async explain(format, options) {\n        const builder = new UpdateQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithExplain(this.#props.queryNode, format, options),\n        });\n        return await builder.execute();\n    }\n}\n", "/// <reference types=\"./common-table-expression-name-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { ColumnNode } from './column-node.js';\nimport { TableNode } from './table-node.js';\n/**\n * @internal\n */\nexport const CommonTableExpressionNameNode = freeze({\n    is(node) {\n        return node.kind === 'CommonTableExpressionNameNode';\n    },\n    create(tableName, columnNames) {\n        return freeze({\n            kind: 'CommonTableExpressionNameNode',\n            table: TableNode.create(tableName),\n            columns: columnNames\n                ? freeze(columnNames.map(ColumnNode.create))\n                : undefined,\n        });\n    },\n});\n", "/// <reference types=\"./common-table-expression-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const CommonTableExpressionNode = freeze({\n    is(node) {\n        return node.kind === 'CommonTableExpressionNode';\n    },\n    create(name, expression) {\n        return freeze({\n            kind: 'CommonTableExpressionNode',\n            name,\n            expression,\n        });\n    },\n    cloneWith(node, props) {\n        return freeze({\n            ...node,\n            ...props,\n        });\n    },\n});\n", "/// <reference types=\"./cte-builder.d.ts\" />\nimport { CommonTableExpressionNode } from '../operation-node/common-table-expression-node.js';\nimport { freeze } from '../util/object-utils.js';\nexport class CTEBuilder {\n    #props;\n    constructor(props) {\n        this.#props = freeze(props);\n    }\n    /**\n     * Makes the common table expression materialized.\n     */\n    materialized() {\n        return new CTEBuilder({\n            ...this.#props,\n            node: CommonTableExpressionNode.cloneWith(this.#props.node, {\n                materialized: true,\n            }),\n        });\n    }\n    /**\n     * Makes the common table expression not materialized.\n     */\n    notMaterialized() {\n        return new CTEBuilder({\n            ...this.#props,\n            node: CommonTableExpressionNode.cloneWith(this.#props.node, {\n                materialized: false,\n            }),\n        });\n    }\n    toOperationNode() {\n        return this.#props.node;\n    }\n}\n", "/// <reference types=\"./with-parser.d.ts\" />\nimport { CommonTableExpressionNameNode } from '../operation-node/common-table-expression-name-node.js';\nimport { createQueryCreator } from './parse-utils.js';\nimport { isFunction } from '../util/object-utils.js';\nimport { CTEBuilder } from '../query-builder/cte-builder.js';\nimport { CommonTableExpressionNode } from '../operation-node/common-table-expression-node.js';\nexport function parseCommonTableExpression(nameOrBuilderCallback, expression) {\n    const expressionNode = expression(createQueryCreator()).toOperationNode();\n    if (isFunction(nameOrBuilderCallback)) {\n        return nameOrBuilderCallback(cteBuilderFactory(expressionNode)).toOperationNode();\n    }\n    return CommonTableExpressionNode.create(parseCommonTableExpressionName(nameOrBuilderCallback), expressionNode);\n}\nfunction cteBuilderFactory(expressionNode) {\n    return (name) => {\n        return new CTEBuilder({\n            node: CommonTableExpressionNode.create(parseCommonTableExpressionName(name), expressionNode),\n        });\n    };\n}\nfunction parseCommonTableExpressionName(name) {\n    if (name.includes('(')) {\n        const parts = name.split(/[\\(\\)]/);\n        const table = parts[0];\n        const columns = parts[1].split(',').map((it) => it.trim());\n        return CommonTableExpressionNameNode.create(table, columns);\n    }\n    else {\n        return CommonTableExpressionNameNode.create(name);\n    }\n}\n", "/// <reference types=\"./with-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const WithNode = freeze({\n    is(node) {\n        return node.kind === 'WithNode';\n    },\n    create(expression, params) {\n        return freeze({\n            kind: 'WithNode',\n            expressions: freeze([expression]),\n            ...params,\n        });\n    },\n    cloneWithExpression(withNode, expression) {\n        return freeze({\n            ...withNode,\n            expressions: freeze([...withNode.expressions, expression]),\n        });\n    },\n});\n", "/// <reference types=\"./random-string.d.ts\" />\nconst CHARS = [\n    'A',\n    'B',\n    'C',\n    'D',\n    'E',\n    'F',\n    'G',\n    'H',\n    'I',\n    'J',\n    'K',\n    'L',\n    'M',\n    'N',\n    'O',\n    'P',\n    'Q',\n    'R',\n    'S',\n    'T',\n    'U',\n    'V',\n    'W',\n    'X',\n    'Y',\n    'Z',\n    'a',\n    'b',\n    'c',\n    'd',\n    'e',\n    'f',\n    'g',\n    'h',\n    'i',\n    'j',\n    'k',\n    'l',\n    'm',\n    'n',\n    'o',\n    'p',\n    'q',\n    'r',\n    's',\n    't',\n    'u',\n    'v',\n    'w',\n    'x',\n    'y',\n    'z',\n    '0',\n    '1',\n    '2',\n    '3',\n    '4',\n    '5',\n    '6',\n    '7',\n    '8',\n    '9',\n];\nexport function randomString(length) {\n    let chars = '';\n    for (let i = 0; i < length; ++i) {\n        chars += randomChar();\n    }\n    return chars;\n}\nfunction randomChar() {\n    return CHARS[~~(Math.random() * CHARS.length)];\n}\n", "/// <reference types=\"./query-id.d.ts\" />\nimport { randomString } from './random-string.js';\nexport function createQueryId() {\n    return new LazyQueryId();\n}\nclass LazyQueryId {\n    #queryId;\n    get queryId() {\n        if (this.#queryId === undefined) {\n            this.#queryId = randomString(8);\n        }\n        return this.#queryId;\n    }\n}\n", "/// <reference types=\"./require-all-props.d.ts\" />\n/**\n * Helper function to check listed properties according to given type. Check if all properties has been used when object is initialised.\n *\n * Example use:\n *\n * ```ts\n * type SomeType = { propA: string; propB?: number; }\n *\n * // propB has to be mentioned even it is optional. It still should be initialized with undefined.\n * const a: SomeType = requireAllProps<SomeType>({ propA: \"value A\", propB: undefined });\n *\n * // checked type is implicit for variable.\n * const b = requireAllProps<SomeType>({ propA: \"value A\", propB: undefined });\n * ```\n *\n * Wrong use of this helper:\n *\n * 1. Omit checked type - all checked properties will be expect as of type never\n *\n * ```ts\n * type SomeType = { propA: string; propB?: number; }\n * // const z: SomeType = requireAllProps({ propC: \"no type will work\" }); // Property 'propA' is missing in type '{ propC: string; }' but required in type 'SomeType'.\n * ```\n *\n * 2. Apply to spreaded object - there is no way how to check in compile time if spreaded object contains all properties\n *\n * ```ts\n * type SomeType = { propA: string; propB?: number; }\n * const y: SomeType = { propA: \"\" }; // valid object according to SomeType declaration\n * // const x = requireAllProps<SomeType>({ ...y }); // Argument of type '{ propA: string; propB?: number; }' is not assignable to parameter of type 'AllProps<SomeType>'.\n * ```\n *\n * @param obj object to check if all properties has been used\n * @returns untouched obj parameter is returned\n */\nexport function requireAllProps(obj) {\n    return obj;\n}\n", "/// <reference types=\"./operation-node-transformer.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { requireAllProps } from '../util/require-all-props.js';\n/**\n * Transforms an operation node tree into another one.\n *\n * Kysely queries are expressed internally as a tree of objects (operation nodes).\n * `OperationNodeTransformer` takes such a tree as its input and returns a\n * transformed deep copy of it. By default the `OperationNodeTransformer`\n * does nothing. You need to override one or more methods to make it do\n * something.\n *\n * There's a method for each node type. For example if you'd like to convert\n * each identifier (table name, column name, alias etc.) from camelCase to\n * snake_case, you'd do something like this:\n *\n * ```ts\n * import { type IdentifierNode, OperationNodeTransformer } from 'kysely'\n * import snakeCase from 'lodash/snakeCase'\n *\n * class CamelCaseTransformer extends OperationNodeTransformer {\n *   override transformIdentifier(node: IdentifierNode): IdentifierNode {\n *     node = super.transformIdentifier(node)\n *\n *     return {\n *       ...node,\n *       name: snakeCase(node.name),\n *     }\n *   }\n * }\n *\n * const transformer = new CamelCaseTransformer()\n *\n * const query = db.selectFrom('person').select(['first_name', 'last_name'])\n *\n * const tree = transformer.transformNode(query.toOperationNode())\n * ```\n */\nexport class OperationNodeTransformer {\n    nodeStack = [];\n    #transformers = freeze({\n        AliasNode: this.transformAlias.bind(this),\n        ColumnNode: this.transformColumn.bind(this),\n        IdentifierNode: this.transformIdentifier.bind(this),\n        SchemableIdentifierNode: this.transformSchemableIdentifier.bind(this),\n        RawNode: this.transformRaw.bind(this),\n        ReferenceNode: this.transformReference.bind(this),\n        SelectQueryNode: this.transformSelectQuery.bind(this),\n        SelectionNode: this.transformSelection.bind(this),\n        TableNode: this.transformTable.bind(this),\n        FromNode: this.transformFrom.bind(this),\n        SelectAllNode: this.transformSelectAll.bind(this),\n        AndNode: this.transformAnd.bind(this),\n        OrNode: this.transformOr.bind(this),\n        ValueNode: this.transformValue.bind(this),\n        ValueListNode: this.transformValueList.bind(this),\n        PrimitiveValueListNode: this.transformPrimitiveValueList.bind(this),\n        ParensNode: this.transformParens.bind(this),\n        JoinNode: this.transformJoin.bind(this),\n        OperatorNode: this.transformOperator.bind(this),\n        WhereNode: this.transformWhere.bind(this),\n        InsertQueryNode: this.transformInsertQuery.bind(this),\n        DeleteQueryNode: this.transformDeleteQuery.bind(this),\n        ReturningNode: this.transformReturning.bind(this),\n        CreateTableNode: this.transformCreateTable.bind(this),\n        AddColumnNode: this.transformAddColumn.bind(this),\n        ColumnDefinitionNode: this.transformColumnDefinition.bind(this),\n        DropTableNode: this.transformDropTable.bind(this),\n        DataTypeNode: this.transformDataType.bind(this),\n        OrderByNode: this.transformOrderBy.bind(this),\n        OrderByItemNode: this.transformOrderByItem.bind(this),\n        GroupByNode: this.transformGroupBy.bind(this),\n        GroupByItemNode: this.transformGroupByItem.bind(this),\n        UpdateQueryNode: this.transformUpdateQuery.bind(this),\n        ColumnUpdateNode: this.transformColumnUpdate.bind(this),\n        LimitNode: this.transformLimit.bind(this),\n        OffsetNode: this.transformOffset.bind(this),\n        OnConflictNode: this.transformOnConflict.bind(this),\n        OnDuplicateKeyNode: this.transformOnDuplicateKey.bind(this),\n        CreateIndexNode: this.transformCreateIndex.bind(this),\n        DropIndexNode: this.transformDropIndex.bind(this),\n        ListNode: this.transformList.bind(this),\n        PrimaryKeyConstraintNode: this.transformPrimaryKeyConstraint.bind(this),\n        UniqueConstraintNode: this.transformUniqueConstraint.bind(this),\n        ReferencesNode: this.transformReferences.bind(this),\n        CheckConstraintNode: this.transformCheckConstraint.bind(this),\n        WithNode: this.transformWith.bind(this),\n        CommonTableExpressionNode: this.transformCommonTableExpression.bind(this),\n        CommonTableExpressionNameNode: this.transformCommonTableExpressionName.bind(this),\n        HavingNode: this.transformHaving.bind(this),\n        CreateSchemaNode: this.transformCreateSchema.bind(this),\n        DropSchemaNode: this.transformDropSchema.bind(this),\n        AlterTableNode: this.transformAlterTable.bind(this),\n        DropColumnNode: this.transformDropColumn.bind(this),\n        RenameColumnNode: this.transformRenameColumn.bind(this),\n        AlterColumnNode: this.transformAlterColumn.bind(this),\n        ModifyColumnNode: this.transformModifyColumn.bind(this),\n        AddConstraintNode: this.transformAddConstraint.bind(this),\n        DropConstraintNode: this.transformDropConstraint.bind(this),\n        RenameConstraintNode: this.transformRenameConstraint.bind(this),\n        ForeignKeyConstraintNode: this.transformForeignKeyConstraint.bind(this),\n        CreateViewNode: this.transformCreateView.bind(this),\n        RefreshMaterializedViewNode: this.transformRefreshMaterializedView.bind(this),\n        DropViewNode: this.transformDropView.bind(this),\n        GeneratedNode: this.transformGenerated.bind(this),\n        DefaultValueNode: this.transformDefaultValue.bind(this),\n        OnNode: this.transformOn.bind(this),\n        ValuesNode: this.transformValues.bind(this),\n        SelectModifierNode: this.transformSelectModifier.bind(this),\n        CreateTypeNode: this.transformCreateType.bind(this),\n        DropTypeNode: this.transformDropType.bind(this),\n        ExplainNode: this.transformExplain.bind(this),\n        DefaultInsertValueNode: this.transformDefaultInsertValue.bind(this),\n        AggregateFunctionNode: this.transformAggregateFunction.bind(this),\n        OverNode: this.transformOver.bind(this),\n        PartitionByNode: this.transformPartitionBy.bind(this),\n        PartitionByItemNode: this.transformPartitionByItem.bind(this),\n        SetOperationNode: this.transformSetOperation.bind(this),\n        BinaryOperationNode: this.transformBinaryOperation.bind(this),\n        UnaryOperationNode: this.transformUnaryOperation.bind(this),\n        UsingNode: this.transformUsing.bind(this),\n        FunctionNode: this.transformFunction.bind(this),\n        CaseNode: this.transformCase.bind(this),\n        WhenNode: this.transformWhen.bind(this),\n        JSONReferenceNode: this.transformJSONReference.bind(this),\n        JSONPathNode: this.transformJSONPath.bind(this),\n        JSONPathLegNode: this.transformJSONPathLeg.bind(this),\n        JSONOperatorChainNode: this.transformJSONOperatorChain.bind(this),\n        TupleNode: this.transformTuple.bind(this),\n        MergeQueryNode: this.transformMergeQuery.bind(this),\n        MatchedNode: this.transformMatched.bind(this),\n        AddIndexNode: this.transformAddIndex.bind(this),\n        CastNode: this.transformCast.bind(this),\n        FetchNode: this.transformFetch.bind(this),\n        TopNode: this.transformTop.bind(this),\n        OutputNode: this.transformOutput.bind(this),\n        OrActionNode: this.transformOrAction.bind(this),\n        CollateNode: this.transformCollate.bind(this),\n    });\n    transformNode(node, queryId) {\n        if (!node) {\n            return node;\n        }\n        this.nodeStack.push(node);\n        const out = this.transformNodeImpl(node, queryId);\n        this.nodeStack.pop();\n        return freeze(out);\n    }\n    transformNodeImpl(node, queryId) {\n        return this.#transformers[node.kind](node, queryId);\n    }\n    transformNodeList(list, queryId) {\n        if (!list) {\n            return list;\n        }\n        return freeze(list.map((node) => this.transformNode(node, queryId)));\n    }\n    transformSelectQuery(node, queryId) {\n        return requireAllProps({\n            kind: 'SelectQueryNode',\n            from: this.transformNode(node.from, queryId),\n            selections: this.transformNodeList(node.selections, queryId),\n            distinctOn: this.transformNodeList(node.distinctOn, queryId),\n            joins: this.transformNodeList(node.joins, queryId),\n            groupBy: this.transformNode(node.groupBy, queryId),\n            orderBy: this.transformNode(node.orderBy, queryId),\n            where: this.transformNode(node.where, queryId),\n            frontModifiers: this.transformNodeList(node.frontModifiers, queryId),\n            endModifiers: this.transformNodeList(node.endModifiers, queryId),\n            limit: this.transformNode(node.limit, queryId),\n            offset: this.transformNode(node.offset, queryId),\n            with: this.transformNode(node.with, queryId),\n            having: this.transformNode(node.having, queryId),\n            explain: this.transformNode(node.explain, queryId),\n            setOperations: this.transformNodeList(node.setOperations, queryId),\n            fetch: this.transformNode(node.fetch, queryId),\n            top: this.transformNode(node.top, queryId),\n        });\n    }\n    transformSelection(node, queryId) {\n        return requireAllProps({\n            kind: 'SelectionNode',\n            selection: this.transformNode(node.selection, queryId),\n        });\n    }\n    transformColumn(node, queryId) {\n        return requireAllProps({\n            kind: 'ColumnNode',\n            column: this.transformNode(node.column, queryId),\n        });\n    }\n    transformAlias(node, queryId) {\n        return requireAllProps({\n            kind: 'AliasNode',\n            node: this.transformNode(node.node, queryId),\n            alias: this.transformNode(node.alias, queryId),\n        });\n    }\n    transformTable(node, queryId) {\n        return requireAllProps({\n            kind: 'TableNode',\n            table: this.transformNode(node.table, queryId),\n        });\n    }\n    transformFrom(node, queryId) {\n        return requireAllProps({\n            kind: 'FromNode',\n            froms: this.transformNodeList(node.froms, queryId),\n        });\n    }\n    transformReference(node, queryId) {\n        return requireAllProps({\n            kind: 'ReferenceNode',\n            column: this.transformNode(node.column, queryId),\n            table: this.transformNode(node.table, queryId),\n        });\n    }\n    transformAnd(node, queryId) {\n        return requireAllProps({\n            kind: 'AndNode',\n            left: this.transformNode(node.left, queryId),\n            right: this.transformNode(node.right, queryId),\n        });\n    }\n    transformOr(node, queryId) {\n        return requireAllProps({\n            kind: 'OrNode',\n            left: this.transformNode(node.left, queryId),\n            right: this.transformNode(node.right, queryId),\n        });\n    }\n    transformValueList(node, queryId) {\n        return requireAllProps({\n            kind: 'ValueListNode',\n            values: this.transformNodeList(node.values, queryId),\n        });\n    }\n    transformParens(node, queryId) {\n        return requireAllProps({\n            kind: 'ParensNode',\n            node: this.transformNode(node.node, queryId),\n        });\n    }\n    transformJoin(node, queryId) {\n        return requireAllProps({\n            kind: 'JoinNode',\n            joinType: node.joinType,\n            table: this.transformNode(node.table, queryId),\n            on: this.transformNode(node.on, queryId),\n        });\n    }\n    transformRaw(node, queryId) {\n        return requireAllProps({\n            kind: 'RawNode',\n            sqlFragments: freeze([...node.sqlFragments]),\n            parameters: this.transformNodeList(node.parameters, queryId),\n        });\n    }\n    transformWhere(node, queryId) {\n        return requireAllProps({\n            kind: 'WhereNode',\n            where: this.transformNode(node.where, queryId),\n        });\n    }\n    transformInsertQuery(node, queryId) {\n        return requireAllProps({\n            kind: 'InsertQueryNode',\n            into: this.transformNode(node.into, queryId),\n            columns: this.transformNodeList(node.columns, queryId),\n            values: this.transformNode(node.values, queryId),\n            returning: this.transformNode(node.returning, queryId),\n            onConflict: this.transformNode(node.onConflict, queryId),\n            onDuplicateKey: this.transformNode(node.onDuplicateKey, queryId),\n            endModifiers: this.transformNodeList(node.endModifiers, queryId),\n            with: this.transformNode(node.with, queryId),\n            ignore: node.ignore,\n            orAction: this.transformNode(node.orAction, queryId),\n            replace: node.replace,\n            explain: this.transformNode(node.explain, queryId),\n            defaultValues: node.defaultValues,\n            top: this.transformNode(node.top, queryId),\n            output: this.transformNode(node.output, queryId),\n        });\n    }\n    transformValues(node, queryId) {\n        return requireAllProps({\n            kind: 'ValuesNode',\n            values: this.transformNodeList(node.values, queryId),\n        });\n    }\n    transformDeleteQuery(node, queryId) {\n        return requireAllProps({\n            kind: 'DeleteQueryNode',\n            from: this.transformNode(node.from, queryId),\n            using: this.transformNode(node.using, queryId),\n            joins: this.transformNodeList(node.joins, queryId),\n            where: this.transformNode(node.where, queryId),\n            returning: this.transformNode(node.returning, queryId),\n            endModifiers: this.transformNodeList(node.endModifiers, queryId),\n            with: this.transformNode(node.with, queryId),\n            orderBy: this.transformNode(node.orderBy, queryId),\n            limit: this.transformNode(node.limit, queryId),\n            explain: this.transformNode(node.explain, queryId),\n            top: this.transformNode(node.top, queryId),\n            output: this.transformNode(node.output, queryId),\n        });\n    }\n    transformReturning(node, queryId) {\n        return requireAllProps({\n            kind: 'ReturningNode',\n            selections: this.transformNodeList(node.selections, queryId),\n        });\n    }\n    transformCreateTable(node, queryId) {\n        return requireAllProps({\n            kind: 'CreateTableNode',\n            table: this.transformNode(node.table, queryId),\n            columns: this.transformNodeList(node.columns, queryId),\n            constraints: this.transformNodeList(node.constraints, queryId),\n            temporary: node.temporary,\n            ifNotExists: node.ifNotExists,\n            onCommit: node.onCommit,\n            frontModifiers: this.transformNodeList(node.frontModifiers, queryId),\n            endModifiers: this.transformNodeList(node.endModifiers, queryId),\n            selectQuery: this.transformNode(node.selectQuery, queryId),\n        });\n    }\n    transformColumnDefinition(node, queryId) {\n        return requireAllProps({\n            kind: 'ColumnDefinitionNode',\n            column: this.transformNode(node.column, queryId),\n            dataType: this.transformNode(node.dataType, queryId),\n            references: this.transformNode(node.references, queryId),\n            primaryKey: node.primaryKey,\n            autoIncrement: node.autoIncrement,\n            unique: node.unique,\n            notNull: node.notNull,\n            unsigned: node.unsigned,\n            defaultTo: this.transformNode(node.defaultTo, queryId),\n            check: this.transformNode(node.check, queryId),\n            generated: this.transformNode(node.generated, queryId),\n            frontModifiers: this.transformNodeList(node.frontModifiers, queryId),\n            endModifiers: this.transformNodeList(node.endModifiers, queryId),\n            nullsNotDistinct: node.nullsNotDistinct,\n            identity: node.identity,\n            ifNotExists: node.ifNotExists,\n        });\n    }\n    transformAddColumn(node, queryId) {\n        return requireAllProps({\n            kind: 'AddColumnNode',\n            column: this.transformNode(node.column, queryId),\n        });\n    }\n    transformDropTable(node, queryId) {\n        return requireAllProps({\n            kind: 'DropTableNode',\n            table: this.transformNode(node.table, queryId),\n            ifExists: node.ifExists,\n            cascade: node.cascade,\n        });\n    }\n    transformOrderBy(node, queryId) {\n        return requireAllProps({\n            kind: 'OrderByNode',\n            items: this.transformNodeList(node.items, queryId),\n        });\n    }\n    transformOrderByItem(node, queryId) {\n        return requireAllProps({\n            kind: 'OrderByItemNode',\n            orderBy: this.transformNode(node.orderBy, queryId),\n            direction: this.transformNode(node.direction, queryId),\n            collation: this.transformNode(node.collation, queryId),\n            nulls: node.nulls,\n        });\n    }\n    transformGroupBy(node, queryId) {\n        return requireAllProps({\n            kind: 'GroupByNode',\n            items: this.transformNodeList(node.items, queryId),\n        });\n    }\n    transformGroupByItem(node, queryId) {\n        return requireAllProps({\n            kind: 'GroupByItemNode',\n            groupBy: this.transformNode(node.groupBy, queryId),\n        });\n    }\n    transformUpdateQuery(node, queryId) {\n        return requireAllProps({\n            kind: 'UpdateQueryNode',\n            table: this.transformNode(node.table, queryId),\n            from: this.transformNode(node.from, queryId),\n            joins: this.transformNodeList(node.joins, queryId),\n            where: this.transformNode(node.where, queryId),\n            updates: this.transformNodeList(node.updates, queryId),\n            returning: this.transformNode(node.returning, queryId),\n            endModifiers: this.transformNodeList(node.endModifiers, queryId),\n            with: this.transformNode(node.with, queryId),\n            explain: this.transformNode(node.explain, queryId),\n            limit: this.transformNode(node.limit, queryId),\n            top: this.transformNode(node.top, queryId),\n            output: this.transformNode(node.output, queryId),\n            orderBy: this.transformNode(node.orderBy, queryId),\n        });\n    }\n    transformColumnUpdate(node, queryId) {\n        return requireAllProps({\n            kind: 'ColumnUpdateNode',\n            column: this.transformNode(node.column, queryId),\n            value: this.transformNode(node.value, queryId),\n        });\n    }\n    transformLimit(node, queryId) {\n        return requireAllProps({\n            kind: 'LimitNode',\n            limit: this.transformNode(node.limit, queryId),\n        });\n    }\n    transformOffset(node, queryId) {\n        return requireAllProps({\n            kind: 'OffsetNode',\n            offset: this.transformNode(node.offset, queryId),\n        });\n    }\n    transformOnConflict(node, queryId) {\n        return requireAllProps({\n            kind: 'OnConflictNode',\n            columns: this.transformNodeList(node.columns, queryId),\n            constraint: this.transformNode(node.constraint, queryId),\n            indexExpression: this.transformNode(node.indexExpression, queryId),\n            indexWhere: this.transformNode(node.indexWhere, queryId),\n            updates: this.transformNodeList(node.updates, queryId),\n            updateWhere: this.transformNode(node.updateWhere, queryId),\n            doNothing: node.doNothing,\n        });\n    }\n    transformOnDuplicateKey(node, queryId) {\n        return requireAllProps({\n            kind: 'OnDuplicateKeyNode',\n            updates: this.transformNodeList(node.updates, queryId),\n        });\n    }\n    transformCreateIndex(node, queryId) {\n        return requireAllProps({\n            kind: 'CreateIndexNode',\n            name: this.transformNode(node.name, queryId),\n            table: this.transformNode(node.table, queryId),\n            columns: this.transformNodeList(node.columns, queryId),\n            unique: node.unique,\n            using: this.transformNode(node.using, queryId),\n            ifNotExists: node.ifNotExists,\n            where: this.transformNode(node.where, queryId),\n            nullsNotDistinct: node.nullsNotDistinct,\n        });\n    }\n    transformList(node, queryId) {\n        return requireAllProps({\n            kind: 'ListNode',\n            items: this.transformNodeList(node.items, queryId),\n        });\n    }\n    transformDropIndex(node, queryId) {\n        return requireAllProps({\n            kind: 'DropIndexNode',\n            name: this.transformNode(node.name, queryId),\n            table: this.transformNode(node.table, queryId),\n            ifExists: node.ifExists,\n            cascade: node.cascade,\n        });\n    }\n    transformPrimaryKeyConstraint(node, queryId) {\n        return requireAllProps({\n            kind: 'PrimaryKeyConstraintNode',\n            columns: this.transformNodeList(node.columns, queryId),\n            name: this.transformNode(node.name, queryId),\n            deferrable: node.deferrable,\n            initiallyDeferred: node.initiallyDeferred,\n        });\n    }\n    transformUniqueConstraint(node, queryId) {\n        return requireAllProps({\n            kind: 'UniqueConstraintNode',\n            columns: this.transformNodeList(node.columns, queryId),\n            name: this.transformNode(node.name, queryId),\n            nullsNotDistinct: node.nullsNotDistinct,\n            deferrable: node.deferrable,\n            initiallyDeferred: node.initiallyDeferred,\n        });\n    }\n    transformForeignKeyConstraint(node, queryId) {\n        return requireAllProps({\n            kind: 'ForeignKeyConstraintNode',\n            columns: this.transformNodeList(node.columns, queryId),\n            references: this.transformNode(node.references, queryId),\n            name: this.transformNode(node.name, queryId),\n            onDelete: node.onDelete,\n            onUpdate: node.onUpdate,\n            deferrable: node.deferrable,\n            initiallyDeferred: node.initiallyDeferred,\n        });\n    }\n    transformSetOperation(node, queryId) {\n        return requireAllProps({\n            kind: 'SetOperationNode',\n            operator: node.operator,\n            expression: this.transformNode(node.expression, queryId),\n            all: node.all,\n        });\n    }\n    transformReferences(node, queryId) {\n        return requireAllProps({\n            kind: 'ReferencesNode',\n            table: this.transformNode(node.table, queryId),\n            columns: this.transformNodeList(node.columns, queryId),\n            onDelete: node.onDelete,\n            onUpdate: node.onUpdate,\n        });\n    }\n    transformCheckConstraint(node, queryId) {\n        return requireAllProps({\n            kind: 'CheckConstraintNode',\n            expression: this.transformNode(node.expression, queryId),\n            name: this.transformNode(node.name, queryId),\n        });\n    }\n    transformWith(node, queryId) {\n        return requireAllProps({\n            kind: 'WithNode',\n            expressions: this.transformNodeList(node.expressions, queryId),\n            recursive: node.recursive,\n        });\n    }\n    transformCommonTableExpression(node, queryId) {\n        return requireAllProps({\n            kind: 'CommonTableExpressionNode',\n            name: this.transformNode(node.name, queryId),\n            materialized: node.materialized,\n            expression: this.transformNode(node.expression, queryId),\n        });\n    }\n    transformCommonTableExpressionName(node, queryId) {\n        return requireAllProps({\n            kind: 'CommonTableExpressionNameNode',\n            table: this.transformNode(node.table, queryId),\n            columns: this.transformNodeList(node.columns, queryId),\n        });\n    }\n    transformHaving(node, queryId) {\n        return requireAllProps({\n            kind: 'HavingNode',\n            having: this.transformNode(node.having, queryId),\n        });\n    }\n    transformCreateSchema(node, queryId) {\n        return requireAllProps({\n            kind: 'CreateSchemaNode',\n            schema: this.transformNode(node.schema, queryId),\n            ifNotExists: node.ifNotExists,\n        });\n    }\n    transformDropSchema(node, queryId) {\n        return requireAllProps({\n            kind: 'DropSchemaNode',\n            schema: this.transformNode(node.schema, queryId),\n            ifExists: node.ifExists,\n            cascade: node.cascade,\n        });\n    }\n    transformAlterTable(node, queryId) {\n        return requireAllProps({\n            kind: 'AlterTableNode',\n            table: this.transformNode(node.table, queryId),\n            renameTo: this.transformNode(node.renameTo, queryId),\n            setSchema: this.transformNode(node.setSchema, queryId),\n            columnAlterations: this.transformNodeList(node.columnAlterations, queryId),\n            addConstraint: this.transformNode(node.addConstraint, queryId),\n            dropConstraint: this.transformNode(node.dropConstraint, queryId),\n            renameConstraint: this.transformNode(node.renameConstraint, queryId),\n            addIndex: this.transformNode(node.addIndex, queryId),\n            dropIndex: this.transformNode(node.dropIndex, queryId),\n        });\n    }\n    transformDropColumn(node, queryId) {\n        return requireAllProps({\n            kind: 'DropColumnNode',\n            column: this.transformNode(node.column, queryId),\n        });\n    }\n    transformRenameColumn(node, queryId) {\n        return requireAllProps({\n            kind: 'RenameColumnNode',\n            column: this.transformNode(node.column, queryId),\n            renameTo: this.transformNode(node.renameTo, queryId),\n        });\n    }\n    transformAlterColumn(node, queryId) {\n        return requireAllProps({\n            kind: 'AlterColumnNode',\n            column: this.transformNode(node.column, queryId),\n            dataType: this.transformNode(node.dataType, queryId),\n            dataTypeExpression: this.transformNode(node.dataTypeExpression, queryId),\n            setDefault: this.transformNode(node.setDefault, queryId),\n            dropDefault: node.dropDefault,\n            setNotNull: node.setNotNull,\n            dropNotNull: node.dropNotNull,\n        });\n    }\n    transformModifyColumn(node, queryId) {\n        return requireAllProps({\n            kind: 'ModifyColumnNode',\n            column: this.transformNode(node.column, queryId),\n        });\n    }\n    transformAddConstraint(node, queryId) {\n        return requireAllProps({\n            kind: 'AddConstraintNode',\n            constraint: this.transformNode(node.constraint, queryId),\n        });\n    }\n    transformDropConstraint(node, queryId) {\n        return requireAllProps({\n            kind: 'DropConstraintNode',\n            constraintName: this.transformNode(node.constraintName, queryId),\n            ifExists: node.ifExists,\n            modifier: node.modifier,\n        });\n    }\n    transformRenameConstraint(node, queryId) {\n        return requireAllProps({\n            kind: 'RenameConstraintNode',\n            oldName: this.transformNode(node.oldName, queryId),\n            newName: this.transformNode(node.newName, queryId),\n        });\n    }\n    transformCreateView(node, queryId) {\n        return requireAllProps({\n            kind: 'CreateViewNode',\n            name: this.transformNode(node.name, queryId),\n            temporary: node.temporary,\n            orReplace: node.orReplace,\n            ifNotExists: node.ifNotExists,\n            materialized: node.materialized,\n            columns: this.transformNodeList(node.columns, queryId),\n            as: this.transformNode(node.as, queryId),\n        });\n    }\n    transformRefreshMaterializedView(node, queryId) {\n        return requireAllProps({\n            kind: 'RefreshMaterializedViewNode',\n            name: this.transformNode(node.name, queryId),\n            concurrently: node.concurrently,\n            withNoData: node.withNoData,\n        });\n    }\n    transformDropView(node, queryId) {\n        return requireAllProps({\n            kind: 'DropViewNode',\n            name: this.transformNode(node.name, queryId),\n            ifExists: node.ifExists,\n            materialized: node.materialized,\n            cascade: node.cascade,\n        });\n    }\n    transformGenerated(node, queryId) {\n        return requireAllProps({\n            kind: 'GeneratedNode',\n            byDefault: node.byDefault,\n            always: node.always,\n            identity: node.identity,\n            stored: node.stored,\n            expression: this.transformNode(node.expression, queryId),\n        });\n    }\n    transformDefaultValue(node, queryId) {\n        return requireAllProps({\n            kind: 'DefaultValueNode',\n            defaultValue: this.transformNode(node.defaultValue, queryId),\n        });\n    }\n    transformOn(node, queryId) {\n        return requireAllProps({\n            kind: 'OnNode',\n            on: this.transformNode(node.on, queryId),\n        });\n    }\n    transformSelectModifier(node, queryId) {\n        return requireAllProps({\n            kind: 'SelectModifierNode',\n            modifier: node.modifier,\n            rawModifier: this.transformNode(node.rawModifier, queryId),\n            of: this.transformNodeList(node.of, queryId),\n        });\n    }\n    transformCreateType(node, queryId) {\n        return requireAllProps({\n            kind: 'CreateTypeNode',\n            name: this.transformNode(node.name, queryId),\n            enum: this.transformNode(node.enum, queryId),\n        });\n    }\n    transformDropType(node, queryId) {\n        return requireAllProps({\n            kind: 'DropTypeNode',\n            name: this.transformNode(node.name, queryId),\n            ifExists: node.ifExists,\n        });\n    }\n    transformExplain(node, queryId) {\n        return requireAllProps({\n            kind: 'ExplainNode',\n            format: node.format,\n            options: this.transformNode(node.options, queryId),\n        });\n    }\n    transformSchemableIdentifier(node, queryId) {\n        return requireAllProps({\n            kind: 'SchemableIdentifierNode',\n            schema: this.transformNode(node.schema, queryId),\n            identifier: this.transformNode(node.identifier, queryId),\n        });\n    }\n    transformAggregateFunction(node, queryId) {\n        return requireAllProps({\n            kind: 'AggregateFunctionNode',\n            func: node.func,\n            aggregated: this.transformNodeList(node.aggregated, queryId),\n            distinct: node.distinct,\n            orderBy: this.transformNode(node.orderBy, queryId),\n            withinGroup: this.transformNode(node.withinGroup, queryId),\n            filter: this.transformNode(node.filter, queryId),\n            over: this.transformNode(node.over, queryId),\n        });\n    }\n    transformOver(node, queryId) {\n        return requireAllProps({\n            kind: 'OverNode',\n            orderBy: this.transformNode(node.orderBy, queryId),\n            partitionBy: this.transformNode(node.partitionBy, queryId),\n        });\n    }\n    transformPartitionBy(node, queryId) {\n        return requireAllProps({\n            kind: 'PartitionByNode',\n            items: this.transformNodeList(node.items, queryId),\n        });\n    }\n    transformPartitionByItem(node, queryId) {\n        return requireAllProps({\n            kind: 'PartitionByItemNode',\n            partitionBy: this.transformNode(node.partitionBy, queryId),\n        });\n    }\n    transformBinaryOperation(node, queryId) {\n        return requireAllProps({\n            kind: 'BinaryOperationNode',\n            leftOperand: this.transformNode(node.leftOperand, queryId),\n            operator: this.transformNode(node.operator, queryId),\n            rightOperand: this.transformNode(node.rightOperand, queryId),\n        });\n    }\n    transformUnaryOperation(node, queryId) {\n        return requireAllProps({\n            kind: 'UnaryOperationNode',\n            operator: this.transformNode(node.operator, queryId),\n            operand: this.transformNode(node.operand, queryId),\n        });\n    }\n    transformUsing(node, queryId) {\n        return requireAllProps({\n            kind: 'UsingNode',\n            tables: this.transformNodeList(node.tables, queryId),\n        });\n    }\n    transformFunction(node, queryId) {\n        return requireAllProps({\n            kind: 'FunctionNode',\n            func: node.func,\n            arguments: this.transformNodeList(node.arguments, queryId),\n        });\n    }\n    transformCase(node, queryId) {\n        return requireAllProps({\n            kind: 'CaseNode',\n            value: this.transformNode(node.value, queryId),\n            when: this.transformNodeList(node.when, queryId),\n            else: this.transformNode(node.else, queryId),\n            isStatement: node.isStatement,\n        });\n    }\n    transformWhen(node, queryId) {\n        return requireAllProps({\n            kind: 'WhenNode',\n            condition: this.transformNode(node.condition, queryId),\n            result: this.transformNode(node.result, queryId),\n        });\n    }\n    transformJSONReference(node, queryId) {\n        return requireAllProps({\n            kind: 'JSONReferenceNode',\n            reference: this.transformNode(node.reference, queryId),\n            traversal: this.transformNode(node.traversal, queryId),\n        });\n    }\n    transformJSONPath(node, queryId) {\n        return requireAllProps({\n            kind: 'JSONPathNode',\n            inOperator: this.transformNode(node.inOperator, queryId),\n            pathLegs: this.transformNodeList(node.pathLegs, queryId),\n        });\n    }\n    transformJSONPathLeg(node, _queryId) {\n        return requireAllProps({\n            kind: 'JSONPathLegNode',\n            type: node.type,\n            value: node.value,\n        });\n    }\n    transformJSONOperatorChain(node, queryId) {\n        return requireAllProps({\n            kind: 'JSONOperatorChainNode',\n            operator: this.transformNode(node.operator, queryId),\n            values: this.transformNodeList(node.values, queryId),\n        });\n    }\n    transformTuple(node, queryId) {\n        return requireAllProps({\n            kind: 'TupleNode',\n            values: this.transformNodeList(node.values, queryId),\n        });\n    }\n    transformMergeQuery(node, queryId) {\n        return requireAllProps({\n            kind: 'MergeQueryNode',\n            into: this.transformNode(node.into, queryId),\n            using: this.transformNode(node.using, queryId),\n            whens: this.transformNodeList(node.whens, queryId),\n            with: this.transformNode(node.with, queryId),\n            top: this.transformNode(node.top, queryId),\n            endModifiers: this.transformNodeList(node.endModifiers, queryId),\n            output: this.transformNode(node.output, queryId),\n            returning: this.transformNode(node.returning, queryId),\n        });\n    }\n    transformMatched(node, _queryId) {\n        return requireAllProps({\n            kind: 'MatchedNode',\n            not: node.not,\n            bySource: node.bySource,\n        });\n    }\n    transformAddIndex(node, queryId) {\n        return requireAllProps({\n            kind: 'AddIndexNode',\n            name: this.transformNode(node.name, queryId),\n            columns: this.transformNodeList(node.columns, queryId),\n            unique: node.unique,\n            using: this.transformNode(node.using, queryId),\n            ifNotExists: node.ifNotExists,\n        });\n    }\n    transformCast(node, queryId) {\n        return requireAllProps({\n            kind: 'CastNode',\n            expression: this.transformNode(node.expression, queryId),\n            dataType: this.transformNode(node.dataType, queryId),\n        });\n    }\n    transformFetch(node, queryId) {\n        return requireAllProps({\n            kind: 'FetchNode',\n            rowCount: this.transformNode(node.rowCount, queryId),\n            modifier: node.modifier,\n        });\n    }\n    transformTop(node, _queryId) {\n        return requireAllProps({\n            kind: 'TopNode',\n            expression: node.expression,\n            modifiers: node.modifiers,\n        });\n    }\n    transformOutput(node, queryId) {\n        return requireAllProps({\n            kind: 'OutputNode',\n            selections: this.transformNodeList(node.selections, queryId),\n        });\n    }\n    transformDataType(node, _queryId) {\n        // An Object.freezed leaf node. No need to clone.\n        return node;\n    }\n    transformSelectAll(node, _queryId) {\n        // An Object.freezed leaf node. No need to clone.\n        return node;\n    }\n    transformIdentifier(node, _queryId) {\n        // An Object.freezed leaf node. No need to clone.\n        return node;\n    }\n    transformValue(node, _queryId) {\n        // An Object.freezed leaf node. No need to clone.\n        return node;\n    }\n    transformPrimitiveValueList(node, _queryId) {\n        // An Object.freezed leaf node. No need to clone.\n        return node;\n    }\n    transformOperator(node, _queryId) {\n        // An Object.freezed leaf node. No need to clone.\n        return node;\n    }\n    transformDefaultInsertValue(node, _queryId) {\n        // An Object.freezed leaf node. No need to clone.\n        return node;\n    }\n    transformOrAction(node, _queryId) {\n        // An Object.freezed leaf node. No need to clone.\n        return node;\n    }\n    transformCollate(node, _queryId) {\n        // An Object.freezed leaf node. No need to clone.\n        return node;\n    }\n}\n", "/// <reference types=\"./with-schema-transformer.d.ts\" />\nimport { AliasNode } from '../../operation-node/alias-node.js';\nimport { IdentifierNode } from '../../operation-node/identifier-node.js';\nimport { ListNode } from '../../operation-node/list-node.js';\nimport { OperationNodeTransformer } from '../../operation-node/operation-node-transformer.js';\nimport { SchemableIdentifierNode } from '../../operation-node/schemable-identifier-node.js';\nimport { TableNode } from '../../operation-node/table-node.js';\nimport { freeze } from '../../util/object-utils.js';\n// This object exist only so that we get a type error when a new RootOperationNode\n// is added. If you get a type error here, make sure to add the new root node and\n// handle it correctly in the transformer.\n//\n// DO NOT REFACTOR THIS EVEN IF IT SEEMS USELESS TO YOU!\nconst ROOT_OPERATION_NODES = freeze({\n    AlterTableNode: true,\n    CreateIndexNode: true,\n    CreateSchemaNode: true,\n    CreateTableNode: true,\n    CreateTypeNode: true,\n    CreateViewNode: true,\n    RefreshMaterializedViewNode: true,\n    DeleteQueryNode: true,\n    DropIndexNode: true,\n    DropSchemaNode: true,\n    DropTableNode: true,\n    DropTypeNode: true,\n    DropViewNode: true,\n    InsertQueryNode: true,\n    RawNode: true,\n    SelectQueryNode: true,\n    UpdateQueryNode: true,\n    MergeQueryNode: true,\n});\nconst SCHEMALESS_FUNCTIONS = {\n    json_agg: true,\n    to_json: true,\n};\nexport class WithSchemaTransformer extends OperationNodeTransformer {\n    #schema;\n    #schemableIds = new Set();\n    #ctes = new Set();\n    constructor(schema) {\n        super();\n        this.#schema = schema;\n    }\n    transformNodeImpl(node, queryId) {\n        if (!this.#isRootOperationNode(node)) {\n            return super.transformNodeImpl(node, queryId);\n        }\n        const ctes = this.#collectCTEs(node);\n        for (const cte of ctes) {\n            this.#ctes.add(cte);\n        }\n        const tables = this.#collectSchemableIds(node);\n        for (const table of tables) {\n            this.#schemableIds.add(table);\n        }\n        const transformed = super.transformNodeImpl(node, queryId);\n        for (const table of tables) {\n            this.#schemableIds.delete(table);\n        }\n        for (const cte of ctes) {\n            this.#ctes.delete(cte);\n        }\n        return transformed;\n    }\n    transformSchemableIdentifier(node, queryId) {\n        const transformed = super.transformSchemableIdentifier(node, queryId);\n        if (transformed.schema || !this.#schemableIds.has(node.identifier.name)) {\n            return transformed;\n        }\n        return {\n            ...transformed,\n            schema: IdentifierNode.create(this.#schema),\n        };\n    }\n    transformReferences(node, queryId) {\n        const transformed = super.transformReferences(node, queryId);\n        if (transformed.table.table.schema) {\n            return transformed;\n        }\n        return {\n            ...transformed,\n            table: TableNode.createWithSchema(this.#schema, transformed.table.table.identifier.name),\n        };\n    }\n    transformAggregateFunction(node, queryId) {\n        return {\n            ...super.transformAggregateFunction({ ...node, aggregated: [] }, queryId),\n            aggregated: this.#transformTableArgsWithoutSchemas(node, queryId, 'aggregated'),\n        };\n    }\n    transformFunction(node, queryId) {\n        return {\n            ...super.transformFunction({ ...node, arguments: [] }, queryId),\n            arguments: this.#transformTableArgsWithoutSchemas(node, queryId, 'arguments'),\n        };\n    }\n    #transformTableArgsWithoutSchemas(node, queryId, argsKey) {\n        return SCHEMALESS_FUNCTIONS[node.func]\n            ? node[argsKey].map((arg) => !TableNode.is(arg) || arg.table.schema\n                ? this.transformNode(arg, queryId)\n                : {\n                    ...arg,\n                    table: this.transformIdentifier(arg.table.identifier, queryId),\n                })\n            : this.transformNodeList(node[argsKey], queryId);\n    }\n    #isRootOperationNode(node) {\n        return node.kind in ROOT_OPERATION_NODES;\n    }\n    #collectSchemableIds(node) {\n        const schemableIds = new Set();\n        if ('name' in node && node.name && SchemableIdentifierNode.is(node.name)) {\n            this.#collectSchemableId(node.name, schemableIds);\n        }\n        if ('from' in node && node.from) {\n            for (const from of node.from.froms) {\n                this.#collectSchemableIdsFromTableExpr(from, schemableIds);\n            }\n        }\n        if ('into' in node && node.into) {\n            this.#collectSchemableIdsFromTableExpr(node.into, schemableIds);\n        }\n        if ('table' in node && node.table) {\n            this.#collectSchemableIdsFromTableExpr(node.table, schemableIds);\n        }\n        if ('joins' in node && node.joins) {\n            for (const join of node.joins) {\n                this.#collectSchemableIdsFromTableExpr(join.table, schemableIds);\n            }\n        }\n        if ('using' in node && node.using) {\n            this.#collectSchemableIdsFromTableExpr(node.using, schemableIds);\n        }\n        return schemableIds;\n    }\n    #collectCTEs(node) {\n        const ctes = new Set();\n        if ('with' in node && node.with) {\n            this.#collectCTEIds(node.with, ctes);\n        }\n        return ctes;\n    }\n    #collectSchemableIdsFromTableExpr(node, schemableIds) {\n        if (TableNode.is(node)) {\n            this.#collectSchemableId(node.table, schemableIds);\n        }\n        else if (AliasNode.is(node) && TableNode.is(node.node)) {\n            this.#collectSchemableId(node.node.table, schemableIds);\n        }\n        else if (ListNode.is(node)) {\n            for (const table of node.items) {\n                this.#collectSchemableIdsFromTableExpr(table, schemableIds);\n            }\n        }\n    }\n    #collectSchemableId(node, schemableIds) {\n        const id = node.identifier.name;\n        if (!this.#schemableIds.has(id) && !this.#ctes.has(id)) {\n            schemableIds.add(id);\n        }\n    }\n    #collectCTEIds(node, ctes) {\n        for (const expr of node.expressions) {\n            const cteId = expr.name.table.table.identifier.name;\n            if (!this.#ctes.has(cteId)) {\n                ctes.add(cteId);\n            }\n        }\n    }\n}\n", "/// <reference types=\"./with-schema-plugin.d.ts\" />\nimport { WithSchemaTransformer } from './with-schema-transformer.js';\nexport class WithSchemaPlugin {\n    #transformer;\n    constructor(schema) {\n        this.#transformer = new WithSchemaTransformer(schema);\n    }\n    transformQuery(args) {\n        return this.#transformer.transformNode(args.node, args.queryId);\n    }\n    async transformResult(args) {\n        return args.result;\n    }\n}\n", "/// <reference types=\"./matched-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const MatchedNode = freeze({\n    is(node) {\n        return node.kind === 'MatchedNode';\n    },\n    create(not, bySource = false) {\n        return freeze({\n            kind: 'MatchedNode',\n            not,\n            bySource,\n        });\n    },\n});\n", "/// <reference types=\"./merge-parser.d.ts\" />\nimport { MatchedNode } from '../operation-node/matched-node.js';\nimport { isOperationNodeSource, } from '../operation-node/operation-node-source.js';\nimport { RawNode } from '../operation-node/raw-node.js';\nimport { WhenNode } from '../operation-node/when-node.js';\nimport { isString } from '../util/object-utils.js';\nimport { parseFilterList, parseReferentialBinaryOperation, parseValueBinaryOperationOrExpression, } from './binary-operation-parser.js';\nexport function parseMergeWhen(type, args, refRight) {\n    return WhenNode.create(parseFilterList([\n        MatchedNode.create(!type.isMatched, type.bySource),\n        ...(args && args.length > 0\n            ? [\n                args.length === 3 && refRight\n                    ? parseReferentialBinaryOperation(args[0], args[1], args[2])\n                    : parseValueBinaryOperationOrExpression(args),\n            ]\n            : []),\n    ], 'and', false));\n}\nexport function parseMergeThen(result) {\n    if (isString(result)) {\n        return RawNode.create([result], []);\n    }\n    if (isOperationNodeSource(result)) {\n        return result.toOperationNode();\n    }\n    return result;\n}\n", "/// <reference types=\"./deferred.d.ts\" />\nexport class Deferred {\n    #promise;\n    #resolve;\n    #reject;\n    constructor() {\n        this.#promise = new Promise((resolve, reject) => {\n            this.#reject = reject;\n            this.#resolve = resolve;\n        });\n    }\n    get promise() {\n        return this.#promise;\n    }\n    resolve = (value) => {\n        if (this.#resolve) {\n            this.#resolve(value);\n        }\n    };\n    reject = (reason) => {\n        if (this.#reject) {\n            this.#reject(reason);\n        }\n    };\n}\n", "/// <reference types=\"./provide-controlled-connection.d.ts\" />\nimport { Deferred } from './deferred.js';\nimport { freeze } from './object-utils.js';\nexport async function provideControlledConnection(connectionProvider) {\n    const connectionDefer = new Deferred();\n    const connectionReleaseDefer = new Deferred();\n    connectionProvider\n        .provideConnection(async (connection) => {\n        connectionDefer.resolve(connection);\n        return await connectionReleaseDefer.promise;\n    })\n        .catch((ex) => connectionDefer.reject(ex));\n    // Create composite of the connection and the release method instead of\n    // modifying the connection or creating a new nesting `DatabaseConnection`.\n    // This way we don't accidentally override any methods of 3rd party\n    // connections and don't return wrapped connections to drivers that\n    // expect a certain specific connection class.\n    return freeze({\n        connection: await connectionDefer.promise,\n        release: connectionReleaseDefer.resolve,\n    });\n}\n", "/// <reference types=\"./query-executor-base.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { provideControlledConnection } from '../util/provide-controlled-connection.js';\nimport { logOnce } from '../util/log-once.js';\nconst NO_PLUGINS = freeze([]);\nexport class QueryExecutorBase {\n    #plugins;\n    constructor(plugins = NO_PLUGINS) {\n        this.#plugins = plugins;\n    }\n    get plugins() {\n        return this.#plugins;\n    }\n    transformQuery(node, queryId) {\n        for (const plugin of this.#plugins) {\n            const transformedNode = plugin.transformQuery({ node, queryId });\n            // We need to do a runtime check here. There is no good way\n            // to write types that enforce this constraint.\n            if (transformedNode.kind === node.kind) {\n                node = transformedNode;\n            }\n            else {\n                throw new Error([\n                    `KyselyPlugin.transformQuery must return a node`,\n                    `of the same kind that was given to it.`,\n                    `The plugin was given a ${node.kind}`,\n                    `but it returned a ${transformedNode.kind}`,\n                ].join(' '));\n            }\n        }\n        return node;\n    }\n    async executeQuery(compiledQuery) {\n        return await this.provideConnection(async (connection) => {\n            const result = await connection.executeQuery(compiledQuery);\n            if ('numUpdatedOrDeletedRows' in result) {\n                logOnce('kysely:warning: outdated driver/plugin detected! `QueryResult.numUpdatedOrDeletedRows` has been replaced with `QueryResult.numAffectedRows`.');\n            }\n            return await this.#transformResult(result, compiledQuery.queryId);\n        });\n    }\n    async *stream(compiledQuery, chunkSize) {\n        const { connection, release } = await provideControlledConnection(this);\n        try {\n            for await (const result of connection.streamQuery(compiledQuery, chunkSize)) {\n                yield await this.#transformResult(result, compiledQuery.queryId);\n            }\n        }\n        finally {\n            release();\n        }\n    }\n    async #transformResult(result, queryId) {\n        for (const plugin of this.#plugins) {\n            result = await plugin.transformResult({ result, queryId });\n        }\n        return result;\n    }\n}\n", "/// <reference types=\"./noop-query-executor.d.ts\" />\nimport { QueryExecutorBase } from './query-executor-base.js';\n/**\n * A {@link QueryExecutor} subclass that can be used when you don't\n * have a {@link QueryCompiler}, {@link ConnectionProvider} or any\n * other needed things to actually execute queries.\n */\nexport class NoopQueryExecutor extends QueryExecutorBase {\n    get adapter() {\n        throw new Error('this query cannot be compiled to SQL');\n    }\n    compileQuery() {\n        throw new Error('this query cannot be compiled to SQL');\n    }\n    provideConnection() {\n        throw new Error('this query cannot be executed');\n    }\n    withConnectionProvider() {\n        throw new Error('this query cannot have a connection provider');\n    }\n    withPlugin(plugin) {\n        return new NoopQueryExecutor([...this.plugins, plugin]);\n    }\n    withPlugins(plugins) {\n        return new NoopQueryExecutor([...this.plugins, ...plugins]);\n    }\n    withPluginAtFront(plugin) {\n        return new NoopQueryExecutor([plugin, ...this.plugins]);\n    }\n    withoutPlugins() {\n        return new NoopQueryExecutor([]);\n    }\n}\nexport const NOOP_QUERY_EXECUTOR = new NoopQueryExecutor();\n", "/// <reference types=\"./merge-result.d.ts\" />\nexport class MergeResult {\n    numChangedRows;\n    constructor(numChangedRows) {\n        this.numChangedRows = numChangedRows;\n    }\n}\n", "/// <reference types=\"./merge-query-builder.d.ts\" />\nimport { InsertQueryNode } from '../operation-node/insert-query-node.js';\nimport { MergeQueryNode } from '../operation-node/merge-query-node.js';\nimport { QueryNode } from '../operation-node/query-node.js';\nimport { UpdateQueryNode } from '../operation-node/update-query-node.js';\nimport { parseInsertExpression, } from '../parser/insert-values-parser.js';\nimport { parseJoin, } from '../parser/join-parser.js';\nimport { parseMergeThen, parseMergeWhen } from '../parser/merge-parser.js';\nimport { parseSelectAll, parseSelectArg, } from '../parser/select-parser.js';\nimport { parseTop } from '../parser/top-parser.js';\nimport { NOOP_QUERY_EXECUTOR } from '../query-executor/noop-query-executor.js';\nimport { freeze } from '../util/object-utils.js';\nimport { MergeResult } from './merge-result.js';\nimport { NoResultError, isNoResultErrorConstructor, } from './no-result-error.js';\nimport { UpdateQueryBuilder } from './update-query-builder.js';\nexport class MergeQueryBuilder {\n    #props;\n    constructor(props) {\n        this.#props = freeze(props);\n    }\n    /**\n     * This can be used to add any additional SQL to the end of the query.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * import { sql } from 'kysely'\n     *\n     * await db\n     *   .mergeInto('person')\n     *   .using('pet', 'pet.owner_id', 'person.id')\n     *   .whenMatched()\n     *   .thenDelete()\n     *   .modifyEnd(sql.raw('-- this is a comment'))\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * merge into \"person\" using \"pet\" on \"pet\".\"owner_id\" = \"person\".\"id\" when matched then delete -- this is a comment\n     * ```\n     */\n    modifyEnd(modifier) {\n        return new MergeQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithEndModifier(this.#props.queryNode, modifier.toOperationNode()),\n        });\n    }\n    /**\n     * Changes a `merge into` query to an `merge top into` query.\n     *\n     * `top` clause is only supported by some dialects like MS SQL Server.\n     *\n     * ### Examples\n     *\n     * Affect 5 matched rows at most:\n     *\n     * ```ts\n     * await db.mergeInto('person')\n     *   .top(5)\n     *   .using('pet', 'person.id', 'pet.owner_id')\n     *   .whenMatched()\n     *   .thenDelete()\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (MS SQL Server):\n     *\n     * ```sql\n     * merge top(5) into \"person\"\n     * using \"pet\" on \"person\".\"id\" = \"pet\".\"owner_id\"\n     * when matched then\n     *   delete\n     * ```\n     *\n     * Affect 50% of matched rows:\n     *\n     * ```ts\n     * await db.mergeInto('person')\n     *   .top(50, 'percent')\n     *   .using('pet', 'person.id', 'pet.owner_id')\n     *   .whenMatched()\n     *   .thenDelete()\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (MS SQL Server):\n     *\n     * ```sql\n     * merge top(50) percent into \"person\"\n     * using \"pet\" on \"person\".\"id\" = \"pet\".\"owner_id\"\n     * when matched then\n     *   delete\n     * ```\n     */\n    top(expression, modifiers) {\n        return new MergeQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithTop(this.#props.queryNode, parseTop(expression, modifiers)),\n        });\n    }\n    using(...args) {\n        return new WheneableMergeQueryBuilder({\n            ...this.#props,\n            queryNode: MergeQueryNode.cloneWithUsing(this.#props.queryNode, parseJoin('Using', args)),\n        });\n    }\n    returning(args) {\n        return new MergeQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithReturning(this.#props.queryNode, parseSelectArg(args)),\n        });\n    }\n    returningAll(table) {\n        return new MergeQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithReturning(this.#props.queryNode, parseSelectAll(table)),\n        });\n    }\n    output(args) {\n        return new MergeQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithOutput(this.#props.queryNode, parseSelectArg(args)),\n        });\n    }\n    outputAll(table) {\n        return new MergeQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithOutput(this.#props.queryNode, parseSelectAll(table)),\n        });\n    }\n}\nexport class WheneableMergeQueryBuilder {\n    #props;\n    constructor(props) {\n        this.#props = freeze(props);\n    }\n    /**\n     * This can be used to add any additional SQL to the end of the query.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * import { sql } from 'kysely'\n     *\n     * await db\n     *   .mergeInto('person')\n     *   .using('pet', 'pet.owner_id', 'person.id')\n     *   .whenMatched()\n     *   .thenDelete()\n     *   .modifyEnd(sql.raw('-- this is a comment'))\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * merge into \"person\" using \"pet\" on \"pet\".\"owner_id\" = \"person\".\"id\" when matched then delete -- this is a comment\n     * ```\n     */\n    modifyEnd(modifier) {\n        return new WheneableMergeQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithEndModifier(this.#props.queryNode, modifier.toOperationNode()),\n        });\n    }\n    /**\n     * See {@link MergeQueryBuilder.top}.\n     */\n    top(expression, modifiers) {\n        return new WheneableMergeQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithTop(this.#props.queryNode, parseTop(expression, modifiers)),\n        });\n    }\n    /**\n     * Adds a simple `when matched` clause to the query.\n     *\n     * For a `when matched` clause with an `and` condition, see {@link whenMatchedAnd}.\n     *\n     * For a simple `when not matched` clause, see {@link whenNotMatched}.\n     *\n     * For a `when not matched` clause with an `and` condition, see {@link whenNotMatchedAnd}.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * const result = await db.mergeInto('person')\n     *   .using('pet', 'person.id', 'pet.owner_id')\n     *   .whenMatched()\n     *   .thenDelete()\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * merge into \"person\"\n     * using \"pet\" on \"person\".\"id\" = \"pet\".\"owner_id\"\n     * when matched then\n     *   delete\n     * ```\n     */\n    whenMatched() {\n        return this.#whenMatched([]);\n    }\n    whenMatchedAnd(...args) {\n        return this.#whenMatched(args);\n    }\n    /**\n     * Adds the `when matched` clause to the query with an `and` condition. But unlike\n     * {@link whenMatchedAnd}, this method accepts a column reference as the 3rd argument.\n     *\n     * This method is similar to {@link SelectQueryBuilder.whereRef}, so see the documentation\n     * for that method for more examples.\n     */\n    whenMatchedAndRef(lhs, op, rhs) {\n        return this.#whenMatched([lhs, op, rhs], true);\n    }\n    #whenMatched(args, refRight) {\n        return new MatchedThenableMergeQueryBuilder({\n            ...this.#props,\n            queryNode: MergeQueryNode.cloneWithWhen(this.#props.queryNode, parseMergeWhen({ isMatched: true }, args, refRight)),\n        });\n    }\n    /**\n     * Adds a simple `when not matched` clause to the query.\n     *\n     * For a `when not matched` clause with an `and` condition, see {@link whenNotMatchedAnd}.\n     *\n     * For a simple `when matched` clause, see {@link whenMatched}.\n     *\n     * For a `when matched` clause with an `and` condition, see {@link whenMatchedAnd}.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * const result = await db.mergeInto('person')\n     *   .using('pet', 'person.id', 'pet.owner_id')\n     *   .whenNotMatched()\n     *   .thenInsertValues({\n     *     first_name: 'John',\n     *     last_name: 'Doe',\n     *   })\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * merge into \"person\"\n     * using \"pet\" on \"person\".\"id\" = \"pet\".\"owner_id\"\n     * when not matched then\n     *   insert (\"first_name\", \"last_name\") values ($1, $2)\n     * ```\n     */\n    whenNotMatched() {\n        return this.#whenNotMatched([]);\n    }\n    whenNotMatchedAnd(...args) {\n        return this.#whenNotMatched(args);\n    }\n    /**\n     * Adds the `when not matched` clause to the query with an `and` condition. But unlike\n     * {@link whenNotMatchedAnd}, this method accepts a column reference as the 3rd argument.\n     *\n     * Unlike {@link whenMatchedAndRef}, you cannot reference columns from the target table.\n     *\n     * This method is similar to {@link SelectQueryBuilder.whereRef}, so see the documentation\n     * for that method for more examples.\n     */\n    whenNotMatchedAndRef(lhs, op, rhs) {\n        return this.#whenNotMatched([lhs, op, rhs], true);\n    }\n    /**\n     * Adds a simple `when not matched by source` clause to the query.\n     *\n     * Supported in MS SQL Server.\n     *\n     * Similar to {@link whenNotMatched}, but returns a {@link MatchedThenableMergeQueryBuilder}.\n     */\n    whenNotMatchedBySource() {\n        return this.#whenNotMatched([], false, true);\n    }\n    whenNotMatchedBySourceAnd(...args) {\n        return this.#whenNotMatched(args, false, true);\n    }\n    /**\n     * Adds the `when not matched by source` clause to the query with an `and` condition.\n     *\n     * Similar to {@link whenNotMatchedAndRef}, but you can reference columns from\n     * the target table, and not from source table and returns a {@link MatchedThenableMergeQueryBuilder}.\n     */\n    whenNotMatchedBySourceAndRef(lhs, op, rhs) {\n        return this.#whenNotMatched([lhs, op, rhs], true, true);\n    }\n    returning(args) {\n        return new WheneableMergeQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithReturning(this.#props.queryNode, parseSelectArg(args)),\n        });\n    }\n    returningAll(table) {\n        return new WheneableMergeQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithReturning(this.#props.queryNode, parseSelectAll(table)),\n        });\n    }\n    output(args) {\n        return new WheneableMergeQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithOutput(this.#props.queryNode, parseSelectArg(args)),\n        });\n    }\n    outputAll(table) {\n        return new WheneableMergeQueryBuilder({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithOutput(this.#props.queryNode, parseSelectAll(table)),\n        });\n    }\n    #whenNotMatched(args, refRight = false, bySource = false) {\n        const props = {\n            ...this.#props,\n            queryNode: MergeQueryNode.cloneWithWhen(this.#props.queryNode, parseMergeWhen({ isMatched: false, bySource }, args, refRight)),\n        };\n        const Builder = bySource\n            ? MatchedThenableMergeQueryBuilder\n            : NotMatchedThenableMergeQueryBuilder;\n        return new Builder(props);\n    }\n    /**\n     * Simply calls the provided function passing `this` as the only argument. `$call` returns\n     * what the provided function returns.\n     *\n     * If you want to conditionally call a method on `this`, see\n     * the {@link $if} method.\n     *\n     * ### Examples\n     *\n     * The next example uses a helper function `log` to log a query:\n     *\n     * ```ts\n     * import type { Compilable } from 'kysely'\n     *\n     * function log<T extends Compilable>(qb: T): T {\n     *   console.log(qb.compile())\n     *   return qb\n     * }\n     *\n     * await db.updateTable('person')\n     *   .set({ first_name: 'John' })\n     *   .$call(log)\n     *   .execute()\n     * ```\n     */\n    $call(func) {\n        return func(this);\n    }\n    /**\n     * Call `func(this)` if `condition` is true.\n     *\n     * This method is especially handy with optional selects. Any `returning` or `returningAll`\n     * method calls add columns as optional fields to the output type when called inside\n     * the `func` callback. This is because we can't know if those selections were actually\n     * made before running the code.\n     *\n     * You can also call any other methods inside the callback.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * import type { PersonUpdate } from 'type-editor' // imaginary module\n     *\n     * async function updatePerson(id: number, updates: PersonUpdate, returnLastName: boolean) {\n     *   return await db\n     *     .updateTable('person')\n     *     .set(updates)\n     *     .where('id', '=', id)\n     *     .returning(['id', 'first_name'])\n     *     .$if(returnLastName, (qb) => qb.returning('last_name'))\n     *     .executeTakeFirstOrThrow()\n     * }\n     * ```\n     *\n     * Any selections added inside the `if` callback will be added as optional fields to the\n     * output type since we can't know if the selections were actually made before running\n     * the code. In the example above the return type of the `updatePerson` function is:\n     *\n     * ```ts\n     * Promise<{\n     *   id: number\n     *   first_name: string\n     *   last_name?: string\n     * }>\n     * ```\n     */\n    $if(condition, func) {\n        if (condition) {\n            return func(this);\n        }\n        return new WheneableMergeQueryBuilder({\n            ...this.#props,\n        });\n    }\n    toOperationNode() {\n        return this.#props.executor.transformQuery(this.#props.queryNode, this.#props.queryId);\n    }\n    compile() {\n        return this.#props.executor.compileQuery(this.toOperationNode(), this.#props.queryId);\n    }\n    /**\n     * Executes the query and returns an array of rows.\n     *\n     * Also see the {@link executeTakeFirst} and {@link executeTakeFirstOrThrow} methods.\n     */\n    async execute() {\n        const compiledQuery = this.compile();\n        const result = await this.#props.executor.executeQuery(compiledQuery);\n        const { adapter } = this.#props.executor;\n        const query = compiledQuery.query;\n        if ((query.returning && adapter.supportsReturning) ||\n            (query.output && adapter.supportsOutput)) {\n            return result.rows;\n        }\n        return [new MergeResult(result.numAffectedRows)];\n    }\n    /**\n     * Executes the query and returns the first result or undefined if\n     * the query returned no result.\n     */\n    async executeTakeFirst() {\n        const [result] = await this.execute();\n        return result;\n    }\n    /**\n     * Executes the query and returns the first result or throws if\n     * the query returned no result.\n     *\n     * By default an instance of {@link NoResultError} is thrown, but you can\n     * provide a custom error class, or callback as the only argument to throw a different\n     * error.\n     */\n    async executeTakeFirstOrThrow(errorConstructor = NoResultError) {\n        const result = await this.executeTakeFirst();\n        if (result === undefined) {\n            const error = isNoResultErrorConstructor(errorConstructor)\n                ? new errorConstructor(this.toOperationNode())\n                : errorConstructor(this.toOperationNode());\n            throw error;\n        }\n        return result;\n    }\n}\nexport class MatchedThenableMergeQueryBuilder {\n    #props;\n    constructor(props) {\n        this.#props = freeze(props);\n    }\n    /**\n     * Performs the `delete` action.\n     *\n     * To perform the `do nothing` action, see {@link thenDoNothing}.\n     *\n     * To perform the `update` action, see {@link thenUpdate} or {@link thenUpdateSet}.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * const result = await db.mergeInto('person')\n     *   .using('pet', 'person.id', 'pet.owner_id')\n     *   .whenMatched()\n     *   .thenDelete()\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * merge into \"person\"\n     * using \"pet\" on \"person\".\"id\" = \"pet\".\"owner_id\"\n     * when matched then\n     *   delete\n     * ```\n     */\n    thenDelete() {\n        return new WheneableMergeQueryBuilder({\n            ...this.#props,\n            queryNode: MergeQueryNode.cloneWithThen(this.#props.queryNode, parseMergeThen('delete')),\n        });\n    }\n    /**\n     * Performs the `do nothing` action.\n     *\n     * This is supported in PostgreSQL.\n     *\n     * To perform the `delete` action, see {@link thenDelete}.\n     *\n     * To perform the `update` action, see {@link thenUpdate} or {@link thenUpdateSet}.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * const result = await db.mergeInto('person')\n     *   .using('pet', 'person.id', 'pet.owner_id')\n     *   .whenMatched()\n     *   .thenDoNothing()\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * merge into \"person\"\n     * using \"pet\" on \"person\".\"id\" = \"pet\".\"owner_id\"\n     * when matched then\n     *   do nothing\n     * ```\n     */\n    thenDoNothing() {\n        return new WheneableMergeQueryBuilder({\n            ...this.#props,\n            queryNode: MergeQueryNode.cloneWithThen(this.#props.queryNode, parseMergeThen('do nothing')),\n        });\n    }\n    /**\n     * Perform an `update` operation with a full-fledged {@link UpdateQueryBuilder}.\n     * This is handy when multiple `set` invocations are needed.\n     *\n     * For a shorthand version of this method, see {@link thenUpdateSet}.\n     *\n     * To perform the `delete` action, see {@link thenDelete}.\n     *\n     * To perform the `do nothing` action, see {@link thenDoNothing}.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * import { sql } from 'kysely'\n     *\n     * const result = await db.mergeInto('person')\n     *   .using('pet', 'person.id', 'pet.owner_id')\n     *   .whenMatched()\n     *   .thenUpdate((ub) => ub\n     *     .set(sql`metadata['has_pets']`, 'Y')\n     *     .set({\n     *       updated_at: new Date().toISOString(),\n     *     })\n     *   )\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * merge into \"person\"\n     * using \"pet\" on \"person\".\"id\" = \"pet\".\"owner_id\"\n     * when matched then\n     *   update set metadata['has_pets'] = $1, \"updated_at\" = $2\n     * ```\n     */\n    thenUpdate(set) {\n        return new WheneableMergeQueryBuilder({\n            ...this.#props,\n            queryNode: MergeQueryNode.cloneWithThen(this.#props.queryNode, parseMergeThen(set(new UpdateQueryBuilder({\n                queryId: this.#props.queryId,\n                executor: NOOP_QUERY_EXECUTOR,\n                queryNode: UpdateQueryNode.createWithoutTable(),\n            })))),\n        });\n    }\n    thenUpdateSet(...args) {\n        // @ts-ignore not sure how to type this so it won't complain about set(...args).\n        return this.thenUpdate((ub) => ub.set(...args));\n    }\n}\nexport class NotMatchedThenableMergeQueryBuilder {\n    #props;\n    constructor(props) {\n        this.#props = freeze(props);\n    }\n    /**\n     * Performs the `do nothing` action.\n     *\n     * This is supported in PostgreSQL.\n     *\n     * To perform the `insert` action, see {@link thenInsertValues}.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * const result = await db.mergeInto('person')\n     *   .using('pet', 'person.id', 'pet.owner_id')\n     *   .whenNotMatched()\n     *   .thenDoNothing()\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * merge into \"person\"\n     * using \"pet\" on \"person\".\"id\" = \"pet\".\"owner_id\"\n     * when not matched then\n     *   do nothing\n     * ```\n     */\n    thenDoNothing() {\n        return new WheneableMergeQueryBuilder({\n            ...this.#props,\n            queryNode: MergeQueryNode.cloneWithThen(this.#props.queryNode, parseMergeThen('do nothing')),\n        });\n    }\n    thenInsertValues(insert) {\n        const [columns, values] = parseInsertExpression(insert);\n        return new WheneableMergeQueryBuilder({\n            ...this.#props,\n            queryNode: MergeQueryNode.cloneWithThen(this.#props.queryNode, parseMergeThen(InsertQueryNode.cloneWith(InsertQueryNode.createWithoutInto(), {\n                columns,\n                values,\n            }))),\n        });\n    }\n}\n", "/// <reference types=\"./query-creator.d.ts\" />\nimport { createSelectQueryBuilder, } from './query-builder/select-query-builder.js';\nimport { InsertQueryBuilder } from './query-builder/insert-query-builder.js';\nimport { DeleteQueryBuilder } from './query-builder/delete-query-builder.js';\nimport { UpdateQueryBuilder } from './query-builder/update-query-builder.js';\nimport { DeleteQueryNode } from './operation-node/delete-query-node.js';\nimport { InsertQueryNode } from './operation-node/insert-query-node.js';\nimport { SelectQueryNode } from './operation-node/select-query-node.js';\nimport { UpdateQueryNode } from './operation-node/update-query-node.js';\nimport { parseTable, parseTableExpressionOrList, parseAliasedTable, } from './parser/table-parser.js';\nimport { parseCommonTableExpression, } from './parser/with-parser.js';\nimport { WithNode } from './operation-node/with-node.js';\nimport { createQueryId } from './util/query-id.js';\nimport { WithSchemaPlugin } from './plugin/with-schema/with-schema-plugin.js';\nimport { freeze } from './util/object-utils.js';\nimport { parseSelectArg, } from './parser/select-parser.js';\nimport { MergeQueryBuilder } from './query-builder/merge-query-builder.js';\nimport { MergeQueryNode } from './operation-node/merge-query-node.js';\nexport class QueryCreator {\n    #props;\n    constructor(props) {\n        this.#props = freeze(props);\n    }\n    /**\n     * Creates a `select` query builder for the given table or tables.\n     *\n     * The tables passed to this method are built as the query's `from` clause.\n     *\n     * ### Examples\n     *\n     * Create a select query for one table:\n     *\n     * ```ts\n     * db.selectFrom('person').selectAll()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * select * from \"person\"\n     * ```\n     *\n     * Create a select query for one table with an alias:\n     *\n     * ```ts\n     * const persons = await db.selectFrom('person as p')\n     *   .select(['p.id', 'first_name'])\n     *   .execute()\n     *\n     * console.log(persons[0].id)\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * select \"p\".\"id\", \"first_name\" from \"person\" as \"p\"\n     * ```\n     *\n     * Create a select query from a subquery:\n     *\n     * ```ts\n     * const persons = await db.selectFrom(\n     *     (eb) => eb.selectFrom('person').select('person.id as identifier').as('p')\n     *   )\n     *   .select('p.identifier')\n     *   .execute()\n     *\n     * console.log(persons[0].identifier)\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * select \"p\".\"identifier\",\n     * from (\n     *   select \"person\".\"id\" as \"identifier\" from \"person\"\n     * ) as p\n     * ```\n     *\n     * Create a select query from raw sql:\n     *\n     * ```ts\n     * import {\u00A0sql } from 'kysely'\n     *\n     * const items = await db\n     *   .selectFrom(sql<{ one: number }>`(select 1 as one)`.as('q'))\n     *   .select('q.one')\n     *   .execute()\n     *\n     * console.log(items[0].one)\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * select \"q\".\"one\",\n     * from (\n     *   select 1 as one\n     * ) as q\n     * ```\n     *\n     * When you use the `sql` tag you need to also provide the result type of the\n     * raw snippet / query so that Kysely can figure out what columns are\n     * available for the rest of the query.\n     *\n     * The `selectFrom` method also accepts an array for multiple tables. All\n     * the above examples can also be used in an array.\n     *\n     * ```ts\n     * import {\u00A0sql } from 'kysely'\n     *\n     * const items = await db.selectFrom([\n     *     'person as p',\n     *     db.selectFrom('pet').select('pet.species').as('a'),\n     *     sql<{ one: number }>`(select 1 as one)`.as('q')\n     *   ])\n     *   .select(['p.id', 'a.species', 'q.one'])\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * select \"p\".id, \"a\".\"species\", \"q\".\"one\"\n     * from\n     *   \"person\" as \"p\",\n     *   (select \"pet\".\"species\" from \"pet\") as a,\n     *   (select 1 as one) as \"q\"\n     * ```\n     */\n    selectFrom(from) {\n        return createSelectQueryBuilder({\n            queryId: createQueryId(),\n            executor: this.#props.executor,\n            queryNode: SelectQueryNode.createFrom(parseTableExpressionOrList(from), this.#props.withNode),\n        });\n    }\n    selectNoFrom(selection) {\n        return createSelectQueryBuilder({\n            queryId: createQueryId(),\n            executor: this.#props.executor,\n            queryNode: SelectQueryNode.cloneWithSelections(SelectQueryNode.create(this.#props.withNode), parseSelectArg(selection)),\n        });\n    }\n    /**\n     * Creates an insert query.\n     *\n     * The return value of this query is an instance of {@link InsertResult}. {@link InsertResult}\n     * has the {@link InsertResult.insertId | insertId} field that holds the auto incremented id of\n     * the inserted row if the db returned one.\n     *\n     * See the {@link InsertQueryBuilder.values | values} method for more info and examples. Also see\n     * the {@link ReturningInterface.returning | returning} method for a way to return columns\n     * on supported databases like PostgreSQL.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * const result = await db\n     *   .insertInto('person')\n     *   .values({\n     *     first_name: 'Jennifer',\n     *     last_name: 'Aniston'\n     *   })\n     *   .executeTakeFirst()\n     *\n     * console.log(result.insertId)\n     * ```\n     *\n     * Some databases like PostgreSQL support the `returning` method:\n     *\n     * ```ts\n     * const { id } = await db\n     *   .insertInto('person')\n     *   .values({\n     *     first_name: 'Jennifer',\n     *     last_name: 'Aniston'\n     *   })\n     *   .returning('id')\n     *   .executeTakeFirstOrThrow()\n     * ```\n     */\n    insertInto(table) {\n        return new InsertQueryBuilder({\n            queryId: createQueryId(),\n            executor: this.#props.executor,\n            queryNode: InsertQueryNode.create(parseTable(table), this.#props.withNode),\n        });\n    }\n    /**\n     * Creates a \"replace into\" query.\n     *\n     * This is only supported by some dialects like MySQL or SQLite.\n     *\n     * Similar to MySQL's {@link InsertQueryBuilder.onDuplicateKeyUpdate} that deletes\n     * and inserts values on collision instead of updating existing rows.\n     *\n     * An alias of SQLite's {@link InsertQueryBuilder.orReplace}.\n     *\n     * The return value of this query is an instance of {@link InsertResult}. {@link InsertResult}\n     * has the {@link InsertResult.insertId | insertId} field that holds the auto incremented id of\n     * the inserted row if the db returned one.\n     *\n     * See the {@link InsertQueryBuilder.values | values} method for more info and examples.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * const result = await db\n     *   .replaceInto('person')\n     *   .values({\n     *     first_name: 'Jennifer',\n     *     last_name: 'Aniston'\n     *   })\n     *   .executeTakeFirstOrThrow()\n     *\n     * console.log(result.insertId)\n     * ```\n     *\n     * The generated SQL (MySQL):\n     *\n     * ```sql\n     * replace into `person` (`first_name`, `last_name`) values (?, ?)\n     * ```\n     */\n    replaceInto(table) {\n        return new InsertQueryBuilder({\n            queryId: createQueryId(),\n            executor: this.#props.executor,\n            queryNode: InsertQueryNode.create(parseTable(table), this.#props.withNode, true),\n        });\n    }\n    /**\n     * Creates a delete query.\n     *\n     * See the {@link DeleteQueryBuilder.where} method for examples on how to specify\n     * a where clause for the delete operation.\n     *\n     * The return value of the query is an instance of {@link DeleteResult}.\n     *\n     * ### Examples\n     *\n     * <!-- siteExample(\"delete\", \"Single row\", 10) -->\n     *\n     * Delete a single row:\n     *\n     * ```ts\n     * const result = await db\n     *   .deleteFrom('person')\n     *   .where('person.id', '=', 1)\n     *   .executeTakeFirst()\n     *\n     * console.log(result.numDeletedRows)\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * delete from \"person\" where \"person\".\"id\" = $1\n     * ```\n     *\n     * Some databases such as MySQL support deleting from multiple tables:\n     *\n     * ```ts\n     * const result = await db\n     *   .deleteFrom(['person', 'pet'])\n     *   .using('person')\n     *   .innerJoin('pet', 'pet.owner_id', 'person.id')\n     *   .where('person.id', '=', 1)\n     *   .executeTakeFirst()\n     * ```\n     *\n     * The generated SQL (MySQL):\n     *\n     * ```sql\n     * delete from `person`, `pet`\n     * using `person`\n     * inner join `pet` on `pet`.`owner_id` = `person`.`id`\n     * where `person`.`id` = ?\n     * ```\n     */\n    deleteFrom(from) {\n        return new DeleteQueryBuilder({\n            queryId: createQueryId(),\n            executor: this.#props.executor,\n            queryNode: DeleteQueryNode.create(parseTableExpressionOrList(from), this.#props.withNode),\n        });\n    }\n    /**\n     * Creates an update query.\n     *\n     * See the {@link UpdateQueryBuilder.where} method for examples on how to specify\n     * a where clause for the update operation.\n     *\n     * See the {@link UpdateQueryBuilder.set} method for examples on how to\n     * specify the updates.\n     *\n     * The return value of the query is an {@link UpdateResult}.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * const result = await db\n     *   .updateTable('person')\n     *   .set({ first_name: 'Jennifer' })\n     *   .where('person.id', '=', 1)\n     *   .executeTakeFirst()\n     *\n     * console.log(result.numUpdatedRows)\n     * ```\n     */\n    updateTable(tables) {\n        return new UpdateQueryBuilder({\n            queryId: createQueryId(),\n            executor: this.#props.executor,\n            queryNode: UpdateQueryNode.create(parseTableExpressionOrList(tables), this.#props.withNode),\n        });\n    }\n    /**\n     * Creates a merge query.\n     *\n     * The return value of the query is a {@link MergeResult}.\n     *\n     * See the {@link MergeQueryBuilder.using} method for examples on how to specify\n     * the other table.\n     *\n     * ### Examples\n     *\n     * <!-- siteExample(\"merge\", \"Source row existence\", 10) -->\n     *\n     * Update a target column based on the existence of a source row:\n     *\n     * ```ts\n     * const result = await db\n     *   .mergeInto('person as target')\n     *   .using('pet as source', 'source.owner_id', 'target.id')\n     *   .whenMatchedAnd('target.has_pets', '!=', 'Y')\n     *   .thenUpdateSet({ has_pets: 'Y' })\n     *   .whenNotMatchedBySourceAnd('target.has_pets', '=', 'Y')\n     *   .thenUpdateSet({ has_pets: 'N' })\n     *   .executeTakeFirstOrThrow()\n     *\n     * console.log(result.numChangedRows)\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * merge into \"person\"\n     * using \"pet\"\n     * on \"pet\".\"owner_id\" = \"person\".\"id\"\n     * when matched and \"has_pets\" != $1\n     * then update set \"has_pets\" = $2\n     * when not matched by source and \"has_pets\" = $3\n     * then update set \"has_pets\" = $4\n     * ```\n     *\n     * <!-- siteExample(\"merge\", \"Temporary changes table\", 20) -->\n     *\n     * Merge new entries from a temporary changes table:\n     *\n     * ```ts\n     * const result = await db\n     *   .mergeInto('wine as target')\n     *   .using(\n     *     'wine_stock_change as source',\n     *     'source.wine_name',\n     *     'target.name',\n     *   )\n     *   .whenNotMatchedAnd('source.stock_delta', '>', 0)\n     *   .thenInsertValues(({ ref }) => ({\n     *     name: ref('source.wine_name'),\n     *     stock: ref('source.stock_delta'),\n     *   }))\n     *   .whenMatchedAnd(\n     *     (eb) => eb('target.stock', '+', eb.ref('source.stock_delta')),\n     *     '>',\n     *     0,\n     *   )\n     *   .thenUpdateSet('stock', (eb) =>\n     *     eb('target.stock', '+', eb.ref('source.stock_delta')),\n     *   )\n     *   .whenMatched()\n     *   .thenDelete()\n     *   .executeTakeFirstOrThrow()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * merge into \"wine\" as \"target\"\n     * using \"wine_stock_change\" as \"source\"\n     * on \"source\".\"wine_name\" = \"target\".\"name\"\n     * when not matched and \"source\".\"stock_delta\" > $1\n     * then insert (\"name\", \"stock\") values (\"source\".\"wine_name\", \"source\".\"stock_delta\")\n     * when matched and \"target\".\"stock\" + \"source\".\"stock_delta\" > $2\n     * then update set \"stock\" = \"target\".\"stock\" + \"source\".\"stock_delta\"\n     * when matched\n     * then delete\n     * ```\n     */\n    mergeInto(targetTable) {\n        return new MergeQueryBuilder({\n            queryId: createQueryId(),\n            executor: this.#props.executor,\n            queryNode: MergeQueryNode.create(parseAliasedTable(targetTable), this.#props.withNode),\n        });\n    }\n    /**\n     * Creates a `with` query (Common Table Expression).\n     *\n     * ### Examples\n     *\n     * <!-- siteExample(\"cte\", \"Simple selects\", 10) -->\n     *\n     * Common table expressions (CTE) are a great way to modularize complex queries.\n     * Essentially they allow you to run multiple separate queries within a\n     * single roundtrip to the DB.\n     *\n     * Since CTEs are a part of the main query, query optimizers inside DB\n     * engines are able to optimize the overall query. For example, postgres\n     * is able to inline the CTEs inside the using queries if it decides it's\n     * faster.\n     *\n     * ```ts\n     * const result = await db\n     *   // Create a CTE called `jennifers` that selects all\n     *   // persons named 'Jennifer'.\n     *   .with('jennifers', (db) => db\n     *     .selectFrom('person')\n     *     .where('first_name', '=', 'Jennifer')\n     *     .select(['id', 'age'])\n     *   )\n     *   // Select all rows from the `jennifers` CTE and\n     *   // further filter it.\n     *   .with('adult_jennifers', (db) => db\n     *     .selectFrom('jennifers')\n     *     .where('age', '>', 18)\n     *     .select(['id', 'age'])\n     *   )\n     *   // Finally select all adult jennifers that are\n     *   // also younger than 60.\n     *   .selectFrom('adult_jennifers')\n     *   .where('age', '<', 60)\n     *   .selectAll()\n     *   .execute()\n     * ```\n     *\n     * <!-- siteExample(\"cte\", \"Inserts, updates and deletions\", 20) -->\n     *\n     * Some databases like postgres also allow you to run other queries than selects\n     * in CTEs. On these databases CTEs are extremely powerful:\n     *\n     * ```ts\n     * const result = await db\n     *   .with('new_person', (db) => db\n     *     .insertInto('person')\n     *     .values({\n     *       first_name: 'Jennifer',\n     *       age: 35,\n     *     })\n     *     .returning('id')\n     *   )\n     *   .with('new_pet', (db) => db\n     *     .insertInto('pet')\n     *     .values({\n     *       name: 'Doggo',\n     *       species: 'dog',\n     *       is_favorite: true,\n     *       // Use the id of the person we just inserted.\n     *       owner_id: db\n     *         .selectFrom('new_person')\n     *         .select('id')\n     *     })\n     *     .returning('id')\n     *   )\n     *   .selectFrom(['new_person', 'new_pet'])\n     *   .select([\n     *     'new_person.id as person_id',\n     *     'new_pet.id as pet_id'\n     *   ])\n     *   .execute()\n     * ```\n     *\n     * The CTE name can optionally specify column names in addition to\n     * a name. In that case Kysely requires the expression to retun\n     * rows with the same columns.\n     *\n     * ```ts\n     * await db\n     *   .with('jennifers(id, age)', (db) => db\n     *     .selectFrom('person')\n     *     .where('first_name', '=', 'Jennifer')\n     *     // This is ok since we return columns with the same\n     *     // names as specified by `jennifers(id, age)`.\n     *     .select(['id', 'age'])\n     *   )\n     *   .selectFrom('jennifers')\n     *   .selectAll()\n     *   .execute()\n     * ```\n     *\n     * The first argument can also be a callback. The callback is passed\n     * a `CTEBuilder` instance that can be used to configure the CTE:\n     *\n     * ```ts\n     * await db\n     *   .with(\n     *     (cte) => cte('jennifers').materialized(),\n     *     (db) => db\n     *       .selectFrom('person')\n     *       .where('first_name', '=', 'Jennifer')\n     *       .select(['id', 'age'])\n     *   )\n     *   .selectFrom('jennifers')\n     *   .selectAll()\n     *   .execute()\n     * ```\n     */\n    with(nameOrBuilder, expression) {\n        const cte = parseCommonTableExpression(nameOrBuilder, expression);\n        return new QueryCreator({\n            ...this.#props,\n            withNode: this.#props.withNode\n                ? WithNode.cloneWithExpression(this.#props.withNode, cte)\n                : WithNode.create(cte),\n        });\n    }\n    /**\n     * Creates a recursive `with` query (Common Table Expression).\n     *\n     * Note that recursiveness is a property of the whole `with` statement.\n     * You cannot have recursive and non-recursive CTEs in a same `with` statement.\n     * Therefore the recursiveness is determined by the **first** `with` or\n     * `withRecusive` call you make.\n     *\n     * See the {@link with} method for examples and more documentation.\n     */\n    withRecursive(nameOrBuilder, expression) {\n        const cte = parseCommonTableExpression(nameOrBuilder, expression);\n        return new QueryCreator({\n            ...this.#props,\n            withNode: this.#props.withNode\n                ? WithNode.cloneWithExpression(this.#props.withNode, cte)\n                : WithNode.create(cte, { recursive: true }),\n        });\n    }\n    /**\n     * Returns a copy of this query creator instance with the given plugin installed.\n     */\n    withPlugin(plugin) {\n        return new QueryCreator({\n            ...this.#props,\n            executor: this.#props.executor.withPlugin(plugin),\n        });\n    }\n    /**\n     * Returns a copy of this query creator instance without any plugins.\n     */\n    withoutPlugins() {\n        return new QueryCreator({\n            ...this.#props,\n            executor: this.#props.executor.withoutPlugins(),\n        });\n    }\n    /**\n     * Sets the schema to be used for all table references that don't explicitly\n     * specify a schema.\n     *\n     * This only affects the query created through the builder returned from\n     * this method and doesn't modify the `db` instance.\n     *\n     * See [this recipe](https://github.com/kysely-org/kysely/blob/master/site/docs/recipes/0007-schemas.md)\n     * for a more detailed explanation.\n     *\n     * ### Examples\n     *\n     * ```\n     * await db\n     *   .withSchema('mammals')\n     *   .selectFrom('pet')\n     *   .selectAll()\n     *   .innerJoin('public.person', 'public.person.id', 'pet.owner_id')\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * select * from \"mammals\".\"pet\"\n     * inner join \"public\".\"person\"\n     * on \"public\".\"person\".\"id\" = \"mammals\".\"pet\".\"owner_id\"\n     * ```\n     *\n     * `withSchema` is smart enough to not add schema for aliases,\n     * common table expressions or other places where the schema\n     * doesn't belong to:\n     *\n     * ```\n     * await db\n     *   .withSchema('mammals')\n     *   .selectFrom('pet as p')\n     *   .select('p.name')\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * select \"p\".\"name\" from \"mammals\".\"pet\" as \"p\"\n     * ```\n     */\n    withSchema(schema) {\n        return new QueryCreator({\n            ...this.#props,\n            executor: this.#props.executor.withPluginAtFront(new WithSchemaPlugin(schema)),\n        });\n    }\n}\n", "/// <reference types=\"./parse-utils.d.ts\" />\nimport { JoinNode } from '../operation-node/join-node.js';\nimport { OverNode } from '../operation-node/over-node.js';\nimport { SelectQueryNode } from '../operation-node/select-query-node.js';\nimport { JoinBuilder } from '../query-builder/join-builder.js';\nimport { OverBuilder } from '../query-builder/over-builder.js';\nimport { createSelectQueryBuilder as newSelectQueryBuilder, } from '../query-builder/select-query-builder.js';\nimport { QueryCreator } from '../query-creator.js';\nimport { NOOP_QUERY_EXECUTOR } from '../query-executor/noop-query-executor.js';\nimport { createQueryId } from '../util/query-id.js';\nimport { parseTableExpression, parseTableExpressionOrList, } from './table-parser.js';\nexport function createSelectQueryBuilder() {\n    return newSelectQueryBuilder({\n        queryId: createQueryId(),\n        executor: NOOP_QUERY_EXECUTOR,\n        queryNode: SelectQueryNode.createFrom(parseTableExpressionOrList([])),\n    });\n}\nexport function createQueryCreator() {\n    return new QueryCreator({\n        executor: NOOP_QUERY_EXECUTOR,\n    });\n}\nexport function createJoinBuilder(joinType, table) {\n    return new JoinBuilder({\n        joinNode: JoinNode.create(joinType, parseTableExpression(table)),\n    });\n}\nexport function createOverBuilder() {\n    return new OverBuilder({\n        overNode: OverNode.create(),\n    });\n}\n", "/// <reference types=\"./join-parser.d.ts\" />\nimport { JoinNode } from '../operation-node/join-node.js';\nimport { parseReferentialBinaryOperation } from './binary-operation-parser.js';\nimport { createJoinBuilder } from './parse-utils.js';\nimport { parseTableExpression, } from './table-parser.js';\nexport function parseJoin(joinType, args) {\n    if (args.length === 3) {\n        return parseSingleOnJoin(joinType, args[0], args[1], args[2]);\n    }\n    else if (args.length === 2) {\n        return parseCallbackJoin(joinType, args[0], args[1]);\n    }\n    else if (args.length === 1) {\n        return parseOnlessJoin(joinType, args[0]);\n    }\n    else {\n        throw new Error('not implemented');\n    }\n}\nfunction parseCallbackJoin(joinType, from, callback) {\n    return callback(createJoinBuilder(joinType, from)).toOperationNode();\n}\nfunction parseSingleOnJoin(joinType, from, lhsColumn, rhsColumn) {\n    return JoinNode.createWithOn(joinType, parseTableExpression(from), parseReferentialBinaryOperation(lhsColumn, '=', rhsColumn));\n}\nfunction parseOnlessJoin(joinType, from) {\n    return JoinNode.create(joinType, parseTableExpression(from));\n}\n", "/// <reference types=\"./offset-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const OffsetNode = freeze({\n    is(node) {\n        return node.kind === 'OffsetNode';\n    },\n    create(offset) {\n        return freeze({\n            kind: 'OffsetNode',\n            offset,\n        });\n    },\n});\n", "/// <reference types=\"./group-by-item-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const GroupByItemNode = freeze({\n    is(node) {\n        return node.kind === 'GroupByItemNode';\n    },\n    create(groupBy) {\n        return freeze({\n            kind: 'GroupByItemNode',\n            groupBy,\n        });\n    },\n});\n", "/// <reference types=\"./group-by-parser.d.ts\" />\nimport { GroupByItemNode } from '../operation-node/group-by-item-node.js';\nimport { expressionBuilder, } from '../expression/expression-builder.js';\nimport { isFunction } from '../util/object-utils.js';\nimport { parseReferenceExpressionOrList, } from './reference-parser.js';\nexport function parseGroupBy(groupBy) {\n    groupBy = isFunction(groupBy) ? groupBy(expressionBuilder()) : groupBy;\n    return parseReferenceExpressionOrList(groupBy).map(GroupByItemNode.create);\n}\n", "/// <reference types=\"./set-operation-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const SetOperationNode = freeze({\n    is(node) {\n        return node.kind === 'SetOperationNode';\n    },\n    create(operator, expression, all) {\n        return freeze({\n            kind: 'SetOperationNode',\n            operator,\n            expression,\n            all,\n        });\n    },\n});\n", "/// <reference types=\"./set-operation-parser.d.ts\" />\nimport { createExpressionBuilder, } from '../expression/expression-builder.js';\nimport { SetOperationNode, } from '../operation-node/set-operation-node.js';\nimport { isFunction, isReadonlyArray } from '../util/object-utils.js';\nimport { parseExpression } from './expression-parser.js';\nexport function parseSetOperations(operator, expression, all) {\n    if (isFunction(expression)) {\n        expression = expression(createExpressionBuilder());\n    }\n    if (!isReadonlyArray(expression)) {\n        expression = [expression];\n    }\n    return expression.map((expr) => SetOperationNode.create(operator, parseExpression(expr), all));\n}\n", "/// <reference types=\"./expression-wrapper.d.ts\" />\nimport { AliasNode } from '../operation-node/alias-node.js';\nimport { AndNode } from '../operation-node/and-node.js';\nimport { IdentifierNode } from '../operation-node/identifier-node.js';\nimport { isOperationNodeSource } from '../operation-node/operation-node-source.js';\nimport { OrNode } from '../operation-node/or-node.js';\nimport { ParensNode } from '../operation-node/parens-node.js';\nimport { parseValueBinaryOperationOrExpression, } from '../parser/binary-operation-parser.js';\nexport class ExpressionWrapper {\n    #node;\n    constructor(node) {\n        this.#node = node;\n    }\n    /** @private */\n    get expressionType() {\n        return undefined;\n    }\n    as(alias) {\n        return new AliasedExpressionWrapper(this, alias);\n    }\n    or(...args) {\n        return new OrWrapper(OrNode.create(this.#node, parseValueBinaryOperationOrExpression(args)));\n    }\n    and(...args) {\n        return new AndWrapper(AndNode.create(this.#node, parseValueBinaryOperationOrExpression(args)));\n    }\n    /**\n     * Change the output type of the expression.\n     *\n     * This method call doesn't change the SQL in any way. This methods simply\n     * returns a copy of this `ExpressionWrapper` with a new output type.\n     */\n    $castTo() {\n        return new ExpressionWrapper(this.#node);\n    }\n    /**\n     * Omit null from the expression's type.\n     *\n     * This function can be useful in cases where you know an expression can't be\n     * null, but Kysely is unable to infer it.\n     *\n     * This method call doesn't change the SQL in any way. This methods simply\n     * returns a copy of `this` with a new output type.\n     */\n    $notNull() {\n        return new ExpressionWrapper(this.#node);\n    }\n    toOperationNode() {\n        return this.#node;\n    }\n}\nexport class AliasedExpressionWrapper {\n    #expr;\n    #alias;\n    constructor(expr, alias) {\n        this.#expr = expr;\n        this.#alias = alias;\n    }\n    /** @private */\n    get expression() {\n        return this.#expr;\n    }\n    /** @private */\n    get alias() {\n        return this.#alias;\n    }\n    toOperationNode() {\n        return AliasNode.create(this.#expr.toOperationNode(), isOperationNodeSource(this.#alias)\n            ? this.#alias.toOperationNode()\n            : IdentifierNode.create(this.#alias));\n    }\n}\nexport class OrWrapper {\n    #node;\n    constructor(node) {\n        this.#node = node;\n    }\n    /** @private */\n    get expressionType() {\n        return undefined;\n    }\n    as(alias) {\n        return new AliasedExpressionWrapper(this, alias);\n    }\n    or(...args) {\n        return new OrWrapper(OrNode.create(this.#node, parseValueBinaryOperationOrExpression(args)));\n    }\n    /**\n     * Change the output type of the expression.\n     *\n     * This method call doesn't change the SQL in any way. This methods simply\n     * returns a copy of this `OrWrapper` with a new output type.\n     */\n    $castTo() {\n        return new OrWrapper(this.#node);\n    }\n    toOperationNode() {\n        return ParensNode.create(this.#node);\n    }\n}\nexport class AndWrapper {\n    #node;\n    constructor(node) {\n        this.#node = node;\n    }\n    /** @private */\n    get expressionType() {\n        return undefined;\n    }\n    as(alias) {\n        return new AliasedExpressionWrapper(this, alias);\n    }\n    and(...args) {\n        return new AndWrapper(AndNode.create(this.#node, parseValueBinaryOperationOrExpression(args)));\n    }\n    /**\n     * Change the output type of the expression.\n     *\n     * This method call doesn't change the SQL in any way. This methods simply\n     * returns a copy of this `AndWrapper` with a new output type.\n     */\n    $castTo() {\n        return new AndWrapper(this.#node);\n    }\n    toOperationNode() {\n        return ParensNode.create(this.#node);\n    }\n}\n", "/// <reference types=\"./fetch-node.d.ts\" />\nimport { ValueNode } from './value-node.js';\n/**\n * @internal\n */\nexport const FetchNode = {\n    is(node) {\n        return node.kind === 'FetchNode';\n    },\n    create(rowCount, modifier) {\n        return {\n            kind: 'FetchNode',\n            rowCount: ValueNode.create(rowCount),\n            modifier,\n        };\n    },\n};\n", "/// <reference types=\"./fetch-parser.d.ts\" />\nimport { FetchNode } from '../operation-node/fetch-node.js';\nimport { isBigInt, isNumber } from '../util/object-utils.js';\nexport function parseFetch(rowCount, modifier) {\n    if (!isNumber(rowCount) && !isBigInt(rowCount)) {\n        throw new Error(`Invalid fetch row count: ${rowCount}`);\n    }\n    if (!isFetchModifier(modifier)) {\n        throw new Error(`Invalid fetch modifier: ${modifier}`);\n    }\n    return FetchNode.create(rowCount, modifier);\n}\nfunction isFetchModifier(value) {\n    return value === 'only' || value === 'with ties';\n}\n", "/// <reference types=\"./select-query-builder.d.ts\" />\nimport { AliasNode } from '../operation-node/alias-node.js';\nimport { SelectModifierNode } from '../operation-node/select-modifier-node.js';\nimport { parseJoin, } from '../parser/join-parser.js';\nimport { parseTable } from '../parser/table-parser.js';\nimport { parseSelectArg, parseSelectAll, } from '../parser/select-parser.js';\nimport { parseReferenceExpressionOrList, } from '../parser/reference-parser.js';\nimport { SelectQueryNode } from '../operation-node/select-query-node.js';\nimport { QueryNode } from '../operation-node/query-node.js';\nimport { parseOrderBy, } from '../parser/order-by-parser.js';\nimport { LimitNode } from '../operation-node/limit-node.js';\nimport { OffsetNode } from '../operation-node/offset-node.js';\nimport { asArray, freeze } from '../util/object-utils.js';\nimport { parseGroupBy } from '../parser/group-by-parser.js';\nimport { isNoResultErrorConstructor, NoResultError, } from './no-result-error.js';\nimport { IdentifierNode } from '../operation-node/identifier-node.js';\nimport { parseSetOperations, } from '../parser/set-operation-parser.js';\nimport { parseValueBinaryOperationOrExpression, parseReferentialBinaryOperation, } from '../parser/binary-operation-parser.js';\nimport { ExpressionWrapper } from '../expression/expression-wrapper.js';\nimport { parseValueExpression, } from '../parser/value-parser.js';\nimport { parseFetch } from '../parser/fetch-parser.js';\nimport { parseTop } from '../parser/top-parser.js';\nclass SelectQueryBuilderImpl {\n    #props;\n    constructor(props) {\n        this.#props = freeze(props);\n    }\n    get expressionType() {\n        return undefined;\n    }\n    get isSelectQueryBuilder() {\n        return true;\n    }\n    where(...args) {\n        return new SelectQueryBuilderImpl({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithWhere(this.#props.queryNode, parseValueBinaryOperationOrExpression(args)),\n        });\n    }\n    whereRef(lhs, op, rhs) {\n        return new SelectQueryBuilderImpl({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithWhere(this.#props.queryNode, parseReferentialBinaryOperation(lhs, op, rhs)),\n        });\n    }\n    having(...args) {\n        return new SelectQueryBuilderImpl({\n            ...this.#props,\n            queryNode: SelectQueryNode.cloneWithHaving(this.#props.queryNode, parseValueBinaryOperationOrExpression(args)),\n        });\n    }\n    havingRef(lhs, op, rhs) {\n        return new SelectQueryBuilderImpl({\n            ...this.#props,\n            queryNode: SelectQueryNode.cloneWithHaving(this.#props.queryNode, parseReferentialBinaryOperation(lhs, op, rhs)),\n        });\n    }\n    select(selection) {\n        return new SelectQueryBuilderImpl({\n            ...this.#props,\n            queryNode: SelectQueryNode.cloneWithSelections(this.#props.queryNode, parseSelectArg(selection)),\n        });\n    }\n    distinctOn(selection) {\n        return new SelectQueryBuilderImpl({\n            ...this.#props,\n            queryNode: SelectQueryNode.cloneWithDistinctOn(this.#props.queryNode, parseReferenceExpressionOrList(selection)),\n        });\n    }\n    modifyFront(modifier) {\n        return new SelectQueryBuilderImpl({\n            ...this.#props,\n            queryNode: SelectQueryNode.cloneWithFrontModifier(this.#props.queryNode, SelectModifierNode.createWithExpression(modifier.toOperationNode())),\n        });\n    }\n    modifyEnd(modifier) {\n        return new SelectQueryBuilderImpl({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithEndModifier(this.#props.queryNode, SelectModifierNode.createWithExpression(modifier.toOperationNode())),\n        });\n    }\n    distinct() {\n        return new SelectQueryBuilderImpl({\n            ...this.#props,\n            queryNode: SelectQueryNode.cloneWithFrontModifier(this.#props.queryNode, SelectModifierNode.create('Distinct')),\n        });\n    }\n    forUpdate(of) {\n        return new SelectQueryBuilderImpl({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithEndModifier(this.#props.queryNode, SelectModifierNode.create('ForUpdate', of ? asArray(of).map(parseTable) : undefined)),\n        });\n    }\n    forShare(of) {\n        return new SelectQueryBuilderImpl({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithEndModifier(this.#props.queryNode, SelectModifierNode.create('ForShare', of ? asArray(of).map(parseTable) : undefined)),\n        });\n    }\n    forKeyShare(of) {\n        return new SelectQueryBuilderImpl({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithEndModifier(this.#props.queryNode, SelectModifierNode.create('ForKeyShare', of ? asArray(of).map(parseTable) : undefined)),\n        });\n    }\n    forNoKeyUpdate(of) {\n        return new SelectQueryBuilderImpl({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithEndModifier(this.#props.queryNode, SelectModifierNode.create('ForNoKeyUpdate', of ? asArray(of).map(parseTable) : undefined)),\n        });\n    }\n    skipLocked() {\n        return new SelectQueryBuilderImpl({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithEndModifier(this.#props.queryNode, SelectModifierNode.create('SkipLocked')),\n        });\n    }\n    noWait() {\n        return new SelectQueryBuilderImpl({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithEndModifier(this.#props.queryNode, SelectModifierNode.create('NoWait')),\n        });\n    }\n    selectAll(table) {\n        return new SelectQueryBuilderImpl({\n            ...this.#props,\n            queryNode: SelectQueryNode.cloneWithSelections(this.#props.queryNode, parseSelectAll(table)),\n        });\n    }\n    innerJoin(...args) {\n        return this.#join('InnerJoin', args);\n    }\n    leftJoin(...args) {\n        return this.#join('LeftJoin', args);\n    }\n    rightJoin(...args) {\n        return this.#join('RightJoin', args);\n    }\n    fullJoin(...args) {\n        return this.#join('FullJoin', args);\n    }\n    crossJoin(...args) {\n        return this.#join('CrossJoin', args);\n    }\n    innerJoinLateral(...args) {\n        return this.#join('LateralInnerJoin', args);\n    }\n    leftJoinLateral(...args) {\n        return this.#join('LateralLeftJoin', args);\n    }\n    crossJoinLateral(...args) {\n        return this.#join('LateralCrossJoin', args);\n    }\n    crossApply(...args) {\n        return this.#join('CrossApply', args);\n    }\n    outerApply(...args) {\n        return this.#join('OuterApply', args);\n    }\n    #join(joinType, args) {\n        return new SelectQueryBuilderImpl({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithJoin(this.#props.queryNode, parseJoin(joinType, args)),\n        });\n    }\n    orderBy(...args) {\n        return new SelectQueryBuilderImpl({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithOrderByItems(this.#props.queryNode, parseOrderBy(args)),\n        });\n    }\n    groupBy(groupBy) {\n        return new SelectQueryBuilderImpl({\n            ...this.#props,\n            queryNode: SelectQueryNode.cloneWithGroupByItems(this.#props.queryNode, parseGroupBy(groupBy)),\n        });\n    }\n    limit(limit) {\n        return new SelectQueryBuilderImpl({\n            ...this.#props,\n            queryNode: SelectQueryNode.cloneWithLimit(this.#props.queryNode, LimitNode.create(parseValueExpression(limit))),\n        });\n    }\n    offset(offset) {\n        return new SelectQueryBuilderImpl({\n            ...this.#props,\n            queryNode: SelectQueryNode.cloneWithOffset(this.#props.queryNode, OffsetNode.create(parseValueExpression(offset))),\n        });\n    }\n    fetch(rowCount, modifier = 'only') {\n        return new SelectQueryBuilderImpl({\n            ...this.#props,\n            queryNode: SelectQueryNode.cloneWithFetch(this.#props.queryNode, parseFetch(rowCount, modifier)),\n        });\n    }\n    top(expression, modifiers) {\n        return new SelectQueryBuilderImpl({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithTop(this.#props.queryNode, parseTop(expression, modifiers)),\n        });\n    }\n    union(expression) {\n        return new SelectQueryBuilderImpl({\n            ...this.#props,\n            queryNode: SelectQueryNode.cloneWithSetOperations(this.#props.queryNode, parseSetOperations('union', expression, false)),\n        });\n    }\n    unionAll(expression) {\n        return new SelectQueryBuilderImpl({\n            ...this.#props,\n            queryNode: SelectQueryNode.cloneWithSetOperations(this.#props.queryNode, parseSetOperations('union', expression, true)),\n        });\n    }\n    intersect(expression) {\n        return new SelectQueryBuilderImpl({\n            ...this.#props,\n            queryNode: SelectQueryNode.cloneWithSetOperations(this.#props.queryNode, parseSetOperations('intersect', expression, false)),\n        });\n    }\n    intersectAll(expression) {\n        return new SelectQueryBuilderImpl({\n            ...this.#props,\n            queryNode: SelectQueryNode.cloneWithSetOperations(this.#props.queryNode, parseSetOperations('intersect', expression, true)),\n        });\n    }\n    except(expression) {\n        return new SelectQueryBuilderImpl({\n            ...this.#props,\n            queryNode: SelectQueryNode.cloneWithSetOperations(this.#props.queryNode, parseSetOperations('except', expression, false)),\n        });\n    }\n    exceptAll(expression) {\n        return new SelectQueryBuilderImpl({\n            ...this.#props,\n            queryNode: SelectQueryNode.cloneWithSetOperations(this.#props.queryNode, parseSetOperations('except', expression, true)),\n        });\n    }\n    as(alias) {\n        return new AliasedSelectQueryBuilderImpl(this, alias);\n    }\n    clearSelect() {\n        return new SelectQueryBuilderImpl({\n            ...this.#props,\n            queryNode: SelectQueryNode.cloneWithoutSelections(this.#props.queryNode),\n        });\n    }\n    clearWhere() {\n        return new SelectQueryBuilderImpl({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithoutWhere(this.#props.queryNode),\n        });\n    }\n    clearLimit() {\n        return new SelectQueryBuilderImpl({\n            ...this.#props,\n            queryNode: SelectQueryNode.cloneWithoutLimit(this.#props.queryNode),\n        });\n    }\n    clearOffset() {\n        return new SelectQueryBuilderImpl({\n            ...this.#props,\n            queryNode: SelectQueryNode.cloneWithoutOffset(this.#props.queryNode),\n        });\n    }\n    clearOrderBy() {\n        return new SelectQueryBuilderImpl({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithoutOrderBy(this.#props.queryNode),\n        });\n    }\n    clearGroupBy() {\n        return new SelectQueryBuilderImpl({\n            ...this.#props,\n            queryNode: SelectQueryNode.cloneWithoutGroupBy(this.#props.queryNode),\n        });\n    }\n    $call(func) {\n        return func(this);\n    }\n    $if(condition, func) {\n        if (condition) {\n            return func(this);\n        }\n        return new SelectQueryBuilderImpl({\n            ...this.#props,\n        });\n    }\n    $castTo() {\n        return new SelectQueryBuilderImpl(this.#props);\n    }\n    $narrowType() {\n        return new SelectQueryBuilderImpl(this.#props);\n    }\n    $assertType() {\n        return new SelectQueryBuilderImpl(this.#props);\n    }\n    $asTuple() {\n        return new ExpressionWrapper(this.toOperationNode());\n    }\n    $asScalar() {\n        return new ExpressionWrapper(this.toOperationNode());\n    }\n    withPlugin(plugin) {\n        return new SelectQueryBuilderImpl({\n            ...this.#props,\n            executor: this.#props.executor.withPlugin(plugin),\n        });\n    }\n    toOperationNode() {\n        return this.#props.executor.transformQuery(this.#props.queryNode, this.#props.queryId);\n    }\n    compile() {\n        return this.#props.executor.compileQuery(this.toOperationNode(), this.#props.queryId);\n    }\n    async execute() {\n        const compiledQuery = this.compile();\n        const result = await this.#props.executor.executeQuery(compiledQuery);\n        return result.rows;\n    }\n    async executeTakeFirst() {\n        const [result] = await this.execute();\n        return result;\n    }\n    async executeTakeFirstOrThrow(errorConstructor = NoResultError) {\n        const result = await this.executeTakeFirst();\n        if (result === undefined) {\n            const error = isNoResultErrorConstructor(errorConstructor)\n                ? new errorConstructor(this.toOperationNode())\n                : errorConstructor(this.toOperationNode());\n            throw error;\n        }\n        return result;\n    }\n    async *stream(chunkSize = 100) {\n        const compiledQuery = this.compile();\n        const stream = this.#props.executor.stream(compiledQuery, chunkSize);\n        for await (const item of stream) {\n            yield* item.rows;\n        }\n    }\n    async explain(format, options) {\n        const builder = new SelectQueryBuilderImpl({\n            ...this.#props,\n            queryNode: QueryNode.cloneWithExplain(this.#props.queryNode, format, options),\n        });\n        return await builder.execute();\n    }\n}\nexport function createSelectQueryBuilder(props) {\n    return new SelectQueryBuilderImpl(props);\n}\n/**\n * {@link SelectQueryBuilder} with an alias. The result of calling {@link SelectQueryBuilder.as}.\n */\nclass AliasedSelectQueryBuilderImpl {\n    #queryBuilder;\n    #alias;\n    constructor(queryBuilder, alias) {\n        this.#queryBuilder = queryBuilder;\n        this.#alias = alias;\n    }\n    get expression() {\n        return this.#queryBuilder;\n    }\n    get alias() {\n        return this.#alias;\n    }\n    get isAliasedSelectQueryBuilder() {\n        return true;\n    }\n    toOperationNode() {\n        return AliasNode.create(this.#queryBuilder.toOperationNode(), IdentifierNode.create(this.#alias));\n    }\n}\n", "/// <reference types=\"./aggregate-function-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { WhereNode } from './where-node.js';\nimport { OrderByNode } from './order-by-node.js';\n/**\n * @internal\n */\nexport const AggregateFunctionNode = freeze({\n    is(node) {\n        return node.kind === 'AggregateFunctionNode';\n    },\n    create(aggregateFunction, aggregated = []) {\n        return freeze({\n            kind: 'AggregateFunctionNode',\n            func: aggregateFunction,\n            aggregated,\n        });\n    },\n    cloneWithDistinct(aggregateFunctionNode) {\n        return freeze({\n            ...aggregateFunctionNode,\n            distinct: true,\n        });\n    },\n    cloneWithOrderBy(aggregateFunctionNode, orderItems, withinGroup = false) {\n        const prop = withinGroup ? 'withinGroup' : 'orderBy';\n        return freeze({\n            ...aggregateFunctionNode,\n            [prop]: aggregateFunctionNode[prop]\n                ? OrderByNode.cloneWithItems(aggregateFunctionNode[prop], orderItems)\n                : OrderByNode.create(orderItems),\n        });\n    },\n    cloneWithFilter(aggregateFunctionNode, filter) {\n        return freeze({\n            ...aggregateFunctionNode,\n            filter: aggregateFunctionNode.filter\n                ? WhereNode.cloneWithOperation(aggregateFunctionNode.filter, 'And', filter)\n                : WhereNode.create(filter),\n        });\n    },\n    cloneWithOrFilter(aggregateFunctionNode, filter) {\n        return freeze({\n            ...aggregateFunctionNode,\n            filter: aggregateFunctionNode.filter\n                ? WhereNode.cloneWithOperation(aggregateFunctionNode.filter, 'Or', filter)\n                : WhereNode.create(filter),\n        });\n    },\n    cloneWithOver(aggregateFunctionNode, over) {\n        return freeze({\n            ...aggregateFunctionNode,\n            over,\n        });\n    },\n});\n", "/// <reference types=\"./function-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const FunctionNode = freeze({\n    is(node) {\n        return node.kind === 'FunctionNode';\n    },\n    create(func, args) {\n        return freeze({\n            kind: 'FunctionNode',\n            func,\n            arguments: args,\n        });\n    },\n});\n", "/// <reference types=\"./aggregate-function-builder.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { AggregateFunctionNode } from '../operation-node/aggregate-function-node.js';\nimport { AliasNode } from '../operation-node/alias-node.js';\nimport { IdentifierNode } from '../operation-node/identifier-node.js';\nimport { createOverBuilder } from '../parser/parse-utils.js';\nimport { parseReferentialBinaryOperation, parseValueBinaryOperationOrExpression, } from '../parser/binary-operation-parser.js';\nimport { parseOrderBy, } from '../parser/order-by-parser.js';\nimport { QueryNode } from '../operation-node/query-node.js';\nexport class AggregateFunctionBuilder {\n    #props;\n    constructor(props) {\n        this.#props = freeze(props);\n    }\n    /** @private */\n    get expressionType() {\n        return undefined;\n    }\n    /**\n     * Returns an aliased version of the function.\n     *\n     * In addition to slapping `as \"the_alias\"` to the end of the SQL,\n     * this method also provides strict typing:\n     *\n     * ```ts\n     * const result = await db\n     *   .selectFrom('person')\n     *   .select(\n     *     (eb) => eb.fn.count<number>('id').as('person_count')\n     *   )\n     *   .executeTakeFirstOrThrow()\n     *\n     * // `person_count: number` field exists in the result type.\n     * console.log(result.person_count)\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * select count(\"id\") as \"person_count\"\n     * from \"person\"\n     * ```\n     */\n    as(alias) {\n        return new AliasedAggregateFunctionBuilder(this, alias);\n    }\n    /**\n     * Adds a `distinct` clause inside the function.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * const result = await db\n     *   .selectFrom('person')\n     *   .select((eb) =>\n     *     eb.fn.count<number>('first_name').distinct().as('first_name_count')\n     *   )\n     *   .executeTakeFirstOrThrow()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * select count(distinct \"first_name\") as \"first_name_count\"\n     * from \"person\"\n     * ```\n     */\n    distinct() {\n        return new AggregateFunctionBuilder({\n            ...this.#props,\n            aggregateFunctionNode: AggregateFunctionNode.cloneWithDistinct(this.#props.aggregateFunctionNode),\n        });\n    }\n    orderBy(...args) {\n        return new AggregateFunctionBuilder({\n            ...this.#props,\n            aggregateFunctionNode: QueryNode.cloneWithOrderByItems(this.#props.aggregateFunctionNode, parseOrderBy(args)),\n        });\n    }\n    clearOrderBy() {\n        return new AggregateFunctionBuilder({\n            ...this.#props,\n            aggregateFunctionNode: QueryNode.cloneWithoutOrderBy(this.#props.aggregateFunctionNode),\n        });\n    }\n    withinGroupOrderBy(...args) {\n        return new AggregateFunctionBuilder({\n            ...this.#props,\n            aggregateFunctionNode: AggregateFunctionNode.cloneWithOrderBy(this.#props.aggregateFunctionNode, parseOrderBy(args), true),\n        });\n    }\n    filterWhere(...args) {\n        return new AggregateFunctionBuilder({\n            ...this.#props,\n            aggregateFunctionNode: AggregateFunctionNode.cloneWithFilter(this.#props.aggregateFunctionNode, parseValueBinaryOperationOrExpression(args)),\n        });\n    }\n    /**\n     * Adds a `filter` clause with a nested `where` clause after the function, where\n     * both sides of the operator are references to columns.\n     *\n     * Similar to {@link WhereInterface}'s `whereRef` method.\n     *\n     * ### Examples\n     *\n     * Count people with same first and last names versus general public:\n     *\n     * ```ts\n     * const result = await db\n     *   .selectFrom('person')\n     *   .select((eb) => [\n     *     eb.fn\n     *       .count<number>('id')\n     *       .filterWhereRef('first_name', '=', 'last_name')\n     *       .as('repeat_name_count'),\n     *     eb.fn.count<number>('id').as('total_count'),\n     *   ])\n     *   .executeTakeFirstOrThrow()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * select\n     *   count(\"id\") filter(where \"first_name\" = \"last_name\") as \"repeat_name_count\",\n     *   count(\"id\") as \"total_count\"\n     * from \"person\"\n     * ```\n     */\n    filterWhereRef(lhs, op, rhs) {\n        return new AggregateFunctionBuilder({\n            ...this.#props,\n            aggregateFunctionNode: AggregateFunctionNode.cloneWithFilter(this.#props.aggregateFunctionNode, parseReferentialBinaryOperation(lhs, op, rhs)),\n        });\n    }\n    /**\n     * Adds an `over` clause (window functions) after the function.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * const result = await db\n     *   .selectFrom('person')\n     *   .select(\n     *     (eb) => eb.fn.avg<number>('age').over().as('average_age')\n     *   )\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * select avg(\"age\") over() as \"average_age\"\n     * from \"person\"\n     * ```\n     *\n     * Also supports passing a callback that returns an over builder,\n     * allowing to add partition by and sort by clauses inside over.\n     *\n     * ```ts\n     * const result = await db\n     *   .selectFrom('person')\n     *   .select(\n     *     (eb) => eb.fn.avg<number>('age').over(\n     *       ob => ob.partitionBy('last_name').orderBy('first_name', 'asc')\n     *     ).as('average_age')\n     *   )\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * select avg(\"age\") over(partition by \"last_name\" order by \"first_name\" asc) as \"average_age\"\n     * from \"person\"\n     * ```\n     */\n    over(over) {\n        const builder = createOverBuilder();\n        return new AggregateFunctionBuilder({\n            ...this.#props,\n            aggregateFunctionNode: AggregateFunctionNode.cloneWithOver(this.#props.aggregateFunctionNode, (over ? over(builder) : builder).toOperationNode()),\n        });\n    }\n    /**\n     * Simply calls the provided function passing `this` as the only argument. `$call` returns\n     * what the provided function returns.\n     */\n    $call(func) {\n        return func(this);\n    }\n    /**\n     * Casts the expression to the given type.\n     *\n     * This method call doesn't change the SQL in any way. This methods simply\n     * returns a copy of this `AggregateFunctionBuilder` with a new output type.\n     */\n    $castTo() {\n        return new AggregateFunctionBuilder(this.#props);\n    }\n    /**\n     * Omit null from the expression's type.\n     *\n     * This function can be useful in cases where you know an expression can't be\n     * null, but Kysely is unable to infer it.\n     *\n     * This method call doesn't change the SQL in any way. This methods simply\n     * returns a copy of `this` with a new output type.\n     */\n    $notNull() {\n        return new AggregateFunctionBuilder(this.#props);\n    }\n    toOperationNode() {\n        return this.#props.aggregateFunctionNode;\n    }\n}\n/**\n * {@link AggregateFunctionBuilder} with an alias. The result of calling {@link AggregateFunctionBuilder.as}.\n */\nexport class AliasedAggregateFunctionBuilder {\n    #aggregateFunctionBuilder;\n    #alias;\n    constructor(aggregateFunctionBuilder, alias) {\n        this.#aggregateFunctionBuilder = aggregateFunctionBuilder;\n        this.#alias = alias;\n    }\n    /** @private */\n    get expression() {\n        return this.#aggregateFunctionBuilder;\n    }\n    /** @private */\n    get alias() {\n        return this.#alias;\n    }\n    toOperationNode() {\n        return AliasNode.create(this.#aggregateFunctionBuilder.toOperationNode(), IdentifierNode.create(this.#alias));\n    }\n}\n", "/// <reference types=\"./function-module.d.ts\" />\nimport { ExpressionWrapper } from '../expression/expression-wrapper.js';\nimport { AggregateFunctionNode } from '../operation-node/aggregate-function-node.js';\nimport { FunctionNode } from '../operation-node/function-node.js';\nimport { parseReferenceExpressionOrList, } from '../parser/reference-parser.js';\nimport { parseSelectAll } from '../parser/select-parser.js';\nimport { AggregateFunctionBuilder } from './aggregate-function-builder.js';\nimport { isString } from '../util/object-utils.js';\nimport { parseTable } from '../parser/table-parser.js';\nexport function createFunctionModule() {\n    const fn = (name, args) => {\n        return new ExpressionWrapper(FunctionNode.create(name, parseReferenceExpressionOrList(args ?? [])));\n    };\n    const agg = (name, args) => {\n        return new AggregateFunctionBuilder({\n            aggregateFunctionNode: AggregateFunctionNode.create(name, args ? parseReferenceExpressionOrList(args) : undefined),\n        });\n    };\n    return Object.assign(fn, {\n        agg,\n        avg(column) {\n            return agg('avg', [column]);\n        },\n        coalesce(...values) {\n            return fn('coalesce', values);\n        },\n        count(column) {\n            return agg('count', [column]);\n        },\n        countAll(table) {\n            return new AggregateFunctionBuilder({\n                aggregateFunctionNode: AggregateFunctionNode.create('count', parseSelectAll(table)),\n            });\n        },\n        max(column) {\n            return agg('max', [column]);\n        },\n        min(column) {\n            return agg('min', [column]);\n        },\n        sum(column) {\n            return agg('sum', [column]);\n        },\n        any(column) {\n            return fn('any', [column]);\n        },\n        jsonAgg(table) {\n            return new AggregateFunctionBuilder({\n                aggregateFunctionNode: AggregateFunctionNode.create('json_agg', [\n                    isString(table) ? parseTable(table) : table.toOperationNode(),\n                ]),\n            });\n        },\n        toJson(table) {\n            return new ExpressionWrapper(FunctionNode.create('to_json', [\n                isString(table) ? parseTable(table) : table.toOperationNode(),\n            ]));\n        },\n    });\n}\n", "/// <reference types=\"./unary-operation-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const UnaryOperationNode = freeze({\n    is(node) {\n        return node.kind === 'UnaryOperationNode';\n    },\n    create(operator, operand) {\n        return freeze({\n            kind: 'UnaryOperationNode',\n            operator,\n            operand,\n        });\n    },\n});\n", "/// <reference types=\"./unary-operation-parser.d.ts\" />\nimport { OperatorNode } from '../operation-node/operator-node.js';\nimport { UnaryOperationNode } from '../operation-node/unary-operation-node.js';\nimport { parseReferenceExpression, } from './reference-parser.js';\nexport function parseExists(operand) {\n    return parseUnaryOperation('exists', operand);\n}\nexport function parseNotExists(operand) {\n    return parseUnaryOperation('not exists', operand);\n}\nexport function parseUnaryOperation(operator, operand) {\n    return UnaryOperationNode.create(OperatorNode.create(operator), parseReferenceExpression(operand));\n}\n", "/// <reference types=\"./case-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { WhenNode } from './when-node.js';\n/**\n * @internal\n */\nexport const CaseNode = freeze({\n    is(node) {\n        return node.kind === 'CaseNode';\n    },\n    create(value) {\n        return freeze({\n            kind: 'CaseNode',\n            value,\n        });\n    },\n    cloneWithWhen(caseNode, when) {\n        return freeze({\n            ...caseNode,\n            when: freeze(caseNode.when ? [...caseNode.when, when] : [when]),\n        });\n    },\n    cloneWithThen(caseNode, then) {\n        return freeze({\n            ...caseNode,\n            when: caseNode.when\n                ? freeze([\n                    ...caseNode.when.slice(0, -1),\n                    WhenNode.cloneWithResult(caseNode.when[caseNode.when.length - 1], then),\n                ])\n                : undefined,\n        });\n    },\n    cloneWith(caseNode, props) {\n        return freeze({\n            ...caseNode,\n            ...props,\n        });\n    },\n});\n", "/// <reference types=\"./case-builder.d.ts\" />\nimport { ExpressionWrapper } from '../expression/expression-wrapper.js';\nimport { freeze } from '../util/object-utils.js';\nimport { CaseNode } from '../operation-node/case-node.js';\nimport { WhenNode } from '../operation-node/when-node.js';\nimport { parseValueBinaryOperationOrExpression, } from '../parser/binary-operation-parser.js';\nimport { isSafeImmediateValue, parseSafeImmediateValue, parseValueExpression, } from '../parser/value-parser.js';\nexport class CaseBuilder {\n    #props;\n    constructor(props) {\n        this.#props = freeze(props);\n    }\n    when(...args) {\n        return new CaseThenBuilder({\n            ...this.#props,\n            node: CaseNode.cloneWithWhen(this.#props.node, WhenNode.create(parseValueBinaryOperationOrExpression(args))),\n        });\n    }\n}\nexport class CaseThenBuilder {\n    #props;\n    constructor(props) {\n        this.#props = freeze(props);\n    }\n    then(valueExpression) {\n        return new CaseWhenBuilder({\n            ...this.#props,\n            node: CaseNode.cloneWithThen(this.#props.node, isSafeImmediateValue(valueExpression)\n                ? parseSafeImmediateValue(valueExpression)\n                : parseValueExpression(valueExpression)),\n        });\n    }\n}\nexport class CaseWhenBuilder {\n    #props;\n    constructor(props) {\n        this.#props = freeze(props);\n    }\n    when(...args) {\n        return new CaseThenBuilder({\n            ...this.#props,\n            node: CaseNode.cloneWithWhen(this.#props.node, WhenNode.create(parseValueBinaryOperationOrExpression(args))),\n        });\n    }\n    else(valueExpression) {\n        return new CaseEndBuilder({\n            ...this.#props,\n            node: CaseNode.cloneWith(this.#props.node, {\n                else: isSafeImmediateValue(valueExpression)\n                    ? parseSafeImmediateValue(valueExpression)\n                    : parseValueExpression(valueExpression),\n            }),\n        });\n    }\n    end() {\n        return new ExpressionWrapper(CaseNode.cloneWith(this.#props.node, { isStatement: false }));\n    }\n    endCase() {\n        return new ExpressionWrapper(CaseNode.cloneWith(this.#props.node, { isStatement: true }));\n    }\n}\nexport class CaseEndBuilder {\n    #props;\n    constructor(props) {\n        this.#props = freeze(props);\n    }\n    end() {\n        return new ExpressionWrapper(CaseNode.cloneWith(this.#props.node, { isStatement: false }));\n    }\n    endCase() {\n        return new ExpressionWrapper(CaseNode.cloneWith(this.#props.node, { isStatement: true }));\n    }\n}\n", "/// <reference types=\"./json-path-leg-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const JSONPathLegNode = freeze({\n    is(node) {\n        return node.kind === 'JSONPathLegNode';\n    },\n    create(type, value) {\n        return freeze({\n            kind: 'JSONPathLegNode',\n            type,\n            value,\n        });\n    },\n});\n", "/// <reference types=\"./json-path-builder.d.ts\" />\nimport { AliasNode } from '../operation-node/alias-node.js';\nimport { IdentifierNode } from '../operation-node/identifier-node.js';\nimport { JSONOperatorChainNode } from '../operation-node/json-operator-chain-node.js';\nimport { JSONPathLegNode, } from '../operation-node/json-path-leg-node.js';\nimport { JSONPathNode } from '../operation-node/json-path-node.js';\nimport { JSONReferenceNode } from '../operation-node/json-reference-node.js';\nimport { isOperationNodeSource } from '../operation-node/operation-node-source.js';\nimport { ValueNode } from '../operation-node/value-node.js';\nexport class JSONPathBuilder {\n    #node;\n    constructor(node) {\n        this.#node = node;\n    }\n    /**\n     * Access an element of a JSON array in a specific location.\n     *\n     * Since there's no guarantee an element exists in the given array location, the\n     * resulting type is always nullable. If you're sure the element exists, you\n     * should use {@link SelectQueryBuilder.$assertType} to narrow the type safely.\n     *\n     * See also {@link key} to access properties of JSON objects.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.selectFrom('person')\n     *   .select(eb =>\n     *     eb.ref('nicknames', '->').at(0).as('primary_nickname')\n     *   )\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * select \"nicknames\"->0 as \"primary_nickname\" from \"person\"\n     *```\n     *\n     * Combined with {@link key}:\n     *\n     * ```ts\n     * db.selectFrom('person').select(eb =>\n     *   eb.ref('experience', '->').at(0).key('role').as('first_role')\n     * )\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * select \"experience\"->0->'role' as \"first_role\" from \"person\"\n     * ```\n     *\n     * You can use `'last'` to access the last element of the array in MySQL:\n     *\n     * ```ts\n     * db.selectFrom('person').select(eb =>\n     *   eb.ref('nicknames', '->$').at('last').as('last_nickname')\n     * )\n     * ```\n     *\n     * The generated SQL (MySQL):\n     *\n     * ```sql\n     * select `nicknames`->'$[last]' as `last_nickname` from `person`\n     * ```\n     *\n     * Or `'#-1'` in SQLite:\n     *\n     * ```ts\n     * db.selectFrom('person').select(eb =>\n     *   eb.ref('nicknames', '->>$').at('#-1').as('last_nickname')\n     * )\n     * ```\n     *\n     * The generated SQL (SQLite):\n     *\n     * ```sql\n     * select \"nicknames\"->>'$[#-1]' as `last_nickname` from `person`\n     * ```\n     */\n    at(index) {\n        return this.#createBuilderWithPathLeg('ArrayLocation', index);\n    }\n    /**\n     * Access a property of a JSON object.\n     *\n     * If a field is optional, the resulting type will be nullable.\n     *\n     * See also {@link at} to access elements of JSON arrays.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * db.selectFrom('person').select(eb =>\n     *   eb.ref('address', '->').key('city').as('city')\n     * )\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * select \"address\"->'city' as \"city\" from \"person\"\n     * ```\n     *\n     * Going deeper:\n     *\n     * ```ts\n     * db.selectFrom('person').select(eb =>\n     *   eb.ref('profile', '->$').key('website').key('url').as('website_url')\n     * )\n     * ```\n     *\n     * The generated SQL (MySQL):\n     *\n     * ```sql\n     * select `profile`->'$.website.url' as `website_url` from `person`\n     * ```\n     *\n     * Combined with {@link at}:\n     *\n     * ```ts\n     * db.selectFrom('person').select(eb =>\n     *   eb.ref('profile', '->').key('addresses').at(0).key('city').as('city')\n     * )\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * select \"profile\"->'addresses'->0->'city' as \"city\" from \"person\"\n     * ```\n     */\n    key(key) {\n        return this.#createBuilderWithPathLeg('Member', key);\n    }\n    #createBuilderWithPathLeg(legType, value) {\n        if (JSONReferenceNode.is(this.#node)) {\n            return new TraversedJSONPathBuilder(JSONReferenceNode.cloneWithTraversal(this.#node, JSONPathNode.is(this.#node.traversal)\n                ? JSONPathNode.cloneWithLeg(this.#node.traversal, JSONPathLegNode.create(legType, value))\n                : JSONOperatorChainNode.cloneWithValue(this.#node.traversal, ValueNode.createImmediate(value))));\n        }\n        return new TraversedJSONPathBuilder(JSONPathNode.cloneWithLeg(this.#node, JSONPathLegNode.create(legType, value)));\n    }\n}\nexport class TraversedJSONPathBuilder extends JSONPathBuilder {\n    #node;\n    constructor(node) {\n        super(node);\n        this.#node = node;\n    }\n    /** @private */\n    get expressionType() {\n        return undefined;\n    }\n    as(alias) {\n        return new AliasedJSONPathBuilder(this, alias);\n    }\n    /**\n     * Change the output type of the json path.\n     *\n     * This method call doesn't change the SQL in any way. This methods simply\n     * returns a copy of this `JSONPathBuilder` with a new output type.\n     */\n    $castTo() {\n        return new TraversedJSONPathBuilder(this.#node);\n    }\n    $notNull() {\n        return new TraversedJSONPathBuilder(this.#node);\n    }\n    toOperationNode() {\n        return this.#node;\n    }\n}\nexport class AliasedJSONPathBuilder {\n    #jsonPath;\n    #alias;\n    constructor(jsonPath, alias) {\n        this.#jsonPath = jsonPath;\n        this.#alias = alias;\n    }\n    /** @private */\n    get expression() {\n        return this.#jsonPath;\n    }\n    /** @private */\n    get alias() {\n        return this.#alias;\n    }\n    toOperationNode() {\n        return AliasNode.create(this.#jsonPath.toOperationNode(), isOperationNodeSource(this.#alias)\n            ? this.#alias.toOperationNode()\n            : IdentifierNode.create(this.#alias));\n    }\n}\n", "/// <reference types=\"./tuple-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const TupleNode = freeze({\n    is(node) {\n        return node.kind === 'TupleNode';\n    },\n    create(values) {\n        return freeze({\n            kind: 'TupleNode',\n            values: freeze(values),\n        });\n    },\n});\n", "/// <reference types=\"./data-type-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nconst SIMPLE_COLUMN_DATA_TYPES = [\n    'varchar',\n    'char',\n    'text',\n    'integer',\n    'int2',\n    'int4',\n    'int8',\n    'smallint',\n    'bigint',\n    'boolean',\n    'real',\n    'double precision',\n    'float4',\n    'float8',\n    'decimal',\n    'numeric',\n    'binary',\n    'bytea',\n    'date',\n    'datetime',\n    'time',\n    'timetz',\n    'timestamp',\n    'timestamptz',\n    'serial',\n    'bigserial',\n    'uuid',\n    'json',\n    'jsonb',\n    'blob',\n    'varbinary',\n    'int4range',\n    'int4multirange',\n    'int8range',\n    'int8multirange',\n    'numrange',\n    'nummultirange',\n    'tsrange',\n    'tsmultirange',\n    'tstzrange',\n    'tstzmultirange',\n    'daterange',\n    'datemultirange',\n];\nconst COLUMN_DATA_TYPE_REGEX = [\n    /^varchar\\(\\d+\\)$/,\n    /^char\\(\\d+\\)$/,\n    /^decimal\\(\\d+, \\d+\\)$/,\n    /^numeric\\(\\d+, \\d+\\)$/,\n    /^binary\\(\\d+\\)$/,\n    /^datetime\\(\\d+\\)$/,\n    /^time\\(\\d+\\)$/,\n    /^timetz\\(\\d+\\)$/,\n    /^timestamp\\(\\d+\\)$/,\n    /^timestamptz\\(\\d+\\)$/,\n    /^varbinary\\(\\d+\\)$/,\n];\n/**\n * @internal\n */\nexport const DataTypeNode = freeze({\n    is(node) {\n        return node.kind === 'DataTypeNode';\n    },\n    create(dataType) {\n        return freeze({\n            kind: 'DataTypeNode',\n            dataType,\n        });\n    },\n});\nexport function isColumnDataType(dataType) {\n    if (SIMPLE_COLUMN_DATA_TYPES.includes(dataType)) {\n        return true;\n    }\n    if (COLUMN_DATA_TYPE_REGEX.some((r) => r.test(dataType))) {\n        return true;\n    }\n    return false;\n}\n", "/// <reference types=\"./data-type-parser.d.ts\" />\nimport { DataTypeNode, isColumnDataType, } from '../operation-node/data-type-node.js';\nimport { isOperationNodeSource } from '../operation-node/operation-node-source.js';\nexport function parseDataTypeExpression(dataType) {\n    if (isOperationNodeSource(dataType)) {\n        return dataType.toOperationNode();\n    }\n    if (isColumnDataType(dataType)) {\n        return DataTypeNode.create(dataType);\n    }\n    throw new Error(`invalid column data type ${JSON.stringify(dataType)}`);\n}\n", "/// <reference types=\"./cast-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const CastNode = freeze({\n    is(node) {\n        return node.kind === 'CastNode';\n    },\n    create(expression, dataType) {\n        return freeze({\n            kind: 'CastNode',\n            expression,\n            dataType,\n        });\n    },\n});\n", "/// <reference types=\"./expression-builder.d.ts\" />\nimport { createSelectQueryBuilder, } from '../query-builder/select-query-builder.js';\nimport { SelectQueryNode } from '../operation-node/select-query-node.js';\nimport { parseTableExpressionOrList, parseTable, } from '../parser/table-parser.js';\nimport { WithSchemaPlugin } from '../plugin/with-schema/with-schema-plugin.js';\nimport { createQueryId } from '../util/query-id.js';\nimport { createFunctionModule, } from '../query-builder/function-module.js';\nimport { parseJSONReference, parseReferenceExpression, parseStringReference, } from '../parser/reference-parser.js';\nimport { parseFilterList, parseFilterObject, parseValueBinaryOperation, parseValueBinaryOperationOrExpression, } from '../parser/binary-operation-parser.js';\nimport { ParensNode } from '../operation-node/parens-node.js';\nimport { ExpressionWrapper } from './expression-wrapper.js';\nimport { OperatorNode, } from '../operation-node/operator-node.js';\nimport { parseUnaryOperation } from '../parser/unary-operation-parser.js';\nimport { parseSafeImmediateValue, parseValueExpression, } from '../parser/value-parser.js';\nimport { NOOP_QUERY_EXECUTOR } from '../query-executor/noop-query-executor.js';\nimport { CaseBuilder } from '../query-builder/case-builder.js';\nimport { CaseNode } from '../operation-node/case-node.js';\nimport { isReadonlyArray, isUndefined } from '../util/object-utils.js';\nimport { JSONPathBuilder } from '../query-builder/json-path-builder.js';\nimport { BinaryOperationNode } from '../operation-node/binary-operation-node.js';\nimport { AndNode } from '../operation-node/and-node.js';\nimport { TupleNode } from '../operation-node/tuple-node.js';\nimport { JSONPathNode } from '../operation-node/json-path-node.js';\nimport { parseDataTypeExpression, } from '../parser/data-type-parser.js';\nimport { CastNode } from '../operation-node/cast-node.js';\nexport function createExpressionBuilder(executor = NOOP_QUERY_EXECUTOR) {\n    function binary(lhs, op, rhs) {\n        return new ExpressionWrapper(parseValueBinaryOperation(lhs, op, rhs));\n    }\n    function unary(op, expr) {\n        return new ExpressionWrapper(parseUnaryOperation(op, expr));\n    }\n    const eb = Object.assign(binary, {\n        fn: undefined,\n        eb: undefined,\n        selectFrom(table) {\n            return createSelectQueryBuilder({\n                queryId: createQueryId(),\n                executor,\n                queryNode: SelectQueryNode.createFrom(parseTableExpressionOrList(table)),\n            });\n        },\n        case(reference) {\n            return new CaseBuilder({\n                node: CaseNode.create(isUndefined(reference)\n                    ? undefined\n                    : parseReferenceExpression(reference)),\n            });\n        },\n        ref(reference, op) {\n            if (isUndefined(op)) {\n                return new ExpressionWrapper(parseStringReference(reference));\n            }\n            return new JSONPathBuilder(parseJSONReference(reference, op));\n        },\n        jsonPath() {\n            return new JSONPathBuilder(JSONPathNode.create());\n        },\n        table(table) {\n            return new ExpressionWrapper(parseTable(table));\n        },\n        val(value) {\n            return new ExpressionWrapper(parseValueExpression(value));\n        },\n        refTuple(...values) {\n            return new ExpressionWrapper(TupleNode.create(values.map(parseReferenceExpression)));\n        },\n        tuple(...values) {\n            return new ExpressionWrapper(TupleNode.create(values.map(parseValueExpression)));\n        },\n        lit(value) {\n            return new ExpressionWrapper(parseSafeImmediateValue(value));\n        },\n        unary,\n        not(expr) {\n            return unary('not', expr);\n        },\n        exists(expr) {\n            return unary('exists', expr);\n        },\n        neg(expr) {\n            return unary('-', expr);\n        },\n        between(expr, start, end) {\n            return new ExpressionWrapper(BinaryOperationNode.create(parseReferenceExpression(expr), OperatorNode.create('between'), AndNode.create(parseValueExpression(start), parseValueExpression(end))));\n        },\n        betweenSymmetric(expr, start, end) {\n            return new ExpressionWrapper(BinaryOperationNode.create(parseReferenceExpression(expr), OperatorNode.create('between symmetric'), AndNode.create(parseValueExpression(start), parseValueExpression(end))));\n        },\n        and(exprs) {\n            if (isReadonlyArray(exprs)) {\n                return new ExpressionWrapper(parseFilterList(exprs, 'and'));\n            }\n            return new ExpressionWrapper(parseFilterObject(exprs, 'and'));\n        },\n        or(exprs) {\n            if (isReadonlyArray(exprs)) {\n                return new ExpressionWrapper(parseFilterList(exprs, 'or'));\n            }\n            return new ExpressionWrapper(parseFilterObject(exprs, 'or'));\n        },\n        parens(...args) {\n            const node = parseValueBinaryOperationOrExpression(args);\n            if (ParensNode.is(node)) {\n                // No double wrapping.\n                return new ExpressionWrapper(node);\n            }\n            else {\n                return new ExpressionWrapper(ParensNode.create(node));\n            }\n        },\n        cast(expr, dataType) {\n            return new ExpressionWrapper(CastNode.create(parseReferenceExpression(expr), parseDataTypeExpression(dataType)));\n        },\n        withSchema(schema) {\n            return createExpressionBuilder(executor.withPluginAtFront(new WithSchemaPlugin(schema)));\n        },\n    });\n    eb.fn = createFunctionModule();\n    eb.eb = eb;\n    return eb;\n}\nexport function expressionBuilder(_) {\n    return createExpressionBuilder();\n}\n", "/// <reference types=\"./expression-parser.d.ts\" />\nimport { isAliasedExpression, isExpression, } from '../expression/expression.js';\nimport { isOperationNodeSource } from '../operation-node/operation-node-source.js';\nimport { expressionBuilder, } from '../expression/expression-builder.js';\nimport { isFunction } from '../util/object-utils.js';\nexport function parseExpression(exp) {\n    if (isOperationNodeSource(exp)) {\n        return exp.toOperationNode();\n    }\n    else if (isFunction(exp)) {\n        return exp(expressionBuilder()).toOperationNode();\n    }\n    throw new Error(`invalid expression: ${JSON.stringify(exp)}`);\n}\nexport function parseAliasedExpression(exp) {\n    if (isOperationNodeSource(exp)) {\n        return exp.toOperationNode();\n    }\n    else if (isFunction(exp)) {\n        return exp(expressionBuilder()).toOperationNode();\n    }\n    throw new Error(`invalid aliased expression: ${JSON.stringify(exp)}`);\n}\nexport function isExpressionOrFactory(obj) {\n    return isExpression(obj) || isAliasedExpression(obj) || isFunction(obj);\n}\n", "/// <reference types=\"./dynamic-table-builder.d.ts\" />\nimport { AliasNode } from '../operation-node/alias-node.js';\nimport { IdentifierNode } from '../operation-node/identifier-node.js';\nimport { isOperationNodeSource, } from '../operation-node/operation-node-source.js';\nimport { parseTable } from '../parser/table-parser.js';\nimport { isObject, isString } from '../util/object-utils.js';\nexport class DynamicTableBuilder {\n    #table;\n    get table() {\n        return this.#table;\n    }\n    constructor(table) {\n        this.#table = table;\n    }\n    as(alias) {\n        return new AliasedDynamicTableBuilder(this.#table, alias);\n    }\n}\nexport class AliasedDynamicTableBuilder {\n    #table;\n    #alias;\n    get table() {\n        return this.#table;\n    }\n    get alias() {\n        return this.#alias;\n    }\n    constructor(table, alias) {\n        this.#table = table;\n        this.#alias = alias;\n    }\n    toOperationNode() {\n        return AliasNode.create(parseTable(this.#table), IdentifierNode.create(this.#alias));\n    }\n}\nexport function isAliasedDynamicTableBuilder(obj) {\n    return (isObject(obj) &&\n        isOperationNodeSource(obj) &&\n        isString(obj.table) &&\n        isString(obj.alias));\n}\n", "/// <reference types=\"./table-parser.d.ts\" />\nimport { isReadonlyArray, isString } from '../util/object-utils.js';\nimport { AliasNode } from '../operation-node/alias-node.js';\nimport { TableNode } from '../operation-node/table-node.js';\nimport { parseAliasedExpression, } from './expression-parser.js';\nimport { IdentifierNode } from '../operation-node/identifier-node.js';\nimport { isAliasedDynamicTableBuilder, } from '../dynamic/dynamic-table-builder.js';\nexport function parseTableExpressionOrList(table) {\n    if (isReadonlyArray(table)) {\n        return table.map((it) => parseTableExpression(it));\n    }\n    else {\n        return [parseTableExpression(table)];\n    }\n}\nexport function parseTableExpression(table) {\n    if (isString(table)) {\n        return parseAliasedTable(table);\n    }\n    else if (isAliasedDynamicTableBuilder(table)) {\n        return table.toOperationNode();\n    }\n    else {\n        return parseAliasedExpression(table);\n    }\n}\nexport function parseAliasedTable(from) {\n    const ALIAS_SEPARATOR = ' as ';\n    if (from.includes(ALIAS_SEPARATOR)) {\n        const [table, alias] = from.split(ALIAS_SEPARATOR).map(trim);\n        return AliasNode.create(parseTable(table), IdentifierNode.create(alias));\n    }\n    else {\n        return parseTable(from);\n    }\n}\nexport function parseTable(from) {\n    const SCHEMA_SEPARATOR = '.';\n    if (from.includes(SCHEMA_SEPARATOR)) {\n        const [schema, table] = from.split(SCHEMA_SEPARATOR).map(trim);\n        return TableNode.createWithSchema(schema, table);\n    }\n    else {\n        return TableNode.create(from);\n    }\n}\nfunction trim(str) {\n    return str.trim();\n}\n", "/// <reference types=\"./add-column-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const AddColumnNode = freeze({\n    is(node) {\n        return node.kind === 'AddColumnNode';\n    },\n    create(column) {\n        return freeze({\n            kind: 'AddColumnNode',\n            column,\n        });\n    },\n});\n", "/// <reference types=\"./column-definition-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { ColumnNode } from './column-node.js';\n/**\n * @internal\n */\nexport const ColumnDefinitionNode = freeze({\n    is(node) {\n        return node.kind === 'ColumnDefinitionNode';\n    },\n    create(column, dataType) {\n        return freeze({\n            kind: 'ColumnDefinitionNode',\n            column: ColumnNode.create(column),\n            dataType,\n        });\n    },\n    cloneWithFrontModifier(node, modifier) {\n        return freeze({\n            ...node,\n            frontModifiers: node.frontModifiers\n                ? freeze([...node.frontModifiers, modifier])\n                : [modifier],\n        });\n    },\n    cloneWithEndModifier(node, modifier) {\n        return freeze({\n            ...node,\n            endModifiers: node.endModifiers\n                ? freeze([...node.endModifiers, modifier])\n                : [modifier],\n        });\n    },\n    cloneWith(node, props) {\n        return freeze({\n            ...node,\n            ...props,\n        });\n    },\n});\n", "/// <reference types=\"./drop-column-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { ColumnNode } from './column-node.js';\n/**\n * @internal\n */\nexport const DropColumnNode = freeze({\n    is(node) {\n        return node.kind === 'DropColumnNode';\n    },\n    create(column) {\n        return freeze({\n            kind: 'DropColumnNode',\n            column: ColumnNode.create(column),\n        });\n    },\n});\n", "/// <reference types=\"./rename-column-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { ColumnNode } from './column-node.js';\n/**\n * @internal\n */\nexport const RenameColumnNode = freeze({\n    is(node) {\n        return node.kind === 'RenameColumnNode';\n    },\n    create(column, newColumn) {\n        return freeze({\n            kind: 'RenameColumnNode',\n            column: ColumnNode.create(column),\n            renameTo: ColumnNode.create(newColumn),\n        });\n    },\n});\n", "/// <reference types=\"./check-constraint-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { IdentifierNode } from './identifier-node.js';\n/**\n * @internal\n */\nexport const CheckConstraintNode = freeze({\n    is(node) {\n        return node.kind === 'CheckConstraintNode';\n    },\n    create(expression, constraintName) {\n        return freeze({\n            kind: 'CheckConstraintNode',\n            expression,\n            name: constraintName ? IdentifierNode.create(constraintName) : undefined,\n        });\n    },\n});\n", "/// <reference types=\"./references-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nexport const ON_MODIFY_FOREIGN_ACTIONS = [\n    'no action',\n    'restrict',\n    'cascade',\n    'set null',\n    'set default',\n];\n/**\n * @internal\n */\nexport const ReferencesNode = freeze({\n    is(node) {\n        return node.kind === 'ReferencesNode';\n    },\n    create(table, columns) {\n        return freeze({\n            kind: 'ReferencesNode',\n            table,\n            columns: freeze([...columns]),\n        });\n    },\n    cloneWithOnDelete(references, onDelete) {\n        return freeze({\n            ...references,\n            onDelete,\n        });\n    },\n    cloneWithOnUpdate(references, onUpdate) {\n        return freeze({\n            ...references,\n            onUpdate,\n        });\n    },\n});\n", "/// <reference types=\"./default-value-parser.d.ts\" />\nimport { isOperationNodeSource } from '../operation-node/operation-node-source.js';\nimport { ValueNode } from '../operation-node/value-node.js';\nexport function parseDefaultValueExpression(value) {\n    return isOperationNodeSource(value)\n        ? value.toOperationNode()\n        : ValueNode.createImmediate(value);\n}\n", "/// <reference types=\"./generated-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const GeneratedNode = freeze({\n    is(node) {\n        return node.kind === 'GeneratedNode';\n    },\n    create(params) {\n        return freeze({\n            kind: 'GeneratedNode',\n            ...params,\n        });\n    },\n    createWithExpression(expression) {\n        return freeze({\n            kind: 'GeneratedNode',\n            always: true,\n            expression,\n        });\n    },\n    cloneWith(node, params) {\n        return freeze({\n            ...node,\n            ...params,\n        });\n    },\n});\n", "/// <reference types=\"./default-value-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const DefaultValueNode = freeze({\n    is(node) {\n        return node.kind === 'DefaultValueNode';\n    },\n    create(defaultValue) {\n        return freeze({\n            kind: 'DefaultValueNode',\n            defaultValue,\n        });\n    },\n});\n", "/// <reference types=\"./on-modify-action-parser.d.ts\" />\nimport { ON_MODIFY_FOREIGN_ACTIONS, } from '../operation-node/references-node.js';\nexport function parseOnModifyForeignAction(action) {\n    if (ON_MODIFY_FOREIGN_ACTIONS.includes(action)) {\n        return action;\n    }\n    throw new Error(`invalid OnModifyForeignAction ${action}`);\n}\n", "/// <reference types=\"./column-definition-builder.d.ts\" />\nimport { CheckConstraintNode } from '../operation-node/check-constraint-node.js';\nimport { ReferencesNode, } from '../operation-node/references-node.js';\nimport { SelectAllNode } from '../operation-node/select-all-node.js';\nimport { parseStringReference } from '../parser/reference-parser.js';\nimport { ColumnDefinitionNode } from '../operation-node/column-definition-node.js';\nimport { parseDefaultValueExpression, } from '../parser/default-value-parser.js';\nimport { GeneratedNode } from '../operation-node/generated-node.js';\nimport { DefaultValueNode } from '../operation-node/default-value-node.js';\nimport { parseOnModifyForeignAction } from '../parser/on-modify-action-parser.js';\nexport class ColumnDefinitionBuilder {\n    #node;\n    constructor(node) {\n        this.#node = node;\n    }\n    /**\n     * Adds `auto_increment` or `autoincrement` to the column definition\n     * depending on the dialect.\n     *\n     * Some dialects like PostgreSQL don't support this. On PostgreSQL\n     * you can use the `serial` or `bigserial` data type instead.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.schema\n     *   .createTable('person')\n     *   .addColumn('id', 'integer', col => col.autoIncrement().primaryKey())\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (MySQL):\n     *\n     * ```sql\n     * create table `person` (\n     *   `id` integer primary key auto_increment\n     * )\n     * ```\n     */\n    autoIncrement() {\n        return new ColumnDefinitionBuilder(ColumnDefinitionNode.cloneWith(this.#node, { autoIncrement: true }));\n    }\n    /**\n     * Makes the column an identity column.\n     *\n     * This only works on some dialects like MS SQL Server (MSSQL).\n     *\n     * For PostgreSQL's `generated always as identity` use {@link generatedAlwaysAsIdentity}.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.schema\n     *   .createTable('person')\n     *   .addColumn('id', 'integer', col => col.identity().primaryKey())\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (MSSQL):\n     *\n     * ```sql\n     * create table \"person\" (\n     *   \"id\" integer identity primary key\n     * )\n     * ```\n     */\n    identity() {\n        return new ColumnDefinitionBuilder(ColumnDefinitionNode.cloneWith(this.#node, { identity: true }));\n    }\n    /**\n     * Makes the column the primary key.\n     *\n     * If you want to specify a composite primary key use the\n     * {@link CreateTableBuilder.addPrimaryKeyConstraint} method.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.schema\n     *   .createTable('person')\n     *   .addColumn('id', 'integer', col => col.primaryKey())\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (MySQL):\n     *\n     * ```sql\n     * create table `person` (\n     *   `id` integer primary key\n     * )\n     */\n    primaryKey() {\n        return new ColumnDefinitionBuilder(ColumnDefinitionNode.cloneWith(this.#node, { primaryKey: true }));\n    }\n    /**\n     * Adds a foreign key constraint for the column.\n     *\n     * If your database engine doesn't support foreign key constraints in the\n     * column definition (like MySQL 5) you need to call the table level\n     * {@link CreateTableBuilder.addForeignKeyConstraint} method instead.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.schema\n     *   .createTable('pet')\n     *   .addColumn('owner_id', 'integer', (col) => col.references('person.id'))\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * create table \"pet\" (\n     *   \"owner_id\" integer references \"person\" (\"id\")\n     * )\n     * ```\n     */\n    references(ref) {\n        const references = parseStringReference(ref);\n        if (!references.table || SelectAllNode.is(references.column)) {\n            throw new Error(`invalid call references('${ref}'). The reference must have format table.column or schema.table.column`);\n        }\n        return new ColumnDefinitionBuilder(ColumnDefinitionNode.cloneWith(this.#node, {\n            references: ReferencesNode.create(references.table, [\n                references.column,\n            ]),\n        }));\n    }\n    /**\n     * Adds an `on delete` constraint for the foreign key column.\n     *\n     * If your database engine doesn't support foreign key constraints in the\n     * column definition (like MySQL 5) you need to call the table level\n     * {@link CreateTableBuilder.addForeignKeyConstraint} method instead.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.schema\n     *   .createTable('pet')\n     *   .addColumn(\n     *     'owner_id',\n     *     'integer',\n     *     (col) => col.references('person.id').onDelete('cascade')\n     *   )\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * create table \"pet\" (\n     *   \"owner_id\" integer references \"person\" (\"id\") on delete cascade\n     * )\n     * ```\n     */\n    onDelete(onDelete) {\n        if (!this.#node.references) {\n            throw new Error('on delete constraint can only be added for foreign keys');\n        }\n        return new ColumnDefinitionBuilder(ColumnDefinitionNode.cloneWith(this.#node, {\n            references: ReferencesNode.cloneWithOnDelete(this.#node.references, parseOnModifyForeignAction(onDelete)),\n        }));\n    }\n    /**\n     * Adds an `on update` constraint for the foreign key column.\n     *\n     * If your database engine doesn't support foreign key constraints in the\n     * column definition (like MySQL 5) you need to call the table level\n     * {@link CreateTableBuilder.addForeignKeyConstraint} method instead.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.schema\n     *   .createTable('pet')\n     *   .addColumn(\n     *     'owner_id',\n     *     'integer',\n     *     (col) => col.references('person.id').onUpdate('cascade')\n     *   )\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * create table \"pet\" (\n     *   \"owner_id\" integer references \"person\" (\"id\") on update cascade\n     * )\n     * ```\n     */\n    onUpdate(onUpdate) {\n        if (!this.#node.references) {\n            throw new Error('on update constraint can only be added for foreign keys');\n        }\n        return new ColumnDefinitionBuilder(ColumnDefinitionNode.cloneWith(this.#node, {\n            references: ReferencesNode.cloneWithOnUpdate(this.#node.references, parseOnModifyForeignAction(onUpdate)),\n        }));\n    }\n    /**\n     * Adds a unique constraint for the column.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.schema\n     *   .createTable('person')\n     *   .addColumn('email', 'varchar(255)', col => col.unique())\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (MySQL):\n     *\n     * ```sql\n     * create table `person` (\n     *   `email` varchar(255) unique\n     * )\n     * ```\n     */\n    unique() {\n        return new ColumnDefinitionBuilder(ColumnDefinitionNode.cloneWith(this.#node, { unique: true }));\n    }\n    /**\n     * Adds a `not null` constraint for the column.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.schema\n     *   .createTable('person')\n     *   .addColumn('first_name', 'varchar(255)', col => col.notNull())\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (MySQL):\n     *\n     * ```sql\n     * create table `person` (\n     *   `first_name` varchar(255) not null\n     * )\n     * ```\n     */\n    notNull() {\n        return new ColumnDefinitionBuilder(ColumnDefinitionNode.cloneWith(this.#node, { notNull: true }));\n    }\n    /**\n     * Adds a `unsigned` modifier for the column.\n     *\n     * This only works on some dialects like MySQL.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.schema\n     *   .createTable('person')\n     *   .addColumn('age', 'integer', col => col.unsigned())\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (MySQL):\n     *\n     * ```sql\n     * create table `person` (\n     *   `age` integer unsigned\n     * )\n     * ```\n     */\n    unsigned() {\n        return new ColumnDefinitionBuilder(ColumnDefinitionNode.cloneWith(this.#node, { unsigned: true }));\n    }\n    /**\n     * Adds a default value constraint for the column.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.schema\n     *   .createTable('pet')\n     *   .addColumn('number_of_legs', 'integer', (col) => col.defaultTo(4))\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (MySQL):\n     *\n     * ```sql\n     * create table `pet` (\n     *   `number_of_legs` integer default 4\n     * )\n     * ```\n     *\n     * Values passed to `defaultTo` are interpreted as value literals by default. You can define\n     * an arbitrary SQL expression using the {@link sql} template tag:\n     *\n     * ```ts\n     * import {\u00A0sql } from 'kysely'\n     *\n     * await db.schema\n     *   .createTable('pet')\n     *   .addColumn(\n     *     'created_at',\n     *     'timestamp',\n     *     (col) => col.defaultTo(sql`CURRENT_TIMESTAMP`)\n     *   )\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (MySQL):\n     *\n     * ```sql\n     * create table `pet` (\n     *   `created_at` timestamp default CURRENT_TIMESTAMP\n     * )\n     * ```\n     */\n    defaultTo(value) {\n        return new ColumnDefinitionBuilder(ColumnDefinitionNode.cloneWith(this.#node, {\n            defaultTo: DefaultValueNode.create(parseDefaultValueExpression(value)),\n        }));\n    }\n    /**\n     * Adds a check constraint for the column.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * import {\u00A0sql } from 'kysely'\n     *\n     * await db.schema\n     *   .createTable('pet')\n     *   .addColumn('number_of_legs', 'integer', (col) =>\n     *     col.check(sql`number_of_legs < 5`)\n     *   )\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (MySQL):\n     *\n     * ```sql\n     * create table `pet` (\n     *   `number_of_legs` integer check (number_of_legs < 5)\n     * )\n     * ```\n     */\n    check(expression) {\n        return new ColumnDefinitionBuilder(ColumnDefinitionNode.cloneWith(this.#node, {\n            check: CheckConstraintNode.create(expression.toOperationNode()),\n        }));\n    }\n    /**\n     * Makes the column a generated column using a `generated always as` statement.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * import {\u00A0sql } from 'kysely'\n     *\n     * await db.schema\n     *   .createTable('person')\n     *   .addColumn('full_name', 'varchar(255)',\n     *     (col) => col.generatedAlwaysAs(sql`concat(first_name, ' ', last_name)`)\n     *   )\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (MySQL):\n     *\n     * ```sql\n     * create table `person` (\n     *   `full_name` varchar(255) generated always as (concat(first_name, ' ', last_name))\n     * )\n     * ```\n     */\n    generatedAlwaysAs(expression) {\n        return new ColumnDefinitionBuilder(ColumnDefinitionNode.cloneWith(this.#node, {\n            generated: GeneratedNode.createWithExpression(expression.toOperationNode()),\n        }));\n    }\n    /**\n     * Adds the `generated always as identity` specifier.\n     *\n     * This only works on some dialects like PostgreSQL.\n     *\n     * For MS SQL Server (MSSQL)'s identity column use {@link identity}.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.schema\n     *   .createTable('person')\n     *   .addColumn('id', 'integer', col => col.generatedAlwaysAsIdentity().primaryKey())\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * create table \"person\" (\n     *   \"id\" integer generated always as identity primary key\n     * )\n     * ```\n     */\n    generatedAlwaysAsIdentity() {\n        return new ColumnDefinitionBuilder(ColumnDefinitionNode.cloneWith(this.#node, {\n            generated: GeneratedNode.create({ identity: true, always: true }),\n        }));\n    }\n    /**\n     * Adds the `generated by default as identity` specifier on supported dialects.\n     *\n     * This only works on some dialects like PostgreSQL.\n     *\n     * For MS SQL Server (MSSQL)'s identity column use {@link identity}.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.schema\n     *   .createTable('person')\n     *   .addColumn('id', 'integer', col => col.generatedByDefaultAsIdentity().primaryKey())\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * create table \"person\" (\n     *   \"id\" integer generated by default as identity primary key\n     * )\n     * ```\n     */\n    generatedByDefaultAsIdentity() {\n        return new ColumnDefinitionBuilder(ColumnDefinitionNode.cloneWith(this.#node, {\n            generated: GeneratedNode.create({ identity: true, byDefault: true }),\n        }));\n    }\n    /**\n     * Makes a generated column stored instead of virtual. This method can only\n     * be used with {@link generatedAlwaysAs}\n     *\n     * ### Examples\n     *\n     * ```ts\n     * import { sql } from 'kysely'\n     *\n     * await db.schema\n     *   .createTable('person')\n     *   .addColumn('full_name', 'varchar(255)', (col) => col\n     *     .generatedAlwaysAs(sql`concat(first_name, ' ', last_name)`)\n     *     .stored()\n     *   )\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (MySQL):\n     *\n     * ```sql\n     * create table `person` (\n     *   `full_name` varchar(255) generated always as (concat(first_name, ' ', last_name)) stored\n     * )\n     * ```\n     */\n    stored() {\n        if (!this.#node.generated) {\n            throw new Error('stored() can only be called after generatedAlwaysAs');\n        }\n        return new ColumnDefinitionBuilder(ColumnDefinitionNode.cloneWith(this.#node, {\n            generated: GeneratedNode.cloneWith(this.#node.generated, {\n                stored: true,\n            }),\n        }));\n    }\n    /**\n     * This can be used to add any additional SQL right after the column's data type.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * import { sql } from 'kysely'\n     *\n     * await db.schema\n     *   .createTable('person')\n     *   .addColumn('id', 'integer', col => col.primaryKey())\n     *   .addColumn(\n     *     'first_name',\n     *     'varchar(36)',\n     *     (col) => col.modifyFront(sql`collate utf8mb4_general_ci`).notNull()\n     *   )\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (MySQL):\n     *\n     * ```sql\n     * create table `person` (\n     *   `id` integer primary key,\n     *   `first_name` varchar(36) collate utf8mb4_general_ci not null\n     * )\n     * ```\n     */\n    modifyFront(modifier) {\n        return new ColumnDefinitionBuilder(ColumnDefinitionNode.cloneWithFrontModifier(this.#node, modifier.toOperationNode()));\n    }\n    /**\n     * Adds `nulls not distinct` specifier.\n     * Should be used with `unique` constraint.\n     *\n     * This only works on some dialects like PostgreSQL.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * db.schema\n     *   .createTable('person')\n     *   .addColumn('id', 'integer', col => col.primaryKey())\n     *   .addColumn('first_name', 'varchar(30)', col => col.unique().nullsNotDistinct())\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * create table \"person\" (\n     *   \"id\" integer primary key,\n     *   \"first_name\" varchar(30) unique nulls not distinct\n     * )\n     * ```\n     */\n    nullsNotDistinct() {\n        return new ColumnDefinitionBuilder(ColumnDefinitionNode.cloneWith(this.#node, { nullsNotDistinct: true }));\n    }\n    /**\n     * Adds `if not exists` specifier. This only works for PostgreSQL.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.schema\n     *   .alterTable('person')\n     *   .addColumn('email', 'varchar(255)', col => col.unique().ifNotExists())\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * alter table \"person\" add column if not exists \"email\" varchar(255) unique\n     * ```\n     */\n    ifNotExists() {\n        return new ColumnDefinitionBuilder(ColumnDefinitionNode.cloneWith(this.#node, { ifNotExists: true }));\n    }\n    /**\n     * This can be used to add any additional SQL to the end of the column definition.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * import { sql } from 'kysely'\n     *\n     * await db.schema\n     *   .createTable('person')\n     *   .addColumn('id', 'integer', col => col.primaryKey())\n     *   .addColumn(\n     *     'age',\n     *     'integer',\n     *     col => col.unsigned()\n     *       .notNull()\n     *       .modifyEnd(sql`comment ${sql.lit('it is not polite to ask a woman her age')}`)\n     *   )\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (MySQL):\n     *\n     * ```sql\n     * create table `person` (\n     *   `id` integer primary key,\n     *   `age` integer unsigned not null comment 'it is not polite to ask a woman her age'\n     * )\n     * ```\n     */\n    modifyEnd(modifier) {\n        return new ColumnDefinitionBuilder(ColumnDefinitionNode.cloneWithEndModifier(this.#node, modifier.toOperationNode()));\n    }\n    /**\n     * Simply calls the provided function passing `this` as the only argument. `$call` returns\n     * what the provided function returns.\n     */\n    $call(func) {\n        return func(this);\n    }\n    toOperationNode() {\n        return this.#node;\n    }\n}\n", "/// <reference types=\"./modify-column-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const ModifyColumnNode = freeze({\n    is(node) {\n        return node.kind === 'ModifyColumnNode';\n    },\n    create(column) {\n        return freeze({\n            kind: 'ModifyColumnNode',\n            column,\n        });\n    },\n});\n", "/// <reference types=\"./foreign-key-constraint-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { IdentifierNode } from './identifier-node.js';\nimport { ReferencesNode } from './references-node.js';\n/**\n * @internal\n */\nexport const ForeignKeyConstraintNode = freeze({\n    is(node) {\n        return node.kind === 'ForeignKeyConstraintNode';\n    },\n    create(sourceColumns, targetTable, targetColumns, constraintName) {\n        return freeze({\n            kind: 'ForeignKeyConstraintNode',\n            columns: sourceColumns,\n            references: ReferencesNode.create(targetTable, targetColumns),\n            name: constraintName ? IdentifierNode.create(constraintName) : undefined,\n        });\n    },\n    cloneWith(node, props) {\n        return freeze({\n            ...node,\n            ...props,\n        });\n    },\n});\n", "/// <reference types=\"./foreign-key-constraint-builder.d.ts\" />\nimport { ForeignKeyConstraintNode } from '../operation-node/foreign-key-constraint-node.js';\nimport { parseOnModifyForeignAction } from '../parser/on-modify-action-parser.js';\nexport class ForeignKeyConstraintBuilder {\n    #node;\n    constructor(node) {\n        this.#node = node;\n    }\n    onDelete(onDelete) {\n        return new ForeignKeyConstraintBuilder(ForeignKeyConstraintNode.cloneWith(this.#node, {\n            onDelete: parseOnModifyForeignAction(onDelete),\n        }));\n    }\n    onUpdate(onUpdate) {\n        return new ForeignKeyConstraintBuilder(ForeignKeyConstraintNode.cloneWith(this.#node, {\n            onUpdate: parseOnModifyForeignAction(onUpdate),\n        }));\n    }\n    deferrable() {\n        return new ForeignKeyConstraintBuilder(ForeignKeyConstraintNode.cloneWith(this.#node, { deferrable: true }));\n    }\n    notDeferrable() {\n        return new ForeignKeyConstraintBuilder(ForeignKeyConstraintNode.cloneWith(this.#node, { deferrable: false }));\n    }\n    initiallyDeferred() {\n        return new ForeignKeyConstraintBuilder(ForeignKeyConstraintNode.cloneWith(this.#node, {\n            initiallyDeferred: true,\n        }));\n    }\n    initiallyImmediate() {\n        return new ForeignKeyConstraintBuilder(ForeignKeyConstraintNode.cloneWith(this.#node, {\n            initiallyDeferred: false,\n        }));\n    }\n    /**\n     * Simply calls the provided function passing `this` as the only argument. `$call` returns\n     * what the provided function returns.\n     */\n    $call(func) {\n        return func(this);\n    }\n    toOperationNode() {\n        return this.#node;\n    }\n}\n", "/// <reference types=\"./add-constraint-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const AddConstraintNode = freeze({\n    is(node) {\n        return node.kind === 'AddConstraintNode';\n    },\n    create(constraint) {\n        return freeze({\n            kind: 'AddConstraintNode',\n            constraint,\n        });\n    },\n});\n", "/// <reference types=\"./unique-constraint-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { ColumnNode } from './column-node.js';\nimport { IdentifierNode } from './identifier-node.js';\n/**\n * @internal\n */\nexport const UniqueConstraintNode = freeze({\n    is(node) {\n        return node.kind === 'UniqueConstraintNode';\n    },\n    create(columns, constraintName, nullsNotDistinct) {\n        return freeze({\n            kind: 'UniqueConstraintNode',\n            columns: freeze(columns.map(ColumnNode.create)),\n            name: constraintName ? IdentifierNode.create(constraintName) : undefined,\n            nullsNotDistinct,\n        });\n    },\n    cloneWith(node, props) {\n        return freeze({\n            ...node,\n            ...props,\n        });\n    },\n});\n", "/// <reference types=\"./drop-constraint-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { IdentifierNode } from './identifier-node.js';\n/**\n * @internal\n */\nexport const DropConstraintNode = freeze({\n    is(node) {\n        return node.kind === 'DropConstraintNode';\n    },\n    create(constraintName) {\n        return freeze({\n            kind: 'DropConstraintNode',\n            constraintName: IdentifierNode.create(constraintName),\n        });\n    },\n    cloneWith(dropConstraint, props) {\n        return freeze({\n            ...dropConstraint,\n            ...props,\n        });\n    },\n});\n", "/// <reference types=\"./alter-column-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { ColumnNode } from './column-node.js';\n/**\n * @internal\n */\nexport const AlterColumnNode = freeze({\n    is(node) {\n        return node.kind === 'AlterColumnNode';\n    },\n    create(column, prop, value) {\n        return freeze({\n            kind: 'AlterColumnNode',\n            column: ColumnNode.create(column),\n            [prop]: value,\n        });\n    },\n});\n", "/// <reference types=\"./alter-column-builder.d.ts\" />\nimport { AlterColumnNode } from '../operation-node/alter-column-node.js';\nimport { parseDataTypeExpression, } from '../parser/data-type-parser.js';\nimport { parseDefaultValueExpression, } from '../parser/default-value-parser.js';\nexport class AlterColumnBuilder {\n    #column;\n    constructor(column) {\n        this.#column = column;\n    }\n    setDataType(dataType) {\n        return new AlteredColumnBuilder(AlterColumnNode.create(this.#column, 'dataType', parseDataTypeExpression(dataType)));\n    }\n    setDefault(value) {\n        return new AlteredColumnBuilder(AlterColumnNode.create(this.#column, 'setDefault', parseDefaultValueExpression(value)));\n    }\n    dropDefault() {\n        return new AlteredColumnBuilder(AlterColumnNode.create(this.#column, 'dropDefault', true));\n    }\n    setNotNull() {\n        return new AlteredColumnBuilder(AlterColumnNode.create(this.#column, 'setNotNull', true));\n    }\n    dropNotNull() {\n        return new AlteredColumnBuilder(AlterColumnNode.create(this.#column, 'dropNotNull', true));\n    }\n    /**\n     * Simply calls the provided function passing `this` as the only argument. `$call` returns\n     * what the provided function returns.\n     */\n    $call(func) {\n        return func(this);\n    }\n}\n/**\n * Allows us to force consumers to do exactly one alteration to a column.\n *\n * One cannot do no alterations:\n *\n * ```ts\n * await db.schema\n *   .alterTable('person')\n * //  .execute() // Property 'execute' does not exist on type 'AlteredColumnBuilder'.\n * ```\n *\n * ```ts\n * await db.schema\n *   .alterTable('person')\n * //  .alterColumn('age', (ac) => ac) // Type 'AlterColumnBuilder' is not assignable to type 'AlteredColumnBuilder'.\n * //  .execute()\n * ```\n *\n * One cannot do multiple alterations:\n *\n * ```ts\n * await db.schema\n *   .alterTable('person')\n * //  .alterColumn('age', (ac) => ac.dropNotNull().setNotNull()) // Property 'setNotNull' does not exist on type 'AlteredColumnBuilder'.\n * //  .execute()\n * ```\n *\n * Which would now throw a compilation error, instead of a runtime error.\n */\nexport class AlteredColumnBuilder {\n    #alterColumnNode;\n    constructor(alterColumnNode) {\n        this.#alterColumnNode = alterColumnNode;\n    }\n    toOperationNode() {\n        return this.#alterColumnNode;\n    }\n}\n", "/// <reference types=\"./alter-table-executor.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nexport class AlterTableExecutor {\n    #props;\n    constructor(props) {\n        this.#props = freeze(props);\n    }\n    toOperationNode() {\n        return this.#props.executor.transformQuery(this.#props.node, this.#props.queryId);\n    }\n    compile() {\n        return this.#props.executor.compileQuery(this.toOperationNode(), this.#props.queryId);\n    }\n    async execute() {\n        await this.#props.executor.executeQuery(this.compile());\n    }\n}\n", "/// <reference types=\"./alter-table-add-foreign-key-constraint-builder.d.ts\" />\nimport { AddConstraintNode } from '../operation-node/add-constraint-node.js';\nimport { AlterTableNode } from '../operation-node/alter-table-node.js';\nimport { freeze } from '../util/object-utils.js';\nexport class AlterTableAddForeignKeyConstraintBuilder {\n    #props;\n    constructor(props) {\n        this.#props = freeze(props);\n    }\n    onDelete(onDelete) {\n        return new AlterTableAddForeignKeyConstraintBuilder({\n            ...this.#props,\n            constraintBuilder: this.#props.constraintBuilder.onDelete(onDelete),\n        });\n    }\n    onUpdate(onUpdate) {\n        return new AlterTableAddForeignKeyConstraintBuilder({\n            ...this.#props,\n            constraintBuilder: this.#props.constraintBuilder.onUpdate(onUpdate),\n        });\n    }\n    deferrable() {\n        return new AlterTableAddForeignKeyConstraintBuilder({\n            ...this.#props,\n            constraintBuilder: this.#props.constraintBuilder.deferrable(),\n        });\n    }\n    notDeferrable() {\n        return new AlterTableAddForeignKeyConstraintBuilder({\n            ...this.#props,\n            constraintBuilder: this.#props.constraintBuilder.notDeferrable(),\n        });\n    }\n    initiallyDeferred() {\n        return new AlterTableAddForeignKeyConstraintBuilder({\n            ...this.#props,\n            constraintBuilder: this.#props.constraintBuilder.initiallyDeferred(),\n        });\n    }\n    initiallyImmediate() {\n        return new AlterTableAddForeignKeyConstraintBuilder({\n            ...this.#props,\n            constraintBuilder: this.#props.constraintBuilder.initiallyImmediate(),\n        });\n    }\n    /**\n     * Simply calls the provided function passing `this` as the only argument. `$call` returns\n     * what the provided function returns.\n     */\n    $call(func) {\n        return func(this);\n    }\n    toOperationNode() {\n        return this.#props.executor.transformQuery(AlterTableNode.cloneWithTableProps(this.#props.node, {\n            addConstraint: AddConstraintNode.create(this.#props.constraintBuilder.toOperationNode()),\n        }), this.#props.queryId);\n    }\n    compile() {\n        return this.#props.executor.compileQuery(this.toOperationNode(), this.#props.queryId);\n    }\n    async execute() {\n        await this.#props.executor.executeQuery(this.compile());\n    }\n}\n", "/// <reference types=\"./alter-table-drop-constraint-builder.d.ts\" />\nimport { AlterTableNode } from '../operation-node/alter-table-node.js';\nimport { DropConstraintNode } from '../operation-node/drop-constraint-node.js';\nimport { freeze } from '../util/object-utils.js';\nexport class AlterTableDropConstraintBuilder {\n    #props;\n    constructor(props) {\n        this.#props = freeze(props);\n    }\n    ifExists() {\n        return new AlterTableDropConstraintBuilder({\n            ...this.#props,\n            node: AlterTableNode.cloneWithTableProps(this.#props.node, {\n                dropConstraint: DropConstraintNode.cloneWith(this.#props.node.dropConstraint, {\n                    ifExists: true,\n                }),\n            }),\n        });\n    }\n    cascade() {\n        return new AlterTableDropConstraintBuilder({\n            ...this.#props,\n            node: AlterTableNode.cloneWithTableProps(this.#props.node, {\n                dropConstraint: DropConstraintNode.cloneWith(this.#props.node.dropConstraint, {\n                    modifier: 'cascade',\n                }),\n            }),\n        });\n    }\n    restrict() {\n        return new AlterTableDropConstraintBuilder({\n            ...this.#props,\n            node: AlterTableNode.cloneWithTableProps(this.#props.node, {\n                dropConstraint: DropConstraintNode.cloneWith(this.#props.node.dropConstraint, {\n                    modifier: 'restrict',\n                }),\n            }),\n        });\n    }\n    /**\n     * Simply calls the provided function passing `this` as the only argument. `$call` returns\n     * what the provided function returns.\n     */\n    $call(func) {\n        return func(this);\n    }\n    toOperationNode() {\n        return this.#props.executor.transformQuery(this.#props.node, this.#props.queryId);\n    }\n    compile() {\n        return this.#props.executor.compileQuery(this.toOperationNode(), this.#props.queryId);\n    }\n    async execute() {\n        await this.#props.executor.executeQuery(this.compile());\n    }\n}\n", "/// <reference types=\"./primary-key-constraint-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { ColumnNode } from './column-node.js';\nimport { IdentifierNode } from './identifier-node.js';\n/**\n * @internal\n */\nexport const PrimaryKeyConstraintNode = freeze({\n    is(node) {\n        return node.kind === 'PrimaryKeyConstraintNode';\n    },\n    create(columns, constraintName) {\n        return freeze({\n            kind: 'PrimaryKeyConstraintNode',\n            columns: freeze(columns.map(ColumnNode.create)),\n            name: constraintName ? IdentifierNode.create(constraintName) : undefined,\n        });\n    },\n    cloneWith(node, props) {\n        return freeze({ ...node, ...props });\n    },\n});\n/**\n * Backwards compatibility for a typo in the codebase.\n *\n * @deprecated Use {@link PrimaryKeyConstraintNode} instead.\n */\nexport const PrimaryConstraintNode = PrimaryKeyConstraintNode;\n", "/// <reference types=\"./add-index-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { IdentifierNode } from './identifier-node.js';\n/**\n * @internal\n */\nexport const AddIndexNode = freeze({\n    is(node) {\n        return node.kind === 'AddIndexNode';\n    },\n    create(name) {\n        return freeze({\n            kind: 'AddIndexNode',\n            name: IdentifierNode.create(name),\n        });\n    },\n    cloneWith(node, props) {\n        return freeze({\n            ...node,\n            ...props,\n        });\n    },\n    cloneWithColumns(node, columns) {\n        return freeze({\n            ...node,\n            columns: [...(node.columns || []), ...columns],\n        });\n    },\n});\n", "/// <reference types=\"./alter-table-add-index-builder.d.ts\" />\nimport { AddIndexNode } from '../operation-node/add-index-node.js';\nimport { AlterTableNode } from '../operation-node/alter-table-node.js';\nimport { RawNode } from '../operation-node/raw-node.js';\nimport { parseOrderedColumnName, } from '../parser/reference-parser.js';\nimport { freeze } from '../util/object-utils.js';\nexport class AlterTableAddIndexBuilder {\n    #props;\n    constructor(props) {\n        this.#props = freeze(props);\n    }\n    /**\n     * Makes the index unique.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.schema\n     *   .alterTable('person')\n     *   .addIndex('person_first_name_index')\n     *   .unique()\n     *   .column('email')\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (MySQL):\n     *\n     * ```sql\n     * alter table `person` add unique index `person_first_name_index` (`email`)\n     * ```\n     */\n    unique() {\n        return new AlterTableAddIndexBuilder({\n            ...this.#props,\n            node: AlterTableNode.cloneWithTableProps(this.#props.node, {\n                addIndex: AddIndexNode.cloneWith(this.#props.node.addIndex, {\n                    unique: true,\n                }),\n            }),\n        });\n    }\n    /**\n     * Adds a column to the index.\n     *\n     * Also see {@link columns} for adding multiple columns at once or {@link expression}\n     * for specifying an arbitrary expression.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.schema\n     *   .alterTable('person')\n     *   .addIndex('person_first_name_and_age_index')\n     *   .column('first_name')\n     *   .column('age desc')\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (MySQL):\n     *\n     * ```sql\n     * alter table `person` add index `person_first_name_and_age_index` (`first_name`, `age` desc)\n     * ```\n     */\n    column(column) {\n        return new AlterTableAddIndexBuilder({\n            ...this.#props,\n            node: AlterTableNode.cloneWithTableProps(this.#props.node, {\n                addIndex: AddIndexNode.cloneWithColumns(this.#props.node.addIndex, [\n                    parseOrderedColumnName(column),\n                ]),\n            }),\n        });\n    }\n    /**\n     * Specifies a list of columns for the index.\n     *\n     * Also see {@link column} for adding a single column or {@link expression} for\n     * specifying an arbitrary expression.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.schema\n     *   .alterTable('person')\n     *   .addIndex('person_first_name_and_age_index')\n     *   .columns(['first_name', 'age desc'])\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (MySQL):\n     *\n     * ```sql\n     * alter table `person` add index `person_first_name_and_age_index` (`first_name`, `age` desc)\n     * ```\n     */\n    columns(columns) {\n        return new AlterTableAddIndexBuilder({\n            ...this.#props,\n            node: AlterTableNode.cloneWithTableProps(this.#props.node, {\n                addIndex: AddIndexNode.cloneWithColumns(this.#props.node.addIndex, columns.map(parseOrderedColumnName)),\n            }),\n        });\n    }\n    /**\n     * Specifies an arbitrary expression for the index.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * import {\u00A0sql } from 'kysely'\n     *\n     * await db.schema\n     *   .alterTable('person')\n     *   .addIndex('person_first_name_index')\n     *   .expression(sql<boolean>`(first_name < 'Sami')`)\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (MySQL):\n     *\n     * ```sql\n     * alter table `person` add index `person_first_name_index` ((first_name < 'Sami'))\n     * ```\n     */\n    expression(expression) {\n        return new AlterTableAddIndexBuilder({\n            ...this.#props,\n            node: AlterTableNode.cloneWithTableProps(this.#props.node, {\n                addIndex: AddIndexNode.cloneWithColumns(this.#props.node.addIndex, [\n                    expression.toOperationNode(),\n                ]),\n            }),\n        });\n    }\n    using(indexType) {\n        return new AlterTableAddIndexBuilder({\n            ...this.#props,\n            node: AlterTableNode.cloneWithTableProps(this.#props.node, {\n                addIndex: AddIndexNode.cloneWith(this.#props.node.addIndex, {\n                    using: RawNode.createWithSql(indexType),\n                }),\n            }),\n        });\n    }\n    /**\n     * Simply calls the provided function passing `this` as the only argument. `$call` returns\n     * what the provided function returns.\n     */\n    $call(func) {\n        return func(this);\n    }\n    toOperationNode() {\n        return this.#props.executor.transformQuery(this.#props.node, this.#props.queryId);\n    }\n    compile() {\n        return this.#props.executor.compileQuery(this.toOperationNode(), this.#props.queryId);\n    }\n    async execute() {\n        await this.#props.executor.executeQuery(this.compile());\n    }\n}\n", "/// <reference types=\"./unique-constraint-builder.d.ts\" />\nimport { UniqueConstraintNode } from '../operation-node/unique-constraint-node.js';\nexport class UniqueConstraintNodeBuilder {\n    #node;\n    constructor(node) {\n        this.#node = node;\n    }\n    /**\n     * Adds `nulls not distinct` to the unique constraint definition\n     *\n     * Supported by PostgreSQL dialect only\n     */\n    nullsNotDistinct() {\n        return new UniqueConstraintNodeBuilder(UniqueConstraintNode.cloneWith(this.#node, { nullsNotDistinct: true }));\n    }\n    deferrable() {\n        return new UniqueConstraintNodeBuilder(UniqueConstraintNode.cloneWith(this.#node, { deferrable: true }));\n    }\n    notDeferrable() {\n        return new UniqueConstraintNodeBuilder(UniqueConstraintNode.cloneWith(this.#node, { deferrable: false }));\n    }\n    initiallyDeferred() {\n        return new UniqueConstraintNodeBuilder(UniqueConstraintNode.cloneWith(this.#node, {\n            initiallyDeferred: true,\n        }));\n    }\n    initiallyImmediate() {\n        return new UniqueConstraintNodeBuilder(UniqueConstraintNode.cloneWith(this.#node, {\n            initiallyDeferred: false,\n        }));\n    }\n    /**\n     * Simply calls the provided function passing `this` as the only argument. `$call` returns\n     * what the provided function returns.\n     */\n    $call(func) {\n        return func(this);\n    }\n    toOperationNode() {\n        return this.#node;\n    }\n}\n", "/// <reference types=\"./primary-key-constraint-builder.d.ts\" />\nimport { PrimaryKeyConstraintNode } from '../operation-node/primary-key-constraint-node.js';\nexport class PrimaryKeyConstraintBuilder {\n    #node;\n    constructor(node) {\n        this.#node = node;\n    }\n    deferrable() {\n        return new PrimaryKeyConstraintBuilder(PrimaryKeyConstraintNode.cloneWith(this.#node, { deferrable: true }));\n    }\n    notDeferrable() {\n        return new PrimaryKeyConstraintBuilder(PrimaryKeyConstraintNode.cloneWith(this.#node, { deferrable: false }));\n    }\n    initiallyDeferred() {\n        return new PrimaryKeyConstraintBuilder(PrimaryKeyConstraintNode.cloneWith(this.#node, {\n            initiallyDeferred: true,\n        }));\n    }\n    initiallyImmediate() {\n        return new PrimaryKeyConstraintBuilder(PrimaryKeyConstraintNode.cloneWith(this.#node, {\n            initiallyDeferred: false,\n        }));\n    }\n    /**\n     * Simply calls the provided function passing `this` as the only argument. `$call` returns\n     * what the provided function returns.\n     */\n    $call(func) {\n        return func(this);\n    }\n    toOperationNode() {\n        return this.#node;\n    }\n}\n", "/// <reference types=\"./check-constraint-builder.d.ts\" />\nexport class CheckConstraintBuilder {\n    #node;\n    constructor(node) {\n        this.#node = node;\n    }\n    /**\n     * Simply calls the provided function passing `this` as the only argument. `$call` returns\n     * what the provided function returns.\n     */\n    $call(func) {\n        return func(this);\n    }\n    toOperationNode() {\n        return this.#node;\n    }\n}\n", "/// <reference types=\"./rename-constraint-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { IdentifierNode } from './identifier-node.js';\n/**\n * @internal\n */\nexport const RenameConstraintNode = freeze({\n    is(node) {\n        return node.kind === 'RenameConstraintNode';\n    },\n    create(oldName, newName) {\n        return freeze({\n            kind: 'RenameConstraintNode',\n            oldName: IdentifierNode.create(oldName),\n            newName: IdentifierNode.create(newName),\n        });\n    },\n});\n", "/// <reference types=\"./alter-table-builder.d.ts\" />\nimport { AddColumnNode } from '../operation-node/add-column-node.js';\nimport { AlterTableNode } from '../operation-node/alter-table-node.js';\nimport { ColumnDefinitionNode } from '../operation-node/column-definition-node.js';\nimport { DropColumnNode } from '../operation-node/drop-column-node.js';\nimport { IdentifierNode } from '../operation-node/identifier-node.js';\nimport { RenameColumnNode } from '../operation-node/rename-column-node.js';\nimport { freeze, noop } from '../util/object-utils.js';\nimport { ColumnDefinitionBuilder, } from './column-definition-builder.js';\nimport { ModifyColumnNode } from '../operation-node/modify-column-node.js';\nimport { parseDataTypeExpression, } from '../parser/data-type-parser.js';\nimport { ForeignKeyConstraintBuilder, } from './foreign-key-constraint-builder.js';\nimport { AddConstraintNode } from '../operation-node/add-constraint-node.js';\nimport { UniqueConstraintNode } from '../operation-node/unique-constraint-node.js';\nimport { CheckConstraintNode } from '../operation-node/check-constraint-node.js';\nimport { ForeignKeyConstraintNode } from '../operation-node/foreign-key-constraint-node.js';\nimport { ColumnNode } from '../operation-node/column-node.js';\nimport { parseTable } from '../parser/table-parser.js';\nimport { DropConstraintNode } from '../operation-node/drop-constraint-node.js';\nimport { AlterColumnBuilder, } from './alter-column-builder.js';\nimport { AlterTableExecutor } from './alter-table-executor.js';\nimport { AlterTableAddForeignKeyConstraintBuilder } from './alter-table-add-foreign-key-constraint-builder.js';\nimport { AlterTableDropConstraintBuilder } from './alter-table-drop-constraint-builder.js';\nimport { PrimaryKeyConstraintNode } from '../operation-node/primary-key-constraint-node.js';\nimport { DropIndexNode } from '../operation-node/drop-index-node.js';\nimport { AddIndexNode } from '../operation-node/add-index-node.js';\nimport { AlterTableAddIndexBuilder } from './alter-table-add-index-builder.js';\nimport { UniqueConstraintNodeBuilder, } from './unique-constraint-builder.js';\nimport { PrimaryKeyConstraintBuilder, } from './primary-key-constraint-builder.js';\nimport { CheckConstraintBuilder, } from './check-constraint-builder.js';\nimport { RenameConstraintNode } from '../operation-node/rename-constraint-node.js';\n/**\n * This builder can be used to create a `alter table` query.\n */\nexport class AlterTableBuilder {\n    #props;\n    constructor(props) {\n        this.#props = freeze(props);\n    }\n    renameTo(newTableName) {\n        return new AlterTableExecutor({\n            ...this.#props,\n            node: AlterTableNode.cloneWithTableProps(this.#props.node, {\n                renameTo: parseTable(newTableName),\n            }),\n        });\n    }\n    setSchema(newSchema) {\n        return new AlterTableExecutor({\n            ...this.#props,\n            node: AlterTableNode.cloneWithTableProps(this.#props.node, {\n                setSchema: IdentifierNode.create(newSchema),\n            }),\n        });\n    }\n    alterColumn(column, alteration) {\n        const builder = alteration(new AlterColumnBuilder(column));\n        return new AlterTableColumnAlteringBuilder({\n            ...this.#props,\n            node: AlterTableNode.cloneWithColumnAlteration(this.#props.node, builder.toOperationNode()),\n        });\n    }\n    dropColumn(column) {\n        return new AlterTableColumnAlteringBuilder({\n            ...this.#props,\n            node: AlterTableNode.cloneWithColumnAlteration(this.#props.node, DropColumnNode.create(column)),\n        });\n    }\n    renameColumn(column, newColumn) {\n        return new AlterTableColumnAlteringBuilder({\n            ...this.#props,\n            node: AlterTableNode.cloneWithColumnAlteration(this.#props.node, RenameColumnNode.create(column, newColumn)),\n        });\n    }\n    addColumn(columnName, dataType, build = noop) {\n        const builder = build(new ColumnDefinitionBuilder(ColumnDefinitionNode.create(columnName, parseDataTypeExpression(dataType))));\n        return new AlterTableColumnAlteringBuilder({\n            ...this.#props,\n            node: AlterTableNode.cloneWithColumnAlteration(this.#props.node, AddColumnNode.create(builder.toOperationNode())),\n        });\n    }\n    modifyColumn(columnName, dataType, build = noop) {\n        const builder = build(new ColumnDefinitionBuilder(ColumnDefinitionNode.create(columnName, parseDataTypeExpression(dataType))));\n        return new AlterTableColumnAlteringBuilder({\n            ...this.#props,\n            node: AlterTableNode.cloneWithColumnAlteration(this.#props.node, ModifyColumnNode.create(builder.toOperationNode())),\n        });\n    }\n    /**\n     * See {@link CreateTableBuilder.addUniqueConstraint}\n     */\n    addUniqueConstraint(constraintName, columns, build = noop) {\n        const uniqueConstraintBuilder = build(new UniqueConstraintNodeBuilder(UniqueConstraintNode.create(columns, constraintName)));\n        return new AlterTableExecutor({\n            ...this.#props,\n            node: AlterTableNode.cloneWithTableProps(this.#props.node, {\n                addConstraint: AddConstraintNode.create(uniqueConstraintBuilder.toOperationNode()),\n            }),\n        });\n    }\n    /**\n     * See {@link CreateTableBuilder.addCheckConstraint}\n     */\n    addCheckConstraint(constraintName, checkExpression, build = noop) {\n        const constraintBuilder = build(new CheckConstraintBuilder(CheckConstraintNode.create(checkExpression.toOperationNode(), constraintName)));\n        return new AlterTableExecutor({\n            ...this.#props,\n            node: AlterTableNode.cloneWithTableProps(this.#props.node, {\n                addConstraint: AddConstraintNode.create(constraintBuilder.toOperationNode()),\n            }),\n        });\n    }\n    /**\n     * See {@link CreateTableBuilder.addForeignKeyConstraint}\n     *\n     * Unlike {@link CreateTableBuilder.addForeignKeyConstraint} this method returns\n     * the constraint builder and doesn't take a callback as the last argument. This\n     * is because you can only add one column per `ALTER TABLE` query.\n     */\n    addForeignKeyConstraint(constraintName, columns, targetTable, targetColumns, build = noop) {\n        const constraintBuilder = build(new ForeignKeyConstraintBuilder(ForeignKeyConstraintNode.create(columns.map(ColumnNode.create), parseTable(targetTable), targetColumns.map(ColumnNode.create), constraintName)));\n        return new AlterTableAddForeignKeyConstraintBuilder({\n            ...this.#props,\n            constraintBuilder,\n        });\n    }\n    /**\n     * See {@link CreateTableBuilder.addPrimaryKeyConstraint}\n     */\n    addPrimaryKeyConstraint(constraintName, columns, build = noop) {\n        const constraintBuilder = build(new PrimaryKeyConstraintBuilder(PrimaryKeyConstraintNode.create(columns, constraintName)));\n        return new AlterTableExecutor({\n            ...this.#props,\n            node: AlterTableNode.cloneWithTableProps(this.#props.node, {\n                addConstraint: AddConstraintNode.create(constraintBuilder.toOperationNode()),\n            }),\n        });\n    }\n    dropConstraint(constraintName) {\n        return new AlterTableDropConstraintBuilder({\n            ...this.#props,\n            node: AlterTableNode.cloneWithTableProps(this.#props.node, {\n                dropConstraint: DropConstraintNode.create(constraintName),\n            }),\n        });\n    }\n    renameConstraint(oldName, newName) {\n        return new AlterTableDropConstraintBuilder({\n            ...this.#props,\n            node: AlterTableNode.cloneWithTableProps(this.#props.node, {\n                renameConstraint: RenameConstraintNode.create(oldName, newName),\n            }),\n        });\n    }\n    /**\n     * This can be used to add index to table.\n     *\n     *  ### Examples\n     *\n     * ```ts\n     * db.schema.alterTable('person')\n     *   .addIndex('person_email_index')\n     *   .column('email')\n     *   .unique()\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (MySQL):\n     *\n     * ```sql\n     * alter table `person` add unique index `person_email_index` (`email`)\n     * ```\n     */\n    addIndex(indexName) {\n        return new AlterTableAddIndexBuilder({\n            ...this.#props,\n            node: AlterTableNode.cloneWithTableProps(this.#props.node, {\n                addIndex: AddIndexNode.create(indexName),\n            }),\n        });\n    }\n    /**\n     * This can be used to drop index from table.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * db.schema.alterTable('person')\n     *   .dropIndex('person_email_index')\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (MySQL):\n     *\n     * ```sql\n     * alter table `person` drop index `test_first_name_index`\n     * ```\n     */\n    dropIndex(indexName) {\n        return new AlterTableExecutor({\n            ...this.#props,\n            node: AlterTableNode.cloneWithTableProps(this.#props.node, {\n                dropIndex: DropIndexNode.create(indexName),\n            }),\n        });\n    }\n    /**\n     * Calls the given function passing `this` as the only argument.\n     *\n     * See {@link CreateTableBuilder.$call}\n     */\n    $call(func) {\n        return func(this);\n    }\n}\nexport class AlterTableColumnAlteringBuilder {\n    #props;\n    constructor(props) {\n        this.#props = freeze(props);\n    }\n    alterColumn(column, alteration) {\n        const builder = alteration(new AlterColumnBuilder(column));\n        return new AlterTableColumnAlteringBuilder({\n            ...this.#props,\n            node: AlterTableNode.cloneWithColumnAlteration(this.#props.node, builder.toOperationNode()),\n        });\n    }\n    dropColumn(column) {\n        return new AlterTableColumnAlteringBuilder({\n            ...this.#props,\n            node: AlterTableNode.cloneWithColumnAlteration(this.#props.node, DropColumnNode.create(column)),\n        });\n    }\n    renameColumn(column, newColumn) {\n        return new AlterTableColumnAlteringBuilder({\n            ...this.#props,\n            node: AlterTableNode.cloneWithColumnAlteration(this.#props.node, RenameColumnNode.create(column, newColumn)),\n        });\n    }\n    addColumn(columnName, dataType, build = noop) {\n        const builder = build(new ColumnDefinitionBuilder(ColumnDefinitionNode.create(columnName, parseDataTypeExpression(dataType))));\n        return new AlterTableColumnAlteringBuilder({\n            ...this.#props,\n            node: AlterTableNode.cloneWithColumnAlteration(this.#props.node, AddColumnNode.create(builder.toOperationNode())),\n        });\n    }\n    modifyColumn(columnName, dataType, build = noop) {\n        const builder = build(new ColumnDefinitionBuilder(ColumnDefinitionNode.create(columnName, parseDataTypeExpression(dataType))));\n        return new AlterTableColumnAlteringBuilder({\n            ...this.#props,\n            node: AlterTableNode.cloneWithColumnAlteration(this.#props.node, ModifyColumnNode.create(builder.toOperationNode())),\n        });\n    }\n    toOperationNode() {\n        return this.#props.executor.transformQuery(this.#props.node, this.#props.queryId);\n    }\n    compile() {\n        return this.#props.executor.compileQuery(this.toOperationNode(), this.#props.queryId);\n    }\n    async execute() {\n        await this.#props.executor.executeQuery(this.compile());\n    }\n}\n", "/// <reference types=\"./immediate-value-transformer.d.ts\" />\nimport { OperationNodeTransformer } from '../../operation-node/operation-node-transformer.js';\nimport { ValueListNode } from '../../operation-node/value-list-node.js';\nimport { ValueNode } from '../../operation-node/value-node.js';\n/**\n * Transforms all ValueNodes to immediate.\n *\n * WARNING! This should never be part of the public API. Users should never use this.\n * This is an internal helper.\n *\n * @internal\n */\nexport class ImmediateValueTransformer extends OperationNodeTransformer {\n    transformPrimitiveValueList(node) {\n        return ValueListNode.create(node.values.map(ValueNode.createImmediate));\n    }\n    transformValue(node) {\n        return ValueNode.createImmediate(node.value);\n    }\n}\n", "/// <reference types=\"./create-index-builder.d.ts\" />\nimport { CreateIndexNode, } from '../operation-node/create-index-node.js';\nimport { RawNode } from '../operation-node/raw-node.js';\nimport { parseOrderedColumnName, } from '../parser/reference-parser.js';\nimport { parseTable } from '../parser/table-parser.js';\nimport { freeze } from '../util/object-utils.js';\nimport { parseValueBinaryOperationOrExpression, } from '../parser/binary-operation-parser.js';\nimport { QueryNode } from '../operation-node/query-node.js';\nimport { ImmediateValueTransformer } from '../plugin/immediate-value/immediate-value-transformer.js';\nexport class CreateIndexBuilder {\n    #props;\n    constructor(props) {\n        this.#props = freeze(props);\n    }\n    /**\n     * Adds the \"if not exists\" modifier.\n     *\n     * If the index already exists, no error is thrown if this method has been called.\n     */\n    ifNotExists() {\n        return new CreateIndexBuilder({\n            ...this.#props,\n            node: CreateIndexNode.cloneWith(this.#props.node, {\n                ifNotExists: true,\n            }),\n        });\n    }\n    /**\n     * Makes the index unique.\n     */\n    unique() {\n        return new CreateIndexBuilder({\n            ...this.#props,\n            node: CreateIndexNode.cloneWith(this.#props.node, {\n                unique: true,\n            }),\n        });\n    }\n    /**\n     * Adds `nulls not distinct` specifier to index.\n     * This only works on some dialects like PostgreSQL.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * db.schema.createIndex('person_first_name_index')\n     *  .on('person')\n     *  .column('first_name')\n     *  .nullsNotDistinct()\n     *  .execute()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * create index \"person_first_name_index\"\n     * on \"test\" (\"first_name\")\n     * nulls not distinct;\n     * ```\n     */\n    nullsNotDistinct() {\n        return new CreateIndexBuilder({\n            ...this.#props,\n            node: CreateIndexNode.cloneWith(this.#props.node, {\n                nullsNotDistinct: true,\n            }),\n        });\n    }\n    /**\n     * Specifies the table for the index.\n     */\n    on(table) {\n        return new CreateIndexBuilder({\n            ...this.#props,\n            node: CreateIndexNode.cloneWith(this.#props.node, {\n                table: parseTable(table),\n            }),\n        });\n    }\n    /**\n     * Adds a column to the index.\n     *\n     * Also see {@link columns} for adding multiple columns at once or {@link expression}\n     * for specifying an arbitrary expression.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.schema\n     *         .createIndex('person_first_name_and_age_index')\n     *         .on('person')\n     *         .column('first_name')\n     *         .column('age desc')\n     *         .execute()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * create index \"person_first_name_and_age_index\" on \"person\" (\"first_name\", \"age\" desc)\n     * ```\n     */\n    column(column) {\n        return new CreateIndexBuilder({\n            ...this.#props,\n            node: CreateIndexNode.cloneWithColumns(this.#props.node, [\n                parseOrderedColumnName(column),\n            ]),\n        });\n    }\n    /**\n     * Specifies a list of columns for the index.\n     *\n     * Also see {@link column} for adding a single column or {@link expression} for\n     * specifying an arbitrary expression.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.schema\n     *         .createIndex('person_first_name_and_age_index')\n     *         .on('person')\n     *         .columns(['first_name', 'age desc'])\n     *         .execute()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * create index \"person_first_name_and_age_index\" on \"person\" (\"first_name\", \"age\" desc)\n     * ```\n     */\n    columns(columns) {\n        return new CreateIndexBuilder({\n            ...this.#props,\n            node: CreateIndexNode.cloneWithColumns(this.#props.node, columns.map(parseOrderedColumnName)),\n        });\n    }\n    /**\n     * Specifies an arbitrary expression for the index.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * import {\u00A0sql } from 'kysely'\n     *\n     * await db.schema\n     *   .createIndex('person_first_name_index')\n     *   .on('person')\n     *   .expression(sql`first_name COLLATE \"fi_FI\"`)\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * create index \"person_first_name_index\" on \"person\" (first_name COLLATE \"fi_FI\")\n     * ```\n     */\n    expression(expression) {\n        return new CreateIndexBuilder({\n            ...this.#props,\n            node: CreateIndexNode.cloneWithColumns(this.#props.node, [\n                expression.toOperationNode(),\n            ]),\n        });\n    }\n    using(indexType) {\n        return new CreateIndexBuilder({\n            ...this.#props,\n            node: CreateIndexNode.cloneWith(this.#props.node, {\n                using: RawNode.createWithSql(indexType),\n            }),\n        });\n    }\n    where(...args) {\n        const transformer = new ImmediateValueTransformer();\n        return new CreateIndexBuilder({\n            ...this.#props,\n            node: QueryNode.cloneWithWhere(this.#props.node, transformer.transformNode(parseValueBinaryOperationOrExpression(args), this.#props.queryId)),\n        });\n    }\n    /**\n     * Simply calls the provided function passing `this` as the only argument. `$call` returns\n     * what the provided function returns.\n     */\n    $call(func) {\n        return func(this);\n    }\n    toOperationNode() {\n        return this.#props.executor.transformQuery(this.#props.node, this.#props.queryId);\n    }\n    compile() {\n        return this.#props.executor.compileQuery(this.toOperationNode(), this.#props.queryId);\n    }\n    async execute() {\n        await this.#props.executor.executeQuery(this.compile());\n    }\n}\n", "/// <reference types=\"./create-schema-builder.d.ts\" />\nimport { CreateSchemaNode } from '../operation-node/create-schema-node.js';\nimport { freeze } from '../util/object-utils.js';\nexport class CreateSchemaBuilder {\n    #props;\n    constructor(props) {\n        this.#props = freeze(props);\n    }\n    ifNotExists() {\n        return new CreateSchemaBuilder({\n            ...this.#props,\n            node: CreateSchemaNode.cloneWith(this.#props.node, { ifNotExists: true }),\n        });\n    }\n    /**\n     * Simply calls the provided function passing `this` as the only argument. `$call` returns\n     * what the provided function returns.\n     */\n    $call(func) {\n        return func(this);\n    }\n    toOperationNode() {\n        return this.#props.executor.transformQuery(this.#props.node, this.#props.queryId);\n    }\n    compile() {\n        return this.#props.executor.compileQuery(this.toOperationNode(), this.#props.queryId);\n    }\n    async execute() {\n        await this.#props.executor.executeQuery(this.compile());\n    }\n}\n", "/// <reference types=\"./on-commit-action-parse.d.ts\" />\nimport { ON_COMMIT_ACTIONS, } from '../operation-node/create-table-node.js';\nexport function parseOnCommitAction(action) {\n    if (ON_COMMIT_ACTIONS.includes(action)) {\n        return action;\n    }\n    throw new Error(`invalid OnCommitAction ${action}`);\n}\n", "/// <reference types=\"./create-table-builder.d.ts\" />\nimport { ColumnDefinitionNode } from '../operation-node/column-definition-node.js';\nimport { CreateTableNode, } from '../operation-node/create-table-node.js';\nimport { ColumnDefinitionBuilder } from './column-definition-builder.js';\nimport { freeze, noop } from '../util/object-utils.js';\nimport { ForeignKeyConstraintNode } from '../operation-node/foreign-key-constraint-node.js';\nimport { ColumnNode } from '../operation-node/column-node.js';\nimport { ForeignKeyConstraintBuilder, } from './foreign-key-constraint-builder.js';\nimport { parseDataTypeExpression, } from '../parser/data-type-parser.js';\nimport { PrimaryKeyConstraintNode } from '../operation-node/primary-key-constraint-node.js';\nimport { UniqueConstraintNode } from '../operation-node/unique-constraint-node.js';\nimport { CheckConstraintNode } from '../operation-node/check-constraint-node.js';\nimport { parseTable } from '../parser/table-parser.js';\nimport { parseOnCommitAction } from '../parser/on-commit-action-parse.js';\nimport { UniqueConstraintNodeBuilder, } from './unique-constraint-builder.js';\nimport { parseExpression } from '../parser/expression-parser.js';\nimport { PrimaryKeyConstraintBuilder, } from './primary-key-constraint-builder.js';\nimport { CheckConstraintBuilder, } from './check-constraint-builder.js';\n/**\n * This builder can be used to create a `create table` query.\n */\nexport class CreateTableBuilder {\n    #props;\n    constructor(props) {\n        this.#props = freeze(props);\n    }\n    /**\n     * Adds the \"temporary\" modifier.\n     *\n     * Use this to create a temporary table.\n     */\n    temporary() {\n        return new CreateTableBuilder({\n            ...this.#props,\n            node: CreateTableNode.cloneWith(this.#props.node, {\n                temporary: true,\n            }),\n        });\n    }\n    /**\n     * Adds an \"on commit\" statement.\n     *\n     * This can be used in conjunction with temporary tables on supported databases\n     * like PostgreSQL.\n     */\n    onCommit(onCommit) {\n        return new CreateTableBuilder({\n            ...this.#props,\n            node: CreateTableNode.cloneWith(this.#props.node, {\n                onCommit: parseOnCommitAction(onCommit),\n            }),\n        });\n    }\n    /**\n     * Adds the \"if not exists\" modifier.\n     *\n     * If the table already exists, no error is thrown if this method has been called.\n     */\n    ifNotExists() {\n        return new CreateTableBuilder({\n            ...this.#props,\n            node: CreateTableNode.cloneWith(this.#props.node, {\n                ifNotExists: true,\n            }),\n        });\n    }\n    /**\n     * Adds a column to the table.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * import {\u00A0sql } from 'kysely'\n     *\n     * await db.schema\n     *   .createTable('person')\n     *   .addColumn('id', 'integer', (col) => col.autoIncrement().primaryKey())\n     *   .addColumn('first_name', 'varchar(50)', (col) => col.notNull())\n     *   .addColumn('last_name', 'varchar(255)')\n     *   .addColumn('bank_balance', 'numeric(8, 2)')\n     *   // You can specify any data type using the `sql` tag if the types\n     *   // don't include it.\n     *   .addColumn('data', sql`any_type_here`)\n     *   .addColumn('parent_id', 'integer', (col) =>\n     *     col.references('person.id').onDelete('cascade')\n     *   )\n     * ```\n     *\n     * With this method, it's once again good to remember that Kysely just builds the\n     * query and doesn't provide the same API for all databases. For example, some\n     * databases like older MySQL don't support the `references` statement in the\n     * column definition. Instead foreign key constraints need to be defined in the\n     * `create table` query. See the next example:\n     *\n     * ```ts\n     * await db.schema\n     *   .createTable('person')\n     *   .addColumn('id', 'integer', (col) => col.primaryKey())\n     *   .addColumn('parent_id', 'integer')\n     *   .addForeignKeyConstraint(\n     *     'person_parent_id_fk',\n     *     ['parent_id'],\n     *     'person',\n     *     ['id'],\n     *     (cb) => cb.onDelete('cascade')\n     *   )\n     *   .execute()\n     * ```\n     *\n     * Another good example is that PostgreSQL doesn't support the `auto_increment`\n     * keyword and you need to define an autoincrementing column for example using\n     * `serial`:\n     *\n     * ```ts\n     * await db.schema\n     *   .createTable('person')\n     *   .addColumn('id', 'serial', (col) => col.primaryKey())\n     *   .execute()\n     * ```\n     */\n    addColumn(columnName, dataType, build = noop) {\n        const columnBuilder = build(new ColumnDefinitionBuilder(ColumnDefinitionNode.create(columnName, parseDataTypeExpression(dataType))));\n        return new CreateTableBuilder({\n            ...this.#props,\n            node: CreateTableNode.cloneWithColumn(this.#props.node, columnBuilder.toOperationNode()),\n        });\n    }\n    /**\n     * Adds a primary key constraint for one or more columns.\n     *\n     * The constraint name can be anything you want, but it must be unique\n     * across the whole database.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.schema\n     *   .createTable('person')\n     *   .addColumn('first_name', 'varchar(64)')\n     *   .addColumn('last_name', 'varchar(64)')\n     *   .addPrimaryKeyConstraint('primary_key', ['first_name', 'last_name'])\n     *   .execute()\n     * ```\n     */\n    addPrimaryKeyConstraint(constraintName, columns, build = noop) {\n        const constraintBuilder = build(new PrimaryKeyConstraintBuilder(PrimaryKeyConstraintNode.create(columns, constraintName)));\n        return new CreateTableBuilder({\n            ...this.#props,\n            node: CreateTableNode.cloneWithConstraint(this.#props.node, constraintBuilder.toOperationNode()),\n        });\n    }\n    /**\n     * Adds a unique constraint for one or more columns.\n     *\n     * The constraint name can be anything you want, but it must be unique\n     * across the whole database.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.schema\n     *   .createTable('person')\n     *   .addColumn('first_name', 'varchar(64)')\n     *   .addColumn('last_name', 'varchar(64)')\n     *   .addUniqueConstraint(\n     *     'first_name_last_name_unique',\n     *     ['first_name', 'last_name']\n     *   )\n     *   .execute()\n     * ```\n     *\n     * In dialects such as PostgreSQL you can specify `nulls not distinct` as follows:\n     *\n     * ```ts\n     * await db.schema\n     *   .createTable('person')\n     *   .addColumn('first_name', 'varchar(64)')\n     *   .addColumn('last_name', 'varchar(64)')\n     *   .addUniqueConstraint(\n     *     'first_name_last_name_unique',\n     *     ['first_name', 'last_name'],\n     *     (cb) => cb.nullsNotDistinct()\n     *   )\n     *   .execute()\n     * ```\n     */\n    addUniqueConstraint(constraintName, columns, build = noop) {\n        const uniqueConstraintBuilder = build(new UniqueConstraintNodeBuilder(UniqueConstraintNode.create(columns, constraintName)));\n        return new CreateTableBuilder({\n            ...this.#props,\n            node: CreateTableNode.cloneWithConstraint(this.#props.node, uniqueConstraintBuilder.toOperationNode()),\n        });\n    }\n    /**\n     * Adds a check constraint.\n     *\n     * The constraint name can be anything you want, but it must be unique\n     * across the whole database.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * import {\u00A0sql } from 'kysely'\n     *\n     * await db.schema\n     *   .createTable('animal')\n     *   .addColumn('number_of_legs', 'integer')\n     *   .addCheckConstraint('check_legs', sql`number_of_legs < 5`)\n     *   .execute()\n     * ```\n     */\n    addCheckConstraint(constraintName, checkExpression, build = noop) {\n        const constraintBuilder = build(new CheckConstraintBuilder(CheckConstraintNode.create(checkExpression.toOperationNode(), constraintName)));\n        return new CreateTableBuilder({\n            ...this.#props,\n            node: CreateTableNode.cloneWithConstraint(this.#props.node, constraintBuilder.toOperationNode()),\n        });\n    }\n    /**\n     * Adds a foreign key constraint.\n     *\n     * The constraint name can be anything you want, but it must be unique\n     * across the whole database.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.schema\n     *   .createTable('pet')\n     *   .addColumn('owner_id', 'integer')\n     *   .addForeignKeyConstraint(\n     *     'owner_id_foreign',\n     *     ['owner_id'],\n     *     'person',\n     *     ['id'],\n     *   )\n     *   .execute()\n     * ```\n     *\n     * Add constraint for multiple columns:\n     *\n     * ```ts\n     * await db.schema\n     *   .createTable('pet')\n     *   .addColumn('owner_id1', 'integer')\n     *   .addColumn('owner_id2', 'integer')\n     *   .addForeignKeyConstraint(\n     *     'owner_id_foreign',\n     *     ['owner_id1', 'owner_id2'],\n     *     'person',\n     *     ['id1', 'id2'],\n     *     (cb) => cb.onDelete('cascade')\n     *   )\n     *   .execute()\n     * ```\n     */\n    addForeignKeyConstraint(constraintName, columns, targetTable, targetColumns, build = noop) {\n        const builder = build(new ForeignKeyConstraintBuilder(ForeignKeyConstraintNode.create(columns.map(ColumnNode.create), parseTable(targetTable), targetColumns.map(ColumnNode.create), constraintName)));\n        return new CreateTableBuilder({\n            ...this.#props,\n            node: CreateTableNode.cloneWithConstraint(this.#props.node, builder.toOperationNode()),\n        });\n    }\n    /**\n     * This can be used to add any additional SQL to the front of the query __after__ the `create` keyword.\n     *\n     * Also see {@link temporary}.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * import { sql } from 'kysely'\n     *\n     * await db.schema\n     *   .createTable('person')\n     *   .modifyFront(sql`global temporary`)\n     *   .addColumn('id', 'integer', col => col.primaryKey())\n     *   .addColumn('first_name', 'varchar(64)', col => col.notNull())\n     *   .addColumn('last_name', 'varchar(64)', col => col.notNull())\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (Postgres):\n     *\n     * ```sql\n     * create global temporary table \"person\" (\n     *   \"id\" integer primary key,\n     *   \"first_name\" varchar(64) not null,\n     *   \"last_name\" varchar(64) not null\n     * )\n     * ```\n     */\n    modifyFront(modifier) {\n        return new CreateTableBuilder({\n            ...this.#props,\n            node: CreateTableNode.cloneWithFrontModifier(this.#props.node, modifier.toOperationNode()),\n        });\n    }\n    /**\n     * This can be used to add any additional SQL to the end of the query.\n     *\n     * Also see {@link onCommit}.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * import { sql } from 'kysely'\n     *\n     * await db.schema\n     *   .createTable('person')\n     *   .addColumn('id', 'integer', col => col.primaryKey())\n     *   .addColumn('first_name', 'varchar(64)', col => col.notNull())\n     *   .addColumn('last_name', 'varchar(64)', col => col.notNull())\n     *   .modifyEnd(sql`collate utf8_unicode_ci`)\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (MySQL):\n     *\n     * ```sql\n     * create table `person` (\n     *   `id` integer primary key,\n     *   `first_name` varchar(64) not null,\n     *   `last_name` varchar(64) not null\n     * ) collate utf8_unicode_ci\n     * ```\n     */\n    modifyEnd(modifier) {\n        return new CreateTableBuilder({\n            ...this.#props,\n            node: CreateTableNode.cloneWithEndModifier(this.#props.node, modifier.toOperationNode()),\n        });\n    }\n    /**\n     * Allows to create table from `select` query.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.schema\n     *   .createTable('copy')\n     *   .temporary()\n     *   .as(db.selectFrom('person').select(['first_name', 'last_name']))\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * create temporary table \"copy\" as\n     * select \"first_name\", \"last_name\" from \"person\"\n     * ```\n     */\n    as(expression) {\n        return new CreateTableBuilder({\n            ...this.#props,\n            node: CreateTableNode.cloneWith(this.#props.node, {\n                selectQuery: parseExpression(expression),\n            }),\n        });\n    }\n    /**\n     * Calls the given function passing `this` as the only argument.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.schema\n     *   .createTable('test')\n     *   .$call((builder) => builder.addColumn('id', 'integer'))\n     *   .execute()\n     * ```\n     *\n     * This is useful for creating reusable functions that can be called with a builder.\n     *\n     * ```ts\n     * import { type CreateTableBuilder, sql } from 'kysely'\n     *\n     * const addDefaultColumns = (ctb: CreateTableBuilder<any, any>) => {\n     *   return ctb\n     *     .addColumn('id', 'integer', (col) => col.notNull())\n     *     .addColumn('created_at', 'date', (col) =>\n     *       col.notNull().defaultTo(sql`now()`)\n     *     )\n     *     .addColumn('updated_at', 'date', (col) =>\n     *       col.notNull().defaultTo(sql`now()`)\n     *     )\n     * }\n     *\n     * await db.schema\n     *   .createTable('test')\n     *   .$call(addDefaultColumns)\n     *   .execute()\n     * ```\n     */\n    $call(func) {\n        return func(this);\n    }\n    toOperationNode() {\n        return this.#props.executor.transformQuery(this.#props.node, this.#props.queryId);\n    }\n    compile() {\n        return this.#props.executor.compileQuery(this.toOperationNode(), this.#props.queryId);\n    }\n    async execute() {\n        await this.#props.executor.executeQuery(this.compile());\n    }\n}\n", "/// <reference types=\"./drop-index-builder.d.ts\" />\nimport { DropIndexNode } from '../operation-node/drop-index-node.js';\nimport { parseTable } from '../parser/table-parser.js';\nimport { freeze } from '../util/object-utils.js';\nexport class DropIndexBuilder {\n    #props;\n    constructor(props) {\n        this.#props = freeze(props);\n    }\n    /**\n     * Specifies the table the index was created for. This is not needed\n     * in all dialects.\n     */\n    on(table) {\n        return new DropIndexBuilder({\n            ...this.#props,\n            node: DropIndexNode.cloneWith(this.#props.node, {\n                table: parseTable(table),\n            }),\n        });\n    }\n    ifExists() {\n        return new DropIndexBuilder({\n            ...this.#props,\n            node: DropIndexNode.cloneWith(this.#props.node, {\n                ifExists: true,\n            }),\n        });\n    }\n    cascade() {\n        return new DropIndexBuilder({\n            ...this.#props,\n            node: DropIndexNode.cloneWith(this.#props.node, {\n                cascade: true,\n            }),\n        });\n    }\n    /**\n     * Simply calls the provided function passing `this` as the only argument. `$call` returns\n     * what the provided function returns.\n     */\n    $call(func) {\n        return func(this);\n    }\n    toOperationNode() {\n        return this.#props.executor.transformQuery(this.#props.node, this.#props.queryId);\n    }\n    compile() {\n        return this.#props.executor.compileQuery(this.toOperationNode(), this.#props.queryId);\n    }\n    async execute() {\n        await this.#props.executor.executeQuery(this.compile());\n    }\n}\n", "/// <reference types=\"./drop-schema-builder.d.ts\" />\nimport { DropSchemaNode } from '../operation-node/drop-schema-node.js';\nimport { freeze } from '../util/object-utils.js';\nexport class DropSchemaBuilder {\n    #props;\n    constructor(props) {\n        this.#props = freeze(props);\n    }\n    ifExists() {\n        return new DropSchemaBuilder({\n            ...this.#props,\n            node: DropSchemaNode.cloneWith(this.#props.node, {\n                ifExists: true,\n            }),\n        });\n    }\n    cascade() {\n        return new DropSchemaBuilder({\n            ...this.#props,\n            node: DropSchemaNode.cloneWith(this.#props.node, {\n                cascade: true,\n            }),\n        });\n    }\n    /**\n     * Simply calls the provided function passing `this` as the only argument. `$call` returns\n     * what the provided function returns.\n     */\n    $call(func) {\n        return func(this);\n    }\n    toOperationNode() {\n        return this.#props.executor.transformQuery(this.#props.node, this.#props.queryId);\n    }\n    compile() {\n        return this.#props.executor.compileQuery(this.toOperationNode(), this.#props.queryId);\n    }\n    async execute() {\n        await this.#props.executor.executeQuery(this.compile());\n    }\n}\n", "/// <reference types=\"./drop-table-builder.d.ts\" />\nimport { DropTableNode } from '../operation-node/drop-table-node.js';\nimport { freeze } from '../util/object-utils.js';\nexport class DropTableBuilder {\n    #props;\n    constructor(props) {\n        this.#props = freeze(props);\n    }\n    ifExists() {\n        return new DropTableBuilder({\n            ...this.#props,\n            node: DropTableNode.cloneWith(this.#props.node, {\n                ifExists: true,\n            }),\n        });\n    }\n    cascade() {\n        return new DropTableBuilder({\n            ...this.#props,\n            node: DropTableNode.cloneWith(this.#props.node, {\n                cascade: true,\n            }),\n        });\n    }\n    /**\n     * Simply calls the provided function passing `this` as the only argument. `$call` returns\n     * what the provided function returns.\n     */\n    $call(func) {\n        return func(this);\n    }\n    toOperationNode() {\n        return this.#props.executor.transformQuery(this.#props.node, this.#props.queryId);\n    }\n    compile() {\n        return this.#props.executor.compileQuery(this.toOperationNode(), this.#props.queryId);\n    }\n    async execute() {\n        await this.#props.executor.executeQuery(this.compile());\n    }\n}\n", "/// <reference types=\"./create-view-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { SchemableIdentifierNode } from './schemable-identifier-node.js';\n/**\n * @internal\n */\nexport const CreateViewNode = freeze({\n    is(node) {\n        return node.kind === 'CreateViewNode';\n    },\n    create(name) {\n        return freeze({\n            kind: 'CreateViewNode',\n            name: SchemableIdentifierNode.create(name),\n        });\n    },\n    cloneWith(createView, params) {\n        return freeze({\n            ...createView,\n            ...params,\n        });\n    },\n});\n", "/// <reference types=\"./immediate-value-plugin.d.ts\" />\nimport { ImmediateValueTransformer } from './immediate-value-transformer.js';\n/**\n * Transforms all ValueNodes to immediate.\n *\n * WARNING! This should never be part of the public API. Users should never use this.\n * This is an internal helper.\n *\n * @internal\n */\nexport class ImmediateValuePlugin {\n    #transformer = new ImmediateValueTransformer();\n    transformQuery(args) {\n        return this.#transformer.transformNode(args.node, args.queryId);\n    }\n    transformResult(args) {\n        return Promise.resolve(args.result);\n    }\n}\n", "/// <reference types=\"./create-view-builder.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { CreateViewNode } from '../operation-node/create-view-node.js';\nimport { parseColumnName } from '../parser/reference-parser.js';\nimport { ImmediateValuePlugin } from '../plugin/immediate-value/immediate-value-plugin.js';\nexport class CreateViewBuilder {\n    #props;\n    constructor(props) {\n        this.#props = freeze(props);\n    }\n    /**\n     * Adds the \"temporary\" modifier.\n     *\n     * Use this to create a temporary view.\n     */\n    temporary() {\n        return new CreateViewBuilder({\n            ...this.#props,\n            node: CreateViewNode.cloneWith(this.#props.node, {\n                temporary: true,\n            }),\n        });\n    }\n    materialized() {\n        return new CreateViewBuilder({\n            ...this.#props,\n            node: CreateViewNode.cloneWith(this.#props.node, {\n                materialized: true,\n            }),\n        });\n    }\n    /**\n     * Only implemented on some dialects like SQLite. On most dialects, use {@link orReplace}.\n     */\n    ifNotExists() {\n        return new CreateViewBuilder({\n            ...this.#props,\n            node: CreateViewNode.cloneWith(this.#props.node, {\n                ifNotExists: true,\n            }),\n        });\n    }\n    orReplace() {\n        return new CreateViewBuilder({\n            ...this.#props,\n            node: CreateViewNode.cloneWith(this.#props.node, {\n                orReplace: true,\n            }),\n        });\n    }\n    columns(columns) {\n        return new CreateViewBuilder({\n            ...this.#props,\n            node: CreateViewNode.cloneWith(this.#props.node, {\n                columns: columns.map(parseColumnName),\n            }),\n        });\n    }\n    /**\n     * Sets the select query or a `values` statement that creates the view.\n     *\n     * WARNING!\n     * Some dialects don't support parameterized queries in DDL statements and therefore\n     * the query or raw {@link sql } expression passed here is interpolated into a single\n     * string opening an SQL injection vulnerability. DO NOT pass unchecked user input\n     * into the query or raw expression passed to this method!\n     */\n    as(query) {\n        const queryNode = query\n            .withPlugin(new ImmediateValuePlugin())\n            .toOperationNode();\n        return new CreateViewBuilder({\n            ...this.#props,\n            node: CreateViewNode.cloneWith(this.#props.node, {\n                as: queryNode,\n            }),\n        });\n    }\n    /**\n     * Simply calls the provided function passing `this` as the only argument. `$call` returns\n     * what the provided function returns.\n     */\n    $call(func) {\n        return func(this);\n    }\n    toOperationNode() {\n        return this.#props.executor.transformQuery(this.#props.node, this.#props.queryId);\n    }\n    compile() {\n        return this.#props.executor.compileQuery(this.toOperationNode(), this.#props.queryId);\n    }\n    async execute() {\n        await this.#props.executor.executeQuery(this.compile());\n    }\n}\n", "/// <reference types=\"./drop-view-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { SchemableIdentifierNode } from './schemable-identifier-node.js';\n/**\n * @internal\n */\nexport const DropViewNode = freeze({\n    is(node) {\n        return node.kind === 'DropViewNode';\n    },\n    create(name) {\n        return freeze({\n            kind: 'DropViewNode',\n            name: SchemableIdentifierNode.create(name),\n        });\n    },\n    cloneWith(dropView, params) {\n        return freeze({\n            ...dropView,\n            ...params,\n        });\n    },\n});\n", "/// <reference types=\"./drop-view-builder.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { DropViewNode } from '../operation-node/drop-view-node.js';\nexport class DropViewBuilder {\n    #props;\n    constructor(props) {\n        this.#props = freeze(props);\n    }\n    materialized() {\n        return new DropViewBuilder({\n            ...this.#props,\n            node: DropViewNode.cloneWith(this.#props.node, {\n                materialized: true,\n            }),\n        });\n    }\n    ifExists() {\n        return new DropViewBuilder({\n            ...this.#props,\n            node: DropViewNode.cloneWith(this.#props.node, {\n                ifExists: true,\n            }),\n        });\n    }\n    cascade() {\n        return new DropViewBuilder({\n            ...this.#props,\n            node: DropViewNode.cloneWith(this.#props.node, {\n                cascade: true,\n            }),\n        });\n    }\n    /**\n     * Simply calls the provided function passing `this` as the only argument. `$call` returns\n     * what the provided function returns.\n     */\n    $call(func) {\n        return func(this);\n    }\n    toOperationNode() {\n        return this.#props.executor.transformQuery(this.#props.node, this.#props.queryId);\n    }\n    compile() {\n        return this.#props.executor.compileQuery(this.toOperationNode(), this.#props.queryId);\n    }\n    async execute() {\n        await this.#props.executor.executeQuery(this.compile());\n    }\n}\n", "/// <reference types=\"./create-type-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { ValueListNode } from './value-list-node.js';\nimport { ValueNode } from './value-node.js';\n/**\n * @internal\n */\nexport const CreateTypeNode = freeze({\n    is(node) {\n        return node.kind === 'CreateTypeNode';\n    },\n    create(name) {\n        return freeze({\n            kind: 'CreateTypeNode',\n            name,\n        });\n    },\n    cloneWithEnum(createType, values) {\n        return freeze({\n            ...createType,\n            enum: ValueListNode.create(values.map(ValueNode.createImmediate)),\n        });\n    },\n});\n", "/// <reference types=\"./create-type-builder.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { CreateTypeNode } from '../operation-node/create-type-node.js';\nexport class CreateTypeBuilder {\n    #props;\n    constructor(props) {\n        this.#props = freeze(props);\n    }\n    toOperationNode() {\n        return this.#props.executor.transformQuery(this.#props.node, this.#props.queryId);\n    }\n    /**\n     * Creates an anum type.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * db.schema.createType('species').asEnum(['cat', 'dog', 'frog'])\n     * ```\n     */\n    asEnum(values) {\n        return new CreateTypeBuilder({\n            ...this.#props,\n            node: CreateTypeNode.cloneWithEnum(this.#props.node, values),\n        });\n    }\n    /**\n     * Simply calls the provided function passing `this` as the only argument. `$call` returns\n     * what the provided function returns.\n     */\n    $call(func) {\n        return func(this);\n    }\n    compile() {\n        return this.#props.executor.compileQuery(this.toOperationNode(), this.#props.queryId);\n    }\n    async execute() {\n        await this.#props.executor.executeQuery(this.compile());\n    }\n}\n", "/// <reference types=\"./drop-type-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\n/**\n * @internal\n */\nexport const DropTypeNode = freeze({\n    is(node) {\n        return node.kind === 'DropTypeNode';\n    },\n    create(name) {\n        return freeze({\n            kind: 'DropTypeNode',\n            name,\n        });\n    },\n    cloneWith(dropType, params) {\n        return freeze({\n            ...dropType,\n            ...params,\n        });\n    },\n});\n", "/// <reference types=\"./drop-type-builder.d.ts\" />\nimport { DropTypeNode } from '../operation-node/drop-type-node.js';\nimport { freeze } from '../util/object-utils.js';\nexport class DropTypeBuilder {\n    #props;\n    constructor(props) {\n        this.#props = freeze(props);\n    }\n    ifExists() {\n        return new DropTypeBuilder({\n            ...this.#props,\n            node: DropTypeNode.cloneWith(this.#props.node, {\n                ifExists: true,\n            }),\n        });\n    }\n    /**\n     * Simply calls the provided function passing `this` as the only argument. `$call` returns\n     * what the provided function returns.\n     */\n    $call(func) {\n        return func(this);\n    }\n    toOperationNode() {\n        return this.#props.executor.transformQuery(this.#props.node, this.#props.queryId);\n    }\n    compile() {\n        return this.#props.executor.compileQuery(this.toOperationNode(), this.#props.queryId);\n    }\n    async execute() {\n        await this.#props.executor.executeQuery(this.compile());\n    }\n}\n", "/// <reference types=\"./identifier-parser.d.ts\" />\nimport { SchemableIdentifierNode } from '../operation-node/schemable-identifier-node.js';\nexport function parseSchemableIdentifier(id) {\n    const SCHEMA_SEPARATOR = '.';\n    if (id.includes(SCHEMA_SEPARATOR)) {\n        const parts = id.split(SCHEMA_SEPARATOR).map(trim);\n        if (parts.length === 2) {\n            return SchemableIdentifierNode.createWithSchema(parts[0], parts[1]);\n        }\n        else {\n            throw new Error(`invalid schemable identifier ${id}`);\n        }\n    }\n    else {\n        return SchemableIdentifierNode.create(id);\n    }\n}\nfunction trim(str) {\n    return str.trim();\n}\n", "/// <reference types=\"./refresh-materialized-view-node.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { SchemableIdentifierNode } from './schemable-identifier-node.js';\n/**\n * @internal\n */\nexport const RefreshMaterializedViewNode = freeze({\n    is(node) {\n        return node.kind === 'RefreshMaterializedViewNode';\n    },\n    create(name) {\n        return freeze({\n            kind: 'RefreshMaterializedViewNode',\n            name: SchemableIdentifierNode.create(name),\n        });\n    },\n    cloneWith(createView, params) {\n        return freeze({\n            ...createView,\n            ...params,\n        });\n    },\n});\n", "/// <reference types=\"./refresh-materialized-view-builder.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nimport { RefreshMaterializedViewNode } from '../operation-node/refresh-materialized-view-node.js';\nexport class RefreshMaterializedViewBuilder {\n    #props;\n    constructor(props) {\n        this.#props = freeze(props);\n    }\n    /**\n     * Adds the \"concurrently\" modifier.\n     *\n     * Use this to refresh the view without locking out concurrent selects on the materialized view.\n     *\n     * WARNING!\n     * This cannot be used with the \"with no data\" modifier.\n     */\n    concurrently() {\n        return new RefreshMaterializedViewBuilder({\n            ...this.#props,\n            node: RefreshMaterializedViewNode.cloneWith(this.#props.node, {\n                concurrently: true,\n                withNoData: false,\n            }),\n        });\n    }\n    /**\n     * Adds the \"with data\" modifier.\n     *\n     * If specified (or defaults) the backing query is executed to provide the new data, and the materialized view is left in a scannable state\n     */\n    withData() {\n        return new RefreshMaterializedViewBuilder({\n            ...this.#props,\n            node: RefreshMaterializedViewNode.cloneWith(this.#props.node, {\n                withNoData: false,\n            }),\n        });\n    }\n    /**\n     * Adds the \"with no data\" modifier.\n     *\n     * If specified, no new data is generated and the materialized view is left in an unscannable state.\n     *\n     * WARNING!\n     * This cannot be used with the \"concurrently\" modifier.\n     */\n    withNoData() {\n        return new RefreshMaterializedViewBuilder({\n            ...this.#props,\n            node: RefreshMaterializedViewNode.cloneWith(this.#props.node, {\n                withNoData: true,\n                concurrently: false,\n            }),\n        });\n    }\n    /**\n     * Simply calls the provided function passing `this` as the only argument. `$call` returns\n     * what the provided function returns.\n     */\n    $call(func) {\n        return func(this);\n    }\n    toOperationNode() {\n        return this.#props.executor.transformQuery(this.#props.node, this.#props.queryId);\n    }\n    compile() {\n        return this.#props.executor.compileQuery(this.toOperationNode(), this.#props.queryId);\n    }\n    async execute() {\n        await this.#props.executor.executeQuery(this.compile());\n    }\n}\n", "/// <reference types=\"./schema.d.ts\" />\nimport { AlterTableNode } from '../operation-node/alter-table-node.js';\nimport { CreateIndexNode } from '../operation-node/create-index-node.js';\nimport { CreateSchemaNode } from '../operation-node/create-schema-node.js';\nimport { CreateTableNode } from '../operation-node/create-table-node.js';\nimport { DropIndexNode } from '../operation-node/drop-index-node.js';\nimport { DropSchemaNode } from '../operation-node/drop-schema-node.js';\nimport { DropTableNode } from '../operation-node/drop-table-node.js';\nimport { parseTable } from '../parser/table-parser.js';\nimport { AlterTableBuilder } from './alter-table-builder.js';\nimport { CreateIndexBuilder } from './create-index-builder.js';\nimport { CreateSchemaBuilder } from './create-schema-builder.js';\nimport { CreateTableBuilder } from './create-table-builder.js';\nimport { DropIndexBuilder } from './drop-index-builder.js';\nimport { DropSchemaBuilder } from './drop-schema-builder.js';\nimport { DropTableBuilder } from './drop-table-builder.js';\nimport { createQueryId } from '../util/query-id.js';\nimport { WithSchemaPlugin } from '../plugin/with-schema/with-schema-plugin.js';\nimport { CreateViewBuilder } from './create-view-builder.js';\nimport { CreateViewNode } from '../operation-node/create-view-node.js';\nimport { DropViewBuilder } from './drop-view-builder.js';\nimport { DropViewNode } from '../operation-node/drop-view-node.js';\nimport { CreateTypeBuilder } from './create-type-builder.js';\nimport { DropTypeBuilder } from './drop-type-builder.js';\nimport { CreateTypeNode } from '../operation-node/create-type-node.js';\nimport { DropTypeNode } from '../operation-node/drop-type-node.js';\nimport { parseSchemableIdentifier } from '../parser/identifier-parser.js';\nimport { RefreshMaterializedViewBuilder } from './refresh-materialized-view-builder.js';\nimport { RefreshMaterializedViewNode } from '../operation-node/refresh-materialized-view-node.js';\n/**\n * Provides methods for building database schema.\n */\nexport class SchemaModule {\n    #executor;\n    constructor(executor) {\n        this.#executor = executor;\n    }\n    /**\n     * Create a new table.\n     *\n     * ### Examples\n     *\n     * This example creates a new table with columns `id`, `first_name`,\n     * `last_name` and `gender`:\n     *\n     * ```ts\n     * await db.schema\n     *   .createTable('person')\n     *   .addColumn('id', 'integer', col => col.primaryKey().autoIncrement())\n     *   .addColumn('first_name', 'varchar', col => col.notNull())\n     *   .addColumn('last_name', 'varchar', col => col.notNull())\n     *   .addColumn('gender', 'varchar')\n     *   .execute()\n     * ```\n     *\n     * This example creates a table with a foreign key. Not all database\n     * engines support column-level foreign key constraint definitions.\n     * For example if you are using MySQL 5.X see the next example after\n     * this one.\n     *\n     * ```ts\n     * await db.schema\n     *   .createTable('pet')\n     *   .addColumn('id', 'integer', col => col.primaryKey().autoIncrement())\n     *   .addColumn('owner_id', 'integer', col => col\n     *     .references('person.id')\n     *     .onDelete('cascade')\n     *   )\n     *   .execute()\n     * ```\n     *\n     * This example adds a foreign key constraint for a columns just\n     * like the previous example, but using a table-level statement.\n     * On MySQL 5.X you need to define foreign key constraints like\n     * this:\n     *\n     * ```ts\n     * await db.schema\n     *   .createTable('pet')\n     *   .addColumn('id', 'integer', col => col.primaryKey().autoIncrement())\n     *   .addColumn('owner_id', 'integer')\n     *   .addForeignKeyConstraint(\n     *     'pet_owner_id_foreign', ['owner_id'], 'person', ['id'],\n     *     (constraint) => constraint.onDelete('cascade')\n     *   )\n     *   .execute()\n     * ```\n     */\n    createTable(table) {\n        return new CreateTableBuilder({\n            queryId: createQueryId(),\n            executor: this.#executor,\n            node: CreateTableNode.create(parseTable(table)),\n        });\n    }\n    /**\n     * Drop a table.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.schema\n     *   .dropTable('person')\n     *   .execute()\n     * ```\n     */\n    dropTable(table) {\n        return new DropTableBuilder({\n            queryId: createQueryId(),\n            executor: this.#executor,\n            node: DropTableNode.create(parseTable(table)),\n        });\n    }\n    /**\n     * Create a new index.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.schema\n     *   .createIndex('person_full_name_unique_index')\n     *   .on('person')\n     *   .columns(['first_name', 'last_name'])\n     *   .execute()\n     * ```\n     */\n    createIndex(indexName) {\n        return new CreateIndexBuilder({\n            queryId: createQueryId(),\n            executor: this.#executor,\n            node: CreateIndexNode.create(indexName),\n        });\n    }\n    /**\n     * Drop an index.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.schema\n     *   .dropIndex('person_full_name_unique_index')\n     *   .execute()\n     * ```\n     */\n    dropIndex(indexName) {\n        return new DropIndexBuilder({\n            queryId: createQueryId(),\n            executor: this.#executor,\n            node: DropIndexNode.create(indexName),\n        });\n    }\n    /**\n     * Create a new schema.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.schema\n     *   .createSchema('some_schema')\n     *   .execute()\n     * ```\n     */\n    createSchema(schema) {\n        return new CreateSchemaBuilder({\n            queryId: createQueryId(),\n            executor: this.#executor,\n            node: CreateSchemaNode.create(schema),\n        });\n    }\n    /**\n     * Drop a schema.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.schema\n     *   .dropSchema('some_schema')\n     *   .execute()\n     * ```\n     */\n    dropSchema(schema) {\n        return new DropSchemaBuilder({\n            queryId: createQueryId(),\n            executor: this.#executor,\n            node: DropSchemaNode.create(schema),\n        });\n    }\n    /**\n     * Alter a table.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.schema\n     *   .alterTable('person')\n     *   .alterColumn('first_name', (ac) => ac.setDataType('text'))\n     *   .execute()\n     * ```\n     */\n    alterTable(table) {\n        return new AlterTableBuilder({\n            queryId: createQueryId(),\n            executor: this.#executor,\n            node: AlterTableNode.create(parseTable(table)),\n        });\n    }\n    /**\n     * Create a new view.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.schema\n     *   .createView('dogs')\n     *   .orReplace()\n     *   .as(db.selectFrom('pet').selectAll().where('species', '=', 'dog'))\n     *   .execute()\n     * ```\n     */\n    createView(viewName) {\n        return new CreateViewBuilder({\n            queryId: createQueryId(),\n            executor: this.#executor,\n            node: CreateViewNode.create(viewName),\n        });\n    }\n    /**\n     * Refresh a materialized view.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.schema\n     *   .refreshMaterializedView('my_view')\n     *   .concurrently()\n     *   .execute()\n     * ```\n     */\n    refreshMaterializedView(viewName) {\n        return new RefreshMaterializedViewBuilder({\n            queryId: createQueryId(),\n            executor: this.#executor,\n            node: RefreshMaterializedViewNode.create(viewName),\n        });\n    }\n    /**\n     * Drop a view.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.schema\n     *   .dropView('dogs')\n     *   .ifExists()\n     *   .execute()\n     * ```\n     */\n    dropView(viewName) {\n        return new DropViewBuilder({\n            queryId: createQueryId(),\n            executor: this.#executor,\n            node: DropViewNode.create(viewName),\n        });\n    }\n    /**\n     * Create a new type.\n     *\n     * Only some dialects like PostgreSQL have user-defined types.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.schema\n     *   .createType('species')\n     *   .asEnum(['dog', 'cat', 'frog'])\n     *   .execute()\n     * ```\n     */\n    createType(typeName) {\n        return new CreateTypeBuilder({\n            queryId: createQueryId(),\n            executor: this.#executor,\n            node: CreateTypeNode.create(parseSchemableIdentifier(typeName)),\n        });\n    }\n    /**\n     * Drop a type.\n     *\n     * Only some dialects like PostgreSQL have user-defined types.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db.schema\n     *   .dropType('species')\n     *   .ifExists()\n     *   .execute()\n     * ```\n     */\n    dropType(typeName) {\n        return new DropTypeBuilder({\n            queryId: createQueryId(),\n            executor: this.#executor,\n            node: DropTypeNode.create(parseSchemableIdentifier(typeName)),\n        });\n    }\n    /**\n     * Returns a copy of this schema module with the given plugin installed.\n     */\n    withPlugin(plugin) {\n        return new SchemaModule(this.#executor.withPlugin(plugin));\n    }\n    /**\n     * Returns a copy of this schema module  without any plugins.\n     */\n    withoutPlugins() {\n        return new SchemaModule(this.#executor.withoutPlugins());\n    }\n    /**\n     * See {@link QueryCreator.withSchema}\n     */\n    withSchema(schema) {\n        return new SchemaModule(this.#executor.withPluginAtFront(new WithSchemaPlugin(schema)));\n    }\n}\n", "/// <reference types=\"./dynamic.d.ts\" />\nimport { DynamicReferenceBuilder } from './dynamic-reference-builder.js';\nimport { DynamicTableBuilder } from './dynamic-table-builder.js';\nexport class DynamicModule {\n    /**\n     * Creates a dynamic reference to a column that is not know at compile time.\n     *\n     * Kysely is built in a way that by default you can't refer to tables or columns\n     * that are not actually visible in the current query and context. This is all\n     * done by TypeScript at compile time, which means that you need to know the\n     * columns and tables at compile time. This is not always the case of course.\n     *\n     * This method is meant to be used in those cases where the column names\n     * come from the user input or are not otherwise known at compile time.\n     *\n     * WARNING! Unlike values, column names are not escaped by the database engine\n     * or Kysely and if you pass in unchecked column names using this method, you\n     * create an SQL injection vulnerability. Always __always__ validate the user\n     * input before passing it to this method.\n     *\n     * There are couple of examples below for some use cases, but you can pass\n     * `ref` to other methods as well. If the types allow you to pass a `ref`\n     * value to some place, it should work.\n     *\n     * ### Examples\n     *\n     * Filter by a column not know at compile time:\n     *\n     * ```ts\n     * async function someQuery(filterColumn: string, filterValue: string) {\n     *   const { ref } = db.dynamic\n     *\n     *   return await db\n     *     .selectFrom('person')\n     *     .selectAll()\n     *     .where(ref(filterColumn), '=', filterValue)\n     *     .execute()\n     * }\n     *\n     * someQuery('first_name', 'Arnold')\n     * someQuery('person.last_name', 'Aniston')\n     * ```\n     *\n     * Order by a column not know at compile time:\n     *\n     * ```ts\n     * async function someQuery(orderBy: string) {\n     *   const { ref } = db.dynamic\n     *\n     *   return await db\n     *     .selectFrom('person')\n     *     .select('person.first_name as fn')\n     *     .orderBy(ref(orderBy))\n     *     .execute()\n     * }\n     *\n     * someQuery('fn')\n     * ```\n     *\n     * In this example we add selections dynamically:\n     *\n     * ```ts\n     * const { ref } = db.dynamic\n     *\n     * // Some column name provided by the user. Value not known at compile time.\n     * const columnFromUserInput: PossibleColumns = 'birthdate';\n     *\n     * // A type that lists all possible values `columnFromUserInput` can have.\n     * // You can use `keyof Person` if any column of an interface is allowed.\n     * type PossibleColumns = 'last_name' | 'first_name' | 'birthdate'\n     *\n     * const [person] = await db.selectFrom('person')\n     *   .select([\n     *     ref<PossibleColumns>(columnFromUserInput),\n     *     'id'\n     *   ])\n     *   .execute()\n     *\n     * // The resulting type contains all `PossibleColumns` as optional fields\n     * // because we cannot know which field was actually selected before\n     * // running the code.\n     * const lastName: string | null | undefined = person?.last_name\n     * const firstName: string | undefined = person?.first_name\n     * const birthDate: Date | null | undefined = person?.birthdate\n     *\n     * // The result type also contains the compile time selection `id`.\n     * person?.id\n     * ```\n     */\n    ref(reference) {\n        return new DynamicReferenceBuilder(reference);\n    }\n    /**\n     * Creates a table reference to a table that's not fully known at compile time.\n     *\n     * The type `T` is allowed to be a union of multiple tables.\n     *\n     * <!-- siteExample(\"select\", \"Generic find query\", 130) -->\n     *\n     * A generic type-safe helper function for finding a row by a column value:\n     *\n     * ```ts\n     * import { SelectType } from 'kysely'\n     * import { Database } from 'type-editor'\n     *\n     * async function getRowByColumn<\n     *   T extends keyof Database,\n     *   C extends keyof Database[T] & string,\n     *   V extends SelectType<Database[T][C]>,\n     * >(t: T, c: C, v: V) {\n     *   // We need to use the dynamic module since the table name\n     *   // is not known at compile time.\n     *   const { table, ref } = db.dynamic\n     *\n     *   return await db\n     *     .selectFrom(table(t).as('t'))\n     *     .selectAll()\n     *     .where(ref(c), '=', v)\n     *     .orderBy('t.id')\n     *     .executeTakeFirstOrThrow()\n     * }\n     *\n     * const person = await getRowByColumn('person', 'first_name', 'Arnold')\n     * ```\n     */\n    table(table) {\n        return new DynamicTableBuilder(table);\n    }\n}\n", "/// <reference types=\"./default-connection-provider.d.ts\" />\nexport class DefaultConnectionProvider {\n    #driver;\n    constructor(driver) {\n        this.#driver = driver;\n    }\n    async provideConnection(consumer) {\n        const connection = await this.#driver.acquireConnection();\n        try {\n            return await consumer(connection);\n        }\n        finally {\n            await this.#driver.releaseConnection(connection);\n        }\n    }\n}\n", "/// <reference types=\"./default-query-executor.d.ts\" />\nimport { QueryExecutorBase } from './query-executor-base.js';\nexport class DefaultQueryExecutor extends QueryExecutorBase {\n    #compiler;\n    #adapter;\n    #connectionProvider;\n    constructor(compiler, adapter, connectionProvider, plugins = []) {\n        super(plugins);\n        this.#compiler = compiler;\n        this.#adapter = adapter;\n        this.#connectionProvider = connectionProvider;\n    }\n    get adapter() {\n        return this.#adapter;\n    }\n    compileQuery(node, queryId) {\n        return this.#compiler.compileQuery(node, queryId);\n    }\n    provideConnection(consumer) {\n        return this.#connectionProvider.provideConnection(consumer);\n    }\n    withPlugins(plugins) {\n        return new DefaultQueryExecutor(this.#compiler, this.#adapter, this.#connectionProvider, [...this.plugins, ...plugins]);\n    }\n    withPlugin(plugin) {\n        return new DefaultQueryExecutor(this.#compiler, this.#adapter, this.#connectionProvider, [...this.plugins, plugin]);\n    }\n    withPluginAtFront(plugin) {\n        return new DefaultQueryExecutor(this.#compiler, this.#adapter, this.#connectionProvider, [plugin, ...this.plugins]);\n    }\n    withConnectionProvider(connectionProvider) {\n        return new DefaultQueryExecutor(this.#compiler, this.#adapter, connectionProvider, [...this.plugins]);\n    }\n    withoutPlugins() {\n        return new DefaultQueryExecutor(this.#compiler, this.#adapter, this.#connectionProvider, []);\n    }\n}\n", "/// <reference types=\"./performance-now.d.ts\" />\nimport { isFunction } from './object-utils.js';\nexport function performanceNow() {\n    if (typeof performance !== 'undefined' && isFunction(performance.now)) {\n        return performance.now();\n    }\n    else {\n        return Date.now();\n    }\n}\n", "/// <reference types=\"./runtime-driver.d.ts\" />\nimport { performanceNow } from '../util/performance-now.js';\n/**\n * A small wrapper around {@link Driver} that makes sure the driver is\n * initialized before it is used, only initialized and destroyed\n * once etc.\n */\nexport class RuntimeDriver {\n    #driver;\n    #log;\n    #initPromise;\n    #initDone;\n    #destroyPromise;\n    #connections = new WeakSet();\n    constructor(driver, log) {\n        this.#initDone = false;\n        this.#driver = driver;\n        this.#log = log;\n    }\n    async init() {\n        if (this.#destroyPromise) {\n            throw new Error('driver has already been destroyed');\n        }\n        if (!this.#initPromise) {\n            this.#initPromise = this.#driver\n                .init()\n                .then(() => {\n                this.#initDone = true;\n            })\n                .catch((err) => {\n                this.#initPromise = undefined;\n                return Promise.reject(err);\n            });\n        }\n        await this.#initPromise;\n    }\n    async acquireConnection() {\n        if (this.#destroyPromise) {\n            throw new Error('driver has already been destroyed');\n        }\n        if (!this.#initDone) {\n            await this.init();\n        }\n        const connection = await this.#driver.acquireConnection();\n        if (!this.#connections.has(connection)) {\n            if (this.#needsLogging()) {\n                this.#addLogging(connection);\n            }\n            this.#connections.add(connection);\n        }\n        return connection;\n    }\n    async releaseConnection(connection) {\n        await this.#driver.releaseConnection(connection);\n    }\n    beginTransaction(connection, settings) {\n        return this.#driver.beginTransaction(connection, settings);\n    }\n    commitTransaction(connection) {\n        return this.#driver.commitTransaction(connection);\n    }\n    rollbackTransaction(connection) {\n        return this.#driver.rollbackTransaction(connection);\n    }\n    savepoint(connection, savepointName, compileQuery) {\n        if (this.#driver.savepoint) {\n            return this.#driver.savepoint(connection, savepointName, compileQuery);\n        }\n        throw new Error('The `savepoint` method is not supported by this driver');\n    }\n    rollbackToSavepoint(connection, savepointName, compileQuery) {\n        if (this.#driver.rollbackToSavepoint) {\n            return this.#driver.rollbackToSavepoint(connection, savepointName, compileQuery);\n        }\n        throw new Error('The `rollbackToSavepoint` method is not supported by this driver');\n    }\n    releaseSavepoint(connection, savepointName, compileQuery) {\n        if (this.#driver.releaseSavepoint) {\n            return this.#driver.releaseSavepoint(connection, savepointName, compileQuery);\n        }\n        throw new Error('The `releaseSavepoint` method is not supported by this driver');\n    }\n    async destroy() {\n        if (!this.#initPromise) {\n            return;\n        }\n        await this.#initPromise;\n        if (!this.#destroyPromise) {\n            this.#destroyPromise = this.#driver.destroy().catch((err) => {\n                this.#destroyPromise = undefined;\n                return Promise.reject(err);\n            });\n        }\n        await this.#destroyPromise;\n    }\n    #needsLogging() {\n        return (this.#log.isLevelEnabled('query') || this.#log.isLevelEnabled('error'));\n    }\n    // This method monkey patches the database connection's executeQuery method\n    // by adding logging code around it. Monkey patching is not pretty, but it's\n    // the best option in this case.\n    #addLogging(connection) {\n        const executeQuery = connection.executeQuery;\n        const streamQuery = connection.streamQuery;\n        const dis = this;\n        connection.executeQuery = async (compiledQuery) => {\n            let caughtError;\n            const startTime = performanceNow();\n            try {\n                return await executeQuery.call(connection, compiledQuery);\n            }\n            catch (error) {\n                caughtError = error;\n                await dis.#logError(error, compiledQuery, startTime);\n                throw error;\n            }\n            finally {\n                if (!caughtError) {\n                    await dis.#logQuery(compiledQuery, startTime);\n                }\n            }\n        };\n        connection.streamQuery = async function* (compiledQuery, chunkSize) {\n            let caughtError;\n            const startTime = performanceNow();\n            try {\n                for await (const result of streamQuery.call(connection, compiledQuery, chunkSize)) {\n                    yield result;\n                }\n            }\n            catch (error) {\n                caughtError = error;\n                await dis.#logError(error, compiledQuery, startTime);\n                throw error;\n            }\n            finally {\n                if (!caughtError) {\n                    await dis.#logQuery(compiledQuery, startTime, true);\n                }\n            }\n        };\n    }\n    async #logError(error, compiledQuery, startTime) {\n        await this.#log.error(() => ({\n            level: 'error',\n            error,\n            query: compiledQuery,\n            queryDurationMillis: this.#calculateDurationMillis(startTime),\n        }));\n    }\n    async #logQuery(compiledQuery, startTime, isStream = false) {\n        await this.#log.query(() => ({\n            level: 'query',\n            isStream,\n            query: compiledQuery,\n            queryDurationMillis: this.#calculateDurationMillis(startTime),\n        }));\n    }\n    #calculateDurationMillis(startTime) {\n        return performanceNow() - startTime;\n    }\n}\n", "/// <reference types=\"./single-connection-provider.d.ts\" />\nconst ignoreError = () => { };\nexport class SingleConnectionProvider {\n    #connection;\n    #runningPromise;\n    constructor(connection) {\n        this.#connection = connection;\n    }\n    async provideConnection(consumer) {\n        while (this.#runningPromise) {\n            await this.#runningPromise.catch(ignoreError);\n        }\n        // `#runningPromise` must be set to undefined before it's\n        // resolved or rejected. Otherwise the while loop above\n        // will misbehave.\n        this.#runningPromise = this.#run(consumer).finally(() => {\n            this.#runningPromise = undefined;\n        });\n        return this.#runningPromise;\n    }\n    // Run the runner in an async function to make sure it doesn't\n    // throw synchronous errors.\n    async #run(runner) {\n        return await runner(this.#connection);\n    }\n}\n", "/// <reference types=\"./driver.d.ts\" />\nexport const TRANSACTION_ACCESS_MODES = ['read only', 'read write'];\nexport const TRANSACTION_ISOLATION_LEVELS = [\n    'read uncommitted',\n    'read committed',\n    'repeatable read',\n    'serializable',\n    'snapshot',\n];\nexport function validateTransactionSettings(settings) {\n    if (settings.accessMode &&\n        !TRANSACTION_ACCESS_MODES.includes(settings.accessMode)) {\n        throw new Error(`invalid transaction access mode ${settings.accessMode}`);\n    }\n    if (settings.isolationLevel &&\n        !TRANSACTION_ISOLATION_LEVELS.includes(settings.isolationLevel)) {\n        throw new Error(`invalid transaction isolation level ${settings.isolationLevel}`);\n    }\n}\n", "/// <reference types=\"./log.d.ts\" />\nimport { freeze, isFunction } from './object-utils.js';\nexport const LOG_LEVELS = freeze(['query', 'error']);\nexport class Log {\n    #levels;\n    #logger;\n    constructor(config) {\n        if (isFunction(config)) {\n            this.#logger = config;\n            this.#levels = freeze({\n                query: true,\n                error: true,\n            });\n        }\n        else {\n            this.#logger = defaultLogger;\n            this.#levels = freeze({\n                query: config.includes('query'),\n                error: config.includes('error'),\n            });\n        }\n    }\n    isLevelEnabled(level) {\n        return this.#levels[level];\n    }\n    async query(getEvent) {\n        if (this.#levels.query) {\n            await this.#logger(getEvent());\n        }\n    }\n    async error(getEvent) {\n        if (this.#levels.error) {\n            await this.#logger(getEvent());\n        }\n    }\n}\nfunction defaultLogger(event) {\n    if (event.level === 'query') {\n        const prefix = `kysely:query:${event.isStream ? 'stream:' : ''}`;\n        console.log(`${prefix} ${event.query.sql}`);\n        console.log(`${prefix} duration: ${event.queryDurationMillis.toFixed(1)}ms`);\n    }\n    else if (event.level === 'error') {\n        if (event.error instanceof Error) {\n            console.error(`kysely:error: ${event.error.stack ?? event.error.message}`);\n        }\n        else {\n            console.error(`kysely:error: ${JSON.stringify({\n                error: event.error,\n                query: event.query.sql,\n                queryDurationMillis: event.queryDurationMillis,\n            })}`);\n        }\n    }\n}\n", "/// <reference types=\"./compilable.d.ts\" />\nimport { isFunction, isObject } from './object-utils.js';\nexport function isCompilable(value) {\n    return isObject(value) && isFunction(value.compile);\n}\n", "/// <reference types=\"./kysely.d.ts\" />\nimport { SchemaModule } from './schema/schema.js';\nimport { DynamicModule } from './dynamic/dynamic.js';\nimport { DefaultConnectionProvider } from './driver/default-connection-provider.js';\nimport { QueryCreator } from './query-creator.js';\nimport { DefaultQueryExecutor } from './query-executor/default-query-executor.js';\nimport { freeze, isObject, isUndefined } from './util/object-utils.js';\nimport { RuntimeDriver } from './driver/runtime-driver.js';\nimport { SingleConnectionProvider } from './driver/single-connection-provider.js';\nimport { validateTransactionSettings, } from './driver/driver.js';\nimport { createFunctionModule, } from './query-builder/function-module.js';\nimport { Log } from './util/log.js';\nimport { createQueryId } from './util/query-id.js';\nimport { isCompilable } from './util/compilable.js';\nimport { CaseBuilder } from './query-builder/case-builder.js';\nimport { CaseNode } from './operation-node/case-node.js';\nimport { parseExpression } from './parser/expression-parser.js';\nimport { WithSchemaPlugin } from './plugin/with-schema/with-schema-plugin.js';\nimport { provideControlledConnection, } from './util/provide-controlled-connection.js';\nimport { logOnce } from './util/log-once.js';\n// @ts-ignore\nSymbol.asyncDispose ??= Symbol('Symbol.asyncDispose');\n/**\n * The main Kysely class.\n *\n * You should create one instance of `Kysely` per database using the {@link Kysely}\n * constructor. Each `Kysely` instance maintains its own connection pool.\n *\n * ### Examples\n *\n * This example assumes your database has a \"person\" table:\n *\n * ```ts\n * import * as Sqlite from 'better-sqlite3'\n * import {\u00A0type Generated, Kysely, SqliteDialect } from 'kysely'\n *\n * interface Database {\n *   person: {\n *     id: Generated<number>\n *     first_name: string\n *     last_name: string | null\n *   }\n * }\n *\n * const db = new Kysely<Database>({\n *   dialect: new SqliteDialect({\n *     database: new Sqlite(':memory:'),\n *   })\n * })\n * ```\n *\n * @typeParam DB - The database interface type. Keys of this type must be table names\n *    in the database and values must be interfaces that describe the rows in those\n *    tables. See the examples above.\n */\nexport class Kysely extends QueryCreator {\n    #props;\n    constructor(args) {\n        let superProps;\n        let props;\n        if (isKyselyProps(args)) {\n            superProps = { executor: args.executor };\n            props = { ...args };\n        }\n        else {\n            const dialect = args.dialect;\n            const driver = dialect.createDriver();\n            const compiler = dialect.createQueryCompiler();\n            const adapter = dialect.createAdapter();\n            const log = new Log(args.log ?? []);\n            const runtimeDriver = new RuntimeDriver(driver, log);\n            const connectionProvider = new DefaultConnectionProvider(runtimeDriver);\n            const executor = new DefaultQueryExecutor(compiler, adapter, connectionProvider, args.plugins ?? []);\n            superProps = { executor };\n            props = {\n                config: args,\n                executor,\n                dialect,\n                driver: runtimeDriver,\n            };\n        }\n        super(superProps);\n        this.#props = freeze(props);\n    }\n    /**\n     * Returns the {@link SchemaModule} module for building database schema.\n     */\n    get schema() {\n        return new SchemaModule(this.#props.executor);\n    }\n    /**\n     * Returns a the {@link DynamicModule} module.\n     *\n     * The {@link DynamicModule} module can be used to bypass strict typing and\n     * passing in dynamic values for the queries.\n     */\n    get dynamic() {\n        return new DynamicModule();\n    }\n    /**\n     * Returns a {@link DatabaseIntrospector | database introspector}.\n     */\n    get introspection() {\n        return this.#props.dialect.createIntrospector(this.withoutPlugins());\n    }\n    case(value) {\n        return new CaseBuilder({\n            node: CaseNode.create(isUndefined(value) ? undefined : parseExpression(value)),\n        });\n    }\n    /**\n     * Returns a {@link FunctionModule} that can be used to write somewhat type-safe function\n     * calls.\n     *\n     * ```ts\n     * const { count } = db.fn\n     *\n     * await db.selectFrom('person')\n     *   .innerJoin('pet', 'pet.owner_id', 'person.id')\n     *   .select([\n     *     'id',\n     *     count('pet.id').as('person_count'),\n     *   ])\n     *   .groupBy('person.id')\n     *   .having(count('pet.id'), '>', 10)\n     *   .execute()\n     * ```\n     *\n     * The generated SQL (PostgreSQL):\n     *\n     * ```sql\n     * select \"person\".\"id\", count(\"pet\".\"id\") as \"person_count\"\n     * from \"person\"\n     * inner join \"pet\" on \"pet\".\"owner_id\" = \"person\".\"id\"\n     * group by \"person\".\"id\"\n     * having count(\"pet\".\"id\") > $1\n     * ```\n     *\n     * Why \"somewhat\" type-safe? Because the function calls are not bound to the\n     * current query context. They allow you to reference columns and tables that\n     * are not in the current query. E.g. remove the `innerJoin` from the previous\n     * query and TypeScript won't even complain.\n     *\n     * If you want to make the function calls fully type-safe, you can use the\n     * {@link ExpressionBuilder.fn} getter for a query context-aware, stricter {@link FunctionModule}.\n     *\n     * ```ts\n     * await db.selectFrom('person')\n     *   .innerJoin('pet', 'pet.owner_id', 'person.id')\n     *   .select((eb) => [\n     *     'person.id',\n     *     eb.fn.count('pet.id').as('pet_count')\n     *   ])\n     *   .groupBy('person.id')\n     *   .having((eb) => eb.fn.count('pet.id'), '>', 10)\n     *   .execute()\n     * ```\n     */\n    get fn() {\n        return createFunctionModule();\n    }\n    /**\n     * Creates a {@link TransactionBuilder} that can be used to run queries inside a transaction.\n     *\n     * The returned {@link TransactionBuilder} can be used to configure the transaction. The\n     * {@link TransactionBuilder.execute} method can then be called to run the transaction.\n     * {@link TransactionBuilder.execute} takes a function that is run inside the\n     * transaction. If the function throws an exception,\n     * 1. the exception is caught,\n     * 2. the transaction is rolled back, and\n     * 3. the exception is thrown again.\n     * Otherwise the transaction is committed.\n     *\n     * The callback function passed to the {@link TransactionBuilder.execute | execute}\n     * method gets the transaction object as its only argument. The transaction is\n     * of type {@link Transaction} which inherits {@link Kysely}. Any query\n     * started through the transaction object is executed inside the transaction.\n     *\n     * To run a controlled transaction, allowing you to commit and rollback manually,\n     * use {@link startTransaction} instead.\n     *\n     * ### Examples\n     *\n     * <!-- siteExample(\"transactions\", \"Simple transaction\", 10) -->\n     *\n     * This example inserts two rows in a transaction. If an exception is thrown inside\n     * the callback passed to the `execute` method,\n     * 1. the exception is caught,\n     * 2. the transaction is rolled back, and\n     * 3. the exception is thrown again.\n     * Otherwise the transaction is committed.\n     *\n     * ```ts\n     * const catto = await db.transaction().execute(async (trx) => {\n     *   const jennifer = await trx.insertInto('person')\n     *     .values({\n     *       first_name: 'Jennifer',\n     *       last_name: 'Aniston',\n     *       age: 40,\n     *     })\n     *     .returning('id')\n     *     .executeTakeFirstOrThrow()\n     *\n     *   return await trx.insertInto('pet')\n     *     .values({\n     *       owner_id: jennifer.id,\n     *       name: 'Catto',\n     *       species: 'cat',\n     *       is_favorite: false,\n     *     })\n     *     .returningAll()\n     *     .executeTakeFirst()\n     * })\n     * ```\n     *\n     * Setting the isolation level:\n     *\n     * ```ts\n     * import type { Kysely } from 'kysely'\n     *\n     * await db\n     *   .transaction()\n     *   .setIsolationLevel('serializable')\n     *   .execute(async (trx) => {\n     *     await doStuff(trx)\n     *   })\n     *\n     * async function doStuff(kysely: typeof db) {\n     *   // ...\n     * }\n     * ```\n     */\n    transaction() {\n        return new TransactionBuilder({ ...this.#props });\n    }\n    /**\n     * Creates a {@link ControlledTransactionBuilder} that can be used to run queries inside a controlled transaction.\n     *\n     * The returned {@link ControlledTransactionBuilder} can be used to configure the transaction.\n     * The {@link ControlledTransactionBuilder.execute} method can then be called\n     * to start the transaction and return a {@link ControlledTransaction}.\n     *\n     * A {@link ControlledTransaction} allows you to commit and rollback manually,\n     * execute savepoint commands. It extends {@link Transaction} which extends {@link Kysely},\n     * so you can run queries inside the transaction. Once the transaction is committed,\n     * or rolled back, it can't be used anymore - all queries will throw an error.\n     * This is to prevent accidentally running queries outside the transaction - where\n     * atomicity is not guaranteed anymore.\n     *\n     * ### Examples\n     *\n     * <!-- siteExample(\"transactions\", \"Controlled transaction\", 11) -->\n     *\n     * A controlled transaction allows you to commit and rollback manually, execute\n     * savepoint commands, and queries in general.\n     *\n     * In this example we start a transaction, use it to insert two rows and then commit\n     * the transaction. If an error is thrown, we catch it and rollback the transaction.\n     *\n     * ```ts\n     * const trx = await db.startTransaction().execute()\n     *\n     * try {\n     *   const jennifer = await trx.insertInto('person')\n     *     .values({\n     *       first_name: 'Jennifer',\n     *       last_name: 'Aniston',\n     *       age: 40,\n     *     })\n     *     .returning('id')\n     *     .executeTakeFirstOrThrow()\n     *\n     *   const catto = await trx.insertInto('pet')\n     *     .values({\n     *       owner_id: jennifer.id,\n     *       name: 'Catto',\n     *       species: 'cat',\n     *       is_favorite: false,\n     *     })\n     *     .returningAll()\n     *     .executeTakeFirstOrThrow()\n     *\n     *   await trx.commit().execute()\n     *\n     *   // ...\n     * } catch (error) {\n     *   await trx.rollback().execute()\n     * }\n     * ```\n     *\n     * <!-- siteExample(\"transactions\", \"Controlled transaction /w savepoints\", 12) -->\n     *\n     * A controlled transaction allows you to commit and rollback manually, execute\n     * savepoint commands, and queries in general.\n     *\n     * In this example we start a transaction, insert a person, create a savepoint,\n     * try inserting a toy and a pet, and if an error is thrown, we rollback to the\n     * savepoint. Eventually we release the savepoint, insert an audit record and\n     * commit the transaction. If an error is thrown, we catch it and rollback the\n     * transaction.\n     *\n     * ```ts\n     * const trx = await db.startTransaction().execute()\n     *\n     * try {\n     *   const jennifer = await trx\n     *     .insertInto('person')\n     *     .values({\n     *       first_name: 'Jennifer',\n     *       last_name: 'Aniston',\n     *       age: 40,\n     *     })\n     *     .returning('id')\n     *     .executeTakeFirstOrThrow()\n     *\n     *   const trxAfterJennifer = await trx.savepoint('after_jennifer').execute()\n     *\n     *   try {\n     *     const catto = await trxAfterJennifer\n     *       .insertInto('pet')\n     *       .values({\n     *         owner_id: jennifer.id,\n     *         name: 'Catto',\n     *         species: 'cat',\n     *       })\n     *       .returning('id')\n     *       .executeTakeFirstOrThrow()\n     *\n     *     await trxAfterJennifer\n     *       .insertInto('toy')\n     *       .values({ name: 'Bone', price: 1.99, pet_id: catto.id })\n     *       .execute()\n     *   } catch (error) {\n     *     await trxAfterJennifer.rollbackToSavepoint('after_jennifer').execute()\n     *   }\n     *\n     *   await trxAfterJennifer.releaseSavepoint('after_jennifer').execute()\n     *\n     *   await trx.insertInto('audit').values({ action: 'added Jennifer' }).execute()\n     *\n     *   await trx.commit().execute()\n     * } catch (error) {\n     *   await trx.rollback().execute()\n     * }\n     * ```\n     */\n    startTransaction() {\n        return new ControlledTransactionBuilder({ ...this.#props });\n    }\n    /**\n     * Provides a kysely instance bound to a single database connection.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * await db\n     *   .connection()\n     *   .execute(async (db) => {\n     *     // `db` is an instance of `Kysely` that's bound to a single\n     *     // database connection. All queries executed through `db` use\n     *     // the same connection.\n     *     await doStuff(db)\n     *   })\n     *\n     * async function doStuff(kysely: typeof db) {\n     *   // ...\n     * }\n     * ```\n     */\n    connection() {\n        return new ConnectionBuilder({ ...this.#props });\n    }\n    /**\n     * Returns a copy of this Kysely instance with the given plugin installed.\n     */\n    withPlugin(plugin) {\n        return new Kysely({\n            ...this.#props,\n            executor: this.#props.executor.withPlugin(plugin),\n        });\n    }\n    /**\n     * Returns a copy of this Kysely instance without any plugins.\n     */\n    withoutPlugins() {\n        return new Kysely({\n            ...this.#props,\n            executor: this.#props.executor.withoutPlugins(),\n        });\n    }\n    /**\n     * @override\n     */\n    withSchema(schema) {\n        return new Kysely({\n            ...this.#props,\n            executor: this.#props.executor.withPluginAtFront(new WithSchemaPlugin(schema)),\n        });\n    }\n    /**\n     * Returns a copy of this Kysely instance with tables added to its\n     * database type.\n     *\n     * This method only modifies the types and doesn't affect any of the\n     * executed queries in any way.\n     *\n     * ### Examples\n     *\n     * The following example adds and uses a temporary table:\n     *\n     * ```ts\n     * await db.schema\n     *   .createTable('temp_table')\n     *   .temporary()\n     *   .addColumn('some_column', 'integer')\n     *   .execute()\n     *\n     * const tempDb = db.withTables<{\n     *   temp_table: {\n     *     some_column: number\n     *   }\n     * }>()\n     *\n     * await tempDb\n     *   .insertInto('temp_table')\n     *   .values({ some_column: 100 })\n     *   .execute()\n     * ```\n     */\n    withTables() {\n        return new Kysely({ ...this.#props });\n    }\n    /**\n     * Releases all resources and disconnects from the database.\n     *\n     * You need to call this when you are done using the `Kysely` instance.\n     */\n    async destroy() {\n        await this.#props.driver.destroy();\n    }\n    /**\n     * Returns true if this `Kysely` instance is a transaction.\n     *\n     * You can also use `db instanceof Transaction`.\n     */\n    get isTransaction() {\n        return false;\n    }\n    /**\n     * @internal\n     * @private\n     */\n    getExecutor() {\n        return this.#props.executor;\n    }\n    /**\n     * Executes a given compiled query or query builder.\n     *\n     * See {@link https://github.com/kysely-org/kysely/blob/master/site/docs/recipes/0004-splitting-query-building-and-execution.md#execute-compiled-queries splitting build, compile and execute code recipe} for more information.\n     */\n    executeQuery(query, \n    // TODO: remove this in the future. deprecated in  0.28.x\n    queryId) {\n        if (queryId !== undefined) {\n            logOnce('Passing `queryId` in `db.executeQuery` is deprecated and will result in a compile-time error in the future.');\n        }\n        const compiledQuery = isCompilable(query) ? query.compile() : query;\n        return this.getExecutor().executeQuery(compiledQuery);\n    }\n    async [Symbol.asyncDispose]() {\n        await this.destroy();\n    }\n}\nexport class Transaction extends Kysely {\n    #props;\n    constructor(props) {\n        super(props);\n        this.#props = props;\n    }\n    // The return type is `true` instead of `boolean` to make Kysely<DB>\n    // unassignable to Transaction<DB> while allowing assignment the\n    // other way around.\n    get isTransaction() {\n        return true;\n    }\n    transaction() {\n        throw new Error('calling the transaction method for a Transaction is not supported');\n    }\n    connection() {\n        throw new Error('calling the connection method for a Transaction is not supported');\n    }\n    async destroy() {\n        throw new Error('calling the destroy method for a Transaction is not supported');\n    }\n    withPlugin(plugin) {\n        return new Transaction({\n            ...this.#props,\n            executor: this.#props.executor.withPlugin(plugin),\n        });\n    }\n    withoutPlugins() {\n        return new Transaction({\n            ...this.#props,\n            executor: this.#props.executor.withoutPlugins(),\n        });\n    }\n    withSchema(schema) {\n        return new Transaction({\n            ...this.#props,\n            executor: this.#props.executor.withPluginAtFront(new WithSchemaPlugin(schema)),\n        });\n    }\n    withTables() {\n        return new Transaction({ ...this.#props });\n    }\n}\nexport function isKyselyProps(obj) {\n    return (isObject(obj) &&\n        isObject(obj.config) &&\n        isObject(obj.driver) &&\n        isObject(obj.executor) &&\n        isObject(obj.dialect));\n}\nexport class ConnectionBuilder {\n    #props;\n    constructor(props) {\n        this.#props = freeze(props);\n    }\n    async execute(callback) {\n        return this.#props.executor.provideConnection(async (connection) => {\n            const executor = this.#props.executor.withConnectionProvider(new SingleConnectionProvider(connection));\n            const db = new Kysely({\n                ...this.#props,\n                executor,\n            });\n            return await callback(db);\n        });\n    }\n}\nexport class TransactionBuilder {\n    #props;\n    constructor(props) {\n        this.#props = freeze(props);\n    }\n    setAccessMode(accessMode) {\n        return new TransactionBuilder({\n            ...this.#props,\n            accessMode,\n        });\n    }\n    setIsolationLevel(isolationLevel) {\n        return new TransactionBuilder({\n            ...this.#props,\n            isolationLevel,\n        });\n    }\n    async execute(callback) {\n        const { isolationLevel, accessMode, ...kyselyProps } = this.#props;\n        const settings = { isolationLevel, accessMode };\n        validateTransactionSettings(settings);\n        return this.#props.executor.provideConnection(async (connection) => {\n            const executor = this.#props.executor.withConnectionProvider(new SingleConnectionProvider(connection));\n            const transaction = new Transaction({\n                ...kyselyProps,\n                executor,\n            });\n            try {\n                await this.#props.driver.beginTransaction(connection, settings);\n                const result = await callback(transaction);\n                await this.#props.driver.commitTransaction(connection);\n                return result;\n            }\n            catch (error) {\n                await this.#props.driver.rollbackTransaction(connection);\n                throw error;\n            }\n        });\n    }\n}\nexport class ControlledTransactionBuilder {\n    #props;\n    constructor(props) {\n        this.#props = freeze(props);\n    }\n    setAccessMode(accessMode) {\n        return new ControlledTransactionBuilder({\n            ...this.#props,\n            accessMode,\n        });\n    }\n    setIsolationLevel(isolationLevel) {\n        return new ControlledTransactionBuilder({\n            ...this.#props,\n            isolationLevel,\n        });\n    }\n    async execute() {\n        const { isolationLevel, accessMode, ...props } = this.#props;\n        const settings = { isolationLevel, accessMode };\n        validateTransactionSettings(settings);\n        const connection = await provideControlledConnection(this.#props.executor);\n        await this.#props.driver.beginTransaction(connection.connection, settings);\n        return new ControlledTransaction({\n            ...props,\n            connection,\n            executor: this.#props.executor.withConnectionProvider(new SingleConnectionProvider(connection.connection)),\n        });\n    }\n}\nexport class ControlledTransaction extends Transaction {\n    #props;\n    #compileQuery;\n    #state;\n    constructor(props) {\n        const state = { isCommitted: false, isRolledBack: false };\n        props = {\n            ...props,\n            executor: new NotCommittedOrRolledBackAssertingExecutor(props.executor, state),\n        };\n        const { connection, ...transactionProps } = props;\n        super(transactionProps);\n        this.#props = freeze(props);\n        this.#state = state;\n        const queryId = createQueryId();\n        this.#compileQuery = (node) => props.executor.compileQuery(node, queryId);\n    }\n    get isCommitted() {\n        return this.#state.isCommitted;\n    }\n    get isRolledBack() {\n        return this.#state.isRolledBack;\n    }\n    /**\n     * Commits the transaction.\n     *\n     * See {@link rollback}.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * import type { Kysely } from 'kysely'\n     * import type { Database } from 'type-editor' // imaginary module\n     *\n     * const trx = await db.startTransaction().execute()\n     *\n     * try {\n     *   await doSomething(trx)\n     *\n     *   await trx.commit().execute()\n     * } catch (error) {\n     *   await trx.rollback().execute()\n     * }\n     *\n     * async function doSomething(kysely: Kysely<Database>) {}\n     * ```\n     */\n    commit() {\n        assertNotCommittedOrRolledBack(this.#state);\n        return new Command(async () => {\n            await this.#props.driver.commitTransaction(this.#props.connection.connection);\n            this.#state.isCommitted = true;\n            this.#props.connection.release();\n        });\n    }\n    /**\n     * Rolls back the transaction.\n     *\n     * See {@link commit} and {@link rollbackToSavepoint}.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * import type { Kysely } from 'kysely'\n     * import type { Database } from 'type-editor' // imaginary module\n     *\n     * const trx = await db.startTransaction().execute()\n     *\n     * try {\n     *   await doSomething(trx)\n     *\n     *   await trx.commit().execute()\n     * } catch (error) {\n     *   await trx.rollback().execute()\n     * }\n     *\n     * async function doSomething(kysely: Kysely<Database>) {}\n     * ```\n     */\n    rollback() {\n        assertNotCommittedOrRolledBack(this.#state);\n        return new Command(async () => {\n            await this.#props.driver.rollbackTransaction(this.#props.connection.connection);\n            this.#state.isRolledBack = true;\n            this.#props.connection.release();\n        });\n    }\n    /**\n     * Creates a savepoint with a given name.\n     *\n     * See {@link rollbackToSavepoint} and {@link releaseSavepoint}.\n     *\n     * For a type-safe experience, you should use the returned instance from now on.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * import type { Kysely } from 'kysely'\n     * import type { Database } from 'type-editor' // imaginary module\n     *\n     * const trx = await db.startTransaction().execute()\n     *\n     * await insertJennifer(trx)\n     *\n     * const trxAfterJennifer = await trx.savepoint('after_jennifer').execute()\n     *\n     * try {\n     *   await doSomething(trxAfterJennifer)\n     * } catch (error) {\n     *   await trxAfterJennifer.rollbackToSavepoint('after_jennifer').execute()\n     * }\n     *\n     * async function insertJennifer(kysely: Kysely<Database>) {}\n     * async function doSomething(kysely: Kysely<Database>) {}\n     * ```\n     */\n    savepoint(savepointName) {\n        assertNotCommittedOrRolledBack(this.#state);\n        return new Command(async () => {\n            await this.#props.driver.savepoint?.(this.#props.connection.connection, savepointName, this.#compileQuery);\n            return new ControlledTransaction({ ...this.#props });\n        });\n    }\n    /**\n     * Rolls back to a savepoint with a given name.\n     *\n     * See {@link savepoint} and {@link releaseSavepoint}.\n     *\n     * You must use the same instance returned by {@link savepoint}, or\n     * escape the type-check by using `as any`.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * import type { Kysely } from 'kysely'\n     * import type { Database } from 'type-editor' // imaginary module\n     *\n     * const trx = await db.startTransaction().execute()\n     *\n     * await insertJennifer(trx)\n     *\n     * const trxAfterJennifer = await trx.savepoint('after_jennifer').execute()\n     *\n     * try {\n     *   await doSomething(trxAfterJennifer)\n     * } catch (error) {\n     *   await trxAfterJennifer.rollbackToSavepoint('after_jennifer').execute()\n     * }\n     *\n     * async function insertJennifer(kysely: Kysely<Database>) {}\n     * async function doSomething(kysely: Kysely<Database>) {}\n     * ```\n     */\n    rollbackToSavepoint(savepointName) {\n        assertNotCommittedOrRolledBack(this.#state);\n        return new Command(async () => {\n            await this.#props.driver.rollbackToSavepoint?.(this.#props.connection.connection, savepointName, this.#compileQuery);\n            return new ControlledTransaction({ ...this.#props });\n        });\n    }\n    /**\n     * Releases a savepoint with a given name.\n     *\n     * See {@link savepoint} and {@link rollbackToSavepoint}.\n     *\n     * You must use the same instance returned by {@link savepoint}, or\n     * escape the type-check by using `as any`.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * import type { Kysely } from 'kysely'\n     * import type { Database } from 'type-editor' // imaginary module\n     *\n     * const trx = await db.startTransaction().execute()\n     *\n     * await insertJennifer(trx)\n     *\n     * const trxAfterJennifer = await trx.savepoint('after_jennifer').execute()\n     *\n     * try {\n     *   await doSomething(trxAfterJennifer)\n     * } catch (error) {\n     *   await trxAfterJennifer.rollbackToSavepoint('after_jennifer').execute()\n     * }\n     *\n     * await trxAfterJennifer.releaseSavepoint('after_jennifer').execute()\n     *\n     * await doSomethingElse(trx)\n     *\n     * async function insertJennifer(kysely: Kysely<Database>) {}\n     * async function doSomething(kysely: Kysely<Database>) {}\n     * async function doSomethingElse(kysely: Kysely<Database>) {}\n     * ```\n     */\n    releaseSavepoint(savepointName) {\n        assertNotCommittedOrRolledBack(this.#state);\n        return new Command(async () => {\n            await this.#props.driver.releaseSavepoint?.(this.#props.connection.connection, savepointName, this.#compileQuery);\n            return new ControlledTransaction({ ...this.#props });\n        });\n    }\n    withPlugin(plugin) {\n        return new ControlledTransaction({\n            ...this.#props,\n            executor: this.#props.executor.withPlugin(plugin),\n        });\n    }\n    withoutPlugins() {\n        return new ControlledTransaction({\n            ...this.#props,\n            executor: this.#props.executor.withoutPlugins(),\n        });\n    }\n    withSchema(schema) {\n        return new ControlledTransaction({\n            ...this.#props,\n            executor: this.#props.executor.withPluginAtFront(new WithSchemaPlugin(schema)),\n        });\n    }\n    withTables() {\n        return new ControlledTransaction({ ...this.#props });\n    }\n}\nexport class Command {\n    #cb;\n    constructor(cb) {\n        this.#cb = cb;\n    }\n    /**\n     * Executes the command.\n     */\n    async execute() {\n        return await this.#cb();\n    }\n}\nfunction assertNotCommittedOrRolledBack(state) {\n    if (state.isCommitted) {\n        throw new Error('Transaction is already committed');\n    }\n    if (state.isRolledBack) {\n        throw new Error('Transaction is already rolled back');\n    }\n}\n/**\n * An executor wrapper that asserts that the transaction state is not committed\n * or rolled back when a query is executed.\n *\n * @internal\n */\nclass NotCommittedOrRolledBackAssertingExecutor {\n    #executor;\n    #state;\n    constructor(executor, state) {\n        if (executor instanceof NotCommittedOrRolledBackAssertingExecutor) {\n            this.#executor = executor.#executor;\n        }\n        else {\n            this.#executor = executor;\n        }\n        this.#state = state;\n    }\n    get adapter() {\n        return this.#executor.adapter;\n    }\n    get plugins() {\n        return this.#executor.plugins;\n    }\n    transformQuery(node, queryId) {\n        return this.#executor.transformQuery(node, queryId);\n    }\n    compileQuery(node, queryId) {\n        return this.#executor.compileQuery(node, queryId);\n    }\n    provideConnection(consumer) {\n        return this.#executor.provideConnection(consumer);\n    }\n    executeQuery(compiledQuery) {\n        assertNotCommittedOrRolledBack(this.#state);\n        return this.#executor.executeQuery(compiledQuery);\n    }\n    stream(compiledQuery, chunkSize) {\n        assertNotCommittedOrRolledBack(this.#state);\n        return this.#executor.stream(compiledQuery, chunkSize);\n    }\n    withConnectionProvider(connectionProvider) {\n        return new NotCommittedOrRolledBackAssertingExecutor(this.#executor.withConnectionProvider(connectionProvider), this.#state);\n    }\n    withPlugin(plugin) {\n        return new NotCommittedOrRolledBackAssertingExecutor(this.#executor.withPlugin(plugin), this.#state);\n    }\n    withPlugins(plugins) {\n        return new NotCommittedOrRolledBackAssertingExecutor(this.#executor.withPlugins(plugins), this.#state);\n    }\n    withPluginAtFront(plugin) {\n        return new NotCommittedOrRolledBackAssertingExecutor(this.#executor.withPluginAtFront(plugin), this.#state);\n    }\n    withoutPlugins() {\n        return new NotCommittedOrRolledBackAssertingExecutor(this.#executor.withoutPlugins(), this.#state);\n    }\n}\n", "/// <reference types=\"./where-interface.d.ts\" />\nexport {};\n", "/// <reference types=\"./returning-interface.d.ts\" />\nexport {};\n", "/// <reference types=\"./output-interface.d.ts\" />\nexport {};\n", "/// <reference types=\"./having-interface.d.ts\" />\nexport {};\n", "/// <reference types=\"./order-by-interface.d.ts\" />\nexport {};\n", "/// <reference types=\"./raw-builder.d.ts\" />\nimport { AliasNode } from '../operation-node/alias-node.js';\nimport { freeze } from '../util/object-utils.js';\nimport { NOOP_QUERY_EXECUTOR } from '../query-executor/noop-query-executor.js';\nimport { IdentifierNode } from '../operation-node/identifier-node.js';\nimport { isOperationNodeSource } from '../operation-node/operation-node-source.js';\nclass RawBuilderImpl {\n    #props;\n    constructor(props) {\n        this.#props = freeze(props);\n    }\n    get expressionType() {\n        return undefined;\n    }\n    get isRawBuilder() {\n        return true;\n    }\n    as(alias) {\n        return new AliasedRawBuilderImpl(this, alias);\n    }\n    $castTo() {\n        return new RawBuilderImpl({ ...this.#props });\n    }\n    $notNull() {\n        return new RawBuilderImpl(this.#props);\n    }\n    withPlugin(plugin) {\n        return new RawBuilderImpl({\n            ...this.#props,\n            plugins: this.#props.plugins !== undefined\n                ? freeze([...this.#props.plugins, plugin])\n                : freeze([plugin]),\n        });\n    }\n    toOperationNode() {\n        return this.#toOperationNode(this.#getExecutor());\n    }\n    compile(executorProvider) {\n        return this.#compile(this.#getExecutor(executorProvider));\n    }\n    async execute(executorProvider) {\n        const executor = this.#getExecutor(executorProvider);\n        return executor.executeQuery(this.#compile(executor));\n    }\n    #getExecutor(executorProvider) {\n        const executor = executorProvider !== undefined\n            ? executorProvider.getExecutor()\n            : NOOP_QUERY_EXECUTOR;\n        return this.#props.plugins !== undefined\n            ? executor.withPlugins(this.#props.plugins)\n            : executor;\n    }\n    #toOperationNode(executor) {\n        return executor.transformQuery(this.#props.rawNode, this.#props.queryId);\n    }\n    #compile(executor) {\n        return executor.compileQuery(this.#toOperationNode(executor), this.#props.queryId);\n    }\n}\nexport function createRawBuilder(props) {\n    return new RawBuilderImpl(props);\n}\nclass AliasedRawBuilderImpl {\n    #rawBuilder;\n    #alias;\n    constructor(rawBuilder, alias) {\n        this.#rawBuilder = rawBuilder;\n        this.#alias = alias;\n    }\n    get expression() {\n        return this.#rawBuilder;\n    }\n    get alias() {\n        return this.#alias;\n    }\n    get rawBuilder() {\n        return this.#rawBuilder;\n    }\n    toOperationNode() {\n        return AliasNode.create(this.#rawBuilder.toOperationNode(), isOperationNodeSource(this.#alias)\n            ? this.#alias.toOperationNode()\n            : IdentifierNode.create(this.#alias));\n    }\n}\n", "/// <reference types=\"./sql.d.ts\" />\nimport { IdentifierNode } from '../operation-node/identifier-node.js';\nimport { isOperationNodeSource } from '../operation-node/operation-node-source.js';\nimport { RawNode } from '../operation-node/raw-node.js';\nimport { ValueNode } from '../operation-node/value-node.js';\nimport { parseStringReference } from '../parser/reference-parser.js';\nimport { parseTable } from '../parser/table-parser.js';\nimport { parseValueExpression } from '../parser/value-parser.js';\nimport { createQueryId } from '../util/query-id.js';\nimport { createRawBuilder } from './raw-builder.js';\nexport const sql = Object.assign((sqlFragments, ...parameters) => {\n    return createRawBuilder({\n        queryId: createQueryId(),\n        rawNode: RawNode.create(sqlFragments, parameters?.map(parseParameter) ?? []),\n    });\n}, {\n    ref(columnReference) {\n        return createRawBuilder({\n            queryId: createQueryId(),\n            rawNode: RawNode.createWithChild(parseStringReference(columnReference)),\n        });\n    },\n    val(value) {\n        return createRawBuilder({\n            queryId: createQueryId(),\n            rawNode: RawNode.createWithChild(parseValueExpression(value)),\n        });\n    },\n    value(value) {\n        return this.val(value);\n    },\n    table(tableReference) {\n        return createRawBuilder({\n            queryId: createQueryId(),\n            rawNode: RawNode.createWithChild(parseTable(tableReference)),\n        });\n    },\n    id(...ids) {\n        const fragments = new Array(ids.length + 1).fill('.');\n        fragments[0] = '';\n        fragments[fragments.length - 1] = '';\n        return createRawBuilder({\n            queryId: createQueryId(),\n            rawNode: RawNode.create(fragments, ids.map(IdentifierNode.create)),\n        });\n    },\n    lit(value) {\n        return createRawBuilder({\n            queryId: createQueryId(),\n            rawNode: RawNode.createWithChild(ValueNode.createImmediate(value)),\n        });\n    },\n    literal(value) {\n        return this.lit(value);\n    },\n    raw(sql) {\n        return createRawBuilder({\n            queryId: createQueryId(),\n            rawNode: RawNode.createWithSql(sql),\n        });\n    },\n    join(array, separator = sql `, `) {\n        const nodes = new Array(Math.max(2 * array.length - 1, 0));\n        const sep = separator.toOperationNode();\n        for (let i = 0; i < array.length; ++i) {\n            nodes[2 * i] = parseParameter(array[i]);\n            if (i !== array.length - 1) {\n                nodes[2 * i + 1] = sep;\n            }\n        }\n        return createRawBuilder({\n            queryId: createQueryId(),\n            rawNode: RawNode.createWithChildren(nodes),\n        });\n    },\n});\nfunction parseParameter(param) {\n    if (isOperationNodeSource(param)) {\n        return param.toOperationNode();\n    }\n    return parseValueExpression(param);\n}\n", "/// <reference types=\"./query-executor.d.ts\" />\nexport {};\n", "/// <reference types=\"./query-executor-provider.d.ts\" />\nexport {};\n", "/// <reference types=\"./operation-node-visitor.d.ts\" />\nimport { freeze } from '../util/object-utils.js';\nexport class OperationNodeVisitor {\n    nodeStack = [];\n    get parentNode() {\n        return this.nodeStack[this.nodeStack.length - 2];\n    }\n    #visitors = freeze({\n        AliasNode: this.visitAlias.bind(this),\n        ColumnNode: this.visitColumn.bind(this),\n        IdentifierNode: this.visitIdentifier.bind(this),\n        SchemableIdentifierNode: this.visitSchemableIdentifier.bind(this),\n        RawNode: this.visitRaw.bind(this),\n        ReferenceNode: this.visitReference.bind(this),\n        SelectQueryNode: this.visitSelectQuery.bind(this),\n        SelectionNode: this.visitSelection.bind(this),\n        TableNode: this.visitTable.bind(this),\n        FromNode: this.visitFrom.bind(this),\n        SelectAllNode: this.visitSelectAll.bind(this),\n        AndNode: this.visitAnd.bind(this),\n        OrNode: this.visitOr.bind(this),\n        ValueNode: this.visitValue.bind(this),\n        ValueListNode: this.visitValueList.bind(this),\n        PrimitiveValueListNode: this.visitPrimitiveValueList.bind(this),\n        ParensNode: this.visitParens.bind(this),\n        JoinNode: this.visitJoin.bind(this),\n        OperatorNode: this.visitOperator.bind(this),\n        WhereNode: this.visitWhere.bind(this),\n        InsertQueryNode: this.visitInsertQuery.bind(this),\n        DeleteQueryNode: this.visitDeleteQuery.bind(this),\n        ReturningNode: this.visitReturning.bind(this),\n        CreateTableNode: this.visitCreateTable.bind(this),\n        AddColumnNode: this.visitAddColumn.bind(this),\n        ColumnDefinitionNode: this.visitColumnDefinition.bind(this),\n        DropTableNode: this.visitDropTable.bind(this),\n        DataTypeNode: this.visitDataType.bind(this),\n        OrderByNode: this.visitOrderBy.bind(this),\n        OrderByItemNode: this.visitOrderByItem.bind(this),\n        GroupByNode: this.visitGroupBy.bind(this),\n        GroupByItemNode: this.visitGroupByItem.bind(this),\n        UpdateQueryNode: this.visitUpdateQuery.bind(this),\n        ColumnUpdateNode: this.visitColumnUpdate.bind(this),\n        LimitNode: this.visitLimit.bind(this),\n        OffsetNode: this.visitOffset.bind(this),\n        OnConflictNode: this.visitOnConflict.bind(this),\n        OnDuplicateKeyNode: this.visitOnDuplicateKey.bind(this),\n        CreateIndexNode: this.visitCreateIndex.bind(this),\n        DropIndexNode: this.visitDropIndex.bind(this),\n        ListNode: this.visitList.bind(this),\n        PrimaryKeyConstraintNode: this.visitPrimaryKeyConstraint.bind(this),\n        UniqueConstraintNode: this.visitUniqueConstraint.bind(this),\n        ReferencesNode: this.visitReferences.bind(this),\n        CheckConstraintNode: this.visitCheckConstraint.bind(this),\n        WithNode: this.visitWith.bind(this),\n        CommonTableExpressionNode: this.visitCommonTableExpression.bind(this),\n        CommonTableExpressionNameNode: this.visitCommonTableExpressionName.bind(this),\n        HavingNode: this.visitHaving.bind(this),\n        CreateSchemaNode: this.visitCreateSchema.bind(this),\n        DropSchemaNode: this.visitDropSchema.bind(this),\n        AlterTableNode: this.visitAlterTable.bind(this),\n        DropColumnNode: this.visitDropColumn.bind(this),\n        RenameColumnNode: this.visitRenameColumn.bind(this),\n        AlterColumnNode: this.visitAlterColumn.bind(this),\n        ModifyColumnNode: this.visitModifyColumn.bind(this),\n        AddConstraintNode: this.visitAddConstraint.bind(this),\n        DropConstraintNode: this.visitDropConstraint.bind(this),\n        RenameConstraintNode: this.visitRenameConstraint.bind(this),\n        ForeignKeyConstraintNode: this.visitForeignKeyConstraint.bind(this),\n        CreateViewNode: this.visitCreateView.bind(this),\n        RefreshMaterializedViewNode: this.visitRefreshMaterializedView.bind(this),\n        DropViewNode: this.visitDropView.bind(this),\n        GeneratedNode: this.visitGenerated.bind(this),\n        DefaultValueNode: this.visitDefaultValue.bind(this),\n        OnNode: this.visitOn.bind(this),\n        ValuesNode: this.visitValues.bind(this),\n        SelectModifierNode: this.visitSelectModifier.bind(this),\n        CreateTypeNode: this.visitCreateType.bind(this),\n        DropTypeNode: this.visitDropType.bind(this),\n        ExplainNode: this.visitExplain.bind(this),\n        DefaultInsertValueNode: this.visitDefaultInsertValue.bind(this),\n        AggregateFunctionNode: this.visitAggregateFunction.bind(this),\n        OverNode: this.visitOver.bind(this),\n        PartitionByNode: this.visitPartitionBy.bind(this),\n        PartitionByItemNode: this.visitPartitionByItem.bind(this),\n        SetOperationNode: this.visitSetOperation.bind(this),\n        BinaryOperationNode: this.visitBinaryOperation.bind(this),\n        UnaryOperationNode: this.visitUnaryOperation.bind(this),\n        UsingNode: this.visitUsing.bind(this),\n        FunctionNode: this.visitFunction.bind(this),\n        CaseNode: this.visitCase.bind(this),\n        WhenNode: this.visitWhen.bind(this),\n        JSONReferenceNode: this.visitJSONReference.bind(this),\n        JSONPathNode: this.visitJSONPath.bind(this),\n        JSONPathLegNode: this.visitJSONPathLeg.bind(this),\n        JSONOperatorChainNode: this.visitJSONOperatorChain.bind(this),\n        TupleNode: this.visitTuple.bind(this),\n        MergeQueryNode: this.visitMergeQuery.bind(this),\n        MatchedNode: this.visitMatched.bind(this),\n        AddIndexNode: this.visitAddIndex.bind(this),\n        CastNode: this.visitCast.bind(this),\n        FetchNode: this.visitFetch.bind(this),\n        TopNode: this.visitTop.bind(this),\n        OutputNode: this.visitOutput.bind(this),\n        OrActionNode: this.visitOrAction.bind(this),\n        CollateNode: this.visitCollate.bind(this),\n    });\n    visitNode = (node) => {\n        this.nodeStack.push(node);\n        this.#visitors[node.kind](node);\n        this.nodeStack.pop();\n    };\n}\n", "/// <reference types=\"./default-query-compiler.d.ts\" />\nimport { CreateTableNode } from '../operation-node/create-table-node.js';\nimport { InsertQueryNode } from '../operation-node/insert-query-node.js';\nimport { OperationNodeVisitor } from '../operation-node/operation-node-visitor.js';\nimport { OperatorNode } from '../operation-node/operator-node.js';\nimport { ParensNode } from '../operation-node/parens-node.js';\nimport { QueryNode } from '../operation-node/query-node.js';\nimport { freeze, isString, isNumber, isBoolean, isNull, isDate, isBigInt, } from '../util/object-utils.js';\nimport { CreateViewNode } from '../operation-node/create-view-node.js';\nimport { SetOperationNode } from '../operation-node/set-operation-node.js';\nimport { MergeQueryNode } from '../operation-node/merge-query-node.js';\nimport { logOnce } from '../util/log-once.js';\nconst LIT_WRAP_REGEX = /'/g;\nexport class DefaultQueryCompiler extends OperationNodeVisitor {\n    #sql = '';\n    #parameters = [];\n    get numParameters() {\n        return this.#parameters.length;\n    }\n    compileQuery(node, queryId) {\n        this.#sql = '';\n        this.#parameters = [];\n        this.nodeStack.splice(0, this.nodeStack.length);\n        this.visitNode(node);\n        return freeze({\n            query: node,\n            queryId,\n            sql: this.getSql(),\n            parameters: [...this.#parameters],\n        });\n    }\n    getSql() {\n        return this.#sql;\n    }\n    visitSelectQuery(node) {\n        const wrapInParens = this.parentNode !== undefined &&\n            !ParensNode.is(this.parentNode) &&\n            !InsertQueryNode.is(this.parentNode) &&\n            !CreateTableNode.is(this.parentNode) &&\n            !CreateViewNode.is(this.parentNode) &&\n            !SetOperationNode.is(this.parentNode);\n        if (this.parentNode === undefined && node.explain) {\n            this.visitNode(node.explain);\n            this.append(' ');\n        }\n        if (wrapInParens) {\n            this.append('(');\n        }\n        if (node.with) {\n            this.visitNode(node.with);\n            this.append(' ');\n        }\n        this.append('select');\n        if (node.distinctOn) {\n            this.append(' ');\n            this.compileDistinctOn(node.distinctOn);\n        }\n        if (node.frontModifiers?.length) {\n            this.append(' ');\n            this.compileList(node.frontModifiers, ' ');\n        }\n        if (node.top) {\n            this.append(' ');\n            this.visitNode(node.top);\n        }\n        if (node.selections) {\n            this.append(' ');\n            this.compileList(node.selections);\n        }\n        if (node.from) {\n            this.append(' ');\n            this.visitNode(node.from);\n        }\n        if (node.joins) {\n            this.append(' ');\n            this.compileList(node.joins, ' ');\n        }\n        if (node.where) {\n            this.append(' ');\n            this.visitNode(node.where);\n        }\n        if (node.groupBy) {\n            this.append(' ');\n            this.visitNode(node.groupBy);\n        }\n        if (node.having) {\n            this.append(' ');\n            this.visitNode(node.having);\n        }\n        if (node.setOperations) {\n            this.append(' ');\n            this.compileList(node.setOperations, ' ');\n        }\n        if (node.orderBy) {\n            this.append(' ');\n            this.visitNode(node.orderBy);\n        }\n        if (node.limit) {\n            this.append(' ');\n            this.visitNode(node.limit);\n        }\n        if (node.offset) {\n            this.append(' ');\n            this.visitNode(node.offset);\n        }\n        if (node.fetch) {\n            this.append(' ');\n            this.visitNode(node.fetch);\n        }\n        if (node.endModifiers?.length) {\n            this.append(' ');\n            this.compileList(this.sortSelectModifiers([...node.endModifiers]), ' ');\n        }\n        if (wrapInParens) {\n            this.append(')');\n        }\n    }\n    visitFrom(node) {\n        this.append('from ');\n        this.compileList(node.froms);\n    }\n    visitSelection(node) {\n        this.visitNode(node.selection);\n    }\n    visitColumn(node) {\n        this.visitNode(node.column);\n    }\n    compileDistinctOn(expressions) {\n        this.append('distinct on (');\n        this.compileList(expressions);\n        this.append(')');\n    }\n    compileList(nodes, separator = ', ') {\n        const lastIndex = nodes.length - 1;\n        for (let i = 0; i <= lastIndex; i++) {\n            this.visitNode(nodes[i]);\n            if (i < lastIndex) {\n                this.append(separator);\n            }\n        }\n    }\n    visitWhere(node) {\n        this.append('where ');\n        this.visitNode(node.where);\n    }\n    visitHaving(node) {\n        this.append('having ');\n        this.visitNode(node.having);\n    }\n    visitInsertQuery(node) {\n        const rootQueryNode = this.nodeStack.find(QueryNode.is);\n        const isSubQuery = rootQueryNode !== node;\n        if (!isSubQuery && node.explain) {\n            this.visitNode(node.explain);\n            this.append(' ');\n        }\n        if (isSubQuery && !MergeQueryNode.is(rootQueryNode)) {\n            this.append('(');\n        }\n        if (node.with) {\n            this.visitNode(node.with);\n            this.append(' ');\n        }\n        this.append(node.replace ? 'replace' : 'insert');\n        // TODO: remove in 0.29.\n        if (node.ignore) {\n            logOnce('`InsertQueryNode.ignore` is deprecated. Use `InsertQueryNode.orAction` instead.');\n            this.append(' ignore');\n        }\n        if (node.orAction) {\n            this.append(' ');\n            this.visitNode(node.orAction);\n        }\n        if (node.top) {\n            this.append(' ');\n            this.visitNode(node.top);\n        }\n        if (node.into) {\n            this.append(' into ');\n            this.visitNode(node.into);\n        }\n        if (node.columns) {\n            this.append(' (');\n            this.compileList(node.columns);\n            this.append(')');\n        }\n        if (node.output) {\n            this.append(' ');\n            this.visitNode(node.output);\n        }\n        if (node.values) {\n            this.append(' ');\n            this.visitNode(node.values);\n        }\n        if (node.defaultValues) {\n            this.append(' ');\n            this.append('default values');\n        }\n        if (node.onConflict) {\n            this.append(' ');\n            this.visitNode(node.onConflict);\n        }\n        if (node.onDuplicateKey) {\n            this.append(' ');\n            this.visitNode(node.onDuplicateKey);\n        }\n        if (node.returning) {\n            this.append(' ');\n            this.visitNode(node.returning);\n        }\n        if (isSubQuery && !MergeQueryNode.is(rootQueryNode)) {\n            this.append(')');\n        }\n        if (node.endModifiers?.length) {\n            this.append(' ');\n            this.compileList(node.endModifiers, ' ');\n        }\n    }\n    visitValues(node) {\n        this.append('values ');\n        this.compileList(node.values);\n    }\n    visitDeleteQuery(node) {\n        const isSubQuery = this.nodeStack.find(QueryNode.is) !== node;\n        if (!isSubQuery && node.explain) {\n            this.visitNode(node.explain);\n            this.append(' ');\n        }\n        if (isSubQuery) {\n            this.append('(');\n        }\n        if (node.with) {\n            this.visitNode(node.with);\n            this.append(' ');\n        }\n        this.append('delete ');\n        if (node.top) {\n            this.visitNode(node.top);\n            this.append(' ');\n        }\n        this.visitNode(node.from);\n        if (node.output) {\n            this.append(' ');\n            this.visitNode(node.output);\n        }\n        if (node.using) {\n            this.append(' ');\n            this.visitNode(node.using);\n        }\n        if (node.joins) {\n            this.append(' ');\n            this.compileList(node.joins, ' ');\n        }\n        if (node.where) {\n            this.append(' ');\n            this.visitNode(node.where);\n        }\n        if (node.orderBy) {\n            this.append(' ');\n            this.visitNode(node.orderBy);\n        }\n        if (node.limit) {\n            this.append(' ');\n            this.visitNode(node.limit);\n        }\n        if (node.returning) {\n            this.append(' ');\n            this.visitNode(node.returning);\n        }\n        if (isSubQuery) {\n            this.append(')');\n        }\n        if (node.endModifiers?.length) {\n            this.append(' ');\n            this.compileList(node.endModifiers, ' ');\n        }\n    }\n    visitReturning(node) {\n        this.append('returning ');\n        this.compileList(node.selections);\n    }\n    visitAlias(node) {\n        this.visitNode(node.node);\n        this.append(' as ');\n        this.visitNode(node.alias);\n    }\n    visitReference(node) {\n        if (node.table) {\n            this.visitNode(node.table);\n            this.append('.');\n        }\n        this.visitNode(node.column);\n    }\n    visitSelectAll(_) {\n        this.append('*');\n    }\n    visitIdentifier(node) {\n        this.append(this.getLeftIdentifierWrapper());\n        this.compileUnwrappedIdentifier(node);\n        this.append(this.getRightIdentifierWrapper());\n    }\n    compileUnwrappedIdentifier(node) {\n        if (!isString(node.name)) {\n            throw new Error('a non-string identifier was passed to compileUnwrappedIdentifier.');\n        }\n        this.append(this.sanitizeIdentifier(node.name));\n    }\n    visitAnd(node) {\n        this.visitNode(node.left);\n        this.append(' and ');\n        this.visitNode(node.right);\n    }\n    visitOr(node) {\n        this.visitNode(node.left);\n        this.append(' or ');\n        this.visitNode(node.right);\n    }\n    visitValue(node) {\n        if (node.immediate) {\n            this.appendImmediateValue(node.value);\n        }\n        else {\n            this.appendValue(node.value);\n        }\n    }\n    visitValueList(node) {\n        this.append('(');\n        this.compileList(node.values);\n        this.append(')');\n    }\n    visitTuple(node) {\n        this.append('(');\n        this.compileList(node.values);\n        this.append(')');\n    }\n    visitPrimitiveValueList(node) {\n        this.append('(');\n        const { values } = node;\n        for (let i = 0; i < values.length; ++i) {\n            this.appendValue(values[i]);\n            if (i !== values.length - 1) {\n                this.append(', ');\n            }\n        }\n        this.append(')');\n    }\n    visitParens(node) {\n        this.append('(');\n        this.visitNode(node.node);\n        this.append(')');\n    }\n    visitJoin(node) {\n        this.append(JOIN_TYPE_SQL[node.joinType]);\n        this.append(' ');\n        this.visitNode(node.table);\n        if (node.on) {\n            this.append(' ');\n            this.visitNode(node.on);\n        }\n    }\n    visitOn(node) {\n        this.append('on ');\n        this.visitNode(node.on);\n    }\n    visitRaw(node) {\n        const { sqlFragments, parameters: params } = node;\n        for (let i = 0; i < sqlFragments.length; ++i) {\n            this.append(sqlFragments[i]);\n            if (params.length > i) {\n                this.visitNode(params[i]);\n            }\n        }\n    }\n    visitOperator(node) {\n        this.append(node.operator);\n    }\n    visitTable(node) {\n        this.visitNode(node.table);\n    }\n    visitSchemableIdentifier(node) {\n        if (node.schema) {\n            this.visitNode(node.schema);\n            this.append('.');\n        }\n        this.visitNode(node.identifier);\n    }\n    visitCreateTable(node) {\n        this.append('create ');\n        if (node.frontModifiers && node.frontModifiers.length > 0) {\n            this.compileList(node.frontModifiers, ' ');\n            this.append(' ');\n        }\n        if (node.temporary) {\n            this.append('temporary ');\n        }\n        this.append('table ');\n        if (node.ifNotExists) {\n            this.append('if not exists ');\n        }\n        this.visitNode(node.table);\n        if (node.selectQuery) {\n            this.append(' as ');\n            this.visitNode(node.selectQuery);\n        }\n        else {\n            this.append(' (');\n            this.compileList([...node.columns, ...(node.constraints ?? [])]);\n            this.append(')');\n            if (node.onCommit) {\n                this.append(' on commit ');\n                this.append(node.onCommit);\n            }\n            if (node.endModifiers && node.endModifiers.length > 0) {\n                this.append(' ');\n                this.compileList(node.endModifiers, ' ');\n            }\n        }\n    }\n    visitColumnDefinition(node) {\n        if (node.ifNotExists) {\n            this.append('if not exists ');\n        }\n        this.visitNode(node.column);\n        this.append(' ');\n        this.visitNode(node.dataType);\n        if (node.unsigned) {\n            this.append(' unsigned');\n        }\n        if (node.frontModifiers && node.frontModifiers.length > 0) {\n            this.append(' ');\n            this.compileList(node.frontModifiers, ' ');\n        }\n        if (node.generated) {\n            this.append(' ');\n            this.visitNode(node.generated);\n        }\n        if (node.identity) {\n            this.append(' identity');\n        }\n        if (node.defaultTo) {\n            this.append(' ');\n            this.visitNode(node.defaultTo);\n        }\n        if (node.notNull) {\n            this.append(' not null');\n        }\n        if (node.unique) {\n            this.append(' unique');\n        }\n        if (node.nullsNotDistinct) {\n            this.append(' nulls not distinct');\n        }\n        if (node.primaryKey) {\n            this.append(' primary key');\n        }\n        if (node.autoIncrement) {\n            this.append(' ');\n            this.append(this.getAutoIncrement());\n        }\n        if (node.references) {\n            this.append(' ');\n            this.visitNode(node.references);\n        }\n        if (node.check) {\n            this.append(' ');\n            this.visitNode(node.check);\n        }\n        if (node.endModifiers && node.endModifiers.length > 0) {\n            this.append(' ');\n            this.compileList(node.endModifiers, ' ');\n        }\n    }\n    getAutoIncrement() {\n        return 'auto_increment';\n    }\n    visitReferences(node) {\n        this.append('references ');\n        this.visitNode(node.table);\n        this.append(' (');\n        this.compileList(node.columns);\n        this.append(')');\n        if (node.onDelete) {\n            this.append(' on delete ');\n            this.append(node.onDelete);\n        }\n        if (node.onUpdate) {\n            this.append(' on update ');\n            this.append(node.onUpdate);\n        }\n    }\n    visitDropTable(node) {\n        this.append('drop table ');\n        if (node.ifExists) {\n            this.append('if exists ');\n        }\n        this.visitNode(node.table);\n        if (node.cascade) {\n            this.append(' cascade');\n        }\n    }\n    visitDataType(node) {\n        this.append(node.dataType);\n    }\n    visitOrderBy(node) {\n        this.append('order by ');\n        this.compileList(node.items);\n    }\n    visitOrderByItem(node) {\n        this.visitNode(node.orderBy);\n        if (node.collation) {\n            this.append(' ');\n            this.visitNode(node.collation);\n        }\n        if (node.direction) {\n            this.append(' ');\n            this.visitNode(node.direction);\n        }\n        if (node.nulls) {\n            this.append(' nulls ');\n            this.append(node.nulls);\n        }\n    }\n    visitGroupBy(node) {\n        this.append('group by ');\n        this.compileList(node.items);\n    }\n    visitGroupByItem(node) {\n        this.visitNode(node.groupBy);\n    }\n    visitUpdateQuery(node) {\n        const rootQueryNode = this.nodeStack.find(QueryNode.is);\n        const isSubQuery = rootQueryNode !== node;\n        if (!isSubQuery && node.explain) {\n            this.visitNode(node.explain);\n            this.append(' ');\n        }\n        if (isSubQuery && !MergeQueryNode.is(rootQueryNode)) {\n            this.append('(');\n        }\n        if (node.with) {\n            this.visitNode(node.with);\n            this.append(' ');\n        }\n        this.append('update ');\n        if (node.top) {\n            this.visitNode(node.top);\n            this.append(' ');\n        }\n        if (node.table) {\n            this.visitNode(node.table);\n            this.append(' ');\n        }\n        this.append('set ');\n        if (node.updates) {\n            this.compileList(node.updates);\n        }\n        if (node.output) {\n            this.append(' ');\n            this.visitNode(node.output);\n        }\n        if (node.from) {\n            this.append(' ');\n            this.visitNode(node.from);\n        }\n        if (node.joins) {\n            if (!node.from) {\n                throw new Error(\"Joins in an update query are only supported as a part of a PostgreSQL 'update set from join' query. If you want to create a MySQL 'update join set' query, see https://kysely.dev/docs/examples/update/my-sql-joins\");\n            }\n            this.append(' ');\n            this.compileList(node.joins, ' ');\n        }\n        if (node.where) {\n            this.append(' ');\n            this.visitNode(node.where);\n        }\n        if (node.orderBy) {\n            this.append(' ');\n            this.visitNode(node.orderBy);\n        }\n        if (node.limit) {\n            this.append(' ');\n            this.visitNode(node.limit);\n        }\n        if (node.returning) {\n            this.append(' ');\n            this.visitNode(node.returning);\n        }\n        if (isSubQuery && !MergeQueryNode.is(rootQueryNode)) {\n            this.append(')');\n        }\n        if (node.endModifiers?.length) {\n            this.append(' ');\n            this.compileList(node.endModifiers, ' ');\n        }\n    }\n    visitColumnUpdate(node) {\n        this.visitNode(node.column);\n        this.append(' = ');\n        this.visitNode(node.value);\n    }\n    visitLimit(node) {\n        this.append('limit ');\n        this.visitNode(node.limit);\n    }\n    visitOffset(node) {\n        this.append('offset ');\n        this.visitNode(node.offset);\n    }\n    visitOnConflict(node) {\n        this.append('on conflict');\n        if (node.columns) {\n            this.append(' (');\n            this.compileList(node.columns);\n            this.append(')');\n        }\n        else if (node.constraint) {\n            this.append(' on constraint ');\n            this.visitNode(node.constraint);\n        }\n        else if (node.indexExpression) {\n            this.append(' (');\n            this.visitNode(node.indexExpression);\n            this.append(')');\n        }\n        if (node.indexWhere) {\n            this.append(' ');\n            this.visitNode(node.indexWhere);\n        }\n        if (node.doNothing === true) {\n            this.append(' do nothing');\n        }\n        else if (node.updates) {\n            this.append(' do update set ');\n            this.compileList(node.updates);\n            if (node.updateWhere) {\n                this.append(' ');\n                this.visitNode(node.updateWhere);\n            }\n        }\n    }\n    visitOnDuplicateKey(node) {\n        this.append('on duplicate key update ');\n        this.compileList(node.updates);\n    }\n    visitCreateIndex(node) {\n        this.append('create ');\n        if (node.unique) {\n            this.append('unique ');\n        }\n        this.append('index ');\n        if (node.ifNotExists) {\n            this.append('if not exists ');\n        }\n        this.visitNode(node.name);\n        if (node.table) {\n            this.append(' on ');\n            this.visitNode(node.table);\n        }\n        if (node.using) {\n            this.append(' using ');\n            this.visitNode(node.using);\n        }\n        if (node.columns) {\n            this.append(' (');\n            this.compileList(node.columns);\n            this.append(')');\n        }\n        if (node.nullsNotDistinct) {\n            this.append(' nulls not distinct');\n        }\n        if (node.where) {\n            this.append(' ');\n            this.visitNode(node.where);\n        }\n    }\n    visitDropIndex(node) {\n        this.append('drop index ');\n        if (node.ifExists) {\n            this.append('if exists ');\n        }\n        this.visitNode(node.name);\n        if (node.table) {\n            this.append(' on ');\n            this.visitNode(node.table);\n        }\n        if (node.cascade) {\n            this.append(' cascade');\n        }\n    }\n    visitCreateSchema(node) {\n        this.append('create schema ');\n        if (node.ifNotExists) {\n            this.append('if not exists ');\n        }\n        this.visitNode(node.schema);\n    }\n    visitDropSchema(node) {\n        this.append('drop schema ');\n        if (node.ifExists) {\n            this.append('if exists ');\n        }\n        this.visitNode(node.schema);\n        if (node.cascade) {\n            this.append(' cascade');\n        }\n    }\n    visitPrimaryKeyConstraint(node) {\n        if (node.name) {\n            this.append('constraint ');\n            this.visitNode(node.name);\n            this.append(' ');\n        }\n        this.append('primary key (');\n        this.compileList(node.columns);\n        this.append(')');\n        this.buildDeferrable(node);\n    }\n    buildDeferrable(node) {\n        if (node.deferrable !== undefined) {\n            if (node.deferrable) {\n                this.append(' deferrable');\n            }\n            else {\n                this.append(' not deferrable');\n            }\n        }\n        if (node.initiallyDeferred !== undefined) {\n            if (node.initiallyDeferred) {\n                this.append(' initially deferred');\n            }\n            else {\n                this.append(' initially immediate');\n            }\n        }\n    }\n    visitUniqueConstraint(node) {\n        if (node.name) {\n            this.append('constraint ');\n            this.visitNode(node.name);\n            this.append(' ');\n        }\n        this.append('unique');\n        if (node.nullsNotDistinct) {\n            this.append(' nulls not distinct');\n        }\n        this.append(' (');\n        this.compileList(node.columns);\n        this.append(')');\n        this.buildDeferrable(node);\n    }\n    visitCheckConstraint(node) {\n        if (node.name) {\n            this.append('constraint ');\n            this.visitNode(node.name);\n            this.append(' ');\n        }\n        this.append('check (');\n        this.visitNode(node.expression);\n        this.append(')');\n    }\n    visitForeignKeyConstraint(node) {\n        if (node.name) {\n            this.append('constraint ');\n            this.visitNode(node.name);\n            this.append(' ');\n        }\n        this.append('foreign key (');\n        this.compileList(node.columns);\n        this.append(') ');\n        this.visitNode(node.references);\n        if (node.onDelete) {\n            this.append(' on delete ');\n            this.append(node.onDelete);\n        }\n        if (node.onUpdate) {\n            this.append(' on update ');\n            this.append(node.onUpdate);\n        }\n        this.buildDeferrable(node);\n    }\n    visitList(node) {\n        this.compileList(node.items);\n    }\n    visitWith(node) {\n        this.append('with ');\n        if (node.recursive) {\n            this.append('recursive ');\n        }\n        this.compileList(node.expressions);\n    }\n    visitCommonTableExpression(node) {\n        this.visitNode(node.name);\n        this.append(' as ');\n        if (isBoolean(node.materialized)) {\n            if (!node.materialized) {\n                this.append('not ');\n            }\n            this.append('materialized ');\n        }\n        this.visitNode(node.expression);\n    }\n    visitCommonTableExpressionName(node) {\n        this.visitNode(node.table);\n        if (node.columns) {\n            this.append('(');\n            this.compileList(node.columns);\n            this.append(')');\n        }\n    }\n    visitAlterTable(node) {\n        this.append('alter table ');\n        this.visitNode(node.table);\n        this.append(' ');\n        if (node.renameTo) {\n            this.append('rename to ');\n            this.visitNode(node.renameTo);\n        }\n        if (node.setSchema) {\n            this.append('set schema ');\n            this.visitNode(node.setSchema);\n        }\n        if (node.addConstraint) {\n            this.visitNode(node.addConstraint);\n        }\n        if (node.dropConstraint) {\n            this.visitNode(node.dropConstraint);\n        }\n        if (node.renameConstraint) {\n            this.visitNode(node.renameConstraint);\n        }\n        if (node.columnAlterations) {\n            this.compileColumnAlterations(node.columnAlterations);\n        }\n        if (node.addIndex) {\n            this.visitNode(node.addIndex);\n        }\n        if (node.dropIndex) {\n            this.visitNode(node.dropIndex);\n        }\n    }\n    visitAddColumn(node) {\n        this.append('add column ');\n        this.visitNode(node.column);\n    }\n    visitRenameColumn(node) {\n        this.append('rename column ');\n        this.visitNode(node.column);\n        this.append(' to ');\n        this.visitNode(node.renameTo);\n    }\n    visitDropColumn(node) {\n        this.append('drop column ');\n        this.visitNode(node.column);\n    }\n    visitAlterColumn(node) {\n        this.append('alter column ');\n        this.visitNode(node.column);\n        this.append(' ');\n        if (node.dataType) {\n            if (this.announcesNewColumnDataType()) {\n                this.append('type ');\n            }\n            this.visitNode(node.dataType);\n            if (node.dataTypeExpression) {\n                this.append('using ');\n                this.visitNode(node.dataTypeExpression);\n            }\n        }\n        if (node.setDefault) {\n            this.append('set default ');\n            this.visitNode(node.setDefault);\n        }\n        if (node.dropDefault) {\n            this.append('drop default');\n        }\n        if (node.setNotNull) {\n            this.append('set not null');\n        }\n        if (node.dropNotNull) {\n            this.append('drop not null');\n        }\n    }\n    visitModifyColumn(node) {\n        this.append('modify column ');\n        this.visitNode(node.column);\n    }\n    visitAddConstraint(node) {\n        this.append('add ');\n        this.visitNode(node.constraint);\n    }\n    visitDropConstraint(node) {\n        this.append('drop constraint ');\n        if (node.ifExists) {\n            this.append('if exists ');\n        }\n        this.visitNode(node.constraintName);\n        if (node.modifier === 'cascade') {\n            this.append(' cascade');\n        }\n        else if (node.modifier === 'restrict') {\n            this.append(' restrict');\n        }\n    }\n    visitRenameConstraint(node) {\n        this.append('rename constraint ');\n        this.visitNode(node.oldName);\n        this.append(' to ');\n        this.visitNode(node.newName);\n    }\n    visitSetOperation(node) {\n        this.append(node.operator);\n        this.append(' ');\n        if (node.all) {\n            this.append('all ');\n        }\n        this.visitNode(node.expression);\n    }\n    visitCreateView(node) {\n        this.append('create ');\n        if (node.orReplace) {\n            this.append('or replace ');\n        }\n        if (node.materialized) {\n            this.append('materialized ');\n        }\n        if (node.temporary) {\n            this.append('temporary ');\n        }\n        this.append('view ');\n        if (node.ifNotExists) {\n            this.append('if not exists ');\n        }\n        this.visitNode(node.name);\n        this.append(' ');\n        if (node.columns) {\n            this.append('(');\n            this.compileList(node.columns);\n            this.append(') ');\n        }\n        if (node.as) {\n            this.append('as ');\n            this.visitNode(node.as);\n        }\n    }\n    visitRefreshMaterializedView(node) {\n        this.append('refresh materialized view ');\n        if (node.concurrently) {\n            this.append('concurrently ');\n        }\n        this.visitNode(node.name);\n        if (node.withNoData) {\n            this.append(' with no data');\n        }\n        else {\n            this.append(' with data');\n        }\n    }\n    visitDropView(node) {\n        this.append('drop ');\n        if (node.materialized) {\n            this.append('materialized ');\n        }\n        this.append('view ');\n        if (node.ifExists) {\n            this.append('if exists ');\n        }\n        this.visitNode(node.name);\n        if (node.cascade) {\n            this.append(' cascade');\n        }\n    }\n    visitGenerated(node) {\n        this.append('generated ');\n        if (node.always) {\n            this.append('always ');\n        }\n        if (node.byDefault) {\n            this.append('by default ');\n        }\n        this.append('as ');\n        if (node.identity) {\n            this.append('identity');\n        }\n        if (node.expression) {\n            this.append('(');\n            this.visitNode(node.expression);\n            this.append(')');\n        }\n        if (node.stored) {\n            this.append(' stored');\n        }\n    }\n    visitDefaultValue(node) {\n        this.append('default ');\n        this.visitNode(node.defaultValue);\n    }\n    visitSelectModifier(node) {\n        if (node.rawModifier) {\n            this.visitNode(node.rawModifier);\n        }\n        else {\n            this.append(SELECT_MODIFIER_SQL[node.modifier]);\n        }\n        if (node.of) {\n            this.append(' of ');\n            this.compileList(node.of, ', ');\n        }\n    }\n    visitCreateType(node) {\n        this.append('create type ');\n        this.visitNode(node.name);\n        if (node.enum) {\n            this.append(' as enum ');\n            this.visitNode(node.enum);\n        }\n    }\n    visitDropType(node) {\n        this.append('drop type ');\n        if (node.ifExists) {\n            this.append('if exists ');\n        }\n        this.visitNode(node.name);\n    }\n    visitExplain(node) {\n        this.append('explain');\n        if (node.options || node.format) {\n            this.append(' ');\n            this.append(this.getLeftExplainOptionsWrapper());\n            if (node.options) {\n                this.visitNode(node.options);\n                if (node.format) {\n                    this.append(this.getExplainOptionsDelimiter());\n                }\n            }\n            if (node.format) {\n                this.append('format');\n                this.append(this.getExplainOptionAssignment());\n                this.append(node.format);\n            }\n            this.append(this.getRightExplainOptionsWrapper());\n        }\n    }\n    visitDefaultInsertValue(_) {\n        this.append('default');\n    }\n    visitAggregateFunction(node) {\n        this.append(node.func);\n        this.append('(');\n        if (node.distinct) {\n            this.append('distinct ');\n        }\n        this.compileList(node.aggregated);\n        if (node.orderBy) {\n            this.append(' ');\n            this.visitNode(node.orderBy);\n        }\n        this.append(')');\n        if (node.withinGroup) {\n            this.append(' within group (');\n            this.visitNode(node.withinGroup);\n            this.append(')');\n        }\n        if (node.filter) {\n            this.append(' filter(');\n            this.visitNode(node.filter);\n            this.append(')');\n        }\n        if (node.over) {\n            this.append(' ');\n            this.visitNode(node.over);\n        }\n    }\n    visitOver(node) {\n        this.append('over(');\n        if (node.partitionBy) {\n            this.visitNode(node.partitionBy);\n            if (node.orderBy) {\n                this.append(' ');\n            }\n        }\n        if (node.orderBy) {\n            this.visitNode(node.orderBy);\n        }\n        this.append(')');\n    }\n    visitPartitionBy(node) {\n        this.append('partition by ');\n        this.compileList(node.items);\n    }\n    visitPartitionByItem(node) {\n        this.visitNode(node.partitionBy);\n    }\n    visitBinaryOperation(node) {\n        this.visitNode(node.leftOperand);\n        this.append(' ');\n        this.visitNode(node.operator);\n        this.append(' ');\n        this.visitNode(node.rightOperand);\n    }\n    visitUnaryOperation(node) {\n        this.visitNode(node.operator);\n        if (!this.isMinusOperator(node.operator)) {\n            this.append(' ');\n        }\n        this.visitNode(node.operand);\n    }\n    isMinusOperator(node) {\n        return OperatorNode.is(node) && node.operator === '-';\n    }\n    visitUsing(node) {\n        this.append('using ');\n        this.compileList(node.tables);\n    }\n    visitFunction(node) {\n        this.append(node.func);\n        this.append('(');\n        this.compileList(node.arguments);\n        this.append(')');\n    }\n    visitCase(node) {\n        this.append('case');\n        if (node.value) {\n            this.append(' ');\n            this.visitNode(node.value);\n        }\n        if (node.when) {\n            this.append(' ');\n            this.compileList(node.when, ' ');\n        }\n        if (node.else) {\n            this.append(' else ');\n            this.visitNode(node.else);\n        }\n        this.append(' end');\n        if (node.isStatement) {\n            this.append(' case');\n        }\n    }\n    visitWhen(node) {\n        this.append('when ');\n        this.visitNode(node.condition);\n        if (node.result) {\n            this.append(' then ');\n            this.visitNode(node.result);\n        }\n    }\n    visitJSONReference(node) {\n        this.visitNode(node.reference);\n        this.visitNode(node.traversal);\n    }\n    visitJSONPath(node) {\n        if (node.inOperator) {\n            this.visitNode(node.inOperator);\n        }\n        this.append(\"'$\");\n        for (const pathLeg of node.pathLegs) {\n            this.visitNode(pathLeg);\n        }\n        this.append(\"'\");\n    }\n    visitJSONPathLeg(node) {\n        const isArrayLocation = node.type === 'ArrayLocation';\n        this.append(isArrayLocation ? '[' : '.');\n        this.append(String(node.value));\n        if (isArrayLocation) {\n            this.append(']');\n        }\n    }\n    visitJSONOperatorChain(node) {\n        for (let i = 0, len = node.values.length; i < len; i++) {\n            if (i === len - 1) {\n                this.visitNode(node.operator);\n            }\n            else {\n                this.append('->');\n            }\n            this.visitNode(node.values[i]);\n        }\n    }\n    visitMergeQuery(node) {\n        if (node.with) {\n            this.visitNode(node.with);\n            this.append(' ');\n        }\n        this.append('merge ');\n        if (node.top) {\n            this.visitNode(node.top);\n            this.append(' ');\n        }\n        this.append('into ');\n        this.visitNode(node.into);\n        if (node.using) {\n            this.append(' ');\n            this.visitNode(node.using);\n        }\n        if (node.whens) {\n            this.append(' ');\n            this.compileList(node.whens, ' ');\n        }\n        if (node.returning) {\n            this.append(' ');\n            this.visitNode(node.returning);\n        }\n        if (node.output) {\n            this.append(' ');\n            this.visitNode(node.output);\n        }\n        if (node.endModifiers?.length) {\n            this.append(' ');\n            this.compileList(node.endModifiers, ' ');\n        }\n    }\n    visitMatched(node) {\n        if (node.not) {\n            this.append('not ');\n        }\n        this.append('matched');\n        if (node.bySource) {\n            this.append(' by source');\n        }\n    }\n    visitAddIndex(node) {\n        this.append('add ');\n        if (node.unique) {\n            this.append('unique ');\n        }\n        this.append('index ');\n        this.visitNode(node.name);\n        if (node.columns) {\n            this.append(' (');\n            this.compileList(node.columns);\n            this.append(')');\n        }\n        if (node.using) {\n            this.append(' using ');\n            this.visitNode(node.using);\n        }\n    }\n    visitCast(node) {\n        this.append('cast(');\n        this.visitNode(node.expression);\n        this.append(' as ');\n        this.visitNode(node.dataType);\n        this.append(')');\n    }\n    visitFetch(node) {\n        this.append('fetch next ');\n        this.visitNode(node.rowCount);\n        this.append(` rows ${node.modifier}`);\n    }\n    visitOutput(node) {\n        this.append('output ');\n        this.compileList(node.selections);\n    }\n    visitTop(node) {\n        this.append(`top(${node.expression})`);\n        if (node.modifiers) {\n            this.append(` ${node.modifiers}`);\n        }\n    }\n    visitOrAction(node) {\n        this.append(node.action);\n    }\n    visitCollate(node) {\n        this.append('collate ');\n        this.visitNode(node.collation);\n    }\n    append(str) {\n        this.#sql += str;\n    }\n    appendValue(parameter) {\n        this.addParameter(parameter);\n        this.append(this.getCurrentParameterPlaceholder());\n    }\n    getLeftIdentifierWrapper() {\n        return '\"';\n    }\n    getRightIdentifierWrapper() {\n        return '\"';\n    }\n    getCurrentParameterPlaceholder() {\n        return '$' + this.numParameters;\n    }\n    getLeftExplainOptionsWrapper() {\n        return '(';\n    }\n    getExplainOptionAssignment() {\n        return ' ';\n    }\n    getExplainOptionsDelimiter() {\n        return ', ';\n    }\n    getRightExplainOptionsWrapper() {\n        return ')';\n    }\n    sanitizeIdentifier(identifier) {\n        const leftWrap = this.getLeftIdentifierWrapper();\n        const rightWrap = this.getRightIdentifierWrapper();\n        let sanitized = '';\n        for (const c of identifier) {\n            sanitized += c;\n            if (c === leftWrap) {\n                sanitized += leftWrap;\n            }\n            else if (c === rightWrap) {\n                sanitized += rightWrap;\n            }\n        }\n        return sanitized;\n    }\n    sanitizeStringLiteral(value) {\n        return value.replace(LIT_WRAP_REGEX, \"''\");\n    }\n    addParameter(parameter) {\n        this.#parameters.push(parameter);\n    }\n    appendImmediateValue(value) {\n        if (isString(value)) {\n            this.appendStringLiteral(value);\n        }\n        else if (isNumber(value) || isBoolean(value) || isBigInt(value)) {\n            this.append(value.toString());\n        }\n        else if (isNull(value)) {\n            this.append('null');\n        }\n        else if (isDate(value)) {\n            this.appendImmediateValue(value.toISOString());\n        }\n        else {\n            throw new Error(`invalid immediate value ${value}`);\n        }\n    }\n    appendStringLiteral(value) {\n        this.append(\"'\");\n        this.append(this.sanitizeStringLiteral(value));\n        this.append(\"'\");\n    }\n    sortSelectModifiers(arr) {\n        arr.sort((left, right) => left.modifier && right.modifier\n            ? SELECT_MODIFIER_PRIORITY[left.modifier] -\n                SELECT_MODIFIER_PRIORITY[right.modifier]\n            : 1);\n        return freeze(arr);\n    }\n    compileColumnAlterations(columnAlterations) {\n        this.compileList(columnAlterations);\n    }\n    /**\n     * controls whether the dialect adds a \"type\" keyword before a column's new data\n     * type in an ALTER TABLE statement.\n     */\n    announcesNewColumnDataType() {\n        return true;\n    }\n}\nconst SELECT_MODIFIER_SQL = freeze({\n    ForKeyShare: 'for key share',\n    ForNoKeyUpdate: 'for no key update',\n    ForUpdate: 'for update',\n    ForShare: 'for share',\n    NoWait: 'nowait',\n    SkipLocked: 'skip locked',\n    Distinct: 'distinct',\n});\nconst SELECT_MODIFIER_PRIORITY = freeze({\n    ForKeyShare: 1,\n    ForNoKeyUpdate: 1,\n    ForUpdate: 1,\n    ForShare: 1,\n    NoWait: 2,\n    SkipLocked: 2,\n    Distinct: 0,\n});\nconst JOIN_TYPE_SQL = freeze({\n    InnerJoin: 'inner join',\n    LeftJoin: 'left join',\n    RightJoin: 'right join',\n    FullJoin: 'full join',\n    CrossJoin: 'cross join',\n    LateralInnerJoin: 'inner join lateral',\n    LateralLeftJoin: 'left join lateral',\n    LateralCrossJoin: 'cross join lateral',\n    OuterApply: 'outer apply',\n    CrossApply: 'cross apply',\n    Using: 'using',\n});\n", "/// <reference types=\"./compiled-query.d.ts\" />\nimport { RawNode } from '../operation-node/raw-node.js';\nimport { freeze } from '../util/object-utils.js';\nimport { createQueryId } from '../util/query-id.js';\nexport const CompiledQuery = freeze({\n    raw(sql, parameters = []) {\n        return freeze({\n            sql,\n            query: RawNode.createWithSql(sql),\n            parameters: freeze(parameters),\n            queryId: createQueryId(),\n        });\n    },\n});\n", "/// <reference types=\"./database-connection.d.ts\" />\nexport {};\n", "/// <reference types=\"./connection-provider.d.ts\" />\nexport {};\n", "/// <reference types=\"./dummy-driver.d.ts\" />\n/**\n * A driver that does absolutely nothing.\n *\n * You can use this to create Kysely instances solely for building queries\n *\n * ### Examples\n *\n * This example creates a Kysely instance for building postgres queries:\n *\n * ```ts\n * import {\n *   DummyDriver,\n *   Kysely,\n *   PostgresAdapter,\n *   PostgresIntrospector,\n *   PostgresQueryCompiler\n * } from 'kysely'\n * import type { Database } from 'type-editor' // imaginary module\n *\n * const db = new Kysely<Database>({\n *   dialect: {\n *     createAdapter: () => new PostgresAdapter(),\n *     createDriver: () => new DummyDriver(),\n *     createIntrospector: (db: Kysely<any>) => new PostgresIntrospector(db),\n *     createQueryCompiler: () => new PostgresQueryCompiler(),\n *   },\n * })\n * ```\n *\n * You can use it to build a query and compile it to SQL but trying to\n * execute the query will throw an error.\n *\n * ```ts\n * const { sql } = db.selectFrom('person').selectAll().compile()\n * console.log(sql) // select * from \"person\"\n * ```\n */\nexport class DummyDriver {\n    async init() {\n        // Nothing to do here.\n    }\n    async acquireConnection() {\n        return new DummyConnection();\n    }\n    async beginTransaction() {\n        // Nothing to do here.\n    }\n    async commitTransaction() {\n        // Nothing to do here.\n    }\n    async rollbackTransaction() {\n        // Nothing to do here.\n    }\n    async releaseConnection() {\n        // Nothing to do here.\n    }\n    async destroy() {\n        // Nothing to do here.\n    }\n    async releaseSavepoint() {\n        // Nothing to do here.\n    }\n    async rollbackToSavepoint() {\n        // Nothing to do here.\n    }\n    async savepoint() {\n        // Nothing to do here.\n    }\n}\nclass DummyConnection {\n    async executeQuery() {\n        return {\n            rows: [],\n        };\n    }\n    async *streamQuery() {\n        // Nothing to do here.\n    }\n}\n", "/// <reference types=\"./dialect.d.ts\" />\nexport {};\n", "/// <reference types=\"./dialect-adapter.d.ts\" />\nexport {};\n", "/// <reference types=\"./dialect-adapter-base.d.ts\" />\n/**\n * A basic implementation of `DialectAdapter` with sensible default values.\n * Third-party dialects can extend this instead of implementing the `DialectAdapter`\n * interface from scratch. That way all new settings will get default values when\n * they are added and there will be less breaking changes.\n */\nexport class DialectAdapterBase {\n    get supportsCreateIfNotExists() {\n        return true;\n    }\n    get supportsTransactionalDdl() {\n        return false;\n    }\n    get supportsReturning() {\n        return false;\n    }\n    get supportsOutput() {\n        return false;\n    }\n}\n", "/// <reference types=\"./database-introspector.d.ts\" />\nexport {};\n", "/// <reference types=\"./savepoint-parser.d.ts\" />\nimport { IdentifierNode } from '../operation-node/identifier-node.js';\nimport { RawNode } from '../operation-node/raw-node.js';\nexport function parseSavepointCommand(command, savepointName) {\n    return RawNode.createWithChildren([\n        RawNode.createWithSql(`${command} `),\n        IdentifierNode.create(savepointName), // ensures savepointName gets sanitized\n    ]);\n}\n", "/// <reference types=\"./sqlite-driver.d.ts\" />\nimport { SelectQueryNode } from '../../operation-node/select-query-node.js';\nimport { parseSavepointCommand } from '../../parser/savepoint-parser.js';\nimport { CompiledQuery } from '../../query-compiler/compiled-query.js';\nimport { freeze, isFunction } from '../../util/object-utils.js';\nimport { createQueryId } from '../../util/query-id.js';\nexport class SqliteDriver {\n    #config;\n    #connectionMutex = new ConnectionMutex();\n    #db;\n    #connection;\n    constructor(config) {\n        this.#config = freeze({ ...config });\n    }\n    async init() {\n        this.#db = isFunction(this.#config.database)\n            ? await this.#config.database()\n            : this.#config.database;\n        this.#connection = new SqliteConnection(this.#db);\n        if (this.#config.onCreateConnection) {\n            await this.#config.onCreateConnection(this.#connection);\n        }\n    }\n    async acquireConnection() {\n        // SQLite only has one single connection. We use a mutex here to wait\n        // until the single connection has been released.\n        await this.#connectionMutex.lock();\n        return this.#connection;\n    }\n    async beginTransaction(connection) {\n        await connection.executeQuery(CompiledQuery.raw('begin'));\n    }\n    async commitTransaction(connection) {\n        await connection.executeQuery(CompiledQuery.raw('commit'));\n    }\n    async rollbackTransaction(connection) {\n        await connection.executeQuery(CompiledQuery.raw('rollback'));\n    }\n    async savepoint(connection, savepointName, compileQuery) {\n        await connection.executeQuery(compileQuery(parseSavepointCommand('savepoint', savepointName), createQueryId()));\n    }\n    async rollbackToSavepoint(connection, savepointName, compileQuery) {\n        await connection.executeQuery(compileQuery(parseSavepointCommand('rollback to', savepointName), createQueryId()));\n    }\n    async releaseSavepoint(connection, savepointName, compileQuery) {\n        await connection.executeQuery(compileQuery(parseSavepointCommand('release', savepointName), createQueryId()));\n    }\n    async releaseConnection() {\n        this.#connectionMutex.unlock();\n    }\n    async destroy() {\n        this.#db?.close();\n    }\n}\nclass SqliteConnection {\n    #db;\n    constructor(db) {\n        this.#db = db;\n    }\n    executeQuery(compiledQuery) {\n        const { sql, parameters } = compiledQuery;\n        const stmt = this.#db.prepare(sql);\n        if (stmt.reader) {\n            return Promise.resolve({\n                rows: stmt.all(parameters),\n            });\n        }\n        const { changes, lastInsertRowid } = stmt.run(parameters);\n        return Promise.resolve({\n            numAffectedRows: changes !== undefined && changes !== null ? BigInt(changes) : undefined,\n            insertId: lastInsertRowid !== undefined && lastInsertRowid !== null\n                ? BigInt(lastInsertRowid)\n                : undefined,\n            rows: [],\n        });\n    }\n    async *streamQuery(compiledQuery, _chunkSize) {\n        const { sql, parameters, query } = compiledQuery;\n        const stmt = this.#db.prepare(sql);\n        if (SelectQueryNode.is(query)) {\n            const iter = stmt.iterate(parameters);\n            for (const row of iter) {\n                yield {\n                    rows: [row],\n                };\n            }\n        }\n        else {\n            throw new Error('Sqlite driver only supports streaming of select queries');\n        }\n    }\n}\nclass ConnectionMutex {\n    #promise;\n    #resolve;\n    async lock() {\n        while (this.#promise) {\n            await this.#promise;\n        }\n        this.#promise = new Promise((resolve) => {\n            this.#resolve = resolve;\n        });\n    }\n    unlock() {\n        const resolve = this.#resolve;\n        this.#promise = undefined;\n        this.#resolve = undefined;\n        resolve?.();\n    }\n}\n", "/// <reference types=\"./sqlite-query-compiler.d.ts\" />\nimport { DefaultQueryCompiler } from '../../query-compiler/default-query-compiler.js';\nconst ID_WRAP_REGEX = /\"/g;\nexport class SqliteQueryCompiler extends DefaultQueryCompiler {\n    visitOrAction(node) {\n        this.append('or ');\n        this.append(node.action);\n    }\n    getCurrentParameterPlaceholder() {\n        return '?';\n    }\n    getLeftExplainOptionsWrapper() {\n        return '';\n    }\n    getRightExplainOptionsWrapper() {\n        return '';\n    }\n    getLeftIdentifierWrapper() {\n        return '\"';\n    }\n    getRightIdentifierWrapper() {\n        return '\"';\n    }\n    getAutoIncrement() {\n        return 'autoincrement';\n    }\n    sanitizeIdentifier(identifier) {\n        return identifier.replace(ID_WRAP_REGEX, '\"\"');\n    }\n    visitDefaultInsertValue(_) {\n        // sqlite doesn't support the `default` keyword in inserts.\n        this.append('null');\n    }\n}\n", "/// <reference types=\"./migrator.d.ts\" />\nimport { NoopPlugin } from '../plugin/noop-plugin.js';\nimport { WithSchemaPlugin } from '../plugin/with-schema/with-schema-plugin.js';\nimport { freeze, getLast, isObject } from '../util/object-utils.js';\nexport const DEFAULT_MIGRATION_TABLE = 'kysely_migration';\nexport const DEFAULT_MIGRATION_LOCK_TABLE = 'kysely_migration_lock';\nexport const DEFAULT_ALLOW_UNORDERED_MIGRATIONS = false;\nexport const MIGRATION_LOCK_ID = 'migration_lock';\nexport const NO_MIGRATIONS = freeze({ __noMigrations__: true });\n/**\n * A class for running migrations.\n *\n * ### Example\n *\n * This example uses the {@link FileMigrationProvider} that reads migrations\n * files from a single folder. You can easily implement your own\n * {@link MigrationProvider} if you want to provide migrations some\n * other way.\n *\n * ```ts\n * import { promises as fs } from 'node:fs'\n * import path from 'node:path'\n * import * as Sqlite from 'better-sqlite3'\n * import {\n *   FileMigrationProvider,\n *   Kysely,\n *   Migrator,\n *   SqliteDialect\n * } from 'kysely'\n *\n * const db = new Kysely<any>({\n *   dialect: new SqliteDialect({\n *     database: Sqlite(':memory:')\n *   })\n * })\n *\n * const migrator = new Migrator({\n *   db,\n *   provider: new FileMigrationProvider({\n *     fs,\n *     // Path to the folder that contains all your migrations.\n *     migrationFolder: 'some/path/to/migrations',\n *     path,\n *   })\n * })\n * ```\n */\nexport class Migrator {\n    #props;\n    constructor(props) {\n        this.#props = freeze(props);\n    }\n    /**\n     * Returns a {@link MigrationInfo} object for each migration.\n     *\n     * The returned array is sorted by migration name.\n     */\n    async getMigrations() {\n        const executedMigrations = (await this.#doesTableExists(this.#migrationTable))\n            ? await this.#props.db\n                .withPlugin(this.#schemaPlugin)\n                .selectFrom(this.#migrationTable)\n                .select(['name', 'timestamp'])\n                .$narrowType()\n                .execute()\n            : [];\n        const migrations = await this.#resolveMigrations();\n        return migrations.map(({ name, ...migration }) => {\n            const executed = executedMigrations.find((it) => it.name === name);\n            return {\n                name,\n                migration,\n                executedAt: executed ? new Date(executed.timestamp) : undefined,\n            };\n        });\n    }\n    /**\n     * Runs all migrations that have not yet been run.\n     *\n     * This method returns a {@link MigrationResultSet} instance and _never_ throws.\n     * {@link MigrationResultSet.error} holds the error if something went wrong.\n     * {@link MigrationResultSet.results} contains information about which migrations\n     * were executed and which failed. See the examples below.\n     *\n     * This method goes through all possible migrations provided by the provider and runs the\n     * ones whose names come alphabetically after the last migration that has been run. If the\n     * list of executed migrations doesn't match the beginning of the list of possible migrations\n     * an error is returned.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * import { promises as fs } from 'node:fs'\n     * import path from 'node:path'\n     * import * as Sqlite from 'better-sqlite3'\n     * import { FileMigrationProvider, Migrator } from 'kysely'\n     *\n     * const migrator = new Migrator({\n     *   db,\n     *   provider: new FileMigrationProvider({\n     *     fs,\n     *     migrationFolder: 'some/path/to/migrations',\n     *     path,\n     *   })\n     * })\n     *\n     * const { error, results } = await migrator.migrateToLatest()\n     *\n     * results?.forEach((it) => {\n     *   if (it.status === 'Success') {\n     *     console.log(`migration \"${it.migrationName}\" was executed successfully`)\n     *   } else if (it.status === 'Error') {\n     *     console.error(`failed to execute migration \"${it.migrationName}\"`)\n     *   }\n     * })\n     *\n     * if (error) {\n     *   console.error('failed to run `migrateToLatest`')\n     *   console.error(error)\n     * }\n     * ```\n     */\n    async migrateToLatest() {\n        return this.#migrate(() => ({ direction: 'Up', step: Infinity }));\n    }\n    /**\n     * Migrate up/down to a specific migration.\n     *\n     * This method returns a {@link MigrationResultSet} instance and _never_ throws.\n     * {@link MigrationResultSet.error} holds the error if something went wrong.\n     * {@link MigrationResultSet.results} contains information about which migrations\n     * were executed and which failed.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * import { promises as fs } from 'node:fs'\n     * import path from 'node:path'\n     * import { FileMigrationProvider, Migrator } from 'kysely'\n     *\n     * const migrator = new Migrator({\n     *   db,\n     *   provider: new FileMigrationProvider({\n     *     fs,\n     *     // Path to the folder that contains all your migrations.\n     *     migrationFolder: 'some/path/to/migrations',\n     *     path,\n     *   })\n     * })\n     *\n     * await migrator.migrateTo('some_migration')\n     * ```\n     *\n     * If you specify the name of the first migration, this method migrates\n     * down to the first migration, but doesn't run the `down` method of\n     * the first migration. In case you want to migrate all the way down,\n     * you can use a special constant `NO_MIGRATIONS`:\n     *\n     * ```ts\n     * import { promises as fs } from 'node:fs'\n     * import path from 'node:path'\n     * import { FileMigrationProvider, Migrator, NO_MIGRATIONS } from 'kysely'\n     *\n     * const migrator = new Migrator({\n     *   db,\n     *   provider: new FileMigrationProvider({\n     *     fs,\n     *     // Path to the folder that contains all your migrations.\n     *     migrationFolder: 'some/path/to/migrations',\n     *     path,\n     *   })\n     * })\n     *\n     * await migrator.migrateTo(NO_MIGRATIONS)\n     * ```\n     */\n    async migrateTo(targetMigrationName) {\n        return this.#migrate(({ migrations, executedMigrations, pendingMigrations, }) => {\n            if (isObject(targetMigrationName) &&\n                targetMigrationName.__noMigrations__ === true) {\n                return { direction: 'Down', step: Infinity };\n            }\n            if (!migrations.find((m) => m.name === targetMigrationName)) {\n                throw new Error(`migration \"${targetMigrationName}\" doesn't exist`);\n            }\n            const executedIndex = executedMigrations.indexOf(targetMigrationName);\n            const pendingIndex = pendingMigrations.findIndex((m) => m.name === targetMigrationName);\n            if (executedIndex !== -1) {\n                return {\n                    direction: 'Down',\n                    step: executedMigrations.length - executedIndex - 1,\n                };\n            }\n            else if (pendingIndex !== -1) {\n                return { direction: 'Up', step: pendingIndex + 1 };\n            }\n            else {\n                throw new Error(`migration \"${targetMigrationName}\" isn't executed or pending`);\n            }\n        });\n    }\n    /**\n     * Migrate one step up.\n     *\n     * This method returns a {@link MigrationResultSet} instance and _never_ throws.\n     * {@link MigrationResultSet.error} holds the error if something went wrong.\n     * {@link MigrationResultSet.results} contains information about which migrations\n     * were executed and which failed.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * import { promises as fs } from 'node:fs'\n     * import path from 'node:path'\n     * import { FileMigrationProvider, Migrator } from 'kysely'\n     *\n     * const migrator = new Migrator({\n     *   db,\n     *   provider: new FileMigrationProvider({\n     *     fs,\n     *     // Path to the folder that contains all your migrations.\n     *     migrationFolder: 'some/path/to/migrations',\n     *     path,\n     *   })\n     * })\n     *\n     * await migrator.migrateUp()\n     * ```\n     */\n    async migrateUp() {\n        return this.#migrate(() => ({ direction: 'Up', step: 1 }));\n    }\n    /**\n     * Migrate one step down.\n     *\n     * This method returns a {@link MigrationResultSet} instance and _never_ throws.\n     * {@link MigrationResultSet.error} holds the error if something went wrong.\n     * {@link MigrationResultSet.results} contains information about which migrations\n     * were executed and which failed.\n     *\n     * ### Examples\n     *\n     * ```ts\n     * import { promises as fs } from 'node:fs'\n     * import path from 'node:path'\n     * import { FileMigrationProvider, Migrator } from 'kysely'\n     *\n     * const migrator = new Migrator({\n     *   db,\n     *   provider: new FileMigrationProvider({\n     *     fs,\n     *     // Path to the folder that contains all your migrations.\n     *     migrationFolder: 'some/path/to/migrations',\n     *     path,\n     *   })\n     * })\n     *\n     * await migrator.migrateDown()\n     * ```\n     */\n    async migrateDown() {\n        return this.#migrate(() => ({ direction: 'Down', step: 1 }));\n    }\n    async #migrate(getMigrationDirectionAndStep) {\n        try {\n            await this.#ensureMigrationTablesExists();\n            return await this.#runMigrations(getMigrationDirectionAndStep);\n        }\n        catch (error) {\n            if (error instanceof MigrationResultSetError) {\n                return error.resultSet;\n            }\n            return { error };\n        }\n    }\n    get #migrationTableSchema() {\n        return this.#props.migrationTableSchema;\n    }\n    get #migrationTable() {\n        return this.#props.migrationTableName ?? DEFAULT_MIGRATION_TABLE;\n    }\n    get #migrationLockTable() {\n        return this.#props.migrationLockTableName ?? DEFAULT_MIGRATION_LOCK_TABLE;\n    }\n    get #allowUnorderedMigrations() {\n        return (this.#props.allowUnorderedMigrations ?? DEFAULT_ALLOW_UNORDERED_MIGRATIONS);\n    }\n    get #schemaPlugin() {\n        if (this.#migrationTableSchema) {\n            return new WithSchemaPlugin(this.#migrationTableSchema);\n        }\n        return new NoopPlugin();\n    }\n    async #ensureMigrationTablesExists() {\n        await this.#ensureMigrationTableSchemaExists();\n        await this.#ensureMigrationTableExists();\n        await this.#ensureMigrationLockTableExists();\n        await this.#ensureLockRowExists();\n    }\n    async #ensureMigrationTableSchemaExists() {\n        if (!this.#migrationTableSchema) {\n            // Use default schema. Nothing to do.\n            return;\n        }\n        if (!(await this.#doesSchemaExists())) {\n            try {\n                await this.#createIfNotExists(this.#props.db.schema.createSchema(this.#migrationTableSchema));\n            }\n            catch (error) {\n                // At least on PostgreSQL, `if not exists` doesn't guarantee the `create schema`\n                // query doesn't throw if the schema already exits. That's why we check if\n                // the schema exist here and ignore the error if it does.\n                if (!(await this.#doesSchemaExists())) {\n                    throw error;\n                }\n            }\n        }\n    }\n    async #ensureMigrationTableExists() {\n        if (!(await this.#doesTableExists(this.#migrationTable))) {\n            try {\n                if (this.#migrationTableSchema) {\n                    await this.#createIfNotExists(this.#props.db.schema.createSchema(this.#migrationTableSchema));\n                }\n                await this.#createIfNotExists(this.#props.db.schema\n                    .withPlugin(this.#schemaPlugin)\n                    .createTable(this.#migrationTable)\n                    .addColumn('name', 'varchar(255)', (col) => col.notNull().primaryKey())\n                    // The migration run time as ISO string. This is not a real date type as we\n                    // can't know which data type is supported by all future dialects.\n                    .addColumn('timestamp', 'varchar(255)', (col) => col.notNull()));\n            }\n            catch (error) {\n                // At least on PostgreSQL, `if not exists` doesn't guarantee the `create table`\n                // query doesn't throw if the table already exits. That's why we check if\n                // the table exist here and ignore the error if it does.\n                if (!(await this.#doesTableExists(this.#migrationTable))) {\n                    throw error;\n                }\n            }\n        }\n    }\n    async #ensureMigrationLockTableExists() {\n        if (!(await this.#doesTableExists(this.#migrationLockTable))) {\n            try {\n                await this.#createIfNotExists(this.#props.db.schema\n                    .withPlugin(this.#schemaPlugin)\n                    .createTable(this.#migrationLockTable)\n                    .addColumn('id', 'varchar(255)', (col) => col.notNull().primaryKey())\n                    .addColumn('is_locked', 'integer', (col) => col.notNull().defaultTo(0)));\n            }\n            catch (error) {\n                // At least on PostgreSQL, `if not exists` doesn't guarantee the `create table`\n                // query doesn't throw if the table already exits. That's why we check if\n                // the table exist here and ignore the error if it does.\n                if (!(await this.#doesTableExists(this.#migrationLockTable))) {\n                    throw error;\n                }\n            }\n        }\n    }\n    async #ensureLockRowExists() {\n        if (!(await this.#doesLockRowExists())) {\n            try {\n                await this.#props.db\n                    .withPlugin(this.#schemaPlugin)\n                    .insertInto(this.#migrationLockTable)\n                    .values({ id: MIGRATION_LOCK_ID, is_locked: 0 })\n                    .execute();\n            }\n            catch (error) {\n                if (!(await this.#doesLockRowExists())) {\n                    throw error;\n                }\n            }\n        }\n    }\n    async #doesSchemaExists() {\n        const schemas = await this.#props.db.introspection.getSchemas();\n        return schemas.some((it) => it.name === this.#migrationTableSchema);\n    }\n    async #doesTableExists(tableName) {\n        const schema = this.#migrationTableSchema;\n        const tables = await this.#props.db.introspection.getTables({\n            withInternalKyselyTables: true,\n        });\n        return tables.some((it) => it.name === tableName && (!schema || it.schema === schema));\n    }\n    async #doesLockRowExists() {\n        const lockRow = await this.#props.db\n            .withPlugin(this.#schemaPlugin)\n            .selectFrom(this.#migrationLockTable)\n            .where('id', '=', MIGRATION_LOCK_ID)\n            .select('id')\n            .executeTakeFirst();\n        return !!lockRow;\n    }\n    async #runMigrations(getMigrationDirectionAndStep) {\n        const adapter = this.#props.db.getExecutor().adapter;\n        const lockOptions = freeze({\n            lockTable: this.#props.migrationLockTableName ?? DEFAULT_MIGRATION_LOCK_TABLE,\n            lockRowId: MIGRATION_LOCK_ID,\n            lockTableSchema: this.#props.migrationTableSchema,\n        });\n        const run = async (db) => {\n            try {\n                await adapter.acquireMigrationLock(db, lockOptions);\n                const state = await this.#getState(db);\n                if (state.migrations.length === 0) {\n                    return { results: [] };\n                }\n                const { direction, step } = getMigrationDirectionAndStep(state);\n                if (step <= 0) {\n                    return { results: [] };\n                }\n                if (direction === 'Down') {\n                    return await this.#migrateDown(db, state, step);\n                }\n                else if (direction === 'Up') {\n                    return await this.#migrateUp(db, state, step);\n                }\n                return { results: [] };\n            }\n            finally {\n                await adapter.releaseMigrationLock(db, lockOptions);\n            }\n        };\n        if (adapter.supportsTransactionalDdl && !this.#props.disableTransactions) {\n            return this.#props.db.transaction().execute(run);\n        }\n        else {\n            return this.#props.db.connection().execute(run);\n        }\n    }\n    async #getState(db) {\n        const migrations = await this.#resolveMigrations();\n        const executedMigrations = await this.#getExecutedMigrations(db);\n        this.#ensureNoMissingMigrations(migrations, executedMigrations);\n        if (!this.#allowUnorderedMigrations) {\n            this.#ensureMigrationsInOrder(migrations, executedMigrations);\n        }\n        const pendingMigrations = this.#getPendingMigrations(migrations, executedMigrations);\n        return freeze({\n            migrations,\n            executedMigrations,\n            lastMigration: getLast(executedMigrations),\n            pendingMigrations,\n        });\n    }\n    #getPendingMigrations(migrations, executedMigrations) {\n        return migrations.filter((migration) => {\n            return !executedMigrations.includes(migration.name);\n        });\n    }\n    async #resolveMigrations() {\n        const allMigrations = await this.#props.provider.getMigrations();\n        return Object.keys(allMigrations)\n            .sort()\n            .map((name) => ({\n            ...allMigrations[name],\n            name,\n        }));\n    }\n    async #getExecutedMigrations(db) {\n        const executedMigrations = await db\n            .withPlugin(this.#schemaPlugin)\n            .selectFrom(this.#migrationTable)\n            .select(['name', 'timestamp'])\n            .$narrowType()\n            .execute();\n        const nameComparator = this.#props.nameComparator || ((a, b) => a.localeCompare(b));\n        return (executedMigrations\n            // https://github.com/kysely-org/kysely/issues/843\n            .sort((a, b) => {\n            if (a.timestamp === b.timestamp) {\n                return nameComparator(a.name, b.name);\n            }\n            return (new Date(a.timestamp).getTime() - new Date(b.timestamp).getTime());\n        })\n            .map((it) => it.name));\n    }\n    #ensureNoMissingMigrations(migrations, executedMigrations) {\n        // Ensure all executed migrations exist in the `migrations` list.\n        for (const executed of executedMigrations) {\n            if (!migrations.some((it) => it.name === executed)) {\n                throw new Error(`corrupted migrations: previously executed migration ${executed} is missing`);\n            }\n        }\n    }\n    #ensureMigrationsInOrder(migrations, executedMigrations) {\n        // Ensure the executed migrations are the first ones in the migration list.\n        for (let i = 0; i < executedMigrations.length; ++i) {\n            if (migrations[i].name !== executedMigrations[i]) {\n                throw new Error(`corrupted migrations: expected previously executed migration ${executedMigrations[i]} to be at index ${i} but ${migrations[i].name} was found in its place. New migrations must always have a name that comes alphabetically after the last executed migration.`);\n            }\n        }\n    }\n    async #migrateDown(db, state, step) {\n        const migrationsToRollback = state.executedMigrations\n            .slice()\n            .reverse()\n            .slice(0, step)\n            .map((name) => {\n            return state.migrations.find((it) => it.name === name);\n        });\n        const results = migrationsToRollback.map((migration) => {\n            return {\n                migrationName: migration.name,\n                direction: 'Down',\n                status: 'NotExecuted',\n            };\n        });\n        for (let i = 0; i < results.length; ++i) {\n            const migration = migrationsToRollback[i];\n            try {\n                if (migration.down) {\n                    await migration.down(db);\n                    await db\n                        .withPlugin(this.#schemaPlugin)\n                        .deleteFrom(this.#migrationTable)\n                        .where('name', '=', migration.name)\n                        .execute();\n                    results[i] = {\n                        migrationName: migration.name,\n                        direction: 'Down',\n                        status: 'Success',\n                    };\n                }\n            }\n            catch (error) {\n                results[i] = {\n                    migrationName: migration.name,\n                    direction: 'Down',\n                    status: 'Error',\n                };\n                throw new MigrationResultSetError({\n                    error,\n                    results,\n                });\n            }\n        }\n        return { results };\n    }\n    async #migrateUp(db, state, step) {\n        const migrationsToRun = state.pendingMigrations.slice(0, step);\n        const results = migrationsToRun.map((migration) => {\n            return {\n                migrationName: migration.name,\n                direction: 'Up',\n                status: 'NotExecuted',\n            };\n        });\n        for (let i = 0; i < results.length; i++) {\n            const migration = state.pendingMigrations[i];\n            try {\n                await migration.up(db);\n                await db\n                    .withPlugin(this.#schemaPlugin)\n                    .insertInto(this.#migrationTable)\n                    .values({\n                    name: migration.name,\n                    timestamp: new Date().toISOString(),\n                })\n                    .execute();\n                results[i] = {\n                    migrationName: migration.name,\n                    direction: 'Up',\n                    status: 'Success',\n                };\n            }\n            catch (error) {\n                results[i] = {\n                    migrationName: migration.name,\n                    direction: 'Up',\n                    status: 'Error',\n                };\n                throw new MigrationResultSetError({\n                    error,\n                    results,\n                });\n            }\n        }\n        return { results };\n    }\n    async #createIfNotExists(qb) {\n        if (this.#props.db.getExecutor().adapter.supportsCreateIfNotExists) {\n            qb = qb.ifNotExists();\n        }\n        await qb.execute();\n    }\n}\nclass MigrationResultSetError extends Error {\n    #resultSet;\n    constructor(result) {\n        super();\n        this.#resultSet = result;\n    }\n    get resultSet() {\n        return this.#resultSet;\n    }\n}\n", "/// <reference types=\"./sqlite-introspector.d.ts\" />\nimport { DEFAULT_MIGRATION_LOCK_TABLE, DEFAULT_MIGRATION_TABLE, } from '../../migration/migrator.js';\nimport { sql } from '../../raw-builder/sql.js';\nexport class SqliteIntrospector {\n    #db;\n    constructor(db) {\n        this.#db = db;\n    }\n    async getSchemas() {\n        // Sqlite doesn't support schemas.\n        return [];\n    }\n    async getTables(options = { withInternalKyselyTables: false }) {\n        return await this.#getTableMetadata(options);\n    }\n    async getMetadata(options) {\n        return {\n            tables: await this.getTables(options),\n        };\n    }\n    #tablesQuery(qb, options) {\n        let tablesQuery = qb\n            .selectFrom('sqlite_master')\n            .where('type', 'in', ['table', 'view'])\n            .where('name', 'not like', 'sqlite_%')\n            .select(['name', 'sql', 'type'])\n            .orderBy('name');\n        if (!options.withInternalKyselyTables) {\n            tablesQuery = tablesQuery\n                .where('name', '!=', DEFAULT_MIGRATION_TABLE)\n                .where('name', '!=', DEFAULT_MIGRATION_LOCK_TABLE);\n        }\n        return tablesQuery;\n    }\n    async #getTableMetadata(options) {\n        const tablesResult = await this.#tablesQuery(this.#db, options).execute();\n        const tableMetadata = await this.#db\n            .with('table_list', (qb) => this.#tablesQuery(qb, options))\n            .selectFrom([\n            'table_list as tl',\n            sql `pragma_table_info(tl.name)`.as('p'),\n        ])\n            .select([\n            'tl.name as table',\n            'p.cid',\n            'p.name',\n            'p.type',\n            'p.notnull',\n            'p.dflt_value',\n            'p.pk',\n        ])\n            .orderBy('tl.name')\n            .orderBy('p.cid')\n            .execute();\n        const columnsByTable = {};\n        for (const row of tableMetadata) {\n            columnsByTable[row.table] ??= [];\n            columnsByTable[row.table].push(row);\n        }\n        return tablesResult.map(({ name, sql, type }) => {\n            // // Try to find the name of the column that has `autoincrement` \uD83E\uDD26\n            let autoIncrementCol = sql\n                ?.split(/[\\(\\),]/)\n                ?.find((it) => it.toLowerCase().includes('autoincrement'))\n                ?.trimStart()\n                ?.split(/\\s+/)?.[0]\n                ?.replace(/[\"`]/g, '');\n            const columns = columnsByTable[name] ?? [];\n            // Otherwise, check for an INTEGER PRIMARY KEY\n            // https://www.sqlite.org/autoinc.html\n            if (!autoIncrementCol) {\n                const pkCols = columns.filter((r) => r.pk > 0);\n                if (pkCols.length === 1 && pkCols[0].type.toLowerCase() === 'integer') {\n                    autoIncrementCol = pkCols[0].name;\n                }\n            }\n            return {\n                name: name,\n                isView: type === 'view',\n                columns: columns.map((col) => ({\n                    name: col.name,\n                    dataType: col.type,\n                    isNullable: !col.notnull,\n                    isAutoIncrementing: col.name === autoIncrementCol,\n                    hasDefaultValue: col.dflt_value != null,\n                    comment: undefined,\n                })),\n            };\n        });\n    }\n}\n", "/// <reference types=\"./sqlite-adapter.d.ts\" />\nimport { DialectAdapterBase } from '../dialect-adapter-base.js';\nexport class SqliteAdapter extends DialectAdapterBase {\n    get supportsTransactionalDdl() {\n        return false;\n    }\n    get supportsReturning() {\n        return true;\n    }\n    async acquireMigrationLock(_db, _opt) {\n        // SQLite only has one connection that's reserved by the migration system\n        // for the whole time between acquireMigrationLock and releaseMigrationLock.\n        // We don't need to do anything here.\n    }\n    async releaseMigrationLock(_db, _opt) {\n        // SQLite only has one connection that's reserved by the migration system\n        // for the whole time between acquireMigrationLock and releaseMigrationLock.\n        // We don't need to do anything here.\n    }\n}\n", "/// <reference types=\"./sqlite-dialect.d.ts\" />\nimport { SqliteDriver } from './sqlite-driver.js';\nimport { SqliteQueryCompiler } from './sqlite-query-compiler.js';\nimport { SqliteIntrospector } from './sqlite-introspector.js';\nimport { SqliteAdapter } from './sqlite-adapter.js';\nimport { freeze } from '../../util/object-utils.js';\n/**\n * SQLite dialect that uses the [better-sqlite3](https://github.com/JoshuaWise/better-sqlite3) library.\n *\n * The constructor takes an instance of {@link SqliteDialectConfig}.\n *\n * ```ts\n * import Database from 'better-sqlite3'\n *\n * new SqliteDialect({\n *   database: new Database('db.sqlite')\n * })\n * ```\n *\n * If you want the pool to only be created once it's first used, `database`\n * can be a function:\n *\n * ```ts\n * import Database from 'better-sqlite3'\n *\n * new SqliteDialect({\n *   database: async () => new Database('db.sqlite')\n * })\n * ```\n */\nexport class SqliteDialect {\n    #config;\n    constructor(config) {\n        this.#config = freeze({ ...config });\n    }\n    createDriver() {\n        return new SqliteDriver(this.#config);\n    }\n    createQueryCompiler() {\n        return new SqliteQueryCompiler();\n    }\n    createAdapter() {\n        return new SqliteAdapter();\n    }\n    createIntrospector(db) {\n        return new SqliteIntrospector(db);\n    }\n}\n", "/// <reference types=\"./sqlite-dialect-config.d.ts\" />\nexport {};\n", "/// <reference types=\"./postgres-query-compiler.d.ts\" />\nimport { DefaultQueryCompiler } from '../../query-compiler/default-query-compiler.js';\nconst ID_WRAP_REGEX = /\"/g;\nexport class PostgresQueryCompiler extends DefaultQueryCompiler {\n    sanitizeIdentifier(identifier) {\n        return identifier.replace(ID_WRAP_REGEX, '\"\"');\n    }\n}\n", "/// <reference types=\"./postgres-introspector.d.ts\" />\nimport { DEFAULT_MIGRATION_LOCK_TABLE, DEFAULT_MIGRATION_TABLE, } from '../../migration/migrator.js';\nimport { freeze } from '../../util/object-utils.js';\nimport { sql } from '../../raw-builder/sql.js';\nexport class PostgresIntrospector {\n    #db;\n    constructor(db) {\n        this.#db = db;\n    }\n    async getSchemas() {\n        let rawSchemas = await this.#db\n            .selectFrom('pg_catalog.pg_namespace')\n            .select('nspname')\n            .$castTo()\n            .execute();\n        return rawSchemas.map((it) => ({ name: it.nspname }));\n    }\n    async getTables(options = { withInternalKyselyTables: false }) {\n        let query = this.#db\n            // column\n            .selectFrom('pg_catalog.pg_attribute as a')\n            // table\n            .innerJoin('pg_catalog.pg_class as c', 'a.attrelid', 'c.oid')\n            // table schema\n            .innerJoin('pg_catalog.pg_namespace as ns', 'c.relnamespace', 'ns.oid')\n            // column data type\n            .innerJoin('pg_catalog.pg_type as typ', 'a.atttypid', 'typ.oid')\n            // column data type schema\n            .innerJoin('pg_catalog.pg_namespace as dtns', 'typ.typnamespace', 'dtns.oid')\n            .select([\n            'a.attname as column',\n            'a.attnotnull as not_null',\n            'a.atthasdef as has_default',\n            'c.relname as table',\n            'c.relkind as table_type',\n            'ns.nspname as schema',\n            'typ.typname as type',\n            'dtns.nspname as type_schema',\n            sql `col_description(a.attrelid, a.attnum)`.as('column_description'),\n            sql `pg_get_serial_sequence(quote_ident(ns.nspname) || '.' || quote_ident(c.relname), a.attname)`.as('auto_incrementing'),\n        ])\n            .where('c.relkind', 'in', [\n            'r' /*regular table*/,\n            'v' /*view*/,\n            'p' /*partitioned table*/,\n        ])\n            .where('ns.nspname', '!~', '^pg_')\n            .where('ns.nspname', '!=', 'information_schema')\n            // Filter out internal cockroachdb schema\n            .where('ns.nspname', '!=', 'crdb_internal')\n            // No system columns\n            .where('a.attnum', '>=', 0)\n            .where('a.attisdropped', '!=', true)\n            .orderBy('ns.nspname')\n            .orderBy('c.relname')\n            .orderBy('a.attnum')\n            .$castTo();\n        if (!options.withInternalKyselyTables) {\n            query = query\n                .where('c.relname', '!=', DEFAULT_MIGRATION_TABLE)\n                .where('c.relname', '!=', DEFAULT_MIGRATION_LOCK_TABLE);\n        }\n        const rawColumns = await query.execute();\n        return this.#parseTableMetadata(rawColumns);\n    }\n    async getMetadata(options) {\n        return {\n            tables: await this.getTables(options),\n        };\n    }\n    #parseTableMetadata(columns) {\n        return columns.reduce((tables, it) => {\n            let table = tables.find((tbl) => tbl.name === it.table && tbl.schema === it.schema);\n            if (!table) {\n                table = freeze({\n                    name: it.table,\n                    isView: it.table_type === 'v',\n                    schema: it.schema,\n                    columns: [],\n                });\n                tables.push(table);\n            }\n            table.columns.push(freeze({\n                name: it.column,\n                dataType: it.type,\n                dataTypeSchema: it.type_schema,\n                isNullable: !it.not_null,\n                isAutoIncrementing: it.auto_incrementing !== null,\n                hasDefaultValue: it.has_default,\n                comment: it.column_description ?? undefined,\n            }));\n            return tables;\n        }, []);\n    }\n}\n", "/// <reference types=\"./postgres-adapter.d.ts\" />\nimport { sql } from '../../raw-builder/sql.js';\nimport { DialectAdapterBase } from '../dialect-adapter-base.js';\n// Random id for our transaction lock.\nconst LOCK_ID = BigInt('3853314791062309107');\nexport class PostgresAdapter extends DialectAdapterBase {\n    get supportsTransactionalDdl() {\n        return true;\n    }\n    get supportsReturning() {\n        return true;\n    }\n    async acquireMigrationLock(db, _opt) {\n        // Acquire a transaction level advisory lock.\n        await sql `select pg_advisory_xact_lock(${sql.lit(LOCK_ID)})`.execute(db);\n    }\n    async releaseMigrationLock(_db, _opt) {\n        // Nothing to do here. `pg_advisory_xact_lock` is automatically released at the\n        // end of the transaction and since `supportsTransactionalDdl` true, we know\n        // the `db` instance passed to acquireMigrationLock is actually a transaction.\n    }\n}\n", "/// <reference types=\"./stack-trace-utils.d.ts\" />\nimport { isObject, isString } from './object-utils.js';\nexport function extendStackTrace(err, stackError) {\n    if (isStackHolder(err) && stackError.stack) {\n        // Remove the first line that just says `Error`.\n        const stackExtension = stackError.stack.split('\\n').slice(1).join('\\n');\n        err.stack += `\\n${stackExtension}`;\n        return err;\n    }\n    return err;\n}\nfunction isStackHolder(obj) {\n    return isObject(obj) && isString(obj.stack);\n}\n", "/// <reference types=\"./mysql-driver.d.ts\" />\nimport { parseSavepointCommand } from '../../parser/savepoint-parser.js';\nimport { CompiledQuery } from '../../query-compiler/compiled-query.js';\nimport { isFunction, isObject, freeze } from '../../util/object-utils.js';\nimport { createQueryId } from '../../util/query-id.js';\nimport { extendStackTrace } from '../../util/stack-trace-utils.js';\nconst PRIVATE_RELEASE_METHOD = Symbol();\nexport class MysqlDriver {\n    #config;\n    #connections = new WeakMap();\n    #pool;\n    constructor(configOrPool) {\n        this.#config = freeze({ ...configOrPool });\n    }\n    async init() {\n        this.#pool = isFunction(this.#config.pool)\n            ? await this.#config.pool()\n            : this.#config.pool;\n    }\n    async acquireConnection() {\n        const rawConnection = await this.#acquireConnection();\n        let connection = this.#connections.get(rawConnection);\n        if (!connection) {\n            connection = new MysqlConnection(rawConnection);\n            this.#connections.set(rawConnection, connection);\n            // The driver must take care of calling `onCreateConnection` when a new\n            // connection is created. The `mysql2` module doesn't provide an async hook\n            // for the connection creation. We need to call the method explicitly.\n            if (this.#config?.onCreateConnection) {\n                await this.#config.onCreateConnection(connection);\n            }\n        }\n        if (this.#config?.onReserveConnection) {\n            await this.#config.onReserveConnection(connection);\n        }\n        return connection;\n    }\n    async #acquireConnection() {\n        return new Promise((resolve, reject) => {\n            this.#pool.getConnection(async (err, rawConnection) => {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve(rawConnection);\n                }\n            });\n        });\n    }\n    async beginTransaction(connection, settings) {\n        if (settings.isolationLevel || settings.accessMode) {\n            const parts = [];\n            if (settings.isolationLevel) {\n                parts.push(`isolation level ${settings.isolationLevel}`);\n            }\n            if (settings.accessMode) {\n                parts.push(settings.accessMode);\n            }\n            const sql = `set transaction ${parts.join(', ')}`;\n            // On MySQL this sets the isolation level of the next transaction.\n            await connection.executeQuery(CompiledQuery.raw(sql));\n        }\n        await connection.executeQuery(CompiledQuery.raw('begin'));\n    }\n    async commitTransaction(connection) {\n        await connection.executeQuery(CompiledQuery.raw('commit'));\n    }\n    async rollbackTransaction(connection) {\n        await connection.executeQuery(CompiledQuery.raw('rollback'));\n    }\n    async savepoint(connection, savepointName, compileQuery) {\n        await connection.executeQuery(compileQuery(parseSavepointCommand('savepoint', savepointName), createQueryId()));\n    }\n    async rollbackToSavepoint(connection, savepointName, compileQuery) {\n        await connection.executeQuery(compileQuery(parseSavepointCommand('rollback to', savepointName), createQueryId()));\n    }\n    async releaseSavepoint(connection, savepointName, compileQuery) {\n        await connection.executeQuery(compileQuery(parseSavepointCommand('release savepoint', savepointName), createQueryId()));\n    }\n    async releaseConnection(connection) {\n        connection[PRIVATE_RELEASE_METHOD]();\n    }\n    async destroy() {\n        return new Promise((resolve, reject) => {\n            this.#pool.end((err) => {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve();\n                }\n            });\n        });\n    }\n}\nfunction isOkPacket(obj) {\n    return isObject(obj) && 'insertId' in obj && 'affectedRows' in obj;\n}\nclass MysqlConnection {\n    #rawConnection;\n    constructor(rawConnection) {\n        this.#rawConnection = rawConnection;\n    }\n    async executeQuery(compiledQuery) {\n        try {\n            const result = await this.#executeQuery(compiledQuery);\n            if (isOkPacket(result)) {\n                const { insertId, affectedRows, changedRows } = result;\n                return {\n                    insertId: insertId !== undefined &&\n                        insertId !== null &&\n                        insertId.toString() !== '0'\n                        ? BigInt(insertId)\n                        : undefined,\n                    numAffectedRows: affectedRows !== undefined && affectedRows !== null\n                        ? BigInt(affectedRows)\n                        : undefined,\n                    numChangedRows: changedRows !== undefined && changedRows !== null\n                        ? BigInt(changedRows)\n                        : undefined,\n                    rows: [],\n                };\n            }\n            else if (Array.isArray(result)) {\n                return {\n                    rows: result,\n                };\n            }\n            return {\n                rows: [],\n            };\n        }\n        catch (err) {\n            throw extendStackTrace(err, new Error());\n        }\n    }\n    #executeQuery(compiledQuery) {\n        return new Promise((resolve, reject) => {\n            this.#rawConnection.query(compiledQuery.sql, compiledQuery.parameters, (err, result) => {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve(result);\n                }\n            });\n        });\n    }\n    async *streamQuery(compiledQuery, _chunkSize) {\n        const stream = this.#rawConnection\n            .query(compiledQuery.sql, compiledQuery.parameters)\n            .stream({\n            objectMode: true,\n        });\n        try {\n            for await (const row of stream) {\n                yield {\n                    rows: [row],\n                };\n            }\n        }\n        catch (ex) {\n            if (ex &&\n                typeof ex === 'object' &&\n                'code' in ex &&\n                // @ts-ignore\n                ex.code === 'ERR_STREAM_PREMATURE_CLOSE') {\n                // Most likely because of https://github.com/mysqljs/mysql/blob/master/lib/protocol/sequences/Query.js#L220\n                return;\n            }\n            throw ex;\n        }\n    }\n    [PRIVATE_RELEASE_METHOD]() {\n        this.#rawConnection.release();\n    }\n}\n", "/// <reference types=\"./mysql-query-compiler.d.ts\" />\nimport { DefaultQueryCompiler } from '../../query-compiler/default-query-compiler.js';\nconst ID_WRAP_REGEX = /`/g;\nexport class MysqlQueryCompiler extends DefaultQueryCompiler {\n    getCurrentParameterPlaceholder() {\n        return '?';\n    }\n    getLeftExplainOptionsWrapper() {\n        return '';\n    }\n    getExplainOptionAssignment() {\n        return '=';\n    }\n    getExplainOptionsDelimiter() {\n        return ' ';\n    }\n    getRightExplainOptionsWrapper() {\n        return '';\n    }\n    getLeftIdentifierWrapper() {\n        return '`';\n    }\n    getRightIdentifierWrapper() {\n        return '`';\n    }\n    sanitizeIdentifier(identifier) {\n        return identifier.replace(ID_WRAP_REGEX, '``');\n    }\n    visitCreateIndex(node) {\n        this.append('create ');\n        if (node.unique) {\n            this.append('unique ');\n        }\n        this.append('index ');\n        if (node.ifNotExists) {\n            this.append('if not exists ');\n        }\n        this.visitNode(node.name);\n        if (node.using) {\n            this.append(' using ');\n            this.visitNode(node.using);\n        }\n        if (node.table) {\n            this.append(' on ');\n            this.visitNode(node.table);\n        }\n        if (node.columns) {\n            this.append(' (');\n            this.compileList(node.columns);\n            this.append(')');\n        }\n        if (node.where) {\n            this.append(' ');\n            this.visitNode(node.where);\n        }\n    }\n}\n", "/// <reference types=\"./mysql-introspector.d.ts\" />\nimport { DEFAULT_MIGRATION_LOCK_TABLE, DEFAULT_MIGRATION_TABLE, } from '../../migration/migrator.js';\nimport { freeze } from '../../util/object-utils.js';\nimport { sql } from '../../raw-builder/sql.js';\nexport class MysqlIntrospector {\n    #db;\n    constructor(db) {\n        this.#db = db;\n    }\n    async getSchemas() {\n        let rawSchemas = await this.#db\n            .selectFrom('information_schema.schemata')\n            .select('schema_name')\n            .$castTo()\n            .execute();\n        return rawSchemas.map((it) => ({ name: it.SCHEMA_NAME }));\n    }\n    async getTables(options = { withInternalKyselyTables: false }) {\n        let query = this.#db\n            .selectFrom('information_schema.columns as columns')\n            .innerJoin('information_schema.tables as tables', (b) => b\n            .onRef('columns.TABLE_CATALOG', '=', 'tables.TABLE_CATALOG')\n            .onRef('columns.TABLE_SCHEMA', '=', 'tables.TABLE_SCHEMA')\n            .onRef('columns.TABLE_NAME', '=', 'tables.TABLE_NAME'))\n            .select([\n            'columns.COLUMN_NAME',\n            'columns.COLUMN_DEFAULT',\n            'columns.TABLE_NAME',\n            'columns.TABLE_SCHEMA',\n            'tables.TABLE_TYPE',\n            'columns.IS_NULLABLE',\n            'columns.DATA_TYPE',\n            'columns.EXTRA',\n            'columns.COLUMN_COMMENT',\n        ])\n            .where('columns.TABLE_SCHEMA', '=', sql `database()`)\n            .orderBy('columns.TABLE_NAME')\n            .orderBy('columns.ORDINAL_POSITION')\n            .$castTo();\n        if (!options.withInternalKyselyTables) {\n            query = query\n                .where('columns.TABLE_NAME', '!=', DEFAULT_MIGRATION_TABLE)\n                .where('columns.TABLE_NAME', '!=', DEFAULT_MIGRATION_LOCK_TABLE);\n        }\n        const rawColumns = await query.execute();\n        return this.#parseTableMetadata(rawColumns);\n    }\n    async getMetadata(options) {\n        return {\n            tables: await this.getTables(options),\n        };\n    }\n    #parseTableMetadata(columns) {\n        return columns.reduce((tables, it) => {\n            let table = tables.find((tbl) => tbl.name === it.TABLE_NAME);\n            if (!table) {\n                table = freeze({\n                    name: it.TABLE_NAME,\n                    isView: it.TABLE_TYPE === 'VIEW',\n                    schema: it.TABLE_SCHEMA,\n                    columns: [],\n                });\n                tables.push(table);\n            }\n            table.columns.push(freeze({\n                name: it.COLUMN_NAME,\n                dataType: it.DATA_TYPE,\n                isNullable: it.IS_NULLABLE === 'YES',\n                isAutoIncrementing: it.EXTRA.toLowerCase().includes('auto_increment'),\n                hasDefaultValue: it.COLUMN_DEFAULT !== null,\n                comment: it.COLUMN_COMMENT === '' ? undefined : it.COLUMN_COMMENT,\n            }));\n            return tables;\n        }, []);\n    }\n}\n", "/// <reference types=\"./mysql-adapter.d.ts\" />\nimport { sql } from '../../raw-builder/sql.js';\nimport { DialectAdapterBase } from '../dialect-adapter-base.js';\nconst LOCK_ID = 'ea586330-2c93-47c8-908d-981d9d270f9d';\nconst LOCK_TIMEOUT_SECONDS = 60 * 60;\nexport class MysqlAdapter extends DialectAdapterBase {\n    get supportsTransactionalDdl() {\n        return false;\n    }\n    get supportsReturning() {\n        return false;\n    }\n    async acquireMigrationLock(db, _opt) {\n        // Kysely uses a single connection to run the migrations. Because of that, we\n        // can take a lock using `get_lock`. Locks acquired using `get_lock` get\n        // released when the connection is destroyed (session ends) or when the lock\n        // is released using `release_lock`. This way we know that the lock is either\n        // released by us after successfull or failed migrations OR it's released by\n        // MySQL if the process gets killed for some reason.\n        await sql `select get_lock(${sql.lit(LOCK_ID)}, ${sql.lit(LOCK_TIMEOUT_SECONDS)})`.execute(db);\n    }\n    async releaseMigrationLock(db, _opt) {\n        await sql `select release_lock(${sql.lit(LOCK_ID)})`.execute(db);\n    }\n}\n", "/// <reference types=\"./mysql-dialect.d.ts\" />\nimport { MysqlDriver } from './mysql-driver.js';\nimport { MysqlQueryCompiler } from './mysql-query-compiler.js';\nimport { MysqlIntrospector } from './mysql-introspector.js';\nimport { MysqlAdapter } from './mysql-adapter.js';\n/**\n * MySQL dialect that uses the [mysql2](https://github.com/sidorares/node-mysql2#readme) library.\n *\n * The constructor takes an instance of {@link MysqlDialectConfig}.\n *\n * ```ts\n * import { createPool } from 'mysql2'\n *\n * new MysqlDialect({\n *   pool: createPool({\n *     database: 'some_db',\n *     host: 'localhost',\n *   })\n * })\n * ```\n *\n * If you want the pool to only be created once it's first used, `pool`\n * can be a function:\n *\n * ```ts\n * import { createPool } from 'mysql2'\n *\n * new MysqlDialect({\n *   pool: async () => createPool({\n *     database: 'some_db',\n *     host: 'localhost',\n *   })\n * })\n * ```\n */\nexport class MysqlDialect {\n    #config;\n    constructor(config) {\n        this.#config = config;\n    }\n    createDriver() {\n        return new MysqlDriver(this.#config);\n    }\n    createQueryCompiler() {\n        return new MysqlQueryCompiler();\n    }\n    createAdapter() {\n        return new MysqlAdapter();\n    }\n    createIntrospector(db) {\n        return new MysqlIntrospector(db);\n    }\n}\n", "/// <reference types=\"./mysql-dialect-config.d.ts\" />\nexport {};\n", "/// <reference types=\"./postgres-driver.d.ts\" />\nimport { parseSavepointCommand } from '../../parser/savepoint-parser.js';\nimport { CompiledQuery } from '../../query-compiler/compiled-query.js';\nimport { isFunction, freeze } from '../../util/object-utils.js';\nimport { createQueryId } from '../../util/query-id.js';\nimport { extendStackTrace } from '../../util/stack-trace-utils.js';\nconst PRIVATE_RELEASE_METHOD = Symbol();\nexport class PostgresDriver {\n    #config;\n    #connections = new WeakMap();\n    #pool;\n    constructor(config) {\n        this.#config = freeze({ ...config });\n    }\n    async init() {\n        this.#pool = isFunction(this.#config.pool)\n            ? await this.#config.pool()\n            : this.#config.pool;\n    }\n    async acquireConnection() {\n        const client = await this.#pool.connect();\n        let connection = this.#connections.get(client);\n        if (!connection) {\n            connection = new PostgresConnection(client, {\n                cursor: this.#config.cursor ?? null,\n            });\n            this.#connections.set(client, connection);\n            // The driver must take care of calling `onCreateConnection` when a new\n            // connection is created. The `pg` module doesn't provide an async hook\n            // for the connection creation. We need to call the method explicitly.\n            if (this.#config.onCreateConnection) {\n                await this.#config.onCreateConnection(connection);\n            }\n        }\n        if (this.#config.onReserveConnection) {\n            await this.#config.onReserveConnection(connection);\n        }\n        return connection;\n    }\n    async beginTransaction(connection, settings) {\n        if (settings.isolationLevel || settings.accessMode) {\n            let sql = 'start transaction';\n            if (settings.isolationLevel) {\n                sql += ` isolation level ${settings.isolationLevel}`;\n            }\n            if (settings.accessMode) {\n                sql += ` ${settings.accessMode}`;\n            }\n            await connection.executeQuery(CompiledQuery.raw(sql));\n        }\n        else {\n            await connection.executeQuery(CompiledQuery.raw('begin'));\n        }\n    }\n    async commitTransaction(connection) {\n        await connection.executeQuery(CompiledQuery.raw('commit'));\n    }\n    async rollbackTransaction(connection) {\n        await connection.executeQuery(CompiledQuery.raw('rollback'));\n    }\n    async savepoint(connection, savepointName, compileQuery) {\n        await connection.executeQuery(compileQuery(parseSavepointCommand('savepoint', savepointName), createQueryId()));\n    }\n    async rollbackToSavepoint(connection, savepointName, compileQuery) {\n        await connection.executeQuery(compileQuery(parseSavepointCommand('rollback to', savepointName), createQueryId()));\n    }\n    async releaseSavepoint(connection, savepointName, compileQuery) {\n        await connection.executeQuery(compileQuery(parseSavepointCommand('release', savepointName), createQueryId()));\n    }\n    async releaseConnection(connection) {\n        connection[PRIVATE_RELEASE_METHOD]();\n    }\n    async destroy() {\n        if (this.#pool) {\n            const pool = this.#pool;\n            this.#pool = undefined;\n            await pool.end();\n        }\n    }\n}\nclass PostgresConnection {\n    #client;\n    #options;\n    constructor(client, options) {\n        this.#client = client;\n        this.#options = options;\n    }\n    async executeQuery(compiledQuery) {\n        try {\n            const { command, rowCount, rows } = await this.#client.query(compiledQuery.sql, [...compiledQuery.parameters]);\n            return {\n                numAffectedRows: command === 'INSERT' ||\n                    command === 'UPDATE' ||\n                    command === 'DELETE' ||\n                    command === 'MERGE'\n                    ? BigInt(rowCount)\n                    : undefined,\n                rows: rows ?? [],\n            };\n        }\n        catch (err) {\n            throw extendStackTrace(err, new Error());\n        }\n    }\n    async *streamQuery(compiledQuery, chunkSize) {\n        if (!this.#options.cursor) {\n            throw new Error(\"'cursor' is not present in your postgres dialect config. It's required to make streaming work in postgres.\");\n        }\n        if (!Number.isInteger(chunkSize) || chunkSize <= 0) {\n            throw new Error('chunkSize must be a positive integer');\n        }\n        const cursor = this.#client.query(new this.#options.cursor(compiledQuery.sql, compiledQuery.parameters.slice()));\n        try {\n            while (true) {\n                const rows = await cursor.read(chunkSize);\n                if (rows.length === 0) {\n                    break;\n                }\n                yield {\n                    rows,\n                };\n            }\n        }\n        finally {\n            await cursor.close();\n        }\n    }\n    [PRIVATE_RELEASE_METHOD]() {\n        this.#client.release();\n    }\n}\n", "/// <reference types=\"./postgres-dialect-config.d.ts\" />\nexport {};\n", "/// <reference types=\"./postgres-dialect.d.ts\" />\nimport { PostgresDriver } from './postgres-driver.js';\nimport { PostgresIntrospector } from './postgres-introspector.js';\nimport { PostgresQueryCompiler } from './postgres-query-compiler.js';\nimport { PostgresAdapter } from './postgres-adapter.js';\n/**\n * PostgreSQL dialect that uses the [pg](https://node-postgres.com/) library.\n *\n * The constructor takes an instance of {@link PostgresDialectConfig}.\n *\n * ```ts\n * import {\u00A0Pool } from 'pg'\n *\n * new PostgresDialect({\n *   pool: new Pool({\n *     database: 'some_db',\n *     host: 'localhost',\n *   })\n * })\n * ```\n *\n * If you want the pool to only be created once it's first used, `pool`\n * can be a function:\n *\n * ```ts\n * import {\u00A0Pool } from 'pg'\n *\n * new PostgresDialect({\n *   pool: async () => new Pool({\n *     database: 'some_db',\n *     host: 'localhost',\n *   })\n * })\n * ```\n */\nexport class PostgresDialect {\n    #config;\n    constructor(config) {\n        this.#config = config;\n    }\n    createDriver() {\n        return new PostgresDriver(this.#config);\n    }\n    createQueryCompiler() {\n        return new PostgresQueryCompiler();\n    }\n    createAdapter() {\n        return new PostgresAdapter();\n    }\n    createIntrospector(db) {\n        return new PostgresIntrospector(db);\n    }\n}\n", "/// <reference types=\"./mssql-adapter.d.ts\" />\nimport { DEFAULT_MIGRATION_TABLE } from '../../migration/migrator.js';\nimport { sql } from '../../raw-builder/sql.js';\nimport { DialectAdapterBase } from '../dialect-adapter-base.js';\nexport class MssqlAdapter extends DialectAdapterBase {\n    get supportsCreateIfNotExists() {\n        return false;\n    }\n    get supportsTransactionalDdl() {\n        return true;\n    }\n    get supportsOutput() {\n        return true;\n    }\n    async acquireMigrationLock(db) {\n        // Acquire a transaction-level exclusive lock on the migrations table.\n        // https://learn.microsoft.com/en-us/sql/relational-databases/system-stored-procedures/sp-getapplock-transact-sql?view=sql-server-ver16\n        await sql `exec sp_getapplock @DbPrincipal = ${sql.lit('dbo')}, @Resource = ${sql.lit(DEFAULT_MIGRATION_TABLE)}, @LockMode = ${sql.lit('Exclusive')}`.execute(db);\n    }\n    async releaseMigrationLock() {\n        // Nothing to do here. `sp_getapplock` is automatically released at the\n        // end of the transaction and since `supportsTransactionalDdl` true, we know\n        // the `db` instance passed to acquireMigrationLock is actually a transaction.\n    }\n}\n", "/// <reference types=\"./mssql-dialect-config.d.ts\" />\nexport {};\n", "/// <reference types=\"./mssql-driver.d.ts\" />\nimport { freeze, isBigInt, isBoolean, isBuffer, isDate, isNull, isNumber, isString, isUndefined, } from '../../util/object-utils.js';\nimport { CompiledQuery } from '../../query-compiler/compiled-query.js';\nimport { extendStackTrace } from '../../util/stack-trace-utils.js';\nimport { randomString } from '../../util/random-string.js';\nimport { Deferred } from '../../util/deferred.js';\nconst PRIVATE_RESET_METHOD = Symbol();\nconst PRIVATE_DESTROY_METHOD = Symbol();\nconst PRIVATE_VALIDATE_METHOD = Symbol();\nexport class MssqlDriver {\n    #config;\n    #pool;\n    constructor(config) {\n        this.#config = freeze({ ...config });\n        const { tarn, tedious, validateConnections } = this.#config;\n        const { validateConnections: deprecatedValidateConnections, ...poolOptions } = tarn.options;\n        this.#pool = new tarn.Pool({\n            ...poolOptions,\n            create: async () => {\n                const connection = await tedious.connectionFactory();\n                return await new MssqlConnection(connection, tedious).connect();\n            },\n            destroy: async (connection) => {\n                await connection[PRIVATE_DESTROY_METHOD]();\n            },\n            // @ts-ignore `tarn` accepts a function that returns a promise here, but\n            // the types are not aligned and it type errors.\n            validate: validateConnections === false ||\n                deprecatedValidateConnections === false\n                ? undefined\n                : (connection) => connection[PRIVATE_VALIDATE_METHOD](),\n        });\n    }\n    async init() {\n        // noop\n    }\n    async acquireConnection() {\n        return await this.#pool.acquire().promise;\n    }\n    async beginTransaction(connection, settings) {\n        await connection.beginTransaction(settings);\n    }\n    async commitTransaction(connection) {\n        await connection.commitTransaction();\n    }\n    async rollbackTransaction(connection) {\n        await connection.rollbackTransaction();\n    }\n    async savepoint(connection, savepointName) {\n        await connection.savepoint(savepointName);\n    }\n    async rollbackToSavepoint(connection, savepointName) {\n        await connection.rollbackTransaction(savepointName);\n    }\n    async releaseConnection(connection) {\n        if (this.#config.resetConnectionsOnRelease ||\n            this.#config.tedious.resetConnectionOnRelease) {\n            await connection[PRIVATE_RESET_METHOD]();\n        }\n        this.#pool.release(connection);\n    }\n    async destroy() {\n        await this.#pool.destroy();\n    }\n}\nclass MssqlConnection {\n    #connection;\n    #hasSocketError;\n    #tedious;\n    constructor(connection, tedious) {\n        this.#connection = connection;\n        this.#hasSocketError = false;\n        this.#tedious = tedious;\n    }\n    async beginTransaction(settings) {\n        const { isolationLevel } = settings;\n        await new Promise((resolve, reject) => this.#connection.beginTransaction((error) => {\n            if (error)\n                reject(error);\n            else\n                resolve(undefined);\n        }, isolationLevel ? randomString(8) : undefined, isolationLevel\n            ? this.#getTediousIsolationLevel(isolationLevel)\n            : undefined));\n    }\n    async commitTransaction() {\n        await new Promise((resolve, reject) => this.#connection.commitTransaction((error) => {\n            if (error)\n                reject(error);\n            else\n                resolve(undefined);\n        }));\n    }\n    async connect() {\n        const { promise: waitForConnected, reject, resolve } = new Deferred();\n        this.#connection.connect((error) => {\n            if (error) {\n                return reject(error);\n            }\n            resolve();\n        });\n        this.#connection.on('error', (error) => {\n            if (error instanceof Error &&\n                'code' in error &&\n                error.code === 'ESOCKET') {\n                this.#hasSocketError = true;\n            }\n            console.error(error);\n            reject(error);\n        });\n        function endListener() {\n            reject(new Error('The connection ended without ever completing the connection'));\n        }\n        this.#connection.once('end', endListener);\n        await waitForConnected;\n        this.#connection.off('end', endListener);\n        return this;\n    }\n    async executeQuery(compiledQuery) {\n        try {\n            const deferred = new Deferred();\n            const request = new MssqlRequest({\n                compiledQuery,\n                tedious: this.#tedious,\n                onDone: deferred,\n            });\n            this.#connection.execSql(request.request);\n            const { rowCount, rows } = await deferred.promise;\n            return {\n                numAffectedRows: rowCount !== undefined ? BigInt(rowCount) : undefined,\n                rows,\n            };\n        }\n        catch (err) {\n            throw extendStackTrace(err, new Error());\n        }\n    }\n    async rollbackTransaction(savepointName) {\n        await new Promise((resolve, reject) => this.#connection.rollbackTransaction((error) => {\n            if (error)\n                reject(error);\n            else\n                resolve(undefined);\n        }, savepointName));\n    }\n    async savepoint(savepointName) {\n        await new Promise((resolve, reject) => this.#connection.saveTransaction((error) => {\n            if (error)\n                reject(error);\n            else\n                resolve(undefined);\n        }, savepointName));\n    }\n    async *streamQuery(compiledQuery, chunkSize) {\n        if (!Number.isInteger(chunkSize) || chunkSize <= 0) {\n            throw new Error('chunkSize must be a positive integer');\n        }\n        const request = new MssqlRequest({\n            compiledQuery,\n            streamChunkSize: chunkSize,\n            tedious: this.#tedious,\n        });\n        this.#connection.execSql(request.request);\n        try {\n            while (true) {\n                const rows = await request.readChunk();\n                if (rows.length === 0) {\n                    break;\n                }\n                yield { rows };\n                if (rows.length < chunkSize) {\n                    break;\n                }\n            }\n        }\n        finally {\n            await this.#cancelRequest(request);\n        }\n    }\n    #getTediousIsolationLevel(isolationLevel) {\n        const { ISOLATION_LEVEL } = this.#tedious;\n        const mapper = {\n            'read committed': ISOLATION_LEVEL.READ_COMMITTED,\n            'read uncommitted': ISOLATION_LEVEL.READ_UNCOMMITTED,\n            'repeatable read': ISOLATION_LEVEL.REPEATABLE_READ,\n            serializable: ISOLATION_LEVEL.SERIALIZABLE,\n            snapshot: ISOLATION_LEVEL.SNAPSHOT,\n        };\n        const tediousIsolationLevel = mapper[isolationLevel];\n        if (tediousIsolationLevel === undefined) {\n            throw new Error(`Unknown isolation level: ${isolationLevel}`);\n        }\n        return tediousIsolationLevel;\n    }\n    #cancelRequest(request) {\n        return new Promise((resolve) => {\n            request.request.once('requestCompleted', resolve);\n            const wasCanceled = this.#connection.cancel();\n            if (!wasCanceled) {\n                request.request.off('requestCompleted', resolve);\n                resolve();\n            }\n        });\n    }\n    [PRIVATE_DESTROY_METHOD]() {\n        if ('closed' in this.#connection && this.#connection.closed) {\n            return Promise.resolve();\n        }\n        return new Promise((resolve) => {\n            this.#connection.once('end', resolve);\n            this.#connection.close();\n        });\n    }\n    async [PRIVATE_RESET_METHOD]() {\n        await new Promise((resolve, reject) => {\n            this.#connection.reset((error) => {\n                if (error) {\n                    return reject(error);\n                }\n                resolve();\n            });\n        });\n    }\n    async [PRIVATE_VALIDATE_METHOD]() {\n        if (this.#hasSocketError || this.#isConnectionClosed()) {\n            return false;\n        }\n        try {\n            const deferred = new Deferred();\n            const request = new MssqlRequest({\n                compiledQuery: CompiledQuery.raw('select 1'),\n                onDone: deferred,\n                tedious: this.#tedious,\n            });\n            this.#connection.execSql(request.request);\n            await deferred.promise;\n            return true;\n        }\n        catch {\n            return false;\n        }\n    }\n    #isConnectionClosed() {\n        return 'closed' in this.#connection && Boolean(this.#connection.closed);\n    }\n}\nclass MssqlRequest {\n    #request;\n    #rows;\n    #streamChunkSize;\n    #subscribers;\n    #tedious;\n    #rowCount;\n    constructor(props) {\n        const { compiledQuery, onDone, streamChunkSize, tedious } = props;\n        this.#rows = [];\n        this.#streamChunkSize = streamChunkSize;\n        this.#subscribers = {};\n        this.#tedious = tedious;\n        if (onDone) {\n            const subscriptionKey = 'onDone';\n            this.#subscribers[subscriptionKey] = (event, error) => {\n                if (event === 'chunkReady') {\n                    return;\n                }\n                delete this.#subscribers[subscriptionKey];\n                if (event === 'error') {\n                    return onDone.reject(error);\n                }\n                onDone.resolve({\n                    rowCount: this.#rowCount,\n                    rows: this.#rows,\n                });\n            };\n        }\n        this.#request = new this.#tedious.Request(compiledQuery.sql, (err, rowCount) => {\n            if (err) {\n                return Object.values(this.#subscribers).forEach((subscriber) => subscriber('error', err instanceof AggregateError ? err.errors : err));\n            }\n            this.#rowCount = rowCount;\n        });\n        this.#addParametersToRequest(compiledQuery.parameters);\n        this.#attachListeners();\n    }\n    get request() {\n        return this.#request;\n    }\n    readChunk() {\n        const subscriptionKey = this.readChunk.name;\n        return new Promise((resolve, reject) => {\n            this.#subscribers[subscriptionKey] = (event, error) => {\n                delete this.#subscribers[subscriptionKey];\n                if (event === 'error') {\n                    return reject(error);\n                }\n                resolve(this.#rows.splice(0, this.#streamChunkSize));\n            };\n            this.#request.resume();\n        });\n    }\n    #addParametersToRequest(parameters) {\n        for (let i = 0; i < parameters.length; i++) {\n            const parameter = parameters[i];\n            this.#request.addParameter(String(i + 1), this.#getTediousDataType(parameter), parameter);\n        }\n    }\n    #attachListeners() {\n        const pauseAndEmitChunkReady = this.#streamChunkSize\n            ? () => {\n                if (this.#streamChunkSize <= this.#rows.length) {\n                    this.#request.pause();\n                    Object.values(this.#subscribers).forEach((subscriber) => subscriber('chunkReady'));\n                }\n            }\n            : () => { };\n        const rowListener = (columns) => {\n            const row = {};\n            for (const column of columns) {\n                row[column.metadata.colName] = column.value;\n            }\n            this.#rows.push(row);\n            pauseAndEmitChunkReady();\n        };\n        this.#request.on('row', rowListener);\n        this.#request.once('requestCompleted', () => {\n            Object.values(this.#subscribers).forEach((subscriber) => subscriber('completed'));\n            this.#request.off('row', rowListener);\n        });\n    }\n    #getTediousDataType(value) {\n        if (isNull(value) || isUndefined(value) || isString(value)) {\n            return this.#tedious.TYPES.NVarChar;\n        }\n        if (isBigInt(value) || (isNumber(value) && value % 1 === 0)) {\n            if (value < -2147483648 || value > 2147483647) {\n                return this.#tedious.TYPES.BigInt;\n            }\n            else {\n                return this.#tedious.TYPES.Int;\n            }\n        }\n        if (isNumber(value)) {\n            return this.#tedious.TYPES.Float;\n        }\n        if (isBoolean(value)) {\n            return this.#tedious.TYPES.Bit;\n        }\n        if (isDate(value)) {\n            return this.#tedious.TYPES.DateTime;\n        }\n        if (isBuffer(value)) {\n            return this.#tedious.TYPES.VarBinary;\n        }\n        return this.#tedious.TYPES.NVarChar;\n    }\n}\n", "/// <reference types=\"./mssql-introspector.d.ts\" />\nimport { DEFAULT_MIGRATION_LOCK_TABLE, DEFAULT_MIGRATION_TABLE, } from '../../migration/migrator.js';\nimport { freeze } from '../../util/object-utils.js';\nexport class MssqlIntrospector {\n    #db;\n    constructor(db) {\n        this.#db = db;\n    }\n    async getSchemas() {\n        return await this.#db.selectFrom('sys.schemas').select('name').execute();\n    }\n    async getTables(options = { withInternalKyselyTables: false }) {\n        const rawColumns = await this.#db\n            .selectFrom('sys.tables as tables')\n            .leftJoin('sys.schemas as table_schemas', 'table_schemas.schema_id', 'tables.schema_id')\n            .innerJoin('sys.columns as columns', 'columns.object_id', 'tables.object_id')\n            .innerJoin('sys.types as types', 'types.user_type_id', 'columns.user_type_id')\n            .leftJoin('sys.schemas as type_schemas', 'type_schemas.schema_id', 'types.schema_id')\n            .leftJoin('sys.extended_properties as comments', (join) => join\n            .onRef('comments.major_id', '=', 'tables.object_id')\n            .onRef('comments.minor_id', '=', 'columns.column_id')\n            .on('comments.name', '=', 'MS_Description'))\n            .$if(!options.withInternalKyselyTables, (qb) => qb\n            .where('tables.name', '!=', DEFAULT_MIGRATION_TABLE)\n            .where('tables.name', '!=', DEFAULT_MIGRATION_LOCK_TABLE))\n            .select([\n            'tables.name as table_name',\n            (eb) => eb\n                .ref('tables.type')\n                .$castTo()\n                .as('table_type'),\n            'table_schemas.name as table_schema_name',\n            'columns.default_object_id as column_default_object_id',\n            'columns.generated_always_type_desc as column_generated_always_type',\n            'columns.is_computed as column_is_computed',\n            'columns.is_identity as column_is_identity',\n            'columns.is_nullable as column_is_nullable',\n            'columns.is_rowguidcol as column_is_rowguidcol',\n            'columns.name as column_name',\n            'types.is_nullable as type_is_nullable',\n            'types.name as type_name',\n            'type_schemas.name as type_schema_name',\n            'comments.value as column_comment',\n        ])\n            .unionAll(this.#db\n            .selectFrom('sys.views as views')\n            .leftJoin('sys.schemas as view_schemas', 'view_schemas.schema_id', 'views.schema_id')\n            .innerJoin('sys.columns as columns', 'columns.object_id', 'views.object_id')\n            .innerJoin('sys.types as types', 'types.user_type_id', 'columns.user_type_id')\n            .leftJoin('sys.schemas as type_schemas', 'type_schemas.schema_id', 'types.schema_id')\n            .leftJoin('sys.extended_properties as comments', (join) => join\n            .onRef('comments.major_id', '=', 'views.object_id')\n            .onRef('comments.minor_id', '=', 'columns.column_id')\n            .on('comments.name', '=', 'MS_Description'))\n            .select([\n            'views.name as table_name',\n            'views.type as table_type',\n            'view_schemas.name as table_schema_name',\n            'columns.default_object_id as column_default_object_id',\n            'columns.generated_always_type_desc as column_generated_always_type',\n            'columns.is_computed as column_is_computed',\n            'columns.is_identity as column_is_identity',\n            'columns.is_nullable as column_is_nullable',\n            'columns.is_rowguidcol as column_is_rowguidcol',\n            'columns.name as column_name',\n            'types.is_nullable as type_is_nullable',\n            'types.name as type_name',\n            'type_schemas.name as type_schema_name',\n            'comments.value as column_comment',\n        ]))\n            .orderBy('table_schema_name')\n            .orderBy('table_name')\n            .orderBy('column_name')\n            .execute();\n        const tableDictionary = {};\n        for (const rawColumn of rawColumns) {\n            const key = `${rawColumn.table_schema_name}.${rawColumn.table_name}`;\n            const table = (tableDictionary[key] =\n                tableDictionary[key] ||\n                    freeze({\n                        columns: [],\n                        isView: rawColumn.table_type === 'V ',\n                        name: rawColumn.table_name,\n                        schema: rawColumn.table_schema_name ?? undefined,\n                    }));\n            table.columns.push(freeze({\n                dataType: rawColumn.type_name,\n                dataTypeSchema: rawColumn.type_schema_name ?? undefined,\n                hasDefaultValue: rawColumn.column_default_object_id > 0 ||\n                    rawColumn.column_generated_always_type !== 'NOT_APPLICABLE' ||\n                    rawColumn.column_is_identity ||\n                    rawColumn.column_is_computed ||\n                    rawColumn.column_is_rowguidcol,\n                isAutoIncrementing: rawColumn.column_is_identity,\n                isNullable: rawColumn.column_is_nullable && rawColumn.type_is_nullable,\n                name: rawColumn.column_name,\n                comment: rawColumn.column_comment ?? undefined,\n            }));\n        }\n        return Object.values(tableDictionary);\n    }\n    async getMetadata(options) {\n        return {\n            tables: await this.getTables(options),\n        };\n    }\n}\n", "/// <reference types=\"./mssql-query-compiler.d.ts\" />\nimport { DefaultQueryCompiler } from '../../query-compiler/default-query-compiler.js';\nconst COLLATION_CHAR_REGEX = /^[a-z0-9_]$/i;\nexport class MssqlQueryCompiler extends DefaultQueryCompiler {\n    getCurrentParameterPlaceholder() {\n        return `@${this.numParameters}`;\n    }\n    visitOffset(node) {\n        super.visitOffset(node);\n        this.append(' rows');\n    }\n    // mssql allows multi-column alterations in a single statement,\n    // but you can only use the command keyword/s once.\n    // it also doesn't support multiple kinds of commands in the same\n    // alter table statement, but we compile that anyway for the sake\n    // of WYSIWYG.\n    compileColumnAlterations(columnAlterations) {\n        const nodesByKind = {};\n        for (const columnAlteration of columnAlterations) {\n            if (!nodesByKind[columnAlteration.kind]) {\n                nodesByKind[columnAlteration.kind] = [];\n            }\n            nodesByKind[columnAlteration.kind].push(columnAlteration);\n        }\n        let first = true;\n        if (nodesByKind.AddColumnNode) {\n            this.append('add ');\n            this.compileList(nodesByKind.AddColumnNode);\n            first = false;\n        }\n        // multiple of these are not really supported by mssql,\n        // but for the sake of WYSIWYG.\n        if (nodesByKind.AlterColumnNode) {\n            if (!first)\n                this.append(', ');\n            this.compileList(nodesByKind.AlterColumnNode);\n        }\n        if (nodesByKind.DropColumnNode) {\n            if (!first)\n                this.append(', ');\n            this.append('drop column ');\n            this.compileList(nodesByKind.DropColumnNode);\n        }\n        // not really supported by mssql, but for the sake of WYSIWYG.\n        if (nodesByKind.ModifyColumnNode) {\n            if (!first)\n                this.append(', ');\n            this.compileList(nodesByKind.ModifyColumnNode);\n        }\n        // not really supported by mssql, but for the sake of WYSIWYG.\n        if (nodesByKind.RenameColumnNode) {\n            if (!first)\n                this.append(', ');\n            this.compileList(nodesByKind.RenameColumnNode);\n        }\n    }\n    visitAddColumn(node) {\n        this.visitNode(node.column);\n    }\n    visitDropColumn(node) {\n        this.visitNode(node.column);\n    }\n    visitMergeQuery(node) {\n        super.visitMergeQuery(node);\n        this.append(';');\n    }\n    visitCollate(node) {\n        this.append('collate ');\n        const { name } = node.collation;\n        for (const char of name) {\n            if (!COLLATION_CHAR_REGEX.test(char)) {\n                throw new Error(`Invalid collation: ${name}`);\n            }\n        }\n        this.append(name);\n    }\n    announcesNewColumnDataType() {\n        return false;\n    }\n}\n", "/// <reference types=\"./mssql-dialect.d.ts\" />\nimport { MssqlAdapter } from './mssql-adapter.js';\nimport { MssqlDriver } from './mssql-driver.js';\nimport { MssqlIntrospector } from './mssql-introspector.js';\nimport { MssqlQueryCompiler } from './mssql-query-compiler.js';\n/**\n * MS SQL Server dialect that uses the [tedious](https://tediousjs.github.io/tedious)\n * library.\n *\n * The constructor takes an instance of {@link MssqlDialectConfig}.\n *\n * ```ts\n * import * as Tedious from 'tedious'\n * import * as Tarn from 'tarn'\n *\n * const dialect = new MssqlDialect({\n *   tarn: {\n *     ...Tarn,\n *     options: {\n *       min: 0,\n *       max: 10,\n *     },\n *   },\n *   tedious: {\n *     ...Tedious,\n *     connectionFactory: () => new Tedious.Connection({\n *       authentication: {\n *         options: {\n *           password: 'password',\n *           userName: 'username',\n *         },\n *         type: 'default',\n *       },\n *       options: {\n *         database: 'some_db',\n *         port: 1433,\n *         trustServerCertificate: true,\n *       },\n *       server: 'localhost',\n *     }),\n *   },\n * })\n * ```\n */\nexport class MssqlDialect {\n    #config;\n    constructor(config) {\n        this.#config = config;\n    }\n    createDriver() {\n        return new MssqlDriver(this.#config);\n    }\n    createQueryCompiler() {\n        return new MssqlQueryCompiler();\n    }\n    createAdapter() {\n        return new MssqlAdapter();\n    }\n    createIntrospector(db) {\n        return new MssqlIntrospector(db);\n    }\n}\n", "/// <reference types=\"./query-compiler.d.ts\" />\nexport {};\n", "/// <reference types=\"./file-migration-provider.d.ts\" />\nimport { isFunction, isObject } from '../util/object-utils.js';\n/**\n * Reads all migrations from a folder in node.js.\n *\n * ### Examples\n *\n * ```ts\n * import { promises as fs } from 'node:fs'\n * import path from 'node:path'\n *\n * new FileMigrationProvider({\n *   fs,\n *   path,\n *   migrationFolder: 'path/to/migrations/folder'\n * })\n * ```\n */\nexport class FileMigrationProvider {\n    #props;\n    constructor(props) {\n        this.#props = props;\n    }\n    async getMigrations() {\n        const migrations = {};\n        const files = await this.#props.fs.readdir(this.#props.migrationFolder);\n        for (const fileName of files) {\n            if (fileName.endsWith('.js') ||\n                (fileName.endsWith('.ts') && !fileName.endsWith('.d.ts')) ||\n                fileName.endsWith('.mjs') ||\n                (fileName.endsWith('.mts') && !fileName.endsWith('.d.mts'))) {\n                const migration = await import(\n                /* webpackIgnore: true */ this.#props.path.join(this.#props.migrationFolder, fileName));\n                const migrationKey = fileName.substring(0, fileName.lastIndexOf('.'));\n                // Handle esModuleInterop export's `default` prop...\n                if (isMigration(migration?.default)) {\n                    migrations[migrationKey] = migration.default;\n                }\n                else if (isMigration(migration)) {\n                    migrations[migrationKey] = migration;\n                }\n            }\n        }\n        return migrations;\n    }\n}\nfunction isMigration(obj) {\n    return isObject(obj) && isFunction(obj.up);\n}\n", "/// <reference types=\"./kysely-plugin.d.ts\" />\nexport {};\n", "/// <reference types=\"./camel-case-plugin.d.ts\" />\nimport { isPlainObject } from '../../util/object-utils.js';\nimport { SnakeCaseTransformer } from './camel-case-transformer.js';\nimport { createCamelCaseMapper, createSnakeCaseMapper, } from './camel-case.js';\n/**\n * A plugin that converts snake_case identifiers in the database into\n * camelCase in the JavaScript side.\n *\n * For example let's assume we have a table called `person_table`\n * with columns `first_name` and `last_name` in the database. When\n * using `CamelCasePlugin` we would setup Kysely like this:\n *\n * ```ts\n * import * as Sqlite from 'better-sqlite3'\n * import { CamelCasePlugin, Kysely, SqliteDialect } from 'kysely'\n *\n * interface CamelCasedDatabase {\n *   userMetadata: {\n *     firstName: string\n *     lastName: string\n *   }\n * }\n *\n * const db = new Kysely<CamelCasedDatabase>({\n *   dialect: new SqliteDialect({\n *     database: new Sqlite(':memory:'),\n *   }),\n *   plugins: [new CamelCasePlugin()],\n * })\n *\n * const person = await db.selectFrom('userMetadata')\n *   .where('firstName', '=', 'Arnold')\n *   .select(['firstName', 'lastName'])\n *   .executeTakeFirst()\n *\n * if (person) {\n *   console.log(person.firstName)\n * }\n * ```\n *\n * The generated SQL (SQLite):\n *\n * ```sql\n * select \"first_name\", \"last_name\" from \"user_metadata\" where \"first_name\" = ?\n * ```\n *\n * As you can see from the example, __everything__ needs to be defined\n * in camelCase in the TypeScript code: table names, columns, schemas,\n * __everything__. When using the `CamelCasePlugin` Kysely works as if\n * the database was defined in camelCase.\n *\n * There are various options you can give to the plugin to modify\n * the way identifiers are converted. See {@link CamelCasePluginOptions}.\n * If those options are not enough, you can override this plugin's\n * `snakeCase` and `camelCase` methods to make the conversion exactly\n * the way you like:\n *\n * ```ts\n * class MyCamelCasePlugin extends CamelCasePlugin {\n *   protected override snakeCase(str: string): string {\n *     // ...\n *\n *     return str\n *   }\n *\n *   protected override camelCase(str: string): string {\n *     // ...\n *\n *     return str\n *   }\n * }\n * ```\n */\nexport class CamelCasePlugin {\n    opt;\n    #camelCase;\n    #snakeCase;\n    #snakeCaseTransformer;\n    constructor(opt = {}) {\n        this.opt = opt;\n        this.#camelCase = createCamelCaseMapper(opt);\n        this.#snakeCase = createSnakeCaseMapper(opt);\n        this.#snakeCaseTransformer = new SnakeCaseTransformer(this.snakeCase.bind(this));\n    }\n    transformQuery(args) {\n        return this.#snakeCaseTransformer.transformNode(args.node, args.queryId);\n    }\n    async transformResult(args) {\n        if (args.result.rows && Array.isArray(args.result.rows)) {\n            return {\n                ...args.result,\n                rows: args.result.rows.map((row) => this.mapRow(row)),\n            };\n        }\n        return args.result;\n    }\n    mapRow(row) {\n        return Object.keys(row).reduce((obj, key) => {\n            let value = row[key];\n            if (Array.isArray(value)) {\n                value = value.map((it) => (canMap(it, this.opt) ? this.mapRow(it) : it));\n            }\n            else if (canMap(value, this.opt)) {\n                value = this.mapRow(value);\n            }\n            obj[this.camelCase(key)] = value;\n            return obj;\n        }, {});\n    }\n    snakeCase(str) {\n        return this.#snakeCase(str);\n    }\n    camelCase(str) {\n        return this.#camelCase(str);\n    }\n}\nfunction canMap(obj, opt) {\n    return isPlainObject(obj) && !opt?.maintainNestedObjectKeys;\n}\n", "/// <reference types=\"./deduplicate-joins-plugin.d.ts\" />\nimport { DeduplicateJoinsTransformer } from './deduplicate-joins-transformer.js';\n/**\n * Plugin that removes duplicate joins from queries.\n *\n * See [this recipe](https://github.com/kysely-org/kysely/blob/master/site/docs/recipes/0008-deduplicate-joins.md)\n */\nexport class DeduplicateJoinsPlugin {\n    #transformer = new DeduplicateJoinsTransformer();\n    transformQuery(args) {\n        return this.#transformer.transformNode(args.node, args.queryId);\n    }\n    transformResult(args) {\n        return Promise.resolve(args.result);\n    }\n}\n", "/// <reference types=\"./parse-json-results-plugin.d.ts\" />\nimport { isPlainObject, isString } from '../../util/object-utils.js';\n/**\n * Parses JSON strings in query results into JSON objects.\n *\n * This plugin can be useful with dialects that don't automatically parse\n * JSON into objects and arrays but return JSON strings instead.\n *\n * To apply this plugin globally, pass an instance of it to the `plugins` option\n * when creating a new `Kysely` instance:\n *\n * ```ts\n * import * as Sqlite from 'better-sqlite3'\n * import { Kysely, ParseJSONResultsPlugin, SqliteDialect } from 'kysely'\n * import type { Database } from 'type-editor' // imaginary module\n *\n * const db = new Kysely<Database>({\n *   dialect: new SqliteDialect({\n *     database: new Sqlite(':memory:'),\n *   }),\n *   plugins: [new ParseJSONResultsPlugin()],\n * })\n * ```\n *\n * To apply this plugin to a single query:\n *\n * ```ts\n * import { ParseJSONResultsPlugin } from 'kysely'\n * import { jsonArrayFrom } from 'kysely/helpers/sqlite'\n *\n * const result = await db\n *   .selectFrom('person')\n *   .select((eb) => [\n *     'id',\n *     'first_name',\n *     'last_name',\n *     jsonArrayFrom(\n *       eb.selectFrom('pet')\n *         .whereRef('owner_id', '=', 'person.id')\n *         .select(['name', 'species'])\n *     ).as('pets')\n *   ])\n *   .withPlugin(new ParseJSONResultsPlugin())\n *   .execute()\n * ```\n */\nexport class ParseJSONResultsPlugin {\n    opt;\n    #objectStrategy;\n    constructor(opt = {}) {\n        this.opt = opt;\n        this.#objectStrategy = opt.objectStrategy || 'in-place';\n    }\n    // noop\n    transformQuery(args) {\n        return args.node;\n    }\n    async transformResult(args) {\n        return {\n            ...args.result,\n            rows: parseArray(args.result.rows, this.#objectStrategy),\n        };\n    }\n}\nfunction parseArray(arr, objectStrategy) {\n    const target = objectStrategy === 'create' ? new Array(arr.length) : arr;\n    for (let i = 0; i < arr.length; ++i) {\n        target[i] = parse(arr[i], objectStrategy);\n    }\n    return target;\n}\nfunction parse(obj, objectStrategy) {\n    if (isString(obj)) {\n        return parseString(obj);\n    }\n    if (Array.isArray(obj)) {\n        return parseArray(obj, objectStrategy);\n    }\n    if (isPlainObject(obj)) {\n        return parseObject(obj, objectStrategy);\n    }\n    return obj;\n}\nfunction parseString(str) {\n    if (maybeJson(str)) {\n        try {\n            return parse(JSON.parse(str), 'in-place');\n        }\n        catch (err) {\n            // this catch block is intentionally empty.\n        }\n    }\n    return str;\n}\nfunction maybeJson(value) {\n    return value.match(/^[\\[\\{]/) != null;\n}\nfunction parseObject(obj, objectStrategy) {\n    const target = objectStrategy === 'create' ? {} : obj;\n    for (const key in obj) {\n        target[key] = parse(obj[key], objectStrategy);\n    }\n    return target;\n}\n", "/// <reference types=\"./handle-empty-in-lists-plugin.d.ts\" />\nimport { HandleEmptyInListsTransformer } from './handle-empty-in-lists-transformer.js';\n/**\n * A plugin that allows handling `in ()` and `not in ()` expressions.\n *\n * These expressions are invalid SQL syntax for many databases, and result in runtime\n * database errors.\n *\n * The workarounds used by other libraries always involve modifying the query under\n * the hood, which is not aligned with Kysely's philosophy of WYSIWYG. We recommend manually checking\n * for empty arrays before passing them as arguments to `in` and `not in` expressions\n * instead, but understand that this can be cumbersome. Hence we're going with an\n * opt-in approach where you can choose if and how to handle these cases. We do\n * not want to make this the default behavior, as it can lead to unexpected behavior.\n * Use it at your own risk. Test it. Make sure it works as expected for you.\n *\n * Using this plugin also allows you to throw an error (thus avoiding unnecessary\n * requests to the database) or print a warning in these cases.\n *\n * ### Examples\n *\n * The following strategy replaces the `in`/`not in` expression with a noncontingent\n * expression. A contradiction (falsy) `1 = 0` for `in`, and a tautology (truthy) `1 = 1` for `not in`),\n * similarily to how {@link https://github.com/knex/knex/blob/176151d8048b2a7feeb89a3d649a5580786d4f4e/docs/src/guide/query-builder.md#L1763 | Knex.js},\n * {@link https://github.com/prisma/prisma-engines/blob/99168c54187178484dae45d9478aa40cfd1866d2/quaint/src/visitor.rs#L804-L823 | PrismaORM},\n * {@link https://github.com/laravel/framework/blob/8.x/src/Illuminate/Database/Query/Grammars/Grammar.php#L284-L291 | Laravel},\n * {@link https://docs.sqlalchemy.org/en/13/core/engines.html#sqlalchemy.create_engine.params.empty_in_strategy | SQLAlchemy}\n * handle this.\n *\n * ```ts\n * import Sqlite from 'better-sqlite3'\n * import {\n *   HandleEmptyInListsPlugin,\n *   Kysely,\n *   replaceWithNoncontingentExpression,\n *   SqliteDialect,\n * } from 'kysely'\n * import type { Database } from 'type-editor' // imaginary module\n *\n * const db = new Kysely<Database>({\n *   dialect: new SqliteDialect({\n *     database: new Sqlite(':memory:'),\n *   }),\n *   plugins: [\n *     new HandleEmptyInListsPlugin({\n *       strategy: replaceWithNoncontingentExpression\n *     })\n *   ],\n * })\n *\n * const results = await db\n *   .selectFrom('person')\n *   .where('id', 'in', [])\n *   .where('first_name', 'not in', [])\n *   .selectAll()\n *   .execute()\n * ```\n *\n * The generated SQL (SQLite):\n *\n * ```sql\n * select * from \"person\" where 1 = 0 and 1 = 1\n * ```\n *\n * The following strategy does the following:\n *\n * When `in`, pushes a `null` value into the empty list resulting in `in (null)`,\n * similiarly to how {@link https://github.com/typeorm/typeorm/blob/0280cdc451c35ef73c830eb1191c95d34f6ce06e/src/query-builder/QueryBuilder.ts#L919-L922 | TypeORM}\n * and {@link https://github.com/sequelize/sequelize/blob/0f2891c6897e12bf9bf56df344aae5b698f58c7d/packages/core/src/abstract-dialect/where-sql-builder.ts#L368-L379 | Sequelize}\n * handle `in ()`. `in (null)` is logically the equivalent of `= null`, which returns\n * `null`, which is a falsy expression in most SQL databases. We recommend NOT\n * using this strategy if you plan to use `in` in `select`, `returning`, or `output`\n * clauses, as the return type differs from the `SqlBool` default type for comparisons.\n *\n * When `not in`, casts the left operand as `char` and pushes a unique value into\n * the empty list resulting in `cast({{lhs}} as char) not in ({{VALUE}})`. Casting\n * is required to avoid database errors with non-string values.\n *\n * ```ts\n * import Sqlite from 'better-sqlite3'\n * import {\n *   HandleEmptyInListsPlugin,\n *   Kysely,\n *   pushValueIntoList,\n *   SqliteDialect\n * } from 'kysely'\n * import type { Database } from 'type-editor' // imaginary module\n *\n * const db = new Kysely<Database>({\n *   dialect: new SqliteDialect({\n *     database: new Sqlite(':memory:'),\n *   }),\n *   plugins: [\n *     new HandleEmptyInListsPlugin({\n *       strategy: pushValueIntoList('__kysely_no_values_were_provided__') // choose a unique value for not in. has to be something with zero chance being in the data.\n *     })\n *   ],\n * })\n *\n * const results = await db\n *   .selectFrom('person')\n *   .where('id', 'in', [])\n *   .where('first_name', 'not in', [])\n *   .selectAll()\n *   .execute()\n * ```\n *\n * The generated SQL (SQLite):\n *\n * ```sql\n * select * from \"person\" where \"id\" in (null) and cast(\"first_name\" as char) not in ('__kysely_no_values_were_provided__')\n * ```\n *\n * The following custom strategy throws an error when an empty list is encountered\n * to avoid unnecessary requests to the database:\n *\n * ```ts\n * import Sqlite from 'better-sqlite3'\n * import {\n *   HandleEmptyInListsPlugin,\n *   Kysely,\n *   SqliteDialect\n * } from 'kysely'\n * import type { Database } from 'type-editor' // imaginary module\n *\n * const db = new Kysely<Database>({\n *   dialect: new SqliteDialect({\n *     database: new Sqlite(':memory:'),\n *   }),\n *   plugins: [\n *     new HandleEmptyInListsPlugin({\n *       strategy: () => {\n *         throw new Error('Empty in/not-in is not allowed')\n *       }\n *     })\n *   ],\n * })\n *\n * const results = await db\n *   .selectFrom('person')\n *   .where('id', 'in', [])\n *   .selectAll()\n *   .execute() // throws an error with 'Empty in/not-in is not allowed' message!\n * ```\n */\nexport class HandleEmptyInListsPlugin {\n    opt;\n    #transformer;\n    constructor(opt) {\n        this.opt = opt;\n        this.#transformer = new HandleEmptyInListsTransformer(opt.strategy);\n    }\n    transformQuery(args) {\n        return this.#transformer.transformNode(args.node, args.queryId);\n    }\n    async transformResult(args) {\n        return args.result;\n    }\n}\n", "/// <reference types=\"./handle-empty-in-lists.d.ts\" />\nimport { BinaryOperationNode } from '../../operation-node/binary-operation-node.js';\nimport { CastNode } from '../../operation-node/cast-node.js';\nimport { DataTypeNode } from '../../operation-node/data-type-node.js';\nimport { OperatorNode } from '../../operation-node/operator-node.js';\nimport { ValueListNode } from '../../operation-node/value-list-node.js';\nimport { ValueNode } from '../../operation-node/value-node.js';\nimport { freeze } from '../../util/object-utils.js';\nlet contradiction;\nlet eq;\nlet one;\nlet tautology;\n/**\n * Replaces the `in`/`not in` expression with a noncontingent expression (always true or always\n * false) depending on the original operator.\n *\n * This is how Knex.js, PrismaORM, Laravel, and SQLAlchemy handle `in ()` and `not in ()`.\n *\n * See {@link pushValueIntoList} for an alternative strategy.\n */\nexport function replaceWithNoncontingentExpression(node) {\n    const _one = (one ||= ValueNode.createImmediate(1));\n    const _eq = (eq ||= OperatorNode.create('='));\n    if (node.operator.operator === 'in') {\n        return (contradiction ||= BinaryOperationNode.create(_one, _eq, ValueNode.createImmediate(0)));\n    }\n    return (tautology ||= BinaryOperationNode.create(_one, _eq, _one));\n}\nlet char;\nlet listNull;\nlet listVal;\n/**\n * When `in`, pushes a `null` value into the list resulting in `in (null)`. This\n * is how TypeORM and Sequelize handle `in ()`. `in (null)` is logically the equivalent\n * of `= null`, which returns `null`, which is a falsy expression in most SQL databases.\n * We recommend NOT using this strategy if you plan to use `in` in `select`, `returning`,\n * or `output` clauses, as the return type differs from the `SqlBool` default type.\n *\n * When `not in`, casts the left operand as `char` and pushes a literal value into\n * the list resulting in `cast({{lhs}} as char) not in ({{VALUE}})`. Casting\n * is required to avoid database errors with non-string columns.\n *\n * See {@link replaceWithNoncontingentExpression} for an alternative strategy.\n */\nexport function pushValueIntoList(uniqueNotInLiteral) {\n    return function pushValueIntoList(node) {\n        if (node.operator.operator === 'in') {\n            return freeze({\n                ...node,\n                rightOperand: (listNull ||= ValueListNode.create([\n                    ValueNode.createImmediate(null),\n                ])),\n            });\n        }\n        return freeze({\n            ...node,\n            leftOperand: CastNode.create(node.leftOperand, (char ||= DataTypeNode.create('char'))),\n            rightOperand: (listVal ||= ValueListNode.create([\n                ValueNode.createImmediate(uniqueNotInLiteral),\n            ])),\n        });\n    };\n}\n", "/// <reference types=\"./constraint-node.d.ts\" />\nexport {};\n", "/// <reference types=\"./operation-node.d.ts\" />\nexport {};\n", "/// <reference types=\"./simple-reference-expression-node.d.ts\" />\nexport {};\n", "/// <reference types=\"./column-type.d.ts\" />\nexport {};\n", "/// <reference types=\"./explainable.d.ts\" />\nexport {};\n", "/// <reference types=\"./streamable.d.ts\" />\nexport {};\n", "/// <reference types=\"./infer-result.d.ts\" />\nexport {};\n", "/// <reference types=\"./index.d.ts\" />\nexport * from './kysely.js';\nexport * from './query-creator.js';\nexport * from './expression/expression.js';\nexport { expressionBuilder, } from './expression/expression-builder.js';\nexport * from './expression/expression-wrapper.js';\nexport * from './query-builder/where-interface.js';\nexport * from './query-builder/returning-interface.js';\nexport * from './query-builder/output-interface.js';\nexport * from './query-builder/having-interface.js';\nexport * from './query-builder/order-by-interface.js';\nexport * from './query-builder/select-query-builder.js';\nexport * from './query-builder/insert-query-builder.js';\nexport * from './query-builder/update-query-builder.js';\nexport * from './query-builder/delete-query-builder.js';\nexport * from './query-builder/no-result-error.js';\nexport * from './query-builder/join-builder.js';\nexport * from './query-builder/function-module.js';\nexport * from './query-builder/insert-result.js';\nexport * from './query-builder/delete-result.js';\nexport * from './query-builder/update-result.js';\nexport * from './query-builder/on-conflict-builder.js';\nexport * from './query-builder/aggregate-function-builder.js';\nexport * from './query-builder/case-builder.js';\nexport * from './query-builder/json-path-builder.js';\nexport * from './query-builder/merge-query-builder.js';\nexport * from './query-builder/merge-result.js';\nexport * from './query-builder/order-by-item-builder.js';\nexport * from './raw-builder/raw-builder.js';\nexport * from './raw-builder/sql.js';\nexport * from './query-executor/query-executor.js';\nexport * from './query-executor/default-query-executor.js';\nexport * from './query-executor/noop-query-executor.js';\nexport * from './query-executor/query-executor-provider.js';\nexport * from './query-compiler/default-query-compiler.js';\nexport * from './query-compiler/compiled-query.js';\nexport * from './schema/schema.js';\nexport * from './schema/create-table-builder.js';\nexport * from './schema/create-type-builder.js';\nexport * from './schema/drop-table-builder.js';\nexport * from './schema/drop-type-builder.js';\nexport * from './schema/create-index-builder.js';\nexport * from './schema/drop-index-builder.js';\nexport * from './schema/create-schema-builder.js';\nexport * from './schema/drop-schema-builder.js';\nexport * from './schema/column-definition-builder.js';\nexport * from './schema/foreign-key-constraint-builder.js';\nexport * from './schema/alter-table-builder.js';\nexport * from './schema/create-view-builder.js';\nexport * from './schema/refresh-materialized-view-builder.js';\nexport * from './schema/drop-view-builder.js';\nexport * from './schema/alter-column-builder.js';\nexport * from './dynamic/dynamic.js';\nexport * from './driver/driver.js';\nexport * from './driver/database-connection.js';\nexport * from './driver/connection-provider.js';\nexport * from './driver/default-connection-provider.js';\nexport * from './driver/single-connection-provider.js';\nexport * from './driver/dummy-driver.js';\nexport * from './dialect/dialect.js';\nexport * from './dialect/dialect-adapter.js';\nexport * from './dialect/dialect-adapter-base.js';\nexport * from './dialect/database-introspector.js';\nexport * from './dialect/sqlite/sqlite-dialect.js';\nexport * from './dialect/sqlite/sqlite-dialect-config.js';\nexport * from './dialect/sqlite/sqlite-driver.js';\nexport * from './dialect/postgres/postgres-query-compiler.js';\nexport * from './dialect/postgres/postgres-introspector.js';\nexport * from './dialect/postgres/postgres-adapter.js';\nexport * from './dialect/mysql/mysql-dialect.js';\nexport * from './dialect/mysql/mysql-dialect-config.js';\nexport * from './dialect/mysql/mysql-driver.js';\nexport * from './dialect/mysql/mysql-query-compiler.js';\nexport * from './dialect/mysql/mysql-introspector.js';\nexport * from './dialect/mysql/mysql-adapter.js';\nexport * from './dialect/postgres/postgres-driver.js';\nexport * from './dialect/postgres/postgres-dialect-config.js';\nexport * from './dialect/postgres/postgres-dialect.js';\nexport * from './dialect/sqlite/sqlite-query-compiler.js';\nexport * from './dialect/sqlite/sqlite-introspector.js';\nexport * from './dialect/sqlite/sqlite-adapter.js';\nexport * from './dialect/mssql/mssql-adapter.js';\nexport * from './dialect/mssql/mssql-dialect-config.js';\nexport * from './dialect/mssql/mssql-dialect.js';\nexport * from './dialect/mssql/mssql-driver.js';\nexport * from './dialect/mssql/mssql-introspector.js';\nexport * from './dialect/mssql/mssql-query-compiler.js';\nexport * from './query-compiler/default-query-compiler.js';\nexport * from './query-compiler/query-compiler.js';\nexport * from './migration/migrator.js';\nexport * from './migration/file-migration-provider.js';\nexport * from './plugin/kysely-plugin.js';\nexport * from './plugin/camel-case/camel-case-plugin.js';\nexport * from './plugin/deduplicate-joins/deduplicate-joins-plugin.js';\nexport * from './plugin/with-schema/with-schema-plugin.js';\nexport * from './plugin/parse-json-results/parse-json-results-plugin.js';\nexport * from './plugin/handle-empty-in-lists/handle-empty-in-lists-plugin.js';\nexport * from './plugin/handle-empty-in-lists/handle-empty-in-lists.js';\nexport * from './operation-node/add-column-node.js';\nexport * from './operation-node/add-constraint-node.js';\nexport * from './operation-node/add-index-node.js';\nexport * from './operation-node/aggregate-function-node.js';\nexport * from './operation-node/alias-node.js';\nexport * from './operation-node/alter-column-node.js';\nexport * from './operation-node/alter-table-node.js';\nexport * from './operation-node/and-node.js';\nexport * from './operation-node/binary-operation-node.js';\nexport * from './operation-node/case-node.js';\nexport * from './operation-node/cast-node.js';\nexport * from './operation-node/check-constraint-node.js';\nexport * from './operation-node/collate-node.js';\nexport * from './operation-node/column-definition-node.js';\nexport * from './operation-node/column-node.js';\nexport * from './operation-node/column-update-node.js';\nexport * from './operation-node/common-table-expression-name-node.js';\nexport * from './operation-node/common-table-expression-node.js';\nexport * from './operation-node/constraint-node.js';\nexport * from './operation-node/create-index-node.js';\nexport * from './operation-node/create-schema-node.js';\nexport * from './operation-node/create-table-node.js';\nexport * from './operation-node/create-type-node.js';\nexport * from './operation-node/create-view-node.js';\nexport * from './operation-node/refresh-materialized-view-node.js';\nexport * from './operation-node/data-type-node.js';\nexport * from './operation-node/default-insert-value-node.js';\nexport * from './operation-node/default-value-node.js';\nexport * from './operation-node/delete-query-node.js';\nexport * from './operation-node/drop-column-node.js';\nexport * from './operation-node/drop-constraint-node.js';\nexport * from './operation-node/drop-index-node.js';\nexport * from './operation-node/drop-schema-node.js';\nexport * from './operation-node/drop-table-node.js';\nexport * from './operation-node/drop-type-node.js';\nexport * from './operation-node/drop-view-node.js';\nexport * from './operation-node/explain-node.js';\nexport * from './operation-node/fetch-node.js';\nexport * from './operation-node/foreign-key-constraint-node.js';\nexport * from './operation-node/from-node.js';\nexport * from './operation-node/function-node.js';\nexport * from './operation-node/generated-node.js';\nexport * from './operation-node/group-by-item-node.js';\nexport * from './operation-node/group-by-node.js';\nexport * from './operation-node/having-node.js';\nexport * from './operation-node/identifier-node.js';\nexport * from './operation-node/insert-query-node.js';\nexport * from './operation-node/join-node.js';\nexport * from './operation-node/json-operator-chain-node.js';\nexport * from './operation-node/json-path-leg-node.js';\nexport * from './operation-node/json-path-node.js';\nexport * from './operation-node/json-reference-node.js';\nexport * from './operation-node/limit-node.js';\nexport * from './operation-node/list-node.js';\nexport * from './operation-node/matched-node.js';\nexport * from './operation-node/merge-query-node.js';\nexport * from './operation-node/modify-column-node.js';\nexport * from './operation-node/offset-node.js';\nexport * from './operation-node/on-conflict-node.js';\nexport * from './operation-node/on-duplicate-key-node.js';\nexport * from './operation-node/on-node.js';\nexport * from './operation-node/operation-node-source.js';\nexport * from './operation-node/operation-node-transformer.js';\nexport * from './operation-node/operation-node-visitor.js';\nexport * from './operation-node/operation-node.js';\nexport * from './operation-node/operator-node.js';\nexport * from './operation-node/or-action-node.js';\nexport * from './operation-node/or-node.js';\nexport * from './operation-node/order-by-item-node.js';\nexport * from './operation-node/order-by-node.js';\nexport * from './operation-node/output-node.js';\nexport * from './operation-node/over-node.js';\nexport * from './operation-node/parens-node.js';\nexport * from './operation-node/partition-by-item-node.js';\nexport * from './operation-node/partition-by-node.js';\nexport * from './operation-node/primary-key-constraint-node.js';\nexport * from './operation-node/primitive-value-list-node.js';\nexport * from './operation-node/query-node.js';\nexport * from './operation-node/raw-node.js';\nexport * from './operation-node/reference-node.js';\nexport * from './operation-node/references-node.js';\nexport * from './operation-node/rename-column-node.js';\nexport * from './operation-node/rename-constraint-node.js';\nexport * from './operation-node/returning-node.js';\nexport * from './operation-node/schemable-identifier-node.js';\nexport * from './operation-node/select-all-node.js';\nexport * from './operation-node/select-modifier-node.js';\nexport * from './operation-node/select-query-node.js';\nexport * from './operation-node/selection-node.js';\nexport * from './operation-node/set-operation-node.js';\nexport * from './operation-node/simple-reference-expression-node.js';\nexport * from './operation-node/table-node.js';\nexport * from './operation-node/top-node.js';\nexport * from './operation-node/tuple-node.js';\nexport * from './operation-node/unary-operation-node.js';\nexport * from './operation-node/unique-constraint-node.js';\nexport * from './operation-node/update-query-node.js';\nexport * from './operation-node/using-node.js';\nexport * from './operation-node/value-list-node.js';\nexport * from './operation-node/value-node.js';\nexport * from './operation-node/values-node.js';\nexport * from './operation-node/when-node.js';\nexport * from './operation-node/where-node.js';\nexport * from './operation-node/with-node.js';\nexport * from './util/column-type.js';\nexport * from './util/compilable.js';\nexport * from './util/explainable.js';\nexport * from './util/streamable.js';\nexport * from './util/log.js';\nexport * from './util/infer-result.js';\nexport { logOnce } from './util/log-once.js';\nexport { createQueryId } from './util/query-id.js';\n", "import { CompiledQuery, DefaultQueryCompiler, DEFAULT_MIGRATION_TABLE, DEFAULT_MIGRATION_LOCK_TABLE, sql } from 'kysely';\n\nclass BunSqliteAdapter {\n  get supportsCreateIfNotExists() {\n    return true;\n  }\n  get supportsTransactionalDdl() {\n    return false;\n  }\n  get supportsReturning() {\n    return true;\n  }\n  async acquireMigrationLock() {\n  }\n  async releaseMigrationLock() {\n  }\n  get supportsOutput() {\n    return true;\n  }\n}\nclass BunSqliteDriver {\n  #config;\n  #connectionMutex = new ConnectionMutex();\n  #db;\n  #connection;\n  constructor(config) {\n    this.#config = { ...config };\n  }\n  async init() {\n    this.#db = this.#config.database;\n    this.#connection = new BunSqliteConnection(this.#db);\n    if (this.#config.onCreateConnection) {\n      await this.#config.onCreateConnection(this.#connection);\n    }\n  }\n  async acquireConnection() {\n    await this.#connectionMutex.lock();\n    return this.#connection;\n  }\n  async beginTransaction(connection) {\n    await connection.executeQuery(CompiledQuery.raw(\"begin\"));\n  }\n  async commitTransaction(connection) {\n    await connection.executeQuery(CompiledQuery.raw(\"commit\"));\n  }\n  async rollbackTransaction(connection) {\n    await connection.executeQuery(CompiledQuery.raw(\"rollback\"));\n  }\n  async releaseConnection() {\n    this.#connectionMutex.unlock();\n  }\n  async destroy() {\n    this.#db?.close();\n  }\n}\nclass BunSqliteConnection {\n  #db;\n  constructor(db) {\n    this.#db = db;\n  }\n  executeQuery(compiledQuery) {\n    const { sql: sql2, parameters } = compiledQuery;\n    const stmt = this.#db.prepare(sql2);\n    return Promise.resolve({\n      rows: stmt.all(parameters)\n    });\n  }\n  async *streamQuery() {\n    throw new Error(\"Streaming query is not supported by SQLite driver.\");\n  }\n}\nclass ConnectionMutex {\n  #promise;\n  #resolve;\n  async lock() {\n    while (this.#promise) {\n      await this.#promise;\n    }\n    this.#promise = new Promise((resolve) => {\n      this.#resolve = resolve;\n    });\n  }\n  unlock() {\n    const resolve = this.#resolve;\n    this.#promise = void 0;\n    this.#resolve = void 0;\n    resolve?.();\n  }\n}\nclass BunSqliteIntrospector {\n  #db;\n  constructor(db) {\n    this.#db = db;\n  }\n  async getSchemas() {\n    return [];\n  }\n  async getTables(options = { withInternalKyselyTables: false }) {\n    let query = this.#db.selectFrom(\"sqlite_schema\").where(\"type\", \"=\", \"table\").where(\"name\", \"not like\", \"sqlite_%\").select(\"name\").$castTo();\n    if (!options.withInternalKyselyTables) {\n      query = query.where(\"name\", \"!=\", DEFAULT_MIGRATION_TABLE).where(\"name\", \"!=\", DEFAULT_MIGRATION_LOCK_TABLE);\n    }\n    const tables = await query.execute();\n    return Promise.all(tables.map(({ name }) => this.#getTableMetadata(name)));\n  }\n  async getMetadata(options) {\n    return {\n      tables: await this.getTables(options)\n    };\n  }\n  async #getTableMetadata(table) {\n    const db = this.#db;\n    const createSql = await db.selectFrom(\"sqlite_master\").where(\"name\", \"=\", table).select(\"sql\").$castTo().execute();\n    const autoIncrementCol = createSql[0]?.sql?.split(/[\\(\\),]/)?.find((it) => it.toLowerCase().includes(\"autoincrement\"))?.split(/\\s+/)?.[0]?.replace(/[\"`]/g, \"\");\n    const columns = await db.selectFrom(\n      sql`pragma_table_info(${table})`.as(\"table_info\")\n    ).select([\"name\", \"type\", \"notnull\", \"dflt_value\"]).execute();\n    return {\n      name: table,\n      columns: columns.map((col) => ({\n        name: col.name,\n        dataType: col.type,\n        isNullable: !col.notnull,\n        isAutoIncrementing: col.name === autoIncrementCol,\n        hasDefaultValue: col.dflt_value != null\n      })),\n      isView: true\n    };\n  }\n}\nclass BunSqliteQueryCompiler extends DefaultQueryCompiler {\n  getCurrentParameterPlaceholder() {\n    return \"?\";\n  }\n  getLeftIdentifierWrapper() {\n    return '\"';\n  }\n  getRightIdentifierWrapper() {\n    return '\"';\n  }\n  getAutoIncrement() {\n    return \"autoincrement\";\n  }\n}\nclass BunSqliteDialect {\n  #config;\n  constructor(config) {\n    this.#config = { ...config };\n  }\n  createDriver() {\n    return new BunSqliteDriver(this.#config);\n  }\n  createQueryCompiler() {\n    return new BunSqliteQueryCompiler();\n  }\n  createAdapter() {\n    return new BunSqliteAdapter();\n  }\n  createIntrospector(db) {\n    return new BunSqliteIntrospector(db);\n  }\n}\n\nexport { BunSqliteAdapter, BunSqliteDialect, BunSqliteDriver, BunSqliteIntrospector, BunSqliteQueryCompiler };\n", "// This loads all middlewares exposed on the middleware object and then starts\n// the invocation chain. The big idea is that we can add these to the middleware\n// export dynamically through wrangler, or we can potentially let users directly\n// add them as a sort of \"plugin\" system.\n\nimport ENTRY, { __INTERNAL_WRANGLER_MIDDLEWARE__ } from \"/Users/braden/Code/whispering/apps/auth/.wrangler/tmp/bundle-VdaOLi/middleware-insertion-facade.js\";\nimport { __facade_invoke__, __facade_register__, Dispatcher } from \"/Users/braden/Code/whispering/node_modules/wrangler/templates/middleware/common.ts\";\nimport type { WorkerEntrypointConstructor } from \"/Users/braden/Code/whispering/apps/auth/.wrangler/tmp/bundle-VdaOLi/middleware-insertion-facade.js\";\n\n// Preserve all the exports from the worker\nexport * from \"/Users/braden/Code/whispering/apps/auth/.wrangler/tmp/bundle-VdaOLi/middleware-insertion-facade.js\";\n\nclass __Facade_ScheduledController__ implements ScheduledController {\n\treadonly #noRetry: ScheduledController[\"noRetry\"];\n\n\tconstructor(\n\t\treadonly scheduledTime: number,\n\t\treadonly cron: string,\n\t\tnoRetry: ScheduledController[\"noRetry\"]\n\t) {\n\t\tthis.#noRetry = noRetry;\n\t}\n\n\tnoRetry() {\n\t\tif (!(this instanceof __Facade_ScheduledController__)) {\n\t\t\tthrow new TypeError(\"Illegal invocation\");\n\t\t}\n\t\t// Need to call native method immediately in case uncaught error thrown\n\t\tthis.#noRetry();\n\t}\n}\n\nfunction wrapExportedHandler(worker: ExportedHandler): ExportedHandler {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn worker;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\tconst fetchDispatcher: ExportedHandlerFetchHandler = function (\n\t\trequest,\n\t\tenv,\n\t\tctx\n\t) {\n\t\tif (worker.fetch === undefined) {\n\t\t\tthrow new Error(\"Handler does not export a fetch() function.\");\n\t\t}\n\t\treturn worker.fetch(request, env, ctx);\n\t};\n\n\treturn {\n\t\t...worker,\n\t\tfetch(request, env, ctx) {\n\t\t\tconst dispatcher: Dispatcher = function (type, init) {\n\t\t\t\tif (type === \"scheduled\" && worker.scheduled !== undefined) {\n\t\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\t\tDate.now(),\n\t\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t\t() => {}\n\t\t\t\t\t);\n\t\t\t\t\treturn worker.scheduled(controller, env, ctx);\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn __facade_invoke__(request, env, ctx, dispatcher, fetchDispatcher);\n\t\t},\n\t};\n}\n\nfunction wrapWorkerEntrypoint(\n\tklass: WorkerEntrypointConstructor\n): WorkerEntrypointConstructor {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn klass;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\t// `extend`ing `klass` here so other RPC methods remain callable\n\treturn class extends klass {\n\t\t#fetchDispatcher: ExportedHandlerFetchHandler<Record<string, unknown>> = (\n\t\t\trequest,\n\t\t\tenv,\n\t\t\tctx\n\t\t) => {\n\t\t\tthis.env = env;\n\t\t\tthis.ctx = ctx;\n\t\t\tif (super.fetch === undefined) {\n\t\t\t\tthrow new Error(\"Entrypoint class does not define a fetch() function.\");\n\t\t\t}\n\t\t\treturn super.fetch(request);\n\t\t};\n\n\t\t#dispatcher: Dispatcher = (type, init) => {\n\t\t\tif (type === \"scheduled\" && super.scheduled !== undefined) {\n\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\tDate.now(),\n\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t() => {}\n\t\t\t\t);\n\t\t\t\treturn super.scheduled(controller);\n\t\t\t}\n\t\t};\n\n\t\tfetch(request: Request<unknown, IncomingRequestCfProperties>) {\n\t\t\treturn __facade_invoke__(\n\t\t\t\trequest,\n\t\t\t\tthis.env,\n\t\t\t\tthis.ctx,\n\t\t\t\tthis.#dispatcher,\n\t\t\t\tthis.#fetchDispatcher\n\t\t\t);\n\t\t}\n\t};\n}\n\nlet WRAPPED_ENTRY: ExportedHandler | WorkerEntrypointConstructor | undefined;\nif (typeof ENTRY === \"object\") {\n\tWRAPPED_ENTRY = wrapExportedHandler(ENTRY);\n} else if (typeof ENTRY === \"function\") {\n\tWRAPPED_ENTRY = wrapWorkerEntrypoint(ENTRY);\n}\nexport default WRAPPED_ENTRY;\n", "\t\t\t\timport worker, * as OTHER_EXPORTS from \"/Users/braden/Code/whispering/apps/auth/src/index.ts\";\n\t\t\t\timport * as __MIDDLEWARE_0__ from \"/Users/braden/Code/whispering/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts\";\nimport * as __MIDDLEWARE_1__ from \"/Users/braden/Code/whispering/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts\";\n\n\t\t\t\texport * from \"/Users/braden/Code/whispering/apps/auth/src/index.ts\";\n\t\t\t\tconst MIDDLEWARE_TEST_INJECT = \"__INJECT_FOR_TESTING_WRANGLER_MIDDLEWARE__\";\n\t\t\t\texport const __INTERNAL_WRANGLER_MIDDLEWARE__ = [\n\t\t\t\t\t\n\t\t\t\t\t__MIDDLEWARE_0__.default,__MIDDLEWARE_1__.default\n\t\t\t\t]\n\t\t\t\texport default worker;", "import { Hono } from 'hono';\nimport { cors } from 'hono/cors';\nimport { APP_URLS, type CloudflareEnv } from '@repo/constants/cloudflare';\nimport { auth } from './lib/auth';\n\nconst app = new Hono<{ Bindings: CloudflareEnv }>();\n\napp.use('/api/auth/*', (c, next) =>\n\tcors({\n\t\torigin: APP_URLS(c.env),\n\t\tallowHeaders: ['Content-Type', 'Authorization'],\n\t\tallowMethods: ['POST', 'GET', 'OPTIONS'],\n\t\texposeHeaders: ['Content-Length'],\n\t\tmaxAge: 600,\n\t\tcredentials: true,\n\t})(c, next),\n);\n\napp.on(['POST', 'GET'], '/api/auth/*', (c) => {\n\treturn auth(c.env).handler(c.req.raw);\n});\n\nexport type AppType = typeof app;\n\nexport default app;\n", "// src/index.ts\nimport { Hono } from \"./hono.js\";\nexport {\n  Hono\n};\n", "// src/hono.ts\nimport { HonoBase } from \"./hono-base.js\";\nimport { RegExpRouter } from \"./router/reg-exp-router/index.js\";\nimport { SmartRouter } from \"./router/smart-router/index.js\";\nimport { TrieRouter } from \"./router/trie-router/index.js\";\nvar Hono = class extends HonoBase {\n  constructor(options = {}) {\n    super(options);\n    this.router = options.router ?? new SmartRouter({\n      routers: [new RegExpRouter(), new TrieRouter()]\n    });\n  }\n};\nexport {\n  Hono\n};\n", "// src/hono-base.ts\nimport { compose } from \"./compose.js\";\nimport { Context } from \"./context.js\";\nimport { METHODS, METHOD_NAME_ALL, METHOD_NAME_ALL_LOWERCASE } from \"./router.js\";\nimport { COMPOSED_HANDLER } from \"./utils/constants.js\";\nimport { getPath, getPathNoStrict, mergePath } from \"./utils/url.js\";\nvar notFoundHandler = (c) => {\n  return c.text(\"404 Not Found\", 404);\n};\nvar errorHandler = (err, c) => {\n  if (\"getResponse\" in err) {\n    const res = err.getResponse();\n    return c.newResponse(res.body, res);\n  }\n  console.error(err);\n  return c.text(\"Internal Server Error\", 500);\n};\nvar Hono = class {\n  get;\n  post;\n  put;\n  delete;\n  options;\n  patch;\n  all;\n  on;\n  use;\n  router;\n  getPath;\n  _basePath = \"/\";\n  #path = \"/\";\n  routes = [];\n  constructor(options = {}) {\n    const allMethods = [...METHODS, METHOD_NAME_ALL_LOWERCASE];\n    allMethods.forEach((method) => {\n      this[method] = (args1, ...args) => {\n        if (typeof args1 === \"string\") {\n          this.#path = args1;\n        } else {\n          this.#addRoute(method, this.#path, args1);\n        }\n        args.forEach((handler) => {\n          this.#addRoute(method, this.#path, handler);\n        });\n        return this;\n      };\n    });\n    this.on = (method, path, ...handlers) => {\n      for (const p of [path].flat()) {\n        this.#path = p;\n        for (const m of [method].flat()) {\n          handlers.map((handler) => {\n            this.#addRoute(m.toUpperCase(), this.#path, handler);\n          });\n        }\n      }\n      return this;\n    };\n    this.use = (arg1, ...handlers) => {\n      if (typeof arg1 === \"string\") {\n        this.#path = arg1;\n      } else {\n        this.#path = \"*\";\n        handlers.unshift(arg1);\n      }\n      handlers.forEach((handler) => {\n        this.#addRoute(METHOD_NAME_ALL, this.#path, handler);\n      });\n      return this;\n    };\n    const { strict, ...optionsWithoutStrict } = options;\n    Object.assign(this, optionsWithoutStrict);\n    this.getPath = strict ?? true ? options.getPath ?? getPath : getPathNoStrict;\n  }\n  #clone() {\n    const clone = new Hono({\n      router: this.router,\n      getPath: this.getPath\n    });\n    clone.errorHandler = this.errorHandler;\n    clone.#notFoundHandler = this.#notFoundHandler;\n    clone.routes = this.routes;\n    return clone;\n  }\n  #notFoundHandler = notFoundHandler;\n  errorHandler = errorHandler;\n  route(path, app) {\n    const subApp = this.basePath(path);\n    app.routes.map((r) => {\n      let handler;\n      if (app.errorHandler === errorHandler) {\n        handler = r.handler;\n      } else {\n        handler = async (c, next) => (await compose([], app.errorHandler)(c, () => r.handler(c, next))).res;\n        handler[COMPOSED_HANDLER] = r.handler;\n      }\n      subApp.#addRoute(r.method, r.path, handler);\n    });\n    return this;\n  }\n  basePath(path) {\n    const subApp = this.#clone();\n    subApp._basePath = mergePath(this._basePath, path);\n    return subApp;\n  }\n  onError = (handler) => {\n    this.errorHandler = handler;\n    return this;\n  };\n  notFound = (handler) => {\n    this.#notFoundHandler = handler;\n    return this;\n  };\n  mount(path, applicationHandler, options) {\n    let replaceRequest;\n    let optionHandler;\n    if (options) {\n      if (typeof options === \"function\") {\n        optionHandler = options;\n      } else {\n        optionHandler = options.optionHandler;\n        if (options.replaceRequest === false) {\n          replaceRequest = (request) => request;\n        } else {\n          replaceRequest = options.replaceRequest;\n        }\n      }\n    }\n    const getOptions = optionHandler ? (c) => {\n      const options2 = optionHandler(c);\n      return Array.isArray(options2) ? options2 : [options2];\n    } : (c) => {\n      let executionContext = void 0;\n      try {\n        executionContext = c.executionCtx;\n      } catch {\n      }\n      return [c.env, executionContext];\n    };\n    replaceRequest ||= (() => {\n      const mergedPath = mergePath(this._basePath, path);\n      const pathPrefixLength = mergedPath === \"/\" ? 0 : mergedPath.length;\n      return (request) => {\n        const url = new URL(request.url);\n        url.pathname = url.pathname.slice(pathPrefixLength) || \"/\";\n        return new Request(url, request);\n      };\n    })();\n    const handler = async (c, next) => {\n      const res = await applicationHandler(replaceRequest(c.req.raw), ...getOptions(c));\n      if (res) {\n        return res;\n      }\n      await next();\n    };\n    this.#addRoute(METHOD_NAME_ALL, mergePath(path, \"*\"), handler);\n    return this;\n  }\n  #addRoute(method, path, handler) {\n    method = method.toUpperCase();\n    path = mergePath(this._basePath, path);\n    const r = { basePath: this._basePath, path, method, handler };\n    this.router.add(method, path, [handler, r]);\n    this.routes.push(r);\n  }\n  #handleError(err, c) {\n    if (err instanceof Error) {\n      return this.errorHandler(err, c);\n    }\n    throw err;\n  }\n  #dispatch(request, executionCtx, env, method) {\n    if (method === \"HEAD\") {\n      return (async () => new Response(null, await this.#dispatch(request, executionCtx, env, \"GET\")))();\n    }\n    const path = this.getPath(request, { env });\n    const matchResult = this.router.match(method, path);\n    const c = new Context(request, {\n      path,\n      matchResult,\n      env,\n      executionCtx,\n      notFoundHandler: this.#notFoundHandler\n    });\n    if (matchResult[0].length === 1) {\n      let res;\n      try {\n        res = matchResult[0][0][0][0](c, async () => {\n          c.res = await this.#notFoundHandler(c);\n        });\n      } catch (err) {\n        return this.#handleError(err, c);\n      }\n      return res instanceof Promise ? res.then(\n        (resolved) => resolved || (c.finalized ? c.res : this.#notFoundHandler(c))\n      ).catch((err) => this.#handleError(err, c)) : res ?? this.#notFoundHandler(c);\n    }\n    const composed = compose(matchResult[0], this.errorHandler, this.#notFoundHandler);\n    return (async () => {\n      try {\n        const context = await composed(c);\n        if (!context.finalized) {\n          throw new Error(\n            \"Context is not finalized. Did you forget to return a Response object or `await next()`?\"\n          );\n        }\n        return context.res;\n      } catch (err) {\n        return this.#handleError(err, c);\n      }\n    })();\n  }\n  fetch = (request, ...rest) => {\n    return this.#dispatch(request, rest[1], rest[0], request.method);\n  };\n  request = (input, requestInit, Env, executionCtx) => {\n    if (input instanceof Request) {\n      return this.fetch(requestInit ? new Request(input, requestInit) : input, Env, executionCtx);\n    }\n    input = input.toString();\n    return this.fetch(\n      new Request(\n        /^https?:\\/\\//.test(input) ? input : `http://localhost${mergePath(\"/\", input)}`,\n        requestInit\n      ),\n      Env,\n      executionCtx\n    );\n  };\n  fire = () => {\n    addEventListener(\"fetch\", (event) => {\n      event.respondWith(this.#dispatch(event.request, event, void 0, event.request.method));\n    });\n  };\n};\nexport {\n  Hono as HonoBase\n};\n", "// src/compose.ts\nvar compose = (middleware, onError, onNotFound) => {\n  return (context, next) => {\n    let index = -1;\n    return dispatch(0);\n    async function dispatch(i) {\n      if (i <= index) {\n        throw new Error(\"next() called multiple times\");\n      }\n      index = i;\n      let res;\n      let isError = false;\n      let handler;\n      if (middleware[i]) {\n        handler = middleware[i][0][0];\n        context.req.routeIndex = i;\n      } else {\n        handler = i === middleware.length && next || void 0;\n      }\n      if (handler) {\n        try {\n          res = await handler(context, () => dispatch(i + 1));\n        } catch (err) {\n          if (err instanceof Error && onError) {\n            context.error = err;\n            res = await onError(err, context);\n            isError = true;\n          } else {\n            throw err;\n          }\n        }\n      } else {\n        if (context.finalized === false && onNotFound) {\n          res = await onNotFound(context);\n        }\n      }\n      if (res && (context.finalized === false || isError)) {\n        context.res = res;\n      }\n      return context;\n    }\n  };\n};\nexport {\n  compose\n};\n", "// src/context.ts\nimport { HonoRequest } from \"./request.js\";\nimport { HtmlEscapedCallbackPhase, resolveCallback } from \"./utils/html.js\";\nvar TEXT_PLAIN = \"text/plain; charset=UTF-8\";\nvar setDefaultContentType = (contentType, headers) => {\n  return {\n    \"Content-Type\": contentType,\n    ...headers\n  };\n};\nvar Context = class {\n  #rawRequest;\n  #req;\n  env = {};\n  #var;\n  finalized = false;\n  error;\n  #status;\n  #executionCtx;\n  #res;\n  #layout;\n  #renderer;\n  #notFoundHandler;\n  #preparedHeaders;\n  #matchResult;\n  #path;\n  constructor(req, options) {\n    this.#rawRequest = req;\n    if (options) {\n      this.#executionCtx = options.executionCtx;\n      this.env = options.env;\n      this.#notFoundHandler = options.notFoundHandler;\n      this.#path = options.path;\n      this.#matchResult = options.matchResult;\n    }\n  }\n  get req() {\n    this.#req ??= new HonoRequest(this.#rawRequest, this.#path, this.#matchResult);\n    return this.#req;\n  }\n  get event() {\n    if (this.#executionCtx && \"respondWith\" in this.#executionCtx) {\n      return this.#executionCtx;\n    } else {\n      throw Error(\"This context has no FetchEvent\");\n    }\n  }\n  get executionCtx() {\n    if (this.#executionCtx) {\n      return this.#executionCtx;\n    } else {\n      throw Error(\"This context has no ExecutionContext\");\n    }\n  }\n  get res() {\n    return this.#res ||= new Response(null, {\n      headers: this.#preparedHeaders ??= new Headers()\n    });\n  }\n  set res(_res) {\n    if (this.#res && _res) {\n      _res = new Response(_res.body, _res);\n      for (const [k, v] of this.#res.headers.entries()) {\n        if (k === \"content-type\") {\n          continue;\n        }\n        if (k === \"set-cookie\") {\n          const cookies = this.#res.headers.getSetCookie();\n          _res.headers.delete(\"set-cookie\");\n          for (const cookie of cookies) {\n            _res.headers.append(\"set-cookie\", cookie);\n          }\n        } else {\n          _res.headers.set(k, v);\n        }\n      }\n    }\n    this.#res = _res;\n    this.finalized = true;\n  }\n  render = (...args) => {\n    this.#renderer ??= (content) => this.html(content);\n    return this.#renderer(...args);\n  };\n  setLayout = (layout) => this.#layout = layout;\n  getLayout = () => this.#layout;\n  setRenderer = (renderer) => {\n    this.#renderer = renderer;\n  };\n  header = (name, value, options) => {\n    if (this.finalized) {\n      this.#res = new Response(this.#res.body, this.#res);\n    }\n    const headers = this.#res ? this.#res.headers : this.#preparedHeaders ??= new Headers();\n    if (value === void 0) {\n      headers.delete(name);\n    } else if (options?.append) {\n      headers.append(name, value);\n    } else {\n      headers.set(name, value);\n    }\n  };\n  status = (status) => {\n    this.#status = status;\n  };\n  set = (key, value) => {\n    this.#var ??= /* @__PURE__ */ new Map();\n    this.#var.set(key, value);\n  };\n  get = (key) => {\n    return this.#var ? this.#var.get(key) : void 0;\n  };\n  get var() {\n    if (!this.#var) {\n      return {};\n    }\n    return Object.fromEntries(this.#var);\n  }\n  #newResponse(data, arg, headers) {\n    const responseHeaders = this.#res ? new Headers(this.#res.headers) : this.#preparedHeaders ?? new Headers();\n    if (typeof arg === \"object\" && \"headers\" in arg) {\n      const argHeaders = arg.headers instanceof Headers ? arg.headers : new Headers(arg.headers);\n      for (const [key, value] of argHeaders) {\n        if (key.toLowerCase() === \"set-cookie\") {\n          responseHeaders.append(key, value);\n        } else {\n          responseHeaders.set(key, value);\n        }\n      }\n    }\n    if (headers) {\n      for (const [k, v] of Object.entries(headers)) {\n        if (typeof v === \"string\") {\n          responseHeaders.set(k, v);\n        } else {\n          responseHeaders.delete(k);\n          for (const v2 of v) {\n            responseHeaders.append(k, v2);\n          }\n        }\n      }\n    }\n    const status = typeof arg === \"number\" ? arg : arg?.status ?? this.#status;\n    return new Response(data, { status, headers: responseHeaders });\n  }\n  newResponse = (...args) => this.#newResponse(...args);\n  body = (data, arg, headers) => this.#newResponse(data, arg, headers);\n  text = (text, arg, headers) => {\n    return !this.#preparedHeaders && !this.#status && !arg && !headers && !this.finalized ? new Response(text) : this.#newResponse(\n      text,\n      arg,\n      setDefaultContentType(TEXT_PLAIN, headers)\n    );\n  };\n  json = (object, arg, headers) => {\n    return this.#newResponse(\n      JSON.stringify(object),\n      arg,\n      setDefaultContentType(\"application/json\", headers)\n    );\n  };\n  html = (html, arg, headers) => {\n    const res = (html2) => this.#newResponse(html2, arg, setDefaultContentType(\"text/html; charset=UTF-8\", headers));\n    return typeof html === \"object\" ? resolveCallback(html, HtmlEscapedCallbackPhase.Stringify, false, {}).then(res) : res(html);\n  };\n  redirect = (location, status) => {\n    const locationString = String(location);\n    this.header(\n      \"Location\",\n      !/[^\\x00-\\xFF]/.test(locationString) ? locationString : encodeURI(locationString)\n    );\n    return this.newResponse(null, status ?? 302);\n  };\n  notFound = () => {\n    this.#notFoundHandler ??= () => new Response();\n    return this.#notFoundHandler(this);\n  };\n};\nexport {\n  Context,\n  TEXT_PLAIN\n};\n", "// src/request.ts\nimport { GET_MATCH_RESULT } from \"./request/constants.js\";\nimport { parseBody } from \"./utils/body.js\";\nimport { decodeURIComponent_, getQueryParam, getQueryParams, tryDecode } from \"./utils/url.js\";\nvar tryDecodeURIComponent = (str) => tryDecode(str, decodeURIComponent_);\nvar HonoRequest = class {\n  raw;\n  #validatedData;\n  #matchResult;\n  routeIndex = 0;\n  path;\n  bodyCache = {};\n  constructor(request, path = \"/\", matchResult = [[]]) {\n    this.raw = request;\n    this.path = path;\n    this.#matchResult = matchResult;\n    this.#validatedData = {};\n  }\n  param(key) {\n    return key ? this.#getDecodedParam(key) : this.#getAllDecodedParams();\n  }\n  #getDecodedParam(key) {\n    const paramKey = this.#matchResult[0][this.routeIndex][1][key];\n    const param = this.#getParamValue(paramKey);\n    return param ? /\\%/.test(param) ? tryDecodeURIComponent(param) : param : void 0;\n  }\n  #getAllDecodedParams() {\n    const decoded = {};\n    const keys = Object.keys(this.#matchResult[0][this.routeIndex][1]);\n    for (const key of keys) {\n      const value = this.#getParamValue(this.#matchResult[0][this.routeIndex][1][key]);\n      if (value && typeof value === \"string\") {\n        decoded[key] = /\\%/.test(value) ? tryDecodeURIComponent(value) : value;\n      }\n    }\n    return decoded;\n  }\n  #getParamValue(paramKey) {\n    return this.#matchResult[1] ? this.#matchResult[1][paramKey] : paramKey;\n  }\n  query(key) {\n    return getQueryParam(this.url, key);\n  }\n  queries(key) {\n    return getQueryParams(this.url, key);\n  }\n  header(name) {\n    if (name) {\n      return this.raw.headers.get(name) ?? void 0;\n    }\n    const headerData = {};\n    this.raw.headers.forEach((value, key) => {\n      headerData[key] = value;\n    });\n    return headerData;\n  }\n  async parseBody(options) {\n    return this.bodyCache.parsedBody ??= await parseBody(this, options);\n  }\n  #cachedBody = (key) => {\n    const { bodyCache, raw } = this;\n    const cachedBody = bodyCache[key];\n    if (cachedBody) {\n      return cachedBody;\n    }\n    const anyCachedKey = Object.keys(bodyCache)[0];\n    if (anyCachedKey) {\n      return bodyCache[anyCachedKey].then((body) => {\n        if (anyCachedKey === \"json\") {\n          body = JSON.stringify(body);\n        }\n        return new Response(body)[key]();\n      });\n    }\n    return bodyCache[key] = raw[key]();\n  };\n  json() {\n    return this.#cachedBody(\"text\").then((text) => JSON.parse(text));\n  }\n  text() {\n    return this.#cachedBody(\"text\");\n  }\n  arrayBuffer() {\n    return this.#cachedBody(\"arrayBuffer\");\n  }\n  blob() {\n    return this.#cachedBody(\"blob\");\n  }\n  formData() {\n    return this.#cachedBody(\"formData\");\n  }\n  addValidatedData(target, data) {\n    this.#validatedData[target] = data;\n  }\n  valid(target) {\n    return this.#validatedData[target];\n  }\n  get url() {\n    return this.raw.url;\n  }\n  get method() {\n    return this.raw.method;\n  }\n  get [GET_MATCH_RESULT]() {\n    return this.#matchResult;\n  }\n  get matchedRoutes() {\n    return this.#matchResult[0].map(([[, route]]) => route);\n  }\n  get routePath() {\n    return this.#matchResult[0].map(([[, route]]) => route)[this.routeIndex].path;\n  }\n};\nexport {\n  HonoRequest\n};\n", "// src/request/constants.ts\nvar GET_MATCH_RESULT = Symbol();\nexport {\n  GET_MATCH_RESULT\n};\n", "// src/utils/body.ts\nimport { HonoRequest } from \"../request.js\";\nvar parseBody = async (request, options = /* @__PURE__ */ Object.create(null)) => {\n  const { all = false, dot = false } = options;\n  const headers = request instanceof HonoRequest ? request.raw.headers : request.headers;\n  const contentType = headers.get(\"Content-Type\");\n  if (contentType?.startsWith(\"multipart/form-data\") || contentType?.startsWith(\"application/x-www-form-urlencoded\")) {\n    return parseFormData(request, { all, dot });\n  }\n  return {};\n};\nasync function parseFormData(request, options) {\n  const formData = await request.formData();\n  if (formData) {\n    return convertFormDataToBodyData(formData, options);\n  }\n  return {};\n}\nfunction convertFormDataToBodyData(formData, options) {\n  const form = /* @__PURE__ */ Object.create(null);\n  formData.forEach((value, key) => {\n    const shouldParseAllValues = options.all || key.endsWith(\"[]\");\n    if (!shouldParseAllValues) {\n      form[key] = value;\n    } else {\n      handleParsingAllValues(form, key, value);\n    }\n  });\n  if (options.dot) {\n    Object.entries(form).forEach(([key, value]) => {\n      const shouldParseDotValues = key.includes(\".\");\n      if (shouldParseDotValues) {\n        handleParsingNestedValues(form, key, value);\n        delete form[key];\n      }\n    });\n  }\n  return form;\n}\nvar handleParsingAllValues = (form, key, value) => {\n  if (form[key] !== void 0) {\n    if (Array.isArray(form[key])) {\n      ;\n      form[key].push(value);\n    } else {\n      form[key] = [form[key], value];\n    }\n  } else {\n    if (!key.endsWith(\"[]\")) {\n      form[key] = value;\n    } else {\n      form[key] = [value];\n    }\n  }\n};\nvar handleParsingNestedValues = (form, key, value) => {\n  let nestedForm = form;\n  const keys = key.split(\".\");\n  keys.forEach((key2, index) => {\n    if (index === keys.length - 1) {\n      nestedForm[key2] = value;\n    } else {\n      if (!nestedForm[key2] || typeof nestedForm[key2] !== \"object\" || Array.isArray(nestedForm[key2]) || nestedForm[key2] instanceof File) {\n        nestedForm[key2] = /* @__PURE__ */ Object.create(null);\n      }\n      nestedForm = nestedForm[key2];\n    }\n  });\n};\nexport {\n  parseBody\n};\n", "// src/utils/url.ts\nvar splitPath = (path) => {\n  const paths = path.split(\"/\");\n  if (paths[0] === \"\") {\n    paths.shift();\n  }\n  return paths;\n};\nvar splitRoutingPath = (routePath) => {\n  const { groups, path } = extractGroupsFromPath(routePath);\n  const paths = splitPath(path);\n  return replaceGroupMarks(paths, groups);\n};\nvar extractGroupsFromPath = (path) => {\n  const groups = [];\n  path = path.replace(/\\{[^}]+\\}/g, (match, index) => {\n    const mark = `@${index}`;\n    groups.push([mark, match]);\n    return mark;\n  });\n  return { groups, path };\n};\nvar replaceGroupMarks = (paths, groups) => {\n  for (let i = groups.length - 1; i >= 0; i--) {\n    const [mark] = groups[i];\n    for (let j = paths.length - 1; j >= 0; j--) {\n      if (paths[j].includes(mark)) {\n        paths[j] = paths[j].replace(mark, groups[i][1]);\n        break;\n      }\n    }\n  }\n  return paths;\n};\nvar patternCache = {};\nvar getPattern = (label, next) => {\n  if (label === \"*\") {\n    return \"*\";\n  }\n  const match = label.match(/^\\:([^\\{\\}]+)(?:\\{(.+)\\})?$/);\n  if (match) {\n    const cacheKey = `${label}#${next}`;\n    if (!patternCache[cacheKey]) {\n      if (match[2]) {\n        patternCache[cacheKey] = next && next[0] !== \":\" && next[0] !== \"*\" ? [cacheKey, match[1], new RegExp(`^${match[2]}(?=/${next})`)] : [label, match[1], new RegExp(`^${match[2]}$`)];\n      } else {\n        patternCache[cacheKey] = [label, match[1], true];\n      }\n    }\n    return patternCache[cacheKey];\n  }\n  return null;\n};\nvar tryDecode = (str, decoder) => {\n  try {\n    return decoder(str);\n  } catch {\n    return str.replace(/(?:%[0-9A-Fa-f]{2})+/g, (match) => {\n      try {\n        return decoder(match);\n      } catch {\n        return match;\n      }\n    });\n  }\n};\nvar tryDecodeURI = (str) => tryDecode(str, decodeURI);\nvar getPath = (request) => {\n  const url = request.url;\n  const start = url.indexOf(\n    \"/\",\n    url.charCodeAt(9) === 58 ? 13 : 8\n  );\n  let i = start;\n  for (; i < url.length; i++) {\n    const charCode = url.charCodeAt(i);\n    if (charCode === 37) {\n      const queryIndex = url.indexOf(\"?\", i);\n      const path = url.slice(start, queryIndex === -1 ? void 0 : queryIndex);\n      return tryDecodeURI(path.includes(\"%25\") ? path.replace(/%25/g, \"%2525\") : path);\n    } else if (charCode === 63) {\n      break;\n    }\n  }\n  return url.slice(start, i);\n};\nvar getQueryStrings = (url) => {\n  const queryIndex = url.indexOf(\"?\", 8);\n  return queryIndex === -1 ? \"\" : \"?\" + url.slice(queryIndex + 1);\n};\nvar getPathNoStrict = (request) => {\n  const result = getPath(request);\n  return result.length > 1 && result.at(-1) === \"/\" ? result.slice(0, -1) : result;\n};\nvar mergePath = (base, sub, ...rest) => {\n  if (rest.length) {\n    sub = mergePath(sub, ...rest);\n  }\n  return `${base?.[0] === \"/\" ? \"\" : \"/\"}${base}${sub === \"/\" ? \"\" : `${base?.at(-1) === \"/\" ? \"\" : \"/\"}${sub?.[0] === \"/\" ? sub.slice(1) : sub}`}`;\n};\nvar checkOptionalParameter = (path) => {\n  if (path.charCodeAt(path.length - 1) !== 63 || !path.includes(\":\")) {\n    return null;\n  }\n  const segments = path.split(\"/\");\n  const results = [];\n  let basePath = \"\";\n  segments.forEach((segment) => {\n    if (segment !== \"\" && !/\\:/.test(segment)) {\n      basePath += \"/\" + segment;\n    } else if (/\\:/.test(segment)) {\n      if (/\\?/.test(segment)) {\n        if (results.length === 0 && basePath === \"\") {\n          results.push(\"/\");\n        } else {\n          results.push(basePath);\n        }\n        const optionalSegment = segment.replace(\"?\", \"\");\n        basePath += \"/\" + optionalSegment;\n        results.push(basePath);\n      } else {\n        basePath += \"/\" + segment;\n      }\n    }\n  });\n  return results.filter((v, i, a) => a.indexOf(v) === i);\n};\nvar _decodeURI = (value) => {\n  if (!/[%+]/.test(value)) {\n    return value;\n  }\n  if (value.indexOf(\"+\") !== -1) {\n    value = value.replace(/\\+/g, \" \");\n  }\n  return value.indexOf(\"%\") !== -1 ? tryDecode(value, decodeURIComponent_) : value;\n};\nvar _getQueryParam = (url, key, multiple) => {\n  let encoded;\n  if (!multiple && key && !/[%+]/.test(key)) {\n    let keyIndex2 = url.indexOf(`?${key}`, 8);\n    if (keyIndex2 === -1) {\n      keyIndex2 = url.indexOf(`&${key}`, 8);\n    }\n    while (keyIndex2 !== -1) {\n      const trailingKeyCode = url.charCodeAt(keyIndex2 + key.length + 1);\n      if (trailingKeyCode === 61) {\n        const valueIndex = keyIndex2 + key.length + 2;\n        const endIndex = url.indexOf(\"&\", valueIndex);\n        return _decodeURI(url.slice(valueIndex, endIndex === -1 ? void 0 : endIndex));\n      } else if (trailingKeyCode == 38 || isNaN(trailingKeyCode)) {\n        return \"\";\n      }\n      keyIndex2 = url.indexOf(`&${key}`, keyIndex2 + 1);\n    }\n    encoded = /[%+]/.test(url);\n    if (!encoded) {\n      return void 0;\n    }\n  }\n  const results = {};\n  encoded ??= /[%+]/.test(url);\n  let keyIndex = url.indexOf(\"?\", 8);\n  while (keyIndex !== -1) {\n    const nextKeyIndex = url.indexOf(\"&\", keyIndex + 1);\n    let valueIndex = url.indexOf(\"=\", keyIndex);\n    if (valueIndex > nextKeyIndex && nextKeyIndex !== -1) {\n      valueIndex = -1;\n    }\n    let name = url.slice(\n      keyIndex + 1,\n      valueIndex === -1 ? nextKeyIndex === -1 ? void 0 : nextKeyIndex : valueIndex\n    );\n    if (encoded) {\n      name = _decodeURI(name);\n    }\n    keyIndex = nextKeyIndex;\n    if (name === \"\") {\n      continue;\n    }\n    let value;\n    if (valueIndex === -1) {\n      value = \"\";\n    } else {\n      value = url.slice(valueIndex + 1, nextKeyIndex === -1 ? void 0 : nextKeyIndex);\n      if (encoded) {\n        value = _decodeURI(value);\n      }\n    }\n    if (multiple) {\n      if (!(results[name] && Array.isArray(results[name]))) {\n        results[name] = [];\n      }\n      ;\n      results[name].push(value);\n    } else {\n      results[name] ??= value;\n    }\n  }\n  return key ? results[key] : results;\n};\nvar getQueryParam = _getQueryParam;\nvar getQueryParams = (url, key) => {\n  return _getQueryParam(url, key, true);\n};\nvar decodeURIComponent_ = decodeURIComponent;\nexport {\n  checkOptionalParameter,\n  decodeURIComponent_,\n  getPath,\n  getPathNoStrict,\n  getPattern,\n  getQueryParam,\n  getQueryParams,\n  getQueryStrings,\n  mergePath,\n  splitPath,\n  splitRoutingPath,\n  tryDecode\n};\n", "// src/utils/html.ts\nvar HtmlEscapedCallbackPhase = {\n  Stringify: 1,\n  BeforeStream: 2,\n  Stream: 3\n};\nvar raw = (value, callbacks) => {\n  const escapedString = new String(value);\n  escapedString.isEscaped = true;\n  escapedString.callbacks = callbacks;\n  return escapedString;\n};\nvar escapeRe = /[&<>'\"]/;\nvar stringBufferToString = async (buffer, callbacks) => {\n  let str = \"\";\n  callbacks ||= [];\n  const resolvedBuffer = await Promise.all(buffer);\n  for (let i = resolvedBuffer.length - 1; ; i--) {\n    str += resolvedBuffer[i];\n    i--;\n    if (i < 0) {\n      break;\n    }\n    let r = resolvedBuffer[i];\n    if (typeof r === \"object\") {\n      callbacks.push(...r.callbacks || []);\n    }\n    const isEscaped = r.isEscaped;\n    r = await (typeof r === \"object\" ? r.toString() : r);\n    if (typeof r === \"object\") {\n      callbacks.push(...r.callbacks || []);\n    }\n    if (r.isEscaped ?? isEscaped) {\n      str += r;\n    } else {\n      const buf = [str];\n      escapeToBuffer(r, buf);\n      str = buf[0];\n    }\n  }\n  return raw(str, callbacks);\n};\nvar escapeToBuffer = (str, buffer) => {\n  const match = str.search(escapeRe);\n  if (match === -1) {\n    buffer[0] += str;\n    return;\n  }\n  let escape;\n  let index;\n  let lastIndex = 0;\n  for (index = match; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 34:\n        escape = \"&quot;\";\n        break;\n      case 39:\n        escape = \"&#39;\";\n        break;\n      case 38:\n        escape = \"&amp;\";\n        break;\n      case 60:\n        escape = \"&lt;\";\n        break;\n      case 62:\n        escape = \"&gt;\";\n        break;\n      default:\n        continue;\n    }\n    buffer[0] += str.substring(lastIndex, index) + escape;\n    lastIndex = index + 1;\n  }\n  buffer[0] += str.substring(lastIndex, index);\n};\nvar resolveCallbackSync = (str) => {\n  const callbacks = str.callbacks;\n  if (!callbacks?.length) {\n    return str;\n  }\n  const buffer = [str];\n  const context = {};\n  callbacks.forEach((c) => c({ phase: HtmlEscapedCallbackPhase.Stringify, buffer, context }));\n  return buffer[0];\n};\nvar resolveCallback = async (str, phase, preserveCallbacks, context, buffer) => {\n  if (typeof str === \"object\" && !(str instanceof String)) {\n    if (!(str instanceof Promise)) {\n      str = str.toString();\n    }\n    if (str instanceof Promise) {\n      str = await str;\n    }\n  }\n  const callbacks = str.callbacks;\n  if (!callbacks?.length) {\n    return Promise.resolve(str);\n  }\n  if (buffer) {\n    buffer[0] += str;\n  } else {\n    buffer = [str];\n  }\n  const resStr = Promise.all(callbacks.map((c) => c({ phase, buffer, context }))).then(\n    (res) => Promise.all(\n      res.filter(Boolean).map((str2) => resolveCallback(str2, phase, false, context, buffer))\n    ).then(() => buffer[0])\n  );\n  if (preserveCallbacks) {\n    return raw(await resStr, callbacks);\n  } else {\n    return resStr;\n  }\n};\nexport {\n  HtmlEscapedCallbackPhase,\n  escapeToBuffer,\n  raw,\n  resolveCallback,\n  resolveCallbackSync,\n  stringBufferToString\n};\n", "// src/router.ts\nvar METHOD_NAME_ALL = \"ALL\";\nvar METHOD_NAME_ALL_LOWERCASE = \"all\";\nvar METHODS = [\"get\", \"post\", \"put\", \"delete\", \"options\", \"patch\"];\nvar MESSAGE_MATCHER_IS_ALREADY_BUILT = \"Can not add a route since the matcher is already built.\";\nvar UnsupportedPathError = class extends Error {\n};\nexport {\n  MESSAGE_MATCHER_IS_ALREADY_BUILT,\n  METHODS,\n  METHOD_NAME_ALL,\n  METHOD_NAME_ALL_LOWERCASE,\n  UnsupportedPathError\n};\n", "// src/utils/constants.ts\nvar COMPOSED_HANDLER = \"__COMPOSED_HANDLER\";\nexport {\n  COMPOSED_HANDLER\n};\n", "// src/router/reg-exp-router/index.ts\nimport { RegExpRouter } from \"./router.js\";\nexport {\n  RegExpRouter\n};\n", "// src/router/reg-exp-router/router.ts\nimport {\n  MESSAGE_MATCHER_IS_ALREADY_BUILT,\n  METHOD_NAME_ALL,\n  UnsupportedPathError\n} from \"../../router.js\";\nimport { checkOptionalParameter } from \"../../utils/url.js\";\nimport { PATH_ERROR } from \"./node.js\";\nimport { Trie } from \"./trie.js\";\nvar emptyParam = [];\nvar nullMatcher = [/^$/, [], /* @__PURE__ */ Object.create(null)];\nvar wildcardRegExpCache = /* @__PURE__ */ Object.create(null);\nfunction buildWildcardRegExp(path) {\n  return wildcardRegExpCache[path] ??= new RegExp(\n    path === \"*\" ? \"\" : `^${path.replace(\n      /\\/\\*$|([.\\\\+*[^\\]$()])/g,\n      (_, metaChar) => metaChar ? `\\\\${metaChar}` : \"(?:|/.*)\"\n    )}$`\n  );\n}\nfunction clearWildcardRegExpCache() {\n  wildcardRegExpCache = /* @__PURE__ */ Object.create(null);\n}\nfunction buildMatcherFromPreprocessedRoutes(routes) {\n  const trie = new Trie();\n  const handlerData = [];\n  if (routes.length === 0) {\n    return nullMatcher;\n  }\n  const routesWithStaticPathFlag = routes.map(\n    (route) => [!/\\*|\\/:/.test(route[0]), ...route]\n  ).sort(\n    ([isStaticA, pathA], [isStaticB, pathB]) => isStaticA ? 1 : isStaticB ? -1 : pathA.length - pathB.length\n  );\n  const staticMap = /* @__PURE__ */ Object.create(null);\n  for (let i = 0, j = -1, len = routesWithStaticPathFlag.length; i < len; i++) {\n    const [pathErrorCheckOnly, path, handlers] = routesWithStaticPathFlag[i];\n    if (pathErrorCheckOnly) {\n      staticMap[path] = [handlers.map(([h]) => [h, /* @__PURE__ */ Object.create(null)]), emptyParam];\n    } else {\n      j++;\n    }\n    let paramAssoc;\n    try {\n      paramAssoc = trie.insert(path, j, pathErrorCheckOnly);\n    } catch (e) {\n      throw e === PATH_ERROR ? new UnsupportedPathError(path) : e;\n    }\n    if (pathErrorCheckOnly) {\n      continue;\n    }\n    handlerData[j] = handlers.map(([h, paramCount]) => {\n      const paramIndexMap = /* @__PURE__ */ Object.create(null);\n      paramCount -= 1;\n      for (; paramCount >= 0; paramCount--) {\n        const [key, value] = paramAssoc[paramCount];\n        paramIndexMap[key] = value;\n      }\n      return [h, paramIndexMap];\n    });\n  }\n  const [regexp, indexReplacementMap, paramReplacementMap] = trie.buildRegExp();\n  for (let i = 0, len = handlerData.length; i < len; i++) {\n    for (let j = 0, len2 = handlerData[i].length; j < len2; j++) {\n      const map = handlerData[i][j]?.[1];\n      if (!map) {\n        continue;\n      }\n      const keys = Object.keys(map);\n      for (let k = 0, len3 = keys.length; k < len3; k++) {\n        map[keys[k]] = paramReplacementMap[map[keys[k]]];\n      }\n    }\n  }\n  const handlerMap = [];\n  for (const i in indexReplacementMap) {\n    handlerMap[i] = handlerData[indexReplacementMap[i]];\n  }\n  return [regexp, handlerMap, staticMap];\n}\nfunction findMiddleware(middleware, path) {\n  if (!middleware) {\n    return void 0;\n  }\n  for (const k of Object.keys(middleware).sort((a, b) => b.length - a.length)) {\n    if (buildWildcardRegExp(k).test(path)) {\n      return [...middleware[k]];\n    }\n  }\n  return void 0;\n}\nvar RegExpRouter = class {\n  name = \"RegExpRouter\";\n  #middleware;\n  #routes;\n  constructor() {\n    this.#middleware = { [METHOD_NAME_ALL]: /* @__PURE__ */ Object.create(null) };\n    this.#routes = { [METHOD_NAME_ALL]: /* @__PURE__ */ Object.create(null) };\n  }\n  add(method, path, handler) {\n    const middleware = this.#middleware;\n    const routes = this.#routes;\n    if (!middleware || !routes) {\n      throw new Error(MESSAGE_MATCHER_IS_ALREADY_BUILT);\n    }\n    if (!middleware[method]) {\n      ;\n      [middleware, routes].forEach((handlerMap) => {\n        handlerMap[method] = /* @__PURE__ */ Object.create(null);\n        Object.keys(handlerMap[METHOD_NAME_ALL]).forEach((p) => {\n          handlerMap[method][p] = [...handlerMap[METHOD_NAME_ALL][p]];\n        });\n      });\n    }\n    if (path === \"/*\") {\n      path = \"*\";\n    }\n    const paramCount = (path.match(/\\/:/g) || []).length;\n    if (/\\*$/.test(path)) {\n      const re = buildWildcardRegExp(path);\n      if (method === METHOD_NAME_ALL) {\n        Object.keys(middleware).forEach((m) => {\n          middleware[m][path] ||= findMiddleware(middleware[m], path) || findMiddleware(middleware[METHOD_NAME_ALL], path) || [];\n        });\n      } else {\n        middleware[method][path] ||= findMiddleware(middleware[method], path) || findMiddleware(middleware[METHOD_NAME_ALL], path) || [];\n      }\n      Object.keys(middleware).forEach((m) => {\n        if (method === METHOD_NAME_ALL || method === m) {\n          Object.keys(middleware[m]).forEach((p) => {\n            re.test(p) && middleware[m][p].push([handler, paramCount]);\n          });\n        }\n      });\n      Object.keys(routes).forEach((m) => {\n        if (method === METHOD_NAME_ALL || method === m) {\n          Object.keys(routes[m]).forEach(\n            (p) => re.test(p) && routes[m][p].push([handler, paramCount])\n          );\n        }\n      });\n      return;\n    }\n    const paths = checkOptionalParameter(path) || [path];\n    for (let i = 0, len = paths.length; i < len; i++) {\n      const path2 = paths[i];\n      Object.keys(routes).forEach((m) => {\n        if (method === METHOD_NAME_ALL || method === m) {\n          routes[m][path2] ||= [\n            ...findMiddleware(middleware[m], path2) || findMiddleware(middleware[METHOD_NAME_ALL], path2) || []\n          ];\n          routes[m][path2].push([handler, paramCount - len + i + 1]);\n        }\n      });\n    }\n  }\n  match(method, path) {\n    clearWildcardRegExpCache();\n    const matchers = this.#buildAllMatchers();\n    this.match = (method2, path2) => {\n      const matcher = matchers[method2] || matchers[METHOD_NAME_ALL];\n      const staticMatch = matcher[2][path2];\n      if (staticMatch) {\n        return staticMatch;\n      }\n      const match = path2.match(matcher[0]);\n      if (!match) {\n        return [[], emptyParam];\n      }\n      const index = match.indexOf(\"\", 1);\n      return [matcher[1][index], match];\n    };\n    return this.match(method, path);\n  }\n  #buildAllMatchers() {\n    const matchers = /* @__PURE__ */ Object.create(null);\n    Object.keys(this.#routes).concat(Object.keys(this.#middleware)).forEach((method) => {\n      matchers[method] ||= this.#buildMatcher(method);\n    });\n    this.#middleware = this.#routes = void 0;\n    return matchers;\n  }\n  #buildMatcher(method) {\n    const routes = [];\n    let hasOwnRoute = method === METHOD_NAME_ALL;\n    [this.#middleware, this.#routes].forEach((r) => {\n      const ownRoute = r[method] ? Object.keys(r[method]).map((path) => [path, r[method][path]]) : [];\n      if (ownRoute.length !== 0) {\n        hasOwnRoute ||= true;\n        routes.push(...ownRoute);\n      } else if (method !== METHOD_NAME_ALL) {\n        routes.push(\n          ...Object.keys(r[METHOD_NAME_ALL]).map((path) => [path, r[METHOD_NAME_ALL][path]])\n        );\n      }\n    });\n    if (!hasOwnRoute) {\n      return null;\n    } else {\n      return buildMatcherFromPreprocessedRoutes(routes);\n    }\n  }\n};\nexport {\n  RegExpRouter\n};\n", "// src/router/reg-exp-router/node.ts\nvar LABEL_REG_EXP_STR = \"[^/]+\";\nvar ONLY_WILDCARD_REG_EXP_STR = \".*\";\nvar TAIL_WILDCARD_REG_EXP_STR = \"(?:|/.*)\";\nvar PATH_ERROR = Symbol();\nvar regExpMetaChars = new Set(\".\\\\+*[^]$()\");\nfunction compareKey(a, b) {\n  if (a.length === 1) {\n    return b.length === 1 ? a < b ? -1 : 1 : -1;\n  }\n  if (b.length === 1) {\n    return 1;\n  }\n  if (a === ONLY_WILDCARD_REG_EXP_STR || a === TAIL_WILDCARD_REG_EXP_STR) {\n    return 1;\n  } else if (b === ONLY_WILDCARD_REG_EXP_STR || b === TAIL_WILDCARD_REG_EXP_STR) {\n    return -1;\n  }\n  if (a === LABEL_REG_EXP_STR) {\n    return 1;\n  } else if (b === LABEL_REG_EXP_STR) {\n    return -1;\n  }\n  return a.length === b.length ? a < b ? -1 : 1 : b.length - a.length;\n}\nvar Node = class {\n  #index;\n  #varIndex;\n  #children = /* @__PURE__ */ Object.create(null);\n  insert(tokens, index, paramMap, context, pathErrorCheckOnly) {\n    if (tokens.length === 0) {\n      if (this.#index !== void 0) {\n        throw PATH_ERROR;\n      }\n      if (pathErrorCheckOnly) {\n        return;\n      }\n      this.#index = index;\n      return;\n    }\n    const [token, ...restTokens] = tokens;\n    const pattern = token === \"*\" ? restTokens.length === 0 ? [\"\", \"\", ONLY_WILDCARD_REG_EXP_STR] : [\"\", \"\", LABEL_REG_EXP_STR] : token === \"/*\" ? [\"\", \"\", TAIL_WILDCARD_REG_EXP_STR] : token.match(/^\\:([^\\{\\}]+)(?:\\{(.+)\\})?$/);\n    let node;\n    if (pattern) {\n      const name = pattern[1];\n      let regexpStr = pattern[2] || LABEL_REG_EXP_STR;\n      if (name && pattern[2]) {\n        regexpStr = regexpStr.replace(/^\\((?!\\?:)(?=[^)]+\\)$)/, \"(?:\");\n        if (/\\((?!\\?:)/.test(regexpStr)) {\n          throw PATH_ERROR;\n        }\n      }\n      node = this.#children[regexpStr];\n      if (!node) {\n        if (Object.keys(this.#children).some(\n          (k) => k !== ONLY_WILDCARD_REG_EXP_STR && k !== TAIL_WILDCARD_REG_EXP_STR\n        )) {\n          throw PATH_ERROR;\n        }\n        if (pathErrorCheckOnly) {\n          return;\n        }\n        node = this.#children[regexpStr] = new Node();\n        if (name !== \"\") {\n          node.#varIndex = context.varIndex++;\n        }\n      }\n      if (!pathErrorCheckOnly && name !== \"\") {\n        paramMap.push([name, node.#varIndex]);\n      }\n    } else {\n      node = this.#children[token];\n      if (!node) {\n        if (Object.keys(this.#children).some(\n          (k) => k.length > 1 && k !== ONLY_WILDCARD_REG_EXP_STR && k !== TAIL_WILDCARD_REG_EXP_STR\n        )) {\n          throw PATH_ERROR;\n        }\n        if (pathErrorCheckOnly) {\n          return;\n        }\n        node = this.#children[token] = new Node();\n      }\n    }\n    node.insert(restTokens, index, paramMap, context, pathErrorCheckOnly);\n  }\n  buildRegExpStr() {\n    const childKeys = Object.keys(this.#children).sort(compareKey);\n    const strList = childKeys.map((k) => {\n      const c = this.#children[k];\n      return (typeof c.#varIndex === \"number\" ? `(${k})@${c.#varIndex}` : regExpMetaChars.has(k) ? `\\\\${k}` : k) + c.buildRegExpStr();\n    });\n    if (typeof this.#index === \"number\") {\n      strList.unshift(`#${this.#index}`);\n    }\n    if (strList.length === 0) {\n      return \"\";\n    }\n    if (strList.length === 1) {\n      return strList[0];\n    }\n    return \"(?:\" + strList.join(\"|\") + \")\";\n  }\n};\nexport {\n  Node,\n  PATH_ERROR\n};\n", "// src/router/reg-exp-router/trie.ts\nimport { Node } from \"./node.js\";\nvar Trie = class {\n  #context = { varIndex: 0 };\n  #root = new Node();\n  insert(path, index, pathErrorCheckOnly) {\n    const paramAssoc = [];\n    const groups = [];\n    for (let i = 0; ; ) {\n      let replaced = false;\n      path = path.replace(/\\{[^}]+\\}/g, (m) => {\n        const mark = `@\\\\${i}`;\n        groups[i] = [mark, m];\n        i++;\n        replaced = true;\n        return mark;\n      });\n      if (!replaced) {\n        break;\n      }\n    }\n    const tokens = path.match(/(?::[^\\/]+)|(?:\\/\\*$)|./g) || [];\n    for (let i = groups.length - 1; i >= 0; i--) {\n      const [mark] = groups[i];\n      for (let j = tokens.length - 1; j >= 0; j--) {\n        if (tokens[j].indexOf(mark) !== -1) {\n          tokens[j] = tokens[j].replace(mark, groups[i][1]);\n          break;\n        }\n      }\n    }\n    this.#root.insert(tokens, index, paramAssoc, this.#context, pathErrorCheckOnly);\n    return paramAssoc;\n  }\n  buildRegExp() {\n    let regexp = this.#root.buildRegExpStr();\n    if (regexp === \"\") {\n      return [/^$/, [], []];\n    }\n    let captureIndex = 0;\n    const indexReplacementMap = [];\n    const paramReplacementMap = [];\n    regexp = regexp.replace(/#(\\d+)|@(\\d+)|\\.\\*\\$/g, (_, handlerIndex, paramIndex) => {\n      if (handlerIndex !== void 0) {\n        indexReplacementMap[++captureIndex] = Number(handlerIndex);\n        return \"$()\";\n      }\n      if (paramIndex !== void 0) {\n        paramReplacementMap[Number(paramIndex)] = ++captureIndex;\n        return \"\";\n      }\n      return \"\";\n    });\n    return [new RegExp(`^${regexp}`), indexReplacementMap, paramReplacementMap];\n  }\n};\nexport {\n  Trie\n};\n", "// src/router/smart-router/index.ts\nimport { SmartRouter } from \"./router.js\";\nexport {\n  SmartRouter\n};\n", "// src/router/smart-router/router.ts\nimport { MESSAGE_MATCHER_IS_ALREADY_BUILT, UnsupportedPathError } from \"../../router.js\";\nvar SmartRouter = class {\n  name = \"SmartRouter\";\n  #routers = [];\n  #routes = [];\n  constructor(init) {\n    this.#routers = init.routers;\n  }\n  add(method, path, handler) {\n    if (!this.#routes) {\n      throw new Error(MESSAGE_MATCHER_IS_ALREADY_BUILT);\n    }\n    this.#routes.push([method, path, handler]);\n  }\n  match(method, path) {\n    if (!this.#routes) {\n      throw new Error(\"Fatal error\");\n    }\n    const routers = this.#routers;\n    const routes = this.#routes;\n    const len = routers.length;\n    let i = 0;\n    let res;\n    for (; i < len; i++) {\n      const router = routers[i];\n      try {\n        for (let i2 = 0, len2 = routes.length; i2 < len2; i2++) {\n          router.add(...routes[i2]);\n        }\n        res = router.match(method, path);\n      } catch (e) {\n        if (e instanceof UnsupportedPathError) {\n          continue;\n        }\n        throw e;\n      }\n      this.match = router.match.bind(router);\n      this.#routers = [router];\n      this.#routes = void 0;\n      break;\n    }\n    if (i === len) {\n      throw new Error(\"Fatal error\");\n    }\n    this.name = `SmartRouter + ${this.activeRouter.name}`;\n    return res;\n  }\n  get activeRouter() {\n    if (this.#routes || this.#routers.length !== 1) {\n      throw new Error(\"No active router has been determined yet.\");\n    }\n    return this.#routers[0];\n  }\n};\nexport {\n  SmartRouter\n};\n", "// src/router/trie-router/index.ts\nimport { TrieRouter } from \"./router.js\";\nexport {\n  TrieRouter\n};\n", "// src/router/trie-router/router.ts\nimport { checkOptionalParameter } from \"../../utils/url.js\";\nimport { Node } from \"./node.js\";\nvar TrieRouter = class {\n  name = \"TrieRouter\";\n  #node;\n  constructor() {\n    this.#node = new Node();\n  }\n  add(method, path, handler) {\n    const results = checkOptionalParameter(path);\n    if (results) {\n      for (let i = 0, len = results.length; i < len; i++) {\n        this.#node.insert(method, results[i], handler);\n      }\n      return;\n    }\n    this.#node.insert(method, path, handler);\n  }\n  match(method, path) {\n    return this.#node.search(method, path);\n  }\n};\nexport {\n  TrieRouter\n};\n", "// src/router/trie-router/node.ts\nimport { METHOD_NAME_ALL } from \"../../router.js\";\nimport { getPattern, splitPath, splitRoutingPath } from \"../../utils/url.js\";\nvar emptyParams = /* @__PURE__ */ Object.create(null);\nvar Node = class {\n  #methods;\n  #children;\n  #patterns;\n  #order = 0;\n  #params = emptyParams;\n  constructor(method, handler, children) {\n    this.#children = children || /* @__PURE__ */ Object.create(null);\n    this.#methods = [];\n    if (method && handler) {\n      const m = /* @__PURE__ */ Object.create(null);\n      m[method] = { handler, possibleKeys: [], score: 0 };\n      this.#methods = [m];\n    }\n    this.#patterns = [];\n  }\n  insert(method, path, handler) {\n    this.#order = ++this.#order;\n    let curNode = this;\n    const parts = splitRoutingPath(path);\n    const possibleKeys = [];\n    for (let i = 0, len = parts.length; i < len; i++) {\n      const p = parts[i];\n      const nextP = parts[i + 1];\n      const pattern = getPattern(p, nextP);\n      const key = Array.isArray(pattern) ? pattern[0] : p;\n      if (key in curNode.#children) {\n        curNode = curNode.#children[key];\n        if (pattern) {\n          possibleKeys.push(pattern[1]);\n        }\n        continue;\n      }\n      curNode.#children[key] = new Node();\n      if (pattern) {\n        curNode.#patterns.push(pattern);\n        possibleKeys.push(pattern[1]);\n      }\n      curNode = curNode.#children[key];\n    }\n    curNode.#methods.push({\n      [method]: {\n        handler,\n        possibleKeys: possibleKeys.filter((v, i, a) => a.indexOf(v) === i),\n        score: this.#order\n      }\n    });\n    return curNode;\n  }\n  #getHandlerSets(node, method, nodeParams, params) {\n    const handlerSets = [];\n    for (let i = 0, len = node.#methods.length; i < len; i++) {\n      const m = node.#methods[i];\n      const handlerSet = m[method] || m[METHOD_NAME_ALL];\n      const processedSet = {};\n      if (handlerSet !== void 0) {\n        handlerSet.params = /* @__PURE__ */ Object.create(null);\n        handlerSets.push(handlerSet);\n        if (nodeParams !== emptyParams || params && params !== emptyParams) {\n          for (let i2 = 0, len2 = handlerSet.possibleKeys.length; i2 < len2; i2++) {\n            const key = handlerSet.possibleKeys[i2];\n            const processed = processedSet[handlerSet.score];\n            handlerSet.params[key] = params?.[key] && !processed ? params[key] : nodeParams[key] ?? params?.[key];\n            processedSet[handlerSet.score] = true;\n          }\n        }\n      }\n    }\n    return handlerSets;\n  }\n  search(method, path) {\n    const handlerSets = [];\n    this.#params = emptyParams;\n    const curNode = this;\n    let curNodes = [curNode];\n    const parts = splitPath(path);\n    const curNodesQueue = [];\n    for (let i = 0, len = parts.length; i < len; i++) {\n      const part = parts[i];\n      const isLast = i === len - 1;\n      const tempNodes = [];\n      for (let j = 0, len2 = curNodes.length; j < len2; j++) {\n        const node = curNodes[j];\n        const nextNode = node.#children[part];\n        if (nextNode) {\n          nextNode.#params = node.#params;\n          if (isLast) {\n            if (nextNode.#children[\"*\"]) {\n              handlerSets.push(\n                ...this.#getHandlerSets(nextNode.#children[\"*\"], method, node.#params)\n              );\n            }\n            handlerSets.push(...this.#getHandlerSets(nextNode, method, node.#params));\n          } else {\n            tempNodes.push(nextNode);\n          }\n        }\n        for (let k = 0, len3 = node.#patterns.length; k < len3; k++) {\n          const pattern = node.#patterns[k];\n          const params = node.#params === emptyParams ? {} : { ...node.#params };\n          if (pattern === \"*\") {\n            const astNode = node.#children[\"*\"];\n            if (astNode) {\n              handlerSets.push(...this.#getHandlerSets(astNode, method, node.#params));\n              astNode.#params = params;\n              tempNodes.push(astNode);\n            }\n            continue;\n          }\n          if (!part) {\n            continue;\n          }\n          const [key, name, matcher] = pattern;\n          const child = node.#children[key];\n          const restPathString = parts.slice(i).join(\"/\");\n          if (matcher instanceof RegExp) {\n            const m = matcher.exec(restPathString);\n            if (m) {\n              params[name] = m[0];\n              handlerSets.push(...this.#getHandlerSets(child, method, node.#params, params));\n              if (Object.keys(child.#children).length) {\n                child.#params = params;\n                const componentCount = m[0].match(/\\//)?.length ?? 0;\n                const targetCurNodes = curNodesQueue[componentCount] ||= [];\n                targetCurNodes.push(child);\n              }\n              continue;\n            }\n          }\n          if (matcher === true || matcher.test(part)) {\n            params[name] = part;\n            if (isLast) {\n              handlerSets.push(...this.#getHandlerSets(child, method, params, node.#params));\n              if (child.#children[\"*\"]) {\n                handlerSets.push(\n                  ...this.#getHandlerSets(child.#children[\"*\"], method, params, node.#params)\n                );\n              }\n            } else {\n              child.#params = params;\n              tempNodes.push(child);\n            }\n          }\n        }\n      }\n      curNodes = tempNodes.concat(curNodesQueue.shift() ?? []);\n    }\n    if (handlerSets.length > 1) {\n      handlerSets.sort((a, b) => {\n        return a.score - b.score;\n      });\n    }\n    return [handlerSets.map(({ handler, params }) => [handler, params])];\n  }\n};\nexport {\n  Node\n};\n", "// src/middleware/cors/index.ts\nvar cors = (options) => {\n  const defaults = {\n    origin: \"*\",\n    allowMethods: [\"GET\", \"HEAD\", \"PUT\", \"POST\", \"DELETE\", \"PATCH\"],\n    allowHeaders: [],\n    exposeHeaders: []\n  };\n  const opts = {\n    ...defaults,\n    ...options\n  };\n  const findAllowOrigin = ((optsOrigin) => {\n    if (typeof optsOrigin === \"string\") {\n      if (optsOrigin === \"*\") {\n        return () => optsOrigin;\n      } else {\n        return (origin) => optsOrigin === origin ? origin : null;\n      }\n    } else if (typeof optsOrigin === \"function\") {\n      return optsOrigin;\n    } else {\n      return (origin) => optsOrigin.includes(origin) ? origin : null;\n    }\n  })(opts.origin);\n  const findAllowMethods = ((optsAllowMethods) => {\n    if (typeof optsAllowMethods === \"function\") {\n      return optsAllowMethods;\n    } else if (Array.isArray(optsAllowMethods)) {\n      return () => optsAllowMethods;\n    } else {\n      return () => [];\n    }\n  })(opts.allowMethods);\n  return async function cors2(c, next) {\n    function set(key, value) {\n      c.res.headers.set(key, value);\n    }\n    const allowOrigin = findAllowOrigin(c.req.header(\"origin\") || \"\", c);\n    if (allowOrigin) {\n      set(\"Access-Control-Allow-Origin\", allowOrigin);\n    }\n    if (opts.origin !== \"*\") {\n      const existingVary = c.req.header(\"Vary\");\n      if (existingVary) {\n        set(\"Vary\", existingVary);\n      } else {\n        set(\"Vary\", \"Origin\");\n      }\n    }\n    if (opts.credentials) {\n      set(\"Access-Control-Allow-Credentials\", \"true\");\n    }\n    if (opts.exposeHeaders?.length) {\n      set(\"Access-Control-Expose-Headers\", opts.exposeHeaders.join(\",\"));\n    }\n    if (c.req.method === \"OPTIONS\") {\n      if (opts.maxAge != null) {\n        set(\"Access-Control-Max-Age\", opts.maxAge.toString());\n      }\n      const allowMethods = findAllowMethods(c.req.header(\"origin\") || \"\", c);\n      if (allowMethods.length) {\n        set(\"Access-Control-Allow-Methods\", allowMethods.join(\",\"));\n      }\n      let headers = opts.allowHeaders;\n      if (!headers?.length) {\n        const requestHeaders = c.req.header(\"Access-Control-Request-Headers\");\n        if (requestHeaders) {\n          headers = requestHeaders.split(/\\s*,\\s*/);\n        }\n      }\n      if (headers?.length) {\n        set(\"Access-Control-Allow-Headers\", headers.join(\",\"));\n        c.res.headers.append(\"Vary\", \"Access-Control-Request-Headers\");\n      }\n      c.res.headers.delete(\"Content-Length\");\n      c.res.headers.delete(\"Content-Type\");\n      return new Response(null, {\n        headers: c.res.headers,\n        status: 204,\n        statusText: \"No Content\"\n      });\n    }\n    await next();\n  };\n};\nexport {\n  cors\n};\n", "import { type } from 'arktype';\nimport { createApps, createAppUrls } from '#apps';\n\n/**\n * Cloudflare Workers constants and utilities\n * Takes environment at call time for dynamic resolution\n * Source of truth for lazy app constants\n */\n\n// Schema\nconst cloudflareEnvSchema = type({\n\tNODE_ENV: \"'development' | 'production'\",\n\t\n\t// Auth service\n\tDATABASE_URL: 'string.url',\n\tBETTER_AUTH_URL: 'string.url',\n\tBETTER_AUTH_SECRET: 'string',\n\tGITHUB_CLIENT_ID: 'string',\n\tGITHUB_CLIENT_SECRET: 'string',\n});\n\nexport function validateCloudflareEnv(env: unknown): CloudflareEnv {\n\tconst result = cloudflareEnvSchema(env);\n\tif (result instanceof type.errors) throw new Error(result.summary);\n\treturn result;\n}\n\nexport type CloudflareEnv = typeof cloudflareEnvSchema.infer;\n\n/**\n * Cloudflare Workers URLs - lazy evaluation with environment.\n * \n * For use in Cloudflare Workers and other contexts where environment is provided at call time.\n */\nexport const APPS = (env: CloudflareEnv) => createApps(env.NODE_ENV);\n\n/**\n * All application URLs for Cloudflare Workers.\n * Takes environment at call time for dynamic resolution.\n * \n * Primarily used for CORS configuration.\n */\nexport const APP_URLS = (env: CloudflareEnv) => createAppUrls(env.NODE_ENV);", "export { ArkError, ArkErrors, Traversal, TraversalError } from \"@ark/schema\";\nexport { Hkt, inferred, ParseError } from \"@ark/util\";\nexport * from \"./config.js\";\nexport { Generic } from \"./generic.js\";\nexport { ark, declare, define, generic, keywords, match, type } from \"./keywords/keywords.js\";\nexport { Module } from \"./module.js\";\nexport { scope } from \"./scope.js\";\nexport { Type } from \"./type.js\";\n", "export * from \"./config.js\";\nexport * from \"./constraint.js\";\nexport * from \"./generic.js\";\nexport * from \"./intrinsic.js\";\nexport * from \"./kinds.js\";\nexport * from \"./module.js\";\nexport * from \"./node.js\";\nexport * from \"./parse.js\";\nexport * from \"./predicate.js\";\nexport * from \"./refinements/after.js\";\nexport * from \"./refinements/before.js\";\nexport * from \"./refinements/divisor.js\";\nexport * from \"./refinements/exactLength.js\";\nexport * from \"./refinements/max.js\";\nexport * from \"./refinements/maxLength.js\";\nexport * from \"./refinements/min.js\";\nexport * from \"./refinements/minLength.js\";\nexport * from \"./refinements/pattern.js\";\nexport * from \"./refinements/range.js\";\nexport * from \"./roots/domain.js\";\nexport * from \"./roots/intersection.js\";\nexport * from \"./roots/morph.js\";\nexport * from \"./roots/proto.js\";\nexport * from \"./roots/root.js\";\nexport * from \"./roots/union.js\";\nexport * from \"./roots/unit.js\";\nexport * from \"./scope.js\";\nexport * from \"./shared/compile.js\";\nexport * from \"./shared/declare.js\";\nexport * from \"./shared/disjoint.js\";\nexport * from \"./shared/errors.js\";\nexport * from \"./shared/implement.js\";\nexport * from \"./shared/intersections.js\";\nexport * from \"./shared/jsonSchema.js\";\nexport * from \"./shared/registry.js\";\nexport * from \"./shared/standardSchema.js\";\nexport * from \"./shared/toJsonSchema.js\";\nexport * from \"./shared/traversal.js\";\nexport * from \"./shared/utils.js\";\nexport * from \"./structure/index.js\";\nexport * from \"./structure/optional.js\";\nexport * from \"./structure/prop.js\";\nexport * from \"./structure/required.js\";\nexport * from \"./structure/sequence.js\";\nexport * from \"./structure/structure.js\";\nexport { ParseError } from \"@ark/util\";\n", "import { isNodeKind } from \"./shared/implement.js\";\nimport { $ark } from \"./shared/registry.js\";\nimport { ToJsonSchema } from \"./shared/toJsonSchema.js\";\n// $ark.config could already be set if it were imported previously from the\n// dedicated config entrypoint, in which case we don't want to reinitialize it\n$ark.config ??= {};\nexport const configureSchema = (config) => {\n    const result = Object.assign($ark.config, mergeConfigs($ark.config, config));\n    $ark.resolvedConfig &&= mergeConfigs($ark.resolvedConfig, result);\n    return result;\n};\nexport const mergeConfigs = (base, merged) => {\n    if (!merged)\n        return base;\n    const result = { ...base };\n    let k;\n    for (k in merged) {\n        const keywords = { ...base.keywords };\n        if (k === \"keywords\") {\n            for (const flatAlias in merged[k]) {\n                const v = merged.keywords[flatAlias];\n                if (v === undefined)\n                    continue;\n                keywords[flatAlias] = typeof v === \"string\" ? { description: v } : v;\n            }\n            result.keywords = keywords;\n        }\n        else if (k === \"toJsonSchema\") {\n            result[k] = mergeToJsonSchemaConfigs(base.toJsonSchema, merged.toJsonSchema);\n        }\n        else if (isNodeKind(k)) {\n            result[k] =\n                // not casting this makes TS compute a very inefficient\n                // type that is not needed\n                {\n                    ...base[k],\n                    ...merged[k]\n                };\n        }\n        else\n            result[k] = merged[k];\n    }\n    return result;\n};\nexport const mergeToJsonSchemaConfigs = ((baseConfig, mergedConfig) => {\n    if (!baseConfig)\n        return mergedConfig ?? {};\n    if (!mergedConfig)\n        return baseConfig;\n    const result = { ...baseConfig };\n    let k;\n    for (k in mergedConfig) {\n        if (k === \"fallback\") {\n            result.fallback = mergeFallbacks(baseConfig.fallback, mergedConfig.fallback);\n        }\n        else\n            result[k] = mergedConfig[k];\n    }\n    return result;\n});\nconst mergeFallbacks = (base, merged) => {\n    base = normalizeFallback(base);\n    merged = normalizeFallback(merged);\n    const result = {};\n    let code;\n    for (code in ToJsonSchema.defaultConfig.fallback) {\n        result[code] =\n            merged[code] ??\n                merged.default ??\n                base[code] ??\n                base.default ??\n                ToJsonSchema.defaultConfig.fallback[code];\n    }\n    return result;\n};\nconst normalizeFallback = (fallback) => typeof fallback === \"function\" ? { default: fallback } : (fallback ?? {});\n", "import { flatMorph, printable, throwParseError } from \"@ark/util\";\nimport { compileSerializedValue } from \"./compile.js\";\nimport { isNode } from \"./utils.js\";\nexport const basisKinds = [\"unit\", \"proto\", \"domain\"];\nexport const structuralKinds = [\n    \"required\",\n    \"optional\",\n    \"index\",\n    \"sequence\"\n];\nexport const refinementKinds = [\n    \"pattern\",\n    \"divisor\",\n    \"exactLength\",\n    \"max\",\n    \"min\",\n    \"maxLength\",\n    \"minLength\",\n    \"before\",\n    \"after\"\n];\nexport const constraintKinds = [\n    ...refinementKinds,\n    ...structuralKinds,\n    \"structure\",\n    \"predicate\"\n];\nexport const rootKinds = [\n    \"alias\",\n    \"union\",\n    \"morph\",\n    \"unit\",\n    \"intersection\",\n    \"proto\",\n    \"domain\"\n];\nexport const nodeKinds = [...rootKinds, ...constraintKinds];\nexport const constraintKeys = flatMorph(constraintKinds, (i, kind) => [kind, 1]);\nexport const structureKeys = flatMorph([...structuralKinds, \"undeclared\"], (i, k) => [k, 1]);\nexport const precedenceByKind = flatMorph(nodeKinds, (i, kind) => [kind, i]);\nexport const isNodeKind = (value) => typeof value === \"string\" && value in precedenceByKind;\nexport function assertNodeKind(value, kind) {\n    const valueIsNode = isNode(value);\n    if (!valueIsNode || value.kind !== kind) {\n        throwParseError(`Expected node of kind ${kind} (was ${valueIsNode ? `${value.kind} node` : printable(value)})`);\n    }\n}\nexport const precedenceOfKind = (kind) => precedenceByKind[kind];\nexport const schemaKindsRightOf = (kind) => rootKinds.slice(precedenceOfKind(kind) + 1);\nexport const unionChildKinds = [\n    ...schemaKindsRightOf(\"union\"),\n    \"alias\"\n];\nexport const morphChildKinds = [\n    ...schemaKindsRightOf(\"morph\"),\n    \"alias\"\n];\nexport const defaultValueSerializer = (v) => {\n    if (typeof v === \"string\" || typeof v === \"boolean\" || v === null)\n        return v;\n    if (typeof v === \"number\") {\n        if (Number.isNaN(v))\n            return \"NaN\";\n        if (v === Number.POSITIVE_INFINITY)\n            return \"Infinity\";\n        if (v === Number.NEGATIVE_INFINITY)\n            return \"-Infinity\";\n        return v;\n    }\n    return compileSerializedValue(v);\n};\nexport const compileObjectLiteral = (ctx) => {\n    let result = \"{ \";\n    for (const [k, v] of Object.entries(ctx))\n        result += `${k}: ${compileSerializedValue(v)}, `;\n    return result + \" }\";\n};\nexport const implementNode = (_) => {\n    const implementation = _;\n    if (implementation.hasAssociatedError) {\n        implementation.defaults.expected ??= ctx => \"description\" in ctx ?\n            ctx.description\n            : implementation.defaults.description(ctx);\n        implementation.defaults.actual ??= data => printable(data);\n        implementation.defaults.problem ??= ctx => `must be ${ctx.expected}${ctx.actual ? ` (was ${ctx.actual})` : \"\"}`;\n        implementation.defaults.message ??= ctx => {\n            if (ctx.path.length === 0)\n                return ctx.problem;\n            const problemWithLocation = `${ctx.propString} ${ctx.problem}`;\n            if (problemWithLocation[0] === \"[\") {\n                // clarify paths like [1], [0][1], and [\"key!\"] that could be confusing\n                return `value at ${problemWithLocation}`;\n            }\n            return problemWithLocation;\n        };\n    }\n    return implementation;\n};\n", "export * from \"./arrays.js\";\nexport * from \"./clone.js\";\nexport * from \"./describe.js\";\nexport * from \"./domain.js\";\nexport * from \"./errors.js\";\nexport * from \"./flatMorph.js\";\nexport * from \"./functions.js\";\nexport * from \"./generics.js\";\nexport * from \"./hkt.js\";\nexport * from \"./intersections.js\";\nexport * from \"./isomorphic.js\";\nexport * from \"./keys.js\";\nexport * from \"./lazily.js\";\nexport * from \"./numbers.js\";\nexport * from \"./objectKinds.js\";\nexport * from \"./path.js\";\nexport * from \"./primitive.js\";\nexport * from \"./records.js\";\nexport * from \"./registry.js\";\nexport * from \"./scanner.js\";\nexport * from \"./serialize.js\";\nexport * from \"./strings.js\";\nexport * from \"./traits.js\";\nexport * from \"./unionToTuple.js\";\n", "/**\n * Extracts duplicated elements and their indices from an array, returning them.\n *\n * Note that given `a === b && b === c`, then `c === a` must be `true` for this to give accurate results.\n *\n * @param arr The array to extract duplicate elements from.\n */ export const getDuplicatesOf = (arr, opts) => {\n    const isEqual = opts?.isEqual ?? ((l, r) => l === r);\n    const elementFirstSeenIndx = new Map();\n    const duplicates = [];\n    for (const [indx, element] of arr.entries()) {\n        const duplicatesIndx = duplicates.findIndex(duplicate => isEqual(duplicate.element, element));\n        if (duplicatesIndx !== -1) {\n            // This is at least the third occurence of an item equal to `element`,\n            // so add this index to the list of indices where the element is duplicated.\n            duplicates[duplicatesIndx].indices.push(indx);\n            continue;\n        }\n        // At this point, we know this is either the first\n        // or second occurence of an item equal to `element`...\n        let found = false;\n        for (const [existingElement, firstSeenIndx] of elementFirstSeenIndx) {\n            if (isEqual(element, existingElement)) {\n                // This is the second occurence of an item equal to `element`,\n                // so store it as a duplicate.\n                found = true;\n                duplicates.push({\n                    element: existingElement,\n                    indices: [firstSeenIndx, indx]\n                });\n            }\n        }\n        if (!found) {\n            // We haven't seen this element before,\n            // so just store the index it was first seen\n            elementFirstSeenIndx.set(element, indx);\n        }\n    }\n    return duplicates;\n};\nexport const join = (segments, delimiter) => segments.join(delimiter);\nexport const getPath = (root, path) => {\n    let result = root;\n    for (const segment of path) {\n        if (typeof result !== \"object\" || result === null)\n            return undefined;\n        result = result[segment];\n    }\n    return result;\n};\nexport const intersectUniqueLists = (l, r) => {\n    const intersection = [...l];\n    for (const item of r)\n        if (!l.includes(item))\n            intersection.push(item);\n    return intersection;\n};\nexport const liftArray = (data) => (Array.isArray(data) ? data : [data]);\n/**\n * Splits an array into two arrays based on the result of a predicate\n *\n * @param predicate - The guard function used to determine which items to include.\n * @returns A tuple containing two arrays:\n * \t\t\t\t- the first includes items for which `predicate` returns true\n * \t\t\t\t- the second includes items for which `predicate` returns false\n *\n * @example\n * const list = [1, \"2\", \"3\", 4, 5];\n * const [numbers, strings] = spliterate(list, (x) => typeof x === \"number\");\n * // Type: number[]\n * // Output: [1, 4, 5]\n * console.log(evens);\n * // Type: string[]\n * // Output: [\"2\", \"3\"]\n * console.log(odds);\n */\nexport const spliterate = (arr, predicate) => {\n    const result = [[], []];\n    for (const item of arr) {\n        if (predicate(item))\n            result[0].push(item);\n        else\n            result[1].push(item);\n    }\n    return result;\n};\nexport const ReadonlyArray = Array;\nexport const includes = (array, element) => array.includes(element);\nexport const range = (length, offset = 0) => [...new Array(length)].map((_, i) => i + offset);\n/**\n * Adds a value or array to an array, returning the concatenated result\n */\nexport const append = (to, value, opts) => {\n    if (to === undefined) {\n        return (value === undefined ? []\n            : Array.isArray(value) ? value\n                : [value]);\n    }\n    if (opts?.prepend) {\n        if (Array.isArray(value))\n            to.unshift(...value);\n        else\n            to.unshift(value);\n    }\n    else {\n        if (Array.isArray(value))\n            to.push(...value);\n        else\n            to.push(value);\n    }\n    return to;\n};\n/**\n * Concatenates an element or list with a readonly list\n */\nexport const conflatenate = (to, elementOrList) => {\n    if (elementOrList === undefined || elementOrList === null)\n        return to ?? [];\n    if (to === undefined || to === null)\n        return liftArray(elementOrList);\n    return to.concat(elementOrList);\n};\n/**\n * Concatenates a variadic list of elements or lists with a readonly list\n */\nexport const conflatenateAll = (...elementsOrLists) => elementsOrLists.reduce(conflatenate, []);\n/**\n * Appends a value or concatenates an array to an array if it is not already included, returning the array\n */\nexport const appendUnique = (to, value, opts) => {\n    if (to === undefined)\n        return Array.isArray(value) ? value : [value];\n    const isEqual = opts?.isEqual ?? ((l, r) => l === r);\n    for (const v of liftArray(value))\n        if (!to.some(existing => isEqual(existing, v)))\n            to.push(v);\n    return to;\n};\nexport const groupBy = (array, discriminant) => array.reduce((result, item) => {\n    const key = item[discriminant];\n    result[key] = append(result[key], item);\n    return result;\n}, {});\nexport const arrayEquals = (l, r, opts) => l.length === r.length &&\n    l.every(opts?.isEqual ?\n        (lItem, i) => opts.isEqual(lItem, r[i])\n        : (lItem, i) => lItem === r[i]);\n", "import { getBuiltinNameOfConstructor } from \"./objectKinds.js\";\n/** Shallowly copy the properties of the object. */\nexport const shallowClone = input => _clone(input, null);\n/** Deeply copy the properties of the a non-subclassed Object, Array or Date.*/\nexport const deepClone = (input) => _clone(input, new Map());\nconst _clone = (input, seen) => {\n    if (typeof input !== \"object\" || input === null)\n        return input;\n    if (seen?.has(input))\n        return seen.get(input);\n    const builtinConstructorName = getBuiltinNameOfConstructor(input.constructor);\n    if (builtinConstructorName === \"Date\")\n        return new Date(input.getTime());\n    // we don't try and clone other prototypes here since this we can't guarantee arrow functions attached to the object\n    // are rebound in case they reference `this` (see https://x.com/colinhacks/status/1818422039210049985)\n    if (builtinConstructorName && builtinConstructorName !== \"Array\")\n        return input;\n    const cloned = Array.isArray(input) ?\n        input.slice()\n        : Object.create(Object.getPrototypeOf(input));\n    const propertyDescriptors = Object.getOwnPropertyDescriptors(input);\n    if (seen) {\n        seen.set(input, cloned);\n        for (const k in propertyDescriptors) {\n            const desc = propertyDescriptors[k];\n            if (\"get\" in desc || \"set\" in desc)\n                continue;\n            desc.value = _clone(desc.value, seen);\n        }\n    }\n    Object.defineProperties(cloned, propertyDescriptors);\n    return cloned;\n};\n", "import { domainOf } from \"./domain.js\";\nimport { isKeyOf } from \"./records.js\";\n// ECMAScript Objects\n// See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects\nexport const ecmascriptConstructors = {\n    Array,\n    Boolean,\n    Date,\n    Error,\n    Function,\n    Map,\n    Number,\n    Promise,\n    RegExp,\n    Set,\n    String,\n    WeakMap,\n    WeakSet\n};\n/** Node18 */\nexport const FileConstructor = globalThis.File ?? Blob;\n// Platform APIs\n// See https://developer.mozilla.org/en-US/docs/Web/API\n// Must be implemented in Node etc. as well as the browser to include here\nexport const platformConstructors = {\n    ArrayBuffer,\n    Blob,\n    File: FileConstructor,\n    FormData,\n    Headers,\n    Request,\n    Response,\n    URL\n};\nexport const typedArrayConstructors = {\n    Int8Array,\n    Uint8Array,\n    Uint8ClampedArray,\n    Int16Array,\n    Uint16Array,\n    Int32Array,\n    Uint32Array,\n    Float32Array,\n    Float64Array,\n    BigInt64Array,\n    BigUint64Array\n};\n// Built-in object constructors based on a subset of:\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects\nexport const builtinConstructors = {\n    ...ecmascriptConstructors,\n    ...platformConstructors,\n    ...typedArrayConstructors,\n    String,\n    Number,\n    Boolean\n};\nexport const objectKindOf = (data) => {\n    let prototype = Object.getPrototypeOf(data);\n    while (prototype?.constructor &&\n        (!isKeyOf(prototype.constructor.name, builtinConstructors) ||\n            !(data instanceof builtinConstructors[prototype.constructor.name])))\n        prototype = Object.getPrototypeOf(prototype);\n    const name = prototype?.constructor?.name;\n    if (name === undefined || name === \"Object\")\n        return undefined;\n    return name;\n};\nexport const objectKindOrDomainOf = (data) => (typeof data === \"object\" && data !== null ?\n    (objectKindOf(data) ?? \"object\")\n    : domainOf(data));\nexport const hasObjectKind = (data, kind) => objectKindOf(data) === kind;\nexport const isArray = Array.isArray;\nexport const ecmascriptDescriptions = {\n    Array: \"an array\",\n    Function: \"a function\",\n    Date: \"a Date\",\n    RegExp: \"a RegExp\",\n    Error: \"an Error\",\n    Map: \"a Map\",\n    Set: \"a Set\",\n    String: \"a String object\",\n    Number: \"a Number object\",\n    Boolean: \"a Boolean object\",\n    Promise: \"a Promise\",\n    WeakMap: \"a WeakMap\",\n    WeakSet: \"a WeakSet\"\n};\nexport const platformDescriptions = {\n    ArrayBuffer: \"an ArrayBuffer instance\",\n    Blob: \"a Blob instance\",\n    File: \"a File instance\",\n    FormData: \"a FormData instance\",\n    Headers: \"a Headers instance\",\n    Request: \"a Request instance\",\n    Response: \"a Response instance\",\n    URL: \"a URL instance\"\n};\nexport const typedArrayDescriptions = {\n    Int8Array: \"an Int8Array\",\n    Uint8Array: \"a Uint8Array\",\n    Uint8ClampedArray: \"a Uint8ClampedArray\",\n    Int16Array: \"an Int16Array\",\n    Uint16Array: \"a Uint16Array\",\n    Int32Array: \"an Int32Array\",\n    Uint32Array: \"a Uint32Array\",\n    Float32Array: \"a Float32Array\",\n    Float64Array: \"a Float64Array\",\n    BigInt64Array: \"a BigInt64Array\",\n    BigUint64Array: \"a BigUint64Array\"\n};\n/** Each defaultObjectKind's completion for the phrase \"must be _____\" */\nexport const objectKindDescriptions = {\n    ...ecmascriptDescriptions,\n    ...platformDescriptions,\n    ...typedArrayDescriptions\n};\n/**\n * this will only return an object kind if it's the root constructor\n * example TypeError would return null not 'Error'\n **/\nexport const getBuiltinNameOfConstructor = (ctor) => {\n    const constructorName = Object(ctor).name ?? null;\n    return (constructorName &&\n        isKeyOf(constructorName, builtinConstructors) &&\n        builtinConstructors[constructorName] === ctor) ?\n        constructorName\n        : null;\n};\n/**\n * Returns an array of constructors for all ancestors (i.e., prototypes) of a given object.\n */\nexport const ancestorsOf = (o) => {\n    let proto = Object.getPrototypeOf(o);\n    const result = [];\n    while (proto !== null) {\n        result.push(proto.constructor);\n        proto = Object.getPrototypeOf(proto);\n    }\n    return result;\n};\nexport const constructorExtends = (ctor, base) => {\n    let current = ctor.prototype;\n    while (current !== null) {\n        if (current === base.prototype)\n            return true;\n        current = Object.getPrototypeOf(current);\n    }\n    return false;\n};\n", "export const hasDomain = (data, kind) => domainOf(data) === kind;\nexport const domainOf = (data) => {\n    const builtinType = typeof data;\n    return (builtinType === \"object\" ?\n        data === null ?\n            \"null\"\n            : \"object\"\n        : builtinType === \"function\" ? \"object\"\n            : builtinType);\n};\n/** Each domain's completion for the phrase \"must be _____\" */\nexport const domainDescriptions = {\n    boolean: \"boolean\",\n    null: \"null\",\n    undefined: \"undefined\",\n    bigint: \"a bigint\",\n    number: \"a number\",\n    object: \"an object\",\n    string: \"a string\",\n    symbol: \"a symbol\"\n};\nexport const jsTypeOfDescriptions = {\n    ...domainDescriptions,\n    function: \"a function\"\n};\n", "import { noSuggest } from \"./errors.js\";\nimport { flatMorph } from \"./flatMorph.js\";\n/**\n * Object.entries wrapper providing narrowed types for objects with known sets\n * of keys, e.g. those defined internally as configs\n */\nexport const entriesOf = Object.entries;\nexport const fromEntries = (entries) => Object.fromEntries(entries);\nexport const keysOf = (o) => Object.keys(o);\nexport const isKeyOf = (k, o) => k in o;\nexport const hasKey = (o, k) => k in o;\n// must be defined this way to avoid https://github.com/microsoft/TypeScript/issues/55049\nexport const hasDefinedKey = (o, k) => o[k] !== undefined;\nexport const InnerDynamicBase = class {\n};\nexport class DynamicBase {\n    constructor(properties) {\n        Object.assign(this, properties);\n    }\n}\nexport const NoopBase = class {\n};\n/** @ts-ignore (needed to extend `t`) **/\nexport class CastableBase extends NoopBase {\n}\nexport const splitByKeys = (o, leftKeys) => {\n    const l = {};\n    const r = {};\n    let k;\n    for (k in o) {\n        if (k in leftKeys)\n            l[k] = o[k];\n        else\n            r[k] = o[k];\n    }\n    return [l, r];\n};\nexport const pick = (o, keys) => splitByKeys(o, keys)[0];\nexport const omit = (o, keys) => splitByKeys(o, keys)[1];\nexport const isEmptyObject = (o) => Object.keys(o).length === 0;\nexport const stringAndSymbolicEntriesOf = (o) => [\n    ...Object.entries(o),\n    ...Object.getOwnPropertySymbols(o).map(k => [k, o[k]])\n];\n/** Like Object.assign, but it will preserve getters instead of evaluating them. */\nexport const defineProperties = (base, merged) => \n// declared like this to avoid https://github.com/microsoft/TypeScript/issues/55049\nObject.defineProperties(base, Object.getOwnPropertyDescriptors(merged));\n/** Copies enumerable keys of o to a new object in alphabetical order */\nexport const withAlphabetizedKeys = (o) => {\n    const keys = Object.keys(o).sort();\n    const result = {};\n    for (let i = 0; i < keys.length; i++)\n        result[keys[i]] = o[keys[i]];\n    return result;\n};\nexport const invert = (t) => flatMorph(t, (k, v) => [v, k]);\nexport const unset = noSuggest(\"represents an uninitialized value\");\nexport const enumValues = (tsEnum) => Object.values(tsEnum).filter(v => {\n    if (typeof v === \"number\")\n        return true;\n    return typeof tsEnum[v] !== \"number\";\n});\n", "export class InternalArktypeError extends Error {\n}\nexport const throwInternalError = message => throwError(message, InternalArktypeError);\nexport const throwError = (message, ctor = Error) => {\n    throw new ctor(message);\n};\nexport class ParseError extends Error {\n    name = \"ParseError\";\n}\nexport const throwParseError = message => throwError(message, ParseError);\n/**\n *  TypeScript won't suggest strings beginning with a space as properties.\n *  Useful for symbol-like string properties.\n */\nexport const noSuggest = (s) => ` ${s}`;\n/** \"Hair Space\" character, used  as a non-rendered sentinel for an error message string:\n *  https://www.compart.com/en/unicode/U+200A\n */\nexport const zeroWidthSpace = \"\u200A\";\n", "import { append } from \"./arrays.js\";\nexport const flatMorph = (o, flatMapEntry) => {\n    const result = {};\n    const inputIsArray = Array.isArray(o);\n    let outputShouldBeArray = false;\n    for (const [i, entry] of Object.entries(o).entries()) {\n        const mapped = inputIsArray ? flatMapEntry(i, entry[1]) : flatMapEntry(...entry, i);\n        outputShouldBeArray ||= typeof mapped[0] === \"number\";\n        const flattenedEntries = Array.isArray(mapped[0]) || mapped.length === 0 ?\n            // if we have an empty array (for filtering) or an array with\n            // another array as its first element, treat it as a list\n            mapped\n            // otherwise, it should be a single entry, so nest it in a tuple\n            // so it doesn't get spread when the result is flattened\n            : [mapped];\n        for (const [k, v] of flattenedEntries) {\n            if (typeof k === \"object\")\n                result[k.group] = append(result[k.group], v);\n            else\n                result[k] = v;\n        }\n    }\n    return outputShouldBeArray ? Object.values(result) : result;\n};\n", "export {};\n", "import { throwInternalError } from \"./errors.js\";\nimport { unset } from \"./records.js\";\nexport const cached = (thunk) => {\n    let result = unset;\n    return () => (result === unset ? (result = thunk()) : result);\n};\nexport const isThunk = (value) => typeof value === \"function\" && value.length === 0;\nexport const tryCatch = (fn, onError) => {\n    try {\n        return fn();\n    }\n    catch (e) {\n        return onError?.(e);\n    }\n};\nexport const DynamicFunction = class extends Function {\n    constructor(...args) {\n        const params = args.slice(0, -1);\n        const body = args.at(-1);\n        try {\n            super(...params, body);\n        }\n        catch (e) {\n            return throwInternalError(`Encountered an unexpected error while compiling your definition:\n                Message: ${e} \n                Source: (${args.slice(0, -1)}) => {\n                    ${args.at(-1)}\n                }`);\n        }\n    }\n};\nexport class Callable {\n    constructor(fn, ...[opts]) {\n        return Object.assign(Object.setPrototypeOf(fn.bind(opts?.bind ?? this), this.constructor.prototype), opts?.attach);\n    }\n}\n/**\n * Checks if the environment has Content Security Policy (CSP) enabled,\n * preventing JIT-optimized code from being compiled via new Function().\n *\n * @returns `true` if a function created using new Function() can be\n * successfully invoked in the environment, `false` otherwise.\n *\n * The result is cached for subsequent invocations.\n */\nexport const envHasCsp = cached(() => {\n    try {\n        return new Function(\"return false\")();\n    }\n    catch {\n        return true;\n    }\n});\n", "import { noSuggest } from \"./errors.js\";\nexport const brand = noSuggest(\"brand\");\nexport const narrow = (t) => t;\n/** primitive key used to represent an inferred type at compile-time */\nexport const inferred = noSuggest(\"arkInferred\");\n", "import { noSuggest } from \"./errors.js\";\nconst args = noSuggest(\"args\");\nexport class Hkt {\n    constructor() { }\n}\n", "export {};\n", "// based on the util of the same name in @ark/fs\n// isolated here for use with registry\n/** get a CJS/ESM compatible string representing the current file */\nconst fileName = () => {\n    try {\n        const error = new Error();\n        const stackLine = error.stack?.split(\"\\n\")[2]?.trim() || \"\"; // [1]=this func, [2]=caller\n        const filePath = stackLine.match(/\\(?(.+?)(?::\\d+:\\d+)?\\)?$/)?.[1] || \"unknown\";\n        return filePath.replace(/^file:\\/\\//, \"\");\n    }\n    catch {\n        return \"unknown\";\n    }\n};\nconst env = globalThis.process?.env ?? {};\nexport const isomorphic = {\n    fileName,\n    env\n};\n", "export {};\n", "export const lazily = (thunk) => {\n    let cached;\n    return new Proxy({}, {\n        get: (_, prop) => {\n            if (!cached)\n                cached = thunk();\n            return cached[prop];\n        },\n        set: (_, prop, value) => {\n            if (!cached)\n                cached = thunk();\n            cached[prop] = value;\n            return true;\n        }\n    });\n};\n", "import { throwParseError } from \"./errors.js\";\nimport { anchoredRegex, RegexPatterns } from \"./strings.js\";\n/*\n * The goal of the number literal and bigint literal regular expressions is to:\n *\n *   1. Ensure definitions form a bijection with the values they represent.\n *   2. Attempt to mirror TypeScript's own format for stringification of numeric\n *      values such that the regex should match a given definition if any only if\n *      a precise literal type will be inferred (in TS4.8+).\n */\nconst anchoredNegativeZeroPattern = /^-0\\.?0*$/.source;\nconst positiveIntegerPattern = /[1-9]\\d*/.source;\nconst looseDecimalPattern = /\\.\\d+/.source;\nconst strictDecimalPattern = /\\.\\d*[1-9]/.source;\nconst createNumberMatcher = (opts) => anchoredRegex(RegexPatterns.negativeLookahead(anchoredNegativeZeroPattern) +\n    RegexPatterns.nonCapturingGroup(\"-?\" +\n        RegexPatterns.nonCapturingGroup(RegexPatterns.nonCapturingGroup(\"0|\" + positiveIntegerPattern) +\n            RegexPatterns.nonCapturingGroup(opts.decimalPattern) +\n            \"?\") +\n        (opts.allowDecimalOnly ? \"|\" + opts.decimalPattern : \"\") +\n        \"?\"));\n/**\n *  Matches a well-formatted numeric expression according to the following rules:\n *    1. Must include an integer portion (i.e. '.321' must be written as '0.321')\n *    2. The first digit of the value must not be 0, unless the entire integer portion is 0\n *    3. If the value includes a decimal, its last digit may not be 0\n *    4. The value may not be \"-0\"\n */\nexport const wellFormedNumberMatcher = createNumberMatcher({\n    decimalPattern: strictDecimalPattern,\n    allowDecimalOnly: false\n});\nexport const isWellFormedNumber = wellFormedNumberMatcher.test.bind(wellFormedNumberMatcher);\n/**\n * Similar to wellFormedNumber but more permissive in the following ways:\n *\n *  - Allows numbers without an integer portion like \".5\" (well-formed equivalent is \"0.5\")\n *  - Allows decimals with trailing zeroes like \"0.10\" (well-formed equivalent is \"0.1\")\n */\nexport const numericStringMatcher = createNumberMatcher({\n    decimalPattern: looseDecimalPattern,\n    allowDecimalOnly: true\n});\nexport const isNumericString = numericStringMatcher.test.bind(numericStringMatcher);\nexport const numberLikeMatcher = /^-?\\d*\\.?\\d*$/;\nconst isNumberLike = (s) => s.length !== 0 && numberLikeMatcher.test(s);\n/**\n *  Matches a well-formatted integer according to the following rules:\n *    1. must begin with an integer, the first digit of which cannot be 0 unless the entire value is 0\n *    2. The value may not be \"-0\"\n */\nexport const wellFormedIntegerMatcher = anchoredRegex(RegexPatterns.negativeLookahead(\"^-0$\") +\n    \"-?\" +\n    RegexPatterns.nonCapturingGroup(RegexPatterns.nonCapturingGroup(\"0|\" + positiveIntegerPattern)));\nexport const isWellFormedInteger = wellFormedIntegerMatcher.test.bind(wellFormedIntegerMatcher);\nexport const integerLikeMatcher = /^-?\\d+$/;\nconst isIntegerLike = integerLikeMatcher.test.bind(integerLikeMatcher);\nconst numericLiteralDescriptions = {\n    number: \"a number\",\n    bigint: \"a bigint\",\n    integer: \"an integer\"\n};\nexport const writeMalformedNumericLiteralMessage = (def, kind) => `'${def}' was parsed as ${numericLiteralDescriptions[kind]} but could not be narrowed to a literal value. Avoid unnecessary leading or trailing zeros and other abnormal notation`;\nconst isWellFormed = (def, kind) => kind === \"number\" ? isWellFormedNumber(def) : isWellFormedInteger(def);\nconst parseKind = (def, kind) => kind === \"number\" ? Number(def) : Number.parseInt(def);\nconst isKindLike = (def, kind) => kind === \"number\" ? isNumberLike(def) : isIntegerLike(def);\nexport const tryParseNumber = (token, options) => parseNumeric(token, \"number\", options);\nexport const tryParseWellFormedNumber = (token, options) => parseNumeric(token, \"number\", { ...options, strict: true });\nexport const tryParseInteger = (token, options) => parseNumeric(token, \"integer\", options);\nconst parseNumeric = (token, kind, options) => {\n    const value = parseKind(token, kind);\n    if (!Number.isNaN(value)) {\n        if (isKindLike(token, kind)) {\n            if (options?.strict) {\n                return isWellFormed(token, kind) ? value : (throwParseError(writeMalformedNumericLiteralMessage(token, kind)));\n            }\n            return value;\n        }\n    }\n    return (options?.errorOnFail ?\n        throwParseError(options?.errorOnFail === true ?\n            `Failed to parse ${numericLiteralDescriptions[kind]} from '${token}'`\n            : options?.errorOnFail)\n        : undefined);\n};\nexport const tryParseWellFormedBigint = (def) => {\n    if (def[def.length - 1] !== \"n\")\n        return;\n    const maybeIntegerLiteral = def.slice(0, -1);\n    let value;\n    try {\n        value = BigInt(maybeIntegerLiteral);\n    }\n    catch {\n        return;\n    }\n    if (wellFormedIntegerMatcher.test(maybeIntegerLiteral))\n        return value;\n    if (integerLikeMatcher.test(maybeIntegerLiteral)) {\n        // If the definition looks like a bigint but is\n        // not well-formed, throw.\n        return throwParseError(writeMalformedNumericLiteralMessage(def, \"bigint\"));\n    }\n};\n/**\n * Returns the next or previous representable floating-point number after the given input.\n *\n * @param {\"+\" | \"-\"} [direction=\"+\"] - The direction to find the nearest float. \"+\" for the next float, \"-\" for the previous float.\n * @throws {Error} If the input is not a finite number.\n *\n * @example\n * console.log(nearestFloat(0)); // Smallest positive number\n * console.log(nearestFloat(2)); // 2.0000000000000004\n * console.log(nearestFloat(2.1)); // 2.1000000000000005\n * console.log(nearestFloat(2, \"-\")); // 1.9999999999999998\n * console.log(nearestFloat(2.1, \"-\")); // 2.0999999999999996\n * // as size of input increases, the increments become larger to stay within what\n * // JS can represent in a numeric value\n * console.log(nearestFloat(5555555555555555)); // 5555555555555556\n * console.log(nearestFloat(5555555555555555, \"-\")); // 5555555555555554\n */\nexport const nearestFloat = (n, direction = \"+\") => {\n    const buffer = new ArrayBuffer(8);\n    const f64 = new Float64Array(buffer);\n    const u32 = new Uint32Array(buffer);\n    f64[0] = n;\n    if (n === 0) {\n        u32[0] = 1;\n        u32[1] = direction === \"-\" ? 1 << 31 : 0;\n    }\n    else if ((n > 0 && direction === \"+\") || (n < 0 && direction === \"-\")) {\n        if (u32[0]++ === 0xffffffff)\n            u32[1]++;\n    }\n    else if (u32[0]-- === 0)\n        u32[1]--;\n    return f64[0];\n};\n", "export const capitalize = (s) => (s[0].toUpperCase() + s.slice(1));\nexport const uncapitalize = (s) => (s[0].toLowerCase() + s.slice(1));\nexport const anchoredRegex = (regex) => new RegExp(anchoredSource(regex), typeof regex === \"string\" ? \"\" : regex.flags);\nexport const deanchoredRegex = (regex) => new RegExp(deanchoredSource(regex), typeof regex === \"string\" ? \"\" : regex.flags);\nexport const anchoredSource = (regex) => {\n    const source = typeof regex === \"string\" ? regex : regex.source;\n    return `^(?:${source})$`;\n};\nexport const deanchoredSource = (regex) => {\n    const source = typeof regex === \"string\" ? regex : regex.source;\n    if (source.startsWith(\"^(?:\") && source.endsWith(\")$\"))\n        return source.slice(4, -2);\n    return source.slice(source[0] === \"^\" ? 1 : 0, source.at(-1) === \"$\" ? -1 : undefined);\n};\nexport const RegexPatterns = {\n    negativeLookahead: (pattern) => `(?!${pattern})`,\n    nonCapturingGroup: (pattern) => `(?:${pattern})`\n};\nexport const escapeChar = \"\\\\\";\nexport const whitespaceChars = {\n    \" \": 1,\n    \"\\n\": 1,\n    \"\\t\": 1\n};\nexport const emojiToUnicode = (emoji) => emoji\n    .split(\"\")\n    .map(char => {\n    const codePoint = char.codePointAt(0);\n    return codePoint ? `\\\\u${codePoint.toString(16).padStart(4, \"0\")}` : \"\";\n})\n    .join(\"\");\n", "import { ReadonlyArray } from \"./arrays.js\";\nimport { throwParseError } from \"./errors.js\";\nimport { isDotAccessible } from \"./registry.js\";\nimport { printable } from \"./serialize.js\";\nexport const appendStringifiedKey = (path, prop, ...[opts]) => {\n    const stringifySymbol = opts?.stringifySymbol ?? printable;\n    let propAccessChain = path;\n    switch (typeof prop) {\n        case \"string\":\n            propAccessChain =\n                isDotAccessible(prop) ?\n                    path === \"\" ?\n                        prop\n                        : `${path}.${prop}`\n                    : `${path}[${JSON.stringify(prop)}]`;\n            break;\n        case \"number\":\n            propAccessChain = `${path}[${prop}]`;\n            break;\n        case \"symbol\":\n            propAccessChain = `${path}[${stringifySymbol(prop)}]`;\n            break;\n        default:\n            if (opts?.stringifyNonKey)\n                propAccessChain = `${path}[${opts.stringifyNonKey(prop)}]`;\n            else {\n                throwParseError(`${printable(prop)} must be a PropertyKey or stringifyNonKey must be passed to options`);\n            }\n    }\n    return propAccessChain;\n};\nexport const stringifyPath = (path, ...opts) => path.reduce((s, k) => appendStringifiedKey(s, k, ...opts), \"\");\nexport class ReadonlyPath extends ReadonlyArray {\n    // alternate strategy for caching since the base object is frozen\n    cache = {};\n    constructor(...items) {\n        super();\n        this.push(...items);\n    }\n    toJSON() {\n        if (this.cache.json)\n            return this.cache.json;\n        this.cache.json = [];\n        for (let i = 0; i < this.length; i++) {\n            this.cache.json.push(typeof this[i] === \"symbol\" ? printable(this[i]) : this[i]);\n        }\n        return this.cache.json;\n    }\n    stringify() {\n        if (this.cache.stringify)\n            return this.cache.stringify;\n        return (this.cache.stringify = stringifyPath(this));\n    }\n    stringifyAncestors() {\n        if (this.cache.stringifyAncestors)\n            return this.cache.stringifyAncestors;\n        let propString = \"\";\n        const result = [propString];\n        for (const path of this) {\n            propString = appendStringifiedKey(propString, path);\n            result.push(propString);\n        }\n        return (this.cache.stringifyAncestors = result);\n    }\n}\n", "import { domainOf } from \"./domain.js\";\nimport { throwInternalError } from \"./errors.js\";\nimport { isomorphic } from \"./isomorphic.js\";\nimport { FileConstructor, objectKindOf } from \"./objectKinds.js\";\n// Eventually we can just import from package.json in the source itself\n// but for now, import assertions are too unstable and it wouldn't support\n// recent node versions (https://nodejs.org/api/esm.html#json-modules).\n// For now, we assert this matches the package.json version via a unit test.\nexport const arkUtilVersion = \"0.46.0\";\nexport const initialRegistryContents = {\n    version: arkUtilVersion,\n    filename: isomorphic.fileName(),\n    FileConstructor\n};\nexport const registry = initialRegistryContents;\nconst namesByResolution = new Map();\nconst nameCounts = Object.create(null);\nexport const register = (value) => {\n    const existingName = namesByResolution.get(value);\n    if (existingName)\n        return existingName;\n    let name = baseNameFor(value);\n    if (nameCounts[name])\n        name = `${name}${nameCounts[name]++}`;\n    else\n        nameCounts[name] = 1;\n    registry[name] = value;\n    namesByResolution.set(value, name);\n    return name;\n};\nexport const isDotAccessible = (keyName) => /^[$A-Z_a-z][\\w$]*$/.test(keyName);\nconst baseNameFor = (value) => {\n    switch (typeof value) {\n        case \"object\": {\n            if (value === null)\n                break;\n            const prefix = objectKindOf(value) ?? \"object\";\n            // convert to camelCase\n            return prefix[0].toLowerCase() + prefix.slice(1);\n        }\n        case \"function\":\n            return isDotAccessible(value.name) ? value.name : \"fn\";\n        case \"symbol\":\n            return value.description && isDotAccessible(value.description) ?\n                value.description\n                : \"symbol\";\n    }\n    return throwInternalError(`Unexpected attempt to register serializable value of type ${domainOf(value)}`);\n};\n", "import { domainOf } from \"./domain.js\";\nimport { serializePrimitive } from \"./primitive.js\";\nimport { stringAndSymbolicEntriesOf } from \"./records.js\";\nimport { isDotAccessible, register } from \"./registry.js\";\nexport const snapshot = (data, opts = {}) => _serialize(data, {\n    onUndefined: `$ark.undefined`,\n    onBigInt: n => `$ark.bigint-${n}`,\n    ...opts\n}, []);\nexport const print = (data, opts) => console.log(printable(data, opts));\nexport const printable = (data, opts) => {\n    switch (domainOf(data)) {\n        case \"object\":\n            const o = data;\n            const ctorName = o.constructor.name;\n            return (ctorName === \"Object\" || ctorName === \"Array\" ?\n                opts?.quoteKeys === false ?\n                    stringifyUnquoted(o, opts?.indent ?? 0, \"\")\n                    : JSON.stringify(_serialize(o, printableOpts, []), null, opts?.indent)\n                : stringifyUnquoted(o, opts?.indent ?? 0, \"\"));\n        case \"symbol\":\n            return printableOpts.onSymbol(data);\n        default:\n            return serializePrimitive(data);\n    }\n};\nconst stringifyUnquoted = (value, indent, currentIndent) => {\n    if (typeof value === \"function\")\n        return printableOpts.onFunction(value);\n    if (typeof value !== \"object\" || value === null)\n        return serializePrimitive(value);\n    const nextIndent = currentIndent + \" \".repeat(indent);\n    if (Array.isArray(value)) {\n        if (value.length === 0)\n            return \"[]\";\n        const items = value\n            .map(item => stringifyUnquoted(item, indent, nextIndent))\n            .join(\",\\n\" + nextIndent);\n        return indent ? `[\\n${nextIndent}${items}\\n${currentIndent}]` : `[${items}]`;\n    }\n    const ctorName = value.constructor.name;\n    if (ctorName === \"Object\") {\n        const keyValues = stringAndSymbolicEntriesOf(value).map(([key, val]) => {\n            const stringifiedKey = typeof key === \"symbol\" ? printableOpts.onSymbol(key)\n                : isDotAccessible(key) ? key\n                    : JSON.stringify(key);\n            const stringifiedValue = stringifyUnquoted(val, indent, nextIndent);\n            return `${nextIndent}${stringifiedKey}: ${stringifiedValue}`;\n        });\n        if (keyValues.length === 0)\n            return \"{}\";\n        return indent ?\n            `{\\n${keyValues.join(\",\\n\")}\\n${currentIndent}}`\n            : `{${keyValues.join(\", \")}}`;\n    }\n    if (value instanceof Date)\n        return describeCollapsibleDate(value);\n    if (\"expression\" in value && typeof value.expression === \"string\")\n        return value.expression;\n    return ctorName;\n};\nconst printableOpts = {\n    onCycle: () => \"(cycle)\",\n    onSymbol: v => `Symbol(${register(v)})`,\n    onFunction: v => `Function(${register(v)})`\n};\nconst _serialize = (data, opts, seen) => {\n    switch (domainOf(data)) {\n        case \"object\": {\n            const o = data;\n            if (\"toJSON\" in o && typeof o.toJSON === \"function\")\n                return o.toJSON();\n            if (typeof o === \"function\")\n                return printableOpts.onFunction(o);\n            if (seen.includes(o))\n                return \"(cycle)\";\n            const nextSeen = [...seen, o];\n            if (Array.isArray(o))\n                return o.map(item => _serialize(item, opts, nextSeen));\n            if (o instanceof Date)\n                return o.toDateString();\n            const result = {};\n            for (const k in o)\n                result[k] = _serialize(o[k], opts, nextSeen);\n            for (const s of Object.getOwnPropertySymbols(o)) {\n                result[opts.onSymbol?.(s) ?? s.toString()] = _serialize(o[s], opts, nextSeen);\n            }\n            return result;\n        }\n        case \"symbol\":\n            return printableOpts.onSymbol(data);\n        case \"bigint\":\n            return opts.onBigInt?.(data) ?? `${data}n`;\n        case \"undefined\":\n            return opts.onUndefined ?? \"undefined\";\n        case \"string\":\n            return data.replaceAll(\"\\\\\", \"\\\\\\\\\");\n        default:\n            return data;\n    }\n};\n/**\n * Converts a Date instance to a human-readable description relative to its precision\n */\nexport const describeCollapsibleDate = (date) => {\n    const year = date.getFullYear();\n    const month = date.getMonth();\n    const dayOfMonth = date.getDate();\n    const hours = date.getHours();\n    const minutes = date.getMinutes();\n    const seconds = date.getSeconds();\n    const milliseconds = date.getMilliseconds();\n    if (month === 0 &&\n        dayOfMonth === 1 &&\n        hours === 0 &&\n        minutes === 0 &&\n        seconds === 0 &&\n        milliseconds === 0)\n        return `${year}`;\n    const datePortion = `${months[month]} ${dayOfMonth}, ${year}`;\n    if (hours === 0 && minutes === 0 && seconds === 0 && milliseconds === 0)\n        return datePortion;\n    let timePortion = date.toLocaleTimeString();\n    const suffix = timePortion.endsWith(\" AM\") || timePortion.endsWith(\" PM\") ?\n        timePortion.slice(-3)\n        : \"\";\n    if (suffix)\n        timePortion = timePortion.slice(0, -suffix.length);\n    if (milliseconds)\n        timePortion += `.${pad(milliseconds, 3)}`;\n    else if (timeWithUnnecessarySeconds.test(timePortion))\n        timePortion = timePortion.slice(0, -3);\n    return `${timePortion + suffix}, ${datePortion}`;\n};\nconst months = [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\"\n];\nconst timeWithUnnecessarySeconds = /:\\d\\d:00$/;\nconst pad = (value, length) => String(value).padStart(length, \"0\");\n", "export const serializePrimitive = (value) => (typeof value === \"string\" ? JSON.stringify(value)\n    : typeof value === \"bigint\" ? `${value}n`\n        : `${value}`);\n", "import { escapeChar, whitespaceChars } from \"./strings.js\";\nexport class Scanner {\n    chars;\n    i;\n    def;\n    constructor(def) {\n        this.def = def;\n        this.chars = [...def];\n        this.i = 0;\n    }\n    /** Get lookahead and advance scanner by one */\n    shift() {\n        return (this.chars[this.i++] ?? \"\");\n    }\n    get lookahead() {\n        return (this.chars[this.i] ?? \"\");\n    }\n    get nextLookahead() {\n        return this.chars[this.i + 1] ?? \"\";\n    }\n    get length() {\n        return this.chars.length;\n    }\n    shiftUntil(condition) {\n        let shifted = \"\";\n        while (this.lookahead) {\n            if (condition(this, shifted)) {\n                if (shifted[shifted.length - 1] === escapeChar)\n                    shifted = shifted.slice(0, -1);\n                else\n                    break;\n            }\n            shifted += this.shift();\n        }\n        return shifted;\n    }\n    shiftUntilLookahead(charOrSet) {\n        return typeof charOrSet === \"string\" ?\n            this.shiftUntil(s => s.lookahead === charOrSet)\n            : this.shiftUntil(s => s.lookahead in charOrSet);\n    }\n    shiftUntilNonWhitespace() {\n        return this.shiftUntil(() => !(this.lookahead in whitespaceChars));\n    }\n    jumpToIndex(i) {\n        this.i = i < 0 ? this.length + i : i;\n    }\n    jumpForward(count) {\n        this.i += count;\n    }\n    get location() {\n        return this.i;\n    }\n    get unscanned() {\n        return this.chars.slice(this.i, this.length).join(\"\");\n    }\n    get scanned() {\n        return this.chars.slice(0, this.i).join(\"\");\n    }\n    sliceChars(start, end) {\n        return this.chars.slice(start, end).join(\"\");\n    }\n    lookaheadIs(char) {\n        return this.lookahead === char;\n    }\n    lookaheadIsIn(tokens) {\n        return this.lookahead in tokens;\n    }\n}\n", "import { hasDomain } from \"./domain.js\";\nimport { noSuggest } from \"./errors.js\";\nimport { ancestorsOf } from \"./objectKinds.js\";\nimport { NoopBase } from \"./records.js\";\n// even though the value we attach will be identical, we use this so classes\n// won't be treated as instanceof a Trait\nconst implementedTraits = noSuggest(\"implementedTraits\");\nexport const hasTrait = (traitClass) => (o) => {\n    if (!hasDomain(o, \"object\"))\n        return false;\n    if (implementedTraits in o.constructor &&\n        o.constructor[implementedTraits].includes(traitClass))\n        return true;\n    // emulate standard instanceof behavior\n    return ancestorsOf(o).includes(traitClass);\n};\n/** @ts-ignore required to extend NoopBase */\nexport class Trait extends NoopBase {\n    static get [Symbol.hasInstance]() {\n        return hasTrait(this);\n    }\n    traitsOf() {\n        return implementedTraits in this.constructor ?\n            this.constructor[implementedTraits]\n            : [];\n    }\n}\nconst collectPrototypeDescriptors = (trait) => {\n    let proto = trait.prototype;\n    let result = {};\n    do {\n        // ensure prototypes are sorted from lowest to highest precedence\n        result = Object.assign(Object.getOwnPropertyDescriptors(proto), result);\n        proto = Object.getPrototypeOf(proto);\n    } while (proto !== Object.prototype && proto !== null);\n    return result;\n};\nexport const compose = ((...traits) => {\n    const base = function (...args) {\n        for (const trait of traits) {\n            const instance = Reflect.construct(trait, args, this.constructor);\n            Object.assign(this, instance);\n        }\n    };\n    const flatImplementedTraits = [];\n    for (const trait of traits) {\n        // copy static properties\n        Object.assign(base, trait);\n        // flatten and copy prototype\n        Object.defineProperties(base.prototype, collectPrototypeDescriptors(trait));\n        if (implementedTraits in trait) {\n            // add any ancestor traits from which the current trait was composed\n            for (const innerTrait of trait[implementedTraits]) {\n                if (!flatImplementedTraits.includes(innerTrait))\n                    flatImplementedTraits.push(innerTrait);\n            }\n        }\n        if (!flatImplementedTraits.includes(trait))\n            flatImplementedTraits.push(trait);\n    }\n    Object.defineProperty(base, implementedTraits, {\n        value: flatImplementedTraits,\n        enumerable: false\n    });\n    return base;\n});\nexport const implement = (...args) => {\n    if (args.at(-1) instanceof Trait)\n        return compose(...args);\n    const implementation = args.at(-1);\n    const base = compose(...args.slice(0, -1));\n    // copy implementation last since it overrides traits\n    Object.defineProperties(base.prototype, Object.getOwnPropertyDescriptors(implementation));\n    return base;\n};\n", "export {};\n", "import { CastableBase, DynamicFunction, hasDomain, isDotAccessible, serializePrimitive } from \"@ark/util\";\nimport { registeredReference } from \"./registry.js\";\nexport class CompiledFunction extends CastableBase {\n    argNames;\n    body = \"\";\n    constructor(...args) {\n        super();\n        this.argNames = args;\n        for (const arg of args) {\n            if (arg in this) {\n                throw new Error(`Arg name '${arg}' would overwrite an existing property on FunctionBody`);\n            }\n            ;\n            this[arg] = arg;\n        }\n    }\n    indentation = 0;\n    indent() {\n        this.indentation += 4;\n        return this;\n    }\n    dedent() {\n        this.indentation -= 4;\n        return this;\n    }\n    prop(key, optional = false) {\n        return compileLiteralPropAccess(key, optional);\n    }\n    index(key, optional = false) {\n        return indexPropAccess(`${key}`, optional);\n    }\n    line(statement) {\n        ;\n        this.body += `${\" \".repeat(this.indentation)}${statement}\\n`;\n        return this;\n    }\n    const(identifier, expression) {\n        this.line(`const ${identifier} = ${expression}`);\n        return this;\n    }\n    let(identifier, expression) {\n        return this.line(`let ${identifier} = ${expression}`);\n    }\n    set(identifier, expression) {\n        return this.line(`${identifier} = ${expression}`);\n    }\n    if(condition, then) {\n        return this.block(`if (${condition})`, then);\n    }\n    elseIf(condition, then) {\n        return this.block(`else if (${condition})`, then);\n    }\n    else(then) {\n        return this.block(\"else\", then);\n    }\n    /** Current index is \"i\" */\n    for(until, body, initialValue = 0) {\n        return this.block(`for (let i = ${initialValue}; ${until}; i++)`, body);\n    }\n    /** Current key is \"k\" */\n    forIn(object, body) {\n        return this.block(`for (const k in ${object})`, body);\n    }\n    block(prefix, contents, suffix = \"\") {\n        this.line(`${prefix} {`);\n        this.indent();\n        contents(this);\n        this.dedent();\n        return this.line(`}${suffix}`);\n    }\n    return(expression = \"\") {\n        return this.line(`return ${expression}`);\n    }\n    write(name = \"anonymous\", indent = 0) {\n        return `${name}(${this.argNames.join(\", \")}) { ${indent ?\n            this.body\n                .split(\"\\n\")\n                .map(l => \" \".repeat(indent) + `${l}`)\n                .join(\"\\n\")\n            : this.body} }`;\n    }\n    compile() {\n        return new DynamicFunction(...this.argNames, this.body);\n    }\n}\nexport const compileSerializedValue = (value) => hasDomain(value, \"object\") || typeof value === \"symbol\" ?\n    registeredReference(value)\n    : serializePrimitive(value);\nexport const compileLiteralPropAccess = (key, optional = false) => {\n    if (typeof key === \"string\" && isDotAccessible(key))\n        return `${optional ? \"?\" : \"\"}.${key}`;\n    return indexPropAccess(serializeLiteralKey(key), optional);\n};\nexport const serializeLiteralKey = (key) => typeof key === \"symbol\" ? registeredReference(key) : JSON.stringify(key);\nexport const indexPropAccess = (key, optional = false) => `${optional ? \"?.\" : \"\"}[${key}]`;\nexport class NodeCompiler extends CompiledFunction {\n    traversalKind;\n    optimistic;\n    constructor(ctx) {\n        super(\"data\", \"ctx\");\n        this.traversalKind = ctx.kind;\n        this.optimistic = ctx.optimistic === true;\n    }\n    invoke(node, opts) {\n        const arg = opts?.arg ?? this.data;\n        const requiresContext = typeof node === \"string\" ? true : this.requiresContextFor(node);\n        const id = typeof node === \"string\" ? node : node.id;\n        if (requiresContext)\n            return `${this.referenceToId(id, opts)}(${arg}, ${this.ctx})`;\n        return `${this.referenceToId(id, opts)}(${arg})`;\n    }\n    referenceToId(id, opts) {\n        const invokedKind = opts?.kind ?? this.traversalKind;\n        const base = `this.${id}${invokedKind}`;\n        return opts?.bind ? `${base}.bind(${opts?.bind})` : base;\n    }\n    requiresContextFor(node) {\n        return this.traversalKind === \"Apply\" || node.allowsRequiresContext;\n    }\n    initializeErrorCount() {\n        return this.const(\"errorCount\", \"ctx.currentErrorCount\");\n    }\n    returnIfFail() {\n        return this.if(\"ctx.currentErrorCount > errorCount\", () => this.return());\n    }\n    returnIfFailFast() {\n        return this.if(\"ctx.failFast && ctx.currentErrorCount > errorCount\", () => this.return());\n    }\n    traverseKey(keyExpression, accessExpression, node) {\n        const requiresContext = this.requiresContextFor(node);\n        if (requiresContext)\n            this.line(`${this.ctx}.path.push(${keyExpression})`);\n        this.check(node, {\n            arg: accessExpression\n        });\n        if (requiresContext)\n            this.line(`${this.ctx}.path.pop()`);\n        return this;\n    }\n    check(node, opts) {\n        return this.traversalKind === \"Allows\" ?\n            this.if(`!${this.invoke(node, opts)}`, () => this.return(false))\n            : this.line(this.invoke(node, opts));\n    }\n}\n", "import { register, registry } from \"@ark/util\";\nlet _registryName = \"$ark\";\nlet suffix = 2;\nwhile (_registryName in globalThis)\n    _registryName = `$ark${suffix++}`;\nexport const registryName = _registryName;\nglobalThis[registryName] = registry;\nexport const $ark = registry;\nexport const reference = (name) => `${registryName}.${name}`;\nexport const registeredReference = (value) => reference(register(value));\n", "import { flatMorph, isArray, noSuggest } from \"@ark/util\";\nexport const makeRootAndArrayPropertiesMutable = (o) => \n// this cast should not be required, but it seems TS is referencing\n// the wrong parameters here?\nflatMorph(o, (k, v) => [k, isArray(v) ? [...v] : v]);\nexport const arkKind = noSuggest(\"arkKind\");\nexport const hasArkKind = (value, kind) => value?.[arkKind] === kind;\nexport const isNode = (value) => hasArkKind(value, \"root\") || hasArkKind(value, \"constraint\");\n", "import { printable, throwInternalError } from \"@ark/util\";\nclass ToJsonSchemaError extends Error {\n    name = \"ToJsonSchemaError\";\n    code;\n    context;\n    constructor(code, context) {\n        super(printable(context, { quoteKeys: false, indent: 4 }));\n        this.code = code;\n        this.context = context;\n    }\n    hasCode(code) {\n        return this.code === code;\n    }\n}\nconst defaultConfig = {\n    dialect: \"https://json-schema.org/draft/2020-12/schema\",\n    useRefs: false,\n    fallback: {\n        arrayObject: ctx => ToJsonSchema.throw(\"arrayObject\", ctx),\n        arrayPostfix: ctx => ToJsonSchema.throw(\"arrayPostfix\", ctx),\n        defaultValue: ctx => ToJsonSchema.throw(\"defaultValue\", ctx),\n        domain: ctx => ToJsonSchema.throw(\"domain\", ctx),\n        morph: ctx => ToJsonSchema.throw(\"morph\", ctx),\n        patternIntersection: ctx => ToJsonSchema.throw(\"patternIntersection\", ctx),\n        predicate: ctx => ToJsonSchema.throw(\"predicate\", ctx),\n        proto: ctx => ToJsonSchema.throw(\"proto\", ctx),\n        symbolKey: ctx => ToJsonSchema.throw(\"symbolKey\", ctx),\n        unit: ctx => ToJsonSchema.throw(\"unit\", ctx),\n        date: ctx => ToJsonSchema.throw(\"date\", ctx)\n    }\n};\nexport const ToJsonSchema = {\n    Error: ToJsonSchemaError,\n    throw: (...args) => {\n        throw new ToJsonSchema.Error(...args);\n    },\n    throwInternalOperandError: (kind, schema) => throwInternalError(`Unexpected JSON Schema input for ${kind}: ${printable(schema)}`),\n    defaultConfig\n};\n", "import { append, appendUnique, capitalize, isArray, throwInternalError, throwParseError } from \"@ark/util\";\nimport { BaseNode } from \"./node.js\";\nimport { Disjoint } from \"./shared/disjoint.js\";\nimport { compileObjectLiteral, constraintKeys } from \"./shared/implement.js\";\nimport { intersectNodesRoot, intersectOrPipeNodes } from \"./shared/intersections.js\";\nimport { $ark } from \"./shared/registry.js\";\nimport { arkKind } from \"./shared/utils.js\";\nexport class BaseConstraint extends BaseNode {\n    constructor(attachments, $) {\n        super(attachments, $);\n        // define as a getter to avoid it being enumerable/spreadable\n        Object.defineProperty(this, arkKind, {\n            value: \"constraint\",\n            enumerable: false\n        });\n    }\n    impliedSiblings;\n    intersect(r) {\n        return intersectNodesRoot(this, r, this.$);\n    }\n}\nexport class InternalPrimitiveConstraint extends BaseConstraint {\n    traverseApply = (data, ctx) => {\n        if (!this.traverseAllows(data, ctx))\n            ctx.errorFromNodeContext(this.errorContext);\n    };\n    compile(js) {\n        if (js.traversalKind === \"Allows\")\n            js.return(this.compiledCondition);\n        else {\n            js.if(this.compiledNegation, () => js.line(`${js.ctx}.errorFromNodeContext(${this.compiledErrorContext})`));\n        }\n    }\n    get errorContext() {\n        return {\n            code: this.kind,\n            description: this.description,\n            meta: this.meta,\n            ...this.inner\n        };\n    }\n    get compiledErrorContext() {\n        return compileObjectLiteral(this.errorContext);\n    }\n}\nexport const constraintKeyParser = (kind) => (schema, ctx) => {\n    if (isArray(schema)) {\n        if (schema.length === 0) {\n            // Omit empty lists as input\n            return;\n        }\n        const nodes = schema.map(schema => ctx.$.node(kind, schema));\n        // predicate order must be preserved to ensure inputs are narrowed\n        // and checked in the correct order\n        if (kind === \"predicate\")\n            return nodes;\n        return nodes.sort((l, r) => (l.hash < r.hash ? -1 : 1));\n    }\n    const child = ctx.$.node(kind, schema);\n    return (child.hasOpenIntersection() ? [child] : child);\n};\nexport const intersectConstraints = (s) => {\n    const head = s.r.shift();\n    if (!head) {\n        let result = s.l.length === 0 && s.kind === \"structure\" ?\n            $ark.intrinsic.unknown.internal\n            : s.ctx.$.node(s.kind, Object.assign(s.baseInner, unflattenConstraints(s.l)), { prereduced: true });\n        for (const root of s.roots) {\n            if (result instanceof Disjoint)\n                return result;\n            result = intersectOrPipeNodes(root, result, s.ctx);\n        }\n        return result;\n    }\n    let matched = false;\n    for (let i = 0; i < s.l.length; i++) {\n        const result = intersectOrPipeNodes(s.l[i], head, s.ctx);\n        if (result === null)\n            continue;\n        if (result instanceof Disjoint)\n            return result;\n        if (!matched) {\n            if (result.isRoot()) {\n                s.roots.push(result);\n                s.l.splice(i);\n                return intersectConstraints(s);\n            }\n            s.l[i] = result;\n            matched = true;\n        }\n        else if (!s.l.includes(result)) {\n            return throwInternalError(`Unexpectedly encountered multiple distinct intersection results for refinement ${result}`);\n        }\n    }\n    if (!matched)\n        s.l.push(head);\n    if (s.kind === \"intersection\") {\n        if (head.impliedSiblings)\n            for (const node of head.impliedSiblings)\n                appendUnique(s.r, node);\n    }\n    return intersectConstraints(s);\n};\nexport const flattenConstraints = (inner) => {\n    const result = Object.entries(inner)\n        .flatMap(([k, v]) => k in constraintKeys ? v : [])\n        .sort((l, r) => l.precedence < r.precedence ? -1\n        : l.precedence > r.precedence ? 1\n            // preserve order for predicates\n            : l.kind === \"predicate\" && r.kind === \"predicate\" ? 0\n                : l.hash < r.hash ? -1\n                    : 1);\n    return result;\n};\nexport const unflattenConstraints = (constraints) => {\n    const inner = {};\n    for (const constraint of constraints) {\n        if (constraint.hasOpenIntersection()) {\n            inner[constraint.kind] = append(inner[constraint.kind], constraint);\n        }\n        else {\n            if (inner[constraint.kind]) {\n                return throwInternalError(`Unexpected intersection of closed refinements of kind ${constraint.kind}`);\n            }\n            inner[constraint.kind] = constraint;\n        }\n    }\n    return inner;\n};\nexport const throwInvalidOperandError = (...args) => throwParseError(writeInvalidOperandMessage(...args));\nexport const writeInvalidOperandMessage = (kind, expected, actual) => {\n    const actualDescription = actual.hasKind(\"morph\") ? \"a morph\"\n        : actual.isUnknown() ? \"unknown\"\n            : actual.exclude(expected).defaultShortDescription;\n    return `${capitalize(kind)} operand must be ${expected.description} (was ${actualDescription})`;\n};\n", "import { Callable, appendUnique, flatMorph, includes, isArray, isEmptyObject, isKeyOf, liftArray, printable, stringifyPath, throwError, throwInternalError } from \"@ark/util\";\nimport { basisKinds, constraintKinds, precedenceOfKind, refinementKinds, rootKinds, structuralKinds } from \"./shared/implement.js\";\nimport { $ark } from \"./shared/registry.js\";\nimport { Traversal } from \"./shared/traversal.js\";\nimport { isNode } from \"./shared/utils.js\";\nexport class BaseNode extends Callable {\n    attachments;\n    $;\n    onFail;\n    includesTransform;\n    includesContextualPredicate;\n    isCyclic;\n    allowsRequiresContext;\n    rootApplyStrategy;\n    contextFreeMorph;\n    rootApply;\n    referencesById;\n    shallowReferences;\n    flatRefs;\n    flatMorphs;\n    allows;\n    get shallowMorphs() {\n        return [];\n    }\n    constructor(attachments, $) {\n        super((data, pipedFromCtx, onFail = this.onFail) => {\n            if (pipedFromCtx) {\n                this.traverseApply(data, pipedFromCtx);\n                return pipedFromCtx.hasError() ?\n                    pipedFromCtx.errors\n                    : pipedFromCtx.data;\n            }\n            return this.rootApply(data, onFail);\n        }, { attach: attachments });\n        this.attachments = attachments;\n        this.$ = $;\n        this.onFail = this.meta.onFail ?? this.$.resolvedConfig.onFail;\n        this.includesTransform =\n            this.hasKind(\"morph\") ||\n                (this.hasKind(\"structure\") && this.structuralMorph !== undefined);\n        // if a predicate accepts exactly one arg, we can safely skip passing context\n        // technically, a predicate could be written like `(data, ...[ctx]) => ctx.mustBe(\"malicious\")`\n        // that would break here, but it feels like a pathological case and is better to let people optimize\n        this.includesContextualPredicate =\n            this.hasKind(\"predicate\") && this.inner.predicate.length !== 1;\n        this.isCyclic = this.kind === \"alias\";\n        this.referencesById = { [this.id]: this };\n        this.shallowReferences =\n            this.hasKind(\"structure\") ?\n                [this, ...this.children]\n                : this.children.reduce((acc, child) => appendUniqueNodes(acc, child.shallowReferences), [this]);\n        const isStructural = this.isStructural();\n        this.flatRefs = [];\n        this.flatMorphs = [];\n        for (let i = 0; i < this.children.length; i++) {\n            this.includesTransform ||= this.children[i].includesTransform;\n            this.includesContextualPredicate ||=\n                this.children[i].includesContextualPredicate;\n            this.isCyclic ||= this.children[i].isCyclic;\n            if (!isStructural) {\n                const childFlatRefs = this.children[i].flatRefs;\n                for (let j = 0; j < childFlatRefs.length; j++) {\n                    const childRef = childFlatRefs[j];\n                    if (!this.flatRefs.some(existing => flatRefsAreEqual(existing, childRef))) {\n                        this.flatRefs.push(childRef);\n                        for (const branch of childRef.node.branches) {\n                            if (branch.hasKind(\"morph\") ||\n                                (branch.hasKind(\"intersection\") &&\n                                    branch.structure?.structuralMorph !== undefined)) {\n                                this.flatMorphs.push({\n                                    path: childRef.path,\n                                    propString: childRef.propString,\n                                    node: branch\n                                });\n                            }\n                        }\n                    }\n                }\n            }\n            Object.assign(this.referencesById, this.children[i].referencesById);\n        }\n        this.flatRefs.sort((l, r) => l.path.length > r.path.length ? 1\n            : l.path.length < r.path.length ? -1\n                : l.propString > r.propString ? 1\n                    : l.propString < r.propString ? -1\n                        : l.node.expression < r.node.expression ? -1\n                            : 1);\n        this.allowsRequiresContext =\n            this.includesContextualPredicate || this.isCyclic;\n        this.rootApplyStrategy =\n            !this.allowsRequiresContext && this.flatMorphs.length === 0 ?\n                this.shallowMorphs.length === 0 ? \"allows\"\n                    : (this.shallowMorphs.every(morph => morph.length === 1 || morph.name === \"$arkStructuralMorph\")) ?\n                        this.hasKind(\"union\") ?\n                            // multiple morphs not yet supported for optimistic compilation\n                            this.branches.some(branch => branch.shallowMorphs.length > 1) ?\n                                \"contextual\"\n                                : \"branchedOptimistic\"\n                            : this.shallowMorphs.length > 1 ? \"contextual\"\n                                : \"optimistic\"\n                        : \"contextual\"\n                : \"contextual\";\n        this.rootApply = this.createRootApply();\n        this.allows =\n            this.allowsRequiresContext ?\n                data => this.traverseAllows(data, new Traversal(data, this.$.resolvedConfig))\n                : data => this.traverseAllows(data);\n    }\n    createRootApply() {\n        switch (this.rootApplyStrategy) {\n            case \"allows\":\n                return (data, onFail) => {\n                    if (this.allows(data))\n                        return data;\n                    const ctx = new Traversal(data, this.$.resolvedConfig);\n                    this.traverseApply(data, ctx);\n                    return ctx.finalize(onFail);\n                };\n            case \"contextual\":\n                return (data, onFail) => {\n                    const ctx = new Traversal(data, this.$.resolvedConfig);\n                    this.traverseApply(data, ctx);\n                    return ctx.finalize(onFail);\n                };\n            case \"optimistic\":\n                this.contextFreeMorph = this.shallowMorphs[0];\n                const clone = this.$.resolvedConfig.clone;\n                return (data, onFail) => {\n                    if (this.allows(data)) {\n                        return this.contextFreeMorph((clone &&\n                            ((typeof data === \"object\" && data !== null) ||\n                                typeof data === \"function\")) ?\n                            clone(data)\n                            : data);\n                    }\n                    const ctx = new Traversal(data, this.$.resolvedConfig);\n                    this.traverseApply(data, ctx);\n                    return ctx.finalize(onFail);\n                };\n            case \"branchedOptimistic\":\n                return this.createBranchedOptimisticRootApply();\n            default:\n                this.rootApplyStrategy;\n                return throwInternalError(`Unexpected rootApplyStrategy ${this.rootApplyStrategy}`);\n        }\n    }\n    compiledMeta = compileMeta(this.metaJson);\n    cacheGetter(name, value) {\n        Object.defineProperty(this, name, { value });\n        return value;\n    }\n    get description() {\n        return this.cacheGetter(\"description\", this.meta?.description ??\n            this.$.resolvedConfig[this.kind].description(this));\n    }\n    // we don't cache this currently since it can be updated once a scope finishes\n    // resolving cyclic references, although it may be possible to ensure it is cached safely\n    get references() {\n        return Object.values(this.referencesById);\n    }\n    precedence = precedenceOfKind(this.kind);\n    precompilation;\n    // defined as an arrow function since it is often detached, e.g. when passing to tRPC\n    // otherwise, would run into issues with this binding\n    assert = (data, pipedFromCtx) => this(data, pipedFromCtx, errors => errors.throw());\n    traverse(data, pipedFromCtx) {\n        return this(data, pipedFromCtx, null);\n    }\n    get in() {\n        return this.cacheGetter(\"in\", this.getIo(\"in\"));\n    }\n    get out() {\n        return this.cacheGetter(\"out\", this.getIo(\"out\"));\n    }\n    // Should be refactored to use transform\n    // https://github.com/arktypeio/arktype/issues/1020\n    getIo(ioKind) {\n        if (!this.includesTransform)\n            return this;\n        const ioInner = {};\n        for (const [k, v] of this.innerEntries) {\n            const keySchemaImplementation = this.impl.keys[k];\n            if (keySchemaImplementation.reduceIo)\n                keySchemaImplementation.reduceIo(ioKind, ioInner, v);\n            else if (keySchemaImplementation.child) {\n                const childValue = v;\n                ioInner[k] =\n                    isArray(childValue) ?\n                        childValue.map(child => child[ioKind])\n                        : childValue[ioKind];\n            }\n            else\n                ioInner[k] = v;\n        }\n        return this.$.node(this.kind, ioInner);\n    }\n    toJSON() {\n        return this.json;\n    }\n    toString() {\n        return `Type<${this.expression}>`;\n    }\n    equals(r) {\n        const rNode = isNode(r) ? r : this.$.parseDefinition(r);\n        return this.innerHash === rNode.innerHash;\n    }\n    ifEquals(r) {\n        return this.equals(r) ? this : undefined;\n    }\n    hasKind(kind) {\n        return this.kind === kind;\n    }\n    assertHasKind(kind) {\n        if (this.kind !== kind)\n            throwError(`${this.kind} node was not of asserted kind ${kind}`);\n        return this;\n    }\n    hasKindIn(...kinds) {\n        return kinds.includes(this.kind);\n    }\n    assertHasKindIn(...kinds) {\n        if (!includes(kinds, this.kind))\n            throwError(`${this.kind} node was not one of asserted kinds ${kinds}`);\n        return this;\n    }\n    isBasis() {\n        return includes(basisKinds, this.kind);\n    }\n    isConstraint() {\n        return includes(constraintKinds, this.kind);\n    }\n    isStructural() {\n        return includes(structuralKinds, this.kind);\n    }\n    isRefinement() {\n        return includes(refinementKinds, this.kind);\n    }\n    isRoot() {\n        return includes(rootKinds, this.kind);\n    }\n    isUnknown() {\n        return this.hasKind(\"intersection\") && this.children.length === 0;\n    }\n    isNever() {\n        return this.hasKind(\"union\") && this.children.length === 0;\n    }\n    hasUnit(value) {\n        return this.hasKind(\"unit\") && this.allows(value);\n    }\n    hasOpenIntersection() {\n        return this.impl.intersectionIsOpen;\n    }\n    get nestableExpression() {\n        return this.expression;\n    }\n    select(selector) {\n        const normalized = NodeSelector.normalize(selector);\n        return this._select(normalized);\n    }\n    _select(selector) {\n        let nodes = NodeSelector.applyBoundary[selector.boundary ?? \"references\"](this);\n        if (selector.kind)\n            nodes = nodes.filter(n => n.kind === selector.kind);\n        if (selector.where)\n            nodes = nodes.filter(selector.where);\n        return NodeSelector.applyMethod[selector.method ?? \"filter\"](nodes, this, selector);\n    }\n    transform(mapper, opts) {\n        return this._transform(mapper, this._createTransformContext(opts));\n    }\n    _createTransformContext(opts) {\n        return {\n            root: this,\n            selected: undefined,\n            seen: {},\n            path: [],\n            parseOptions: {\n                prereduced: opts?.prereduced ?? false\n            },\n            undeclaredKeyHandling: undefined,\n            ...opts\n        };\n    }\n    _transform(mapper, ctx) {\n        const $ = ctx.bindScope ?? this.$;\n        if (ctx.seen[this.id])\n            // Cyclic handling needs to be made more robust\n            // https://github.com/arktypeio/arktype/issues/944\n            return this.$.lazilyResolve(ctx.seen[this.id]);\n        if (ctx.shouldTransform?.(this, ctx) === false)\n            return this;\n        let transformedNode;\n        ctx.seen[this.id] = () => transformedNode;\n        if (this.hasKind(\"structure\") &&\n            this.undeclared !== ctx.undeclaredKeyHandling) {\n            ctx = {\n                ...ctx,\n                undeclaredKeyHandling: this.undeclared\n            };\n        }\n        const innerWithTransformedChildren = flatMorph(this.inner, (k, v) => {\n            if (!this.impl.keys[k].child)\n                return [k, v];\n            const children = v;\n            if (!isArray(children)) {\n                const transformed = children._transform(mapper, ctx);\n                return transformed ? [k, transformed] : [];\n            }\n            // if the value was previously explicitly set to an empty list,\n            // (e.g. branches for `never`), ensure it is not pruned\n            if (children.length === 0)\n                return [k, v];\n            const transformed = children.flatMap(n => {\n                const transformedChild = n._transform(mapper, ctx);\n                return transformedChild ?? [];\n            });\n            return transformed.length ? [k, transformed] : [];\n        });\n        delete ctx.seen[this.id];\n        const innerWithMeta = Object.assign(innerWithTransformedChildren, {\n            meta: this.meta\n        });\n        const transformedInner = ctx.selected && !ctx.selected.includes(this) ?\n            innerWithMeta\n            : mapper(this.kind, innerWithMeta, ctx);\n        if (transformedInner === null)\n            return null;\n        if (isNode(transformedInner))\n            return (transformedNode = transformedInner);\n        const transformedKeys = Object.keys(transformedInner);\n        const hasNoTypedKeys = transformedKeys.length === 0 ||\n            (transformedKeys.length === 1 && transformedKeys[0] === \"meta\");\n        if (hasNoTypedKeys &&\n            // if inner was previously an empty object (e.g. unknown) ensure it is not pruned\n            !isEmptyObject(this.inner))\n            return null;\n        if ((this.kind === \"required\" ||\n            this.kind === \"optional\" ||\n            this.kind === \"index\") &&\n            !(\"value\" in transformedInner)) {\n            return ctx.undeclaredKeyHandling ?\n                { ...transformedInner, value: $ark.intrinsic.unknown }\n                : null;\n        }\n        if (this.kind === \"morph\") {\n            ;\n            transformedInner.in ??= $ark.intrinsic\n                .unknown;\n        }\n        return (transformedNode = $.node(this.kind, transformedInner, ctx.parseOptions));\n    }\n    configureReferences(meta, selector = \"references\") {\n        const normalized = NodeSelector.normalize(selector);\n        const mapper = (typeof meta === \"string\" ?\n            (kind, inner) => ({\n                ...inner,\n                meta: { ...inner.meta, description: meta }\n            })\n            : typeof meta === \"function\" ?\n                (kind, inner) => ({ ...inner, meta: meta(inner.meta) })\n                : (kind, inner) => ({\n                    ...inner,\n                    meta: { ...inner.meta, ...meta }\n                }));\n        if (normalized.boundary === \"self\") {\n            return this.$.node(this.kind, mapper(this.kind, { ...this.inner, meta: this.meta }));\n        }\n        const rawSelected = this._select(normalized);\n        const selected = rawSelected && liftArray(rawSelected);\n        const shouldTransform = normalized.boundary === \"child\" ?\n            (node, ctx) => ctx.root.children.includes(node)\n            : normalized.boundary === \"shallow\" ? node => node.kind !== \"structure\"\n                : () => true;\n        return this.$.finalize(this.transform(mapper, {\n            shouldTransform,\n            selected\n        }));\n    }\n}\nconst NodeSelector = {\n    applyBoundary: {\n        self: node => [node],\n        child: node => [...node.children],\n        shallow: node => [...node.shallowReferences],\n        references: node => [...node.references]\n    },\n    applyMethod: {\n        filter: nodes => nodes,\n        assertFilter: (nodes, from, selector) => {\n            if (nodes.length === 0)\n                throwError(writeSelectAssertionMessage(from, selector));\n            return nodes;\n        },\n        find: nodes => nodes[0],\n        assertFind: (nodes, from, selector) => {\n            if (nodes.length === 0)\n                throwError(writeSelectAssertionMessage(from, selector));\n            return nodes[0];\n        }\n    },\n    normalize: (selector) => typeof selector === \"function\" ?\n        { boundary: \"references\", method: \"filter\", where: selector }\n        : typeof selector === \"string\" ?\n            isKeyOf(selector, NodeSelector.applyBoundary) ?\n                { method: \"filter\", boundary: selector }\n                : { boundary: \"references\", method: \"filter\", kind: selector }\n            : { boundary: \"references\", method: \"filter\", ...selector }\n};\nconst writeSelectAssertionMessage = (from, selector) => `${from} had no references matching ${printable(selector)}.`;\nexport const typePathToPropString = (path) => stringifyPath(path, {\n    stringifyNonKey: node => node.expression\n});\nconst referenceMatcher = /\"(\\$ark\\.[^\"]+)\"/g;\nconst compileMeta = (metaJson) => JSON.stringify(metaJson).replaceAll(referenceMatcher, \"$1\");\nexport const flatRef = (path, node) => ({\n    path,\n    node,\n    propString: typePathToPropString(path)\n});\nexport const flatRefsAreEqual = (l, r) => l.propString === r.propString && l.node.equals(r.node);\nexport const appendUniqueFlatRefs = (existing, refs) => appendUnique(existing, refs, {\n    isEqual: flatRefsAreEqual\n});\nexport const appendUniqueNodes = (existing, refs) => appendUnique(existing, refs, {\n    isEqual: (l, r) => l.equals(r)\n});\n", "import { ReadonlyPath, stringifyPath } from \"@ark/util\";\nimport { ArkError, ArkErrors } from \"./errors.js\";\nimport { isNode } from \"./utils.js\";\nexport class Traversal {\n    /**\n     * #### the path being validated or morphed\n     *\n     * \u2705 array indices represented as numbers\n     * \u26A0\uFE0F mutated during traversal - use `path.slice(0)` to snapshot\n     * \uD83D\uDD17 use {@link propString} for a stringified version\n     */\n    path = [];\n    /**\n     * #### {@link ArkErrors} that will be part of this traversal's finalized result\n     *\n     * \u2705 will always be an empty array for a valid traversal\n     */\n    errors = new ArkErrors(this);\n    /**\n     * #### the original value being traversed\n     */\n    root;\n    /**\n     * #### configuration for this traversal\n     *\n     * \u2705 options can affect traversal results and error messages\n     * \u2705 defaults < global config < scope config\n     * \u2705 does not include options configured on individual types\n     */\n    config;\n    queuedMorphs = [];\n    branches = [];\n    seen = {};\n    constructor(root, config) {\n        this.root = root;\n        this.config = config;\n    }\n    /**\n     * #### the data being validated or morphed\n     *\n     * \u2705 extracted from {@link root} at {@link path}\n     */\n    get data() {\n        let result = this.root;\n        for (const segment of this.path)\n            result = result?.[segment];\n        return result;\n    }\n    /**\n     * #### a string representing {@link path}\n     *\n     * @propString\n     */\n    get propString() {\n        return stringifyPath(this.path);\n    }\n    /**\n     * #### add an {@link ArkError} and return `false`\n     *\n     * \u2705 useful for predicates like `.narrow`\n     */\n    reject(input) {\n        this.error(input);\n        return false;\n    }\n    /**\n     * #### add an {@link ArkError} from a description and return `false`\n     *\n     * \u2705 useful for predicates like `.narrow`\n     * \uD83D\uDD17 equivalent to {@link reject}({ expected })\n     */\n    mustBe(expected) {\n        this.error(expected);\n        return false;\n    }\n    error(input) {\n        const errCtx = typeof input === \"object\" ?\n            input.code ?\n                input\n                : { ...input, code: \"predicate\" }\n            : { code: \"predicate\", expected: input };\n        return this.errorFromContext(errCtx);\n    }\n    /**\n     * #### whether {@link currentBranch} (or the traversal root, outside a union) has one or more errors\n     */\n    hasError() {\n        return this.currentErrorCount !== 0;\n    }\n    get currentBranch() {\n        return this.branches.at(-1);\n    }\n    queueMorphs(morphs) {\n        const input = {\n            path: new ReadonlyPath(...this.path),\n            morphs\n        };\n        if (this.currentBranch)\n            this.currentBranch.queuedMorphs.push(input);\n        else\n            this.queuedMorphs.push(input);\n    }\n    finalize(onFail) {\n        if (this.queuedMorphs.length) {\n            if (typeof this.root === \"object\" &&\n                this.root !== null &&\n                this.config.clone)\n                this.root = this.config.clone(this.root);\n            this.applyQueuedMorphs();\n        }\n        if (this.hasError())\n            return onFail ? onFail(this.errors) : this.errors;\n        return this.root;\n    }\n    get currentErrorCount() {\n        return (this.currentBranch ?\n            this.currentBranch.error ?\n                1\n                : 0\n            : this.errors.count);\n    }\n    get failFast() {\n        return this.branches.length !== 0;\n    }\n    pushBranch() {\n        this.branches.push({\n            error: undefined,\n            queuedMorphs: []\n        });\n    }\n    popBranch() {\n        return this.branches.pop();\n    }\n    /**\n     * @internal\n     * Convenience for casting from InternalTraversal to Traversal\n     * for cases where the extra methods on the external type are expected, e.g.\n     * a morph or predicate.\n     */\n    get external() {\n        return this;\n    }\n    errorFromNodeContext(input) {\n        return this.errorFromContext(input);\n    }\n    errorFromContext(errCtx) {\n        const error = new ArkError(errCtx, this);\n        if (this.currentBranch)\n            this.currentBranch.error = error;\n        else\n            this.errors.add(error);\n        return error;\n    }\n    applyQueuedMorphs() {\n        // invoking morphs that are Nodes will reuse this context, potentially\n        // adding additional morphs, so we have to continue looping until\n        // queuedMorphs is empty rather than iterating over the list once\n        while (this.queuedMorphs.length) {\n            const queuedMorphs = this.queuedMorphs;\n            this.queuedMorphs = [];\n            for (const { path, morphs } of queuedMorphs) {\n                // even if we already have an error, apply morphs that are not at a path\n                // with errors to capture potential validation errors\n                if (this.errors.affectsPath(path))\n                    continue;\n                this.applyMorphsAtPath(path, morphs);\n            }\n        }\n    }\n    applyMorphsAtPath(path, morphs) {\n        const key = path.at(-1);\n        let parent;\n        if (key !== undefined) {\n            // find the object on which the key to be morphed exists\n            parent = this.root;\n            for (let pathIndex = 0; pathIndex < path.length - 1; pathIndex++)\n                parent = parent[path[pathIndex]];\n        }\n        this.path = [...path];\n        for (const morph of morphs) {\n            const morphIsNode = isNode(morph);\n            const result = morph(parent === undefined ? this.root : parent[key], this);\n            if (result instanceof ArkError) {\n                // if an ArkError was returned, ensure it has been added to errors\n                this.errors.add(result);\n                // skip any remaining morphs at the current path\n                break;\n            }\n            if (result instanceof ArkErrors) {\n                // if the morph was a direct reference to another node,\n                // errors will have been added directly via this piped context\n                if (!morphIsNode) {\n                    // otherwise, we have to ensure each error has been added\n                    this.errors.merge(result);\n                }\n                // skip any remaining morphs at the current path\n                break;\n            }\n            // if the morph was successful, assign the result to the\n            // corresponding property, or to root if path is empty\n            if (parent === undefined)\n                this.root = result;\n            else\n                parent[key] = result;\n            // if the current morph queued additional morphs,\n            // applying them before subsequent morphs\n            this.applyQueuedMorphs();\n        }\n    }\n}\nexport const traverseKey = (key, fn, \n// ctx will be undefined if this node isn't context-dependent\nctx) => {\n    if (!ctx)\n        return fn();\n    ctx.path.push(key);\n    const result = fn();\n    ctx.path.pop();\n    return result;\n};\n", "import { CastableBase, ReadonlyArray, ReadonlyPath, append, conflatenateAll, defineProperties, flatMorph, stringifyPath } from \"@ark/util\";\nimport { arkKind } from \"./utils.js\";\nexport class ArkError extends CastableBase {\n    [arkKind] = \"error\";\n    path;\n    data;\n    nodeConfig;\n    input;\n    ctx;\n    // TS gets confused by <code>, so internally we just use the base type for input\n    constructor({ prefixPath, relativePath, ...input }, ctx) {\n        super();\n        this.input = input;\n        this.ctx = ctx;\n        defineProperties(this, input);\n        const data = ctx.data;\n        if (input.code === \"union\") {\n            input.errors = input.errors.flatMap(innerError => {\n                // flatten union errors to avoid repeating context like \"foo must be foo must be\"...\n                const flat = innerError.hasCode(\"union\") ? innerError.errors : [innerError];\n                if (!prefixPath && !relativePath)\n                    return flat;\n                return flat.map(e => e.transform(e => ({\n                    ...e,\n                    path: conflatenateAll(prefixPath, e.path, relativePath)\n                })));\n            });\n        }\n        this.nodeConfig = ctx.config[this.code];\n        const basePath = [...(input.path ?? ctx.path)];\n        if (relativePath)\n            basePath.push(...relativePath);\n        if (prefixPath)\n            basePath.unshift(...prefixPath);\n        this.path = new ReadonlyPath(...basePath);\n        this.data = \"data\" in input ? input.data : data;\n    }\n    transform(f) {\n        return new ArkError(f({\n            data: this.data,\n            path: this.path,\n            ...this.input\n        }), this.ctx);\n    }\n    hasCode(code) {\n        return this.code === code;\n    }\n    get propString() {\n        return stringifyPath(this.path);\n    }\n    get expected() {\n        if (this.input.expected)\n            return this.input.expected;\n        const config = this.meta?.expected ?? this.nodeConfig.expected;\n        return typeof config === \"function\" ? config(this.input) : config;\n    }\n    get actual() {\n        if (this.input.actual)\n            return this.input.actual;\n        const config = this.meta?.actual ?? this.nodeConfig.actual;\n        return typeof config === \"function\" ? config(this.data) : config;\n    }\n    get problem() {\n        if (this.input.problem)\n            return this.input.problem;\n        const config = this.meta?.problem ?? this.nodeConfig.problem;\n        return typeof config === \"function\" ? config(this) : config;\n    }\n    get message() {\n        if (this.input.message)\n            return this.input.message;\n        const config = this.meta?.message ?? this.nodeConfig.message;\n        return typeof config === \"function\" ? config(this) : config;\n    }\n    get flat() {\n        return this.hasCode(\"intersection\") ? [...this.errors] : [this];\n    }\n    toJSON() {\n        return {\n            data: this.data,\n            path: this.path,\n            ...this.input,\n            expected: this.expected,\n            actual: this.actual,\n            problem: this.problem,\n            message: this.message\n        };\n    }\n    toString() {\n        return this.message;\n    }\n    throw() {\n        throw this;\n    }\n}\n/**\n * A ReadonlyArray of `ArkError`s returned by a Type on invalid input.\n *\n * Subsequent errors added at an existing path are merged into an\n * ArkError intersection.\n */\nexport class ArkErrors extends ReadonlyArray {\n    [arkKind] = \"errors\";\n    ctx;\n    constructor(ctx) {\n        super();\n        this.ctx = ctx;\n    }\n    /**\n     * Errors by a pathString representing their location.\n     */\n    byPath = Object.create(null);\n    /**\n     * {@link byPath} flattened so that each value is an array of ArkError instances at that path.\n     *\n     * \u2705 Since \"intersection\" errors will be flattened to their constituent `.errors`,\n     * they will never be directly present in this representation.\n     */\n    get flatByPath() {\n        return flatMorph(this.byPath, (k, v) => [k, v.flat]);\n    }\n    /**\n     * {@link byPath} flattened so that each value is an array of problem strings at that path.\n     */\n    get flatProblemsByPath() {\n        return flatMorph(this.byPath, (k, v) => [k, v.flat.map(e => e.problem)]);\n    }\n    /**\n     * All pathStrings at which errors are present mapped to the errors occuring\n     * at that path or any nested path within it.\n     */\n    byAncestorPath = Object.create(null);\n    count = 0;\n    mutable = this;\n    /**\n     * Throw a TraversalError based on these errors.\n     */\n    throw() {\n        throw this.toTraversalError();\n    }\n    /**\n     * Converts ArkErrors to TraversalError, a subclass of `Error` suitable for throwing with nice\n     * formatting.\n     */\n    toTraversalError() {\n        return new TraversalError(this);\n    }\n    /**\n     * Append an ArkError to this array, ignoring duplicates.\n     */\n    add(error) {\n        if (this.includes(error))\n            return;\n        this._add(error);\n    }\n    transform(f) {\n        const result = new ArkErrors(this.ctx);\n        for (const e of this)\n            result.add(f(e));\n        return result;\n    }\n    /**\n     * Add all errors from an ArkErrors instance, ignoring duplicates and\n     * prefixing their paths with that of the current Traversal.\n     */\n    merge(errors) {\n        for (const e of errors) {\n            if (this.includes(e))\n                continue;\n            this._add(new ArkError({ ...e, path: [...this.ctx.path, ...e.path] }, this.ctx));\n        }\n    }\n    /**\n     * @internal\n     */\n    affectsPath(path) {\n        if (this.length === 0)\n            return false;\n        return (\n        // this would occur if there is an existing error at a prefix of path\n        // e.g. the path is [\"foo\", \"bar\"] and there is an error at [\"foo\"]\n        path.stringifyAncestors().some(s => s in this.byPath) ||\n            // this would occur if there is an existing error at a suffix of path\n            // e.g. the path is [\"foo\"] and there is an error at [\"foo\", \"bar\"]\n            path.stringify() in this.byAncestorPath);\n    }\n    /**\n     * A human-readable summary of all errors.\n     */\n    get summary() {\n        return this.toString();\n    }\n    /**\n     * Alias of this ArkErrors instance for StandardSchema compatibility.\n     */\n    get issues() {\n        return this;\n    }\n    toJSON() {\n        return [...this.map(e => e.toJSON())];\n    }\n    toString() {\n        return this.join(\"\\n\");\n    }\n    _add(error) {\n        const existing = this.byPath[error.propString];\n        if (existing) {\n            // If the existing error is an error for a value constrained to \"never\",\n            // then we don't want to intersect the error messages.\n            if (existing.hasCode(\"union\") && existing.errors.length === 0)\n                return;\n            // If the new error is an error for a value constrained to \"never\",\n            // then we want to override any existing errors.\n            const errorIntersection = error.hasCode(\"union\") && error.errors.length === 0 ?\n                error\n                : new ArkError({\n                    code: \"intersection\",\n                    errors: existing.hasCode(\"intersection\") ?\n                        [...existing.errors, error]\n                        : [existing, error]\n                }, this.ctx);\n            const existingIndex = this.indexOf(existing);\n            this.mutable[existingIndex === -1 ? this.length : existingIndex] =\n                errorIntersection;\n            this.byPath[error.propString] = errorIntersection;\n            // add the original error here rather than the intersection\n            // since the intersection is reflected by the array of errors at\n            // this path\n            this.addAncestorPaths(error);\n        }\n        else {\n            this.byPath[error.propString] = error;\n            this.addAncestorPaths(error);\n            this.mutable.push(error);\n        }\n        this.count++;\n    }\n    addAncestorPaths(error) {\n        for (const propString of error.path.stringifyAncestors()) {\n            this.byAncestorPath[propString] = append(this.byAncestorPath[propString], error);\n        }\n    }\n}\nexport class TraversalError extends Error {\n    name = \"TraversalError\";\n    constructor(errors) {\n        if (errors.length === 1)\n            super(errors.summary);\n        else\n            super(\"\\n\" + errors.map(error => `  \u2022 ${indent(error)}`).join(\"\\n\"));\n        Object.defineProperty(this, \"arkErrors\", {\n            value: errors,\n            enumerable: false\n        });\n    }\n}\nconst indent = (error) => error.toString().split(\"\\n\").join(\"\\n  \");\n", "import { isArray, stringifyPath, throwParseError } from \"@ark/util\";\nimport { $ark } from \"./registry.js\";\nimport { isNode } from \"./utils.js\";\nexport class Disjoint extends Array {\n    static init(kind, l, r, ctx) {\n        return new Disjoint({\n            kind,\n            l,\n            r,\n            path: ctx?.path ?? [],\n            optional: ctx?.optional ?? false\n        });\n    }\n    add(kind, l, r, ctx) {\n        this.push({\n            kind,\n            l,\n            r,\n            path: ctx?.path ?? [],\n            optional: ctx?.optional ?? false\n        });\n        return this;\n    }\n    get summary() {\n        return this.describeReasons();\n    }\n    describeReasons() {\n        if (this.length === 1) {\n            const { path, l, r } = this[0];\n            const pathString = stringifyPath(path);\n            return writeUnsatisfiableExpressionError(`Intersection${pathString && ` at ${pathString}`} of ${describeReasons(l, r)}`);\n        }\n        return `The following intersections result in unsatisfiable types:\\n\u2022 ${this.map(({ path, l, r }) => `${path}: ${describeReasons(l, r)}`).join(\"\\n\u2022 \")}`;\n    }\n    throw() {\n        return throwParseError(this.describeReasons());\n    }\n    invert() {\n        const result = this.map(entry => ({\n            ...entry,\n            l: entry.r,\n            r: entry.l\n        }));\n        // Workaround for Static Hermes, which doesn't preserve the Array subclass here\n        // https://github.com/arktypeio/arktype/issues/1027\n        if (!(result instanceof Disjoint))\n            return new Disjoint(...result);\n        return result;\n    }\n    withPrefixKey(key, kind) {\n        return this.map(entry => ({\n            ...entry,\n            path: [key, ...entry.path],\n            optional: entry.optional || kind === \"optional\"\n        }));\n    }\n    toNeverIfDisjoint() {\n        return $ark.intrinsic.never;\n    }\n}\nconst describeReasons = (l, r) => `${describeReason(l)} and ${describeReason(r)}`;\nconst describeReason = (value) => isNode(value) ? value.expression\n    : isArray(value) ? value.map(describeReason).join(\" | \") || \"never\"\n        : String(value);\nexport const writeUnsatisfiableExpressionError = (expression) => `${expression} results in an unsatisfiable type`;\n", "import { Disjoint } from \"./disjoint.js\";\nimport { rootKinds } from \"./implement.js\";\nimport { isNode } from \"./utils.js\";\nconst intersectionCache = {};\nexport const intersectNodesRoot = (l, r, $) => intersectOrPipeNodes(l, r, {\n    $,\n    invert: false,\n    pipe: false\n});\nexport const pipeNodesRoot = (l, r, $) => intersectOrPipeNodes(l, r, {\n    $,\n    invert: false,\n    pipe: true\n});\nexport const intersectOrPipeNodes = ((l, r, ctx) => {\n    const operator = ctx.pipe ? \"|>\" : \"&\";\n    const lrCacheKey = `${l.hash}${operator}${r.hash}`;\n    if (intersectionCache[lrCacheKey] !== undefined)\n        return intersectionCache[lrCacheKey];\n    if (!ctx.pipe) {\n        // we can only use this for the commutative & operator\n        const rlCacheKey = `${r.hash}${operator}${l.hash}`;\n        if (intersectionCache[rlCacheKey] !== undefined) {\n            // if the cached result was a Disjoint and the operands originally\n            // appeared in the opposite order, we need to invert it to match\n            const rlResult = intersectionCache[rlCacheKey];\n            const lrResult = rlResult instanceof Disjoint ? rlResult.invert() : rlResult;\n            // add the lr result to the cache directly to bypass this check in the future\n            intersectionCache[lrCacheKey] = lrResult;\n            return lrResult;\n        }\n    }\n    const isPureIntersection = !ctx.pipe || (!l.includesTransform && !r.includesTransform);\n    if (isPureIntersection && l.equals(r))\n        return l;\n    let result = isPureIntersection ? _intersectNodes(l, r, ctx)\n        : l.hasKindIn(...rootKinds) ?\n            // if l is a RootNode, r will be as well\n            _pipeNodes(l, r, ctx)\n            : _intersectNodes(l, r, ctx);\n    if (isNode(result)) {\n        // if the result equals one of the operands, preserve its metadata by\n        // returning the original reference\n        if (l.equals(result))\n            result = l;\n        else if (r.equals(result))\n            result = r;\n    }\n    intersectionCache[lrCacheKey] = result;\n    return result;\n});\nconst _intersectNodes = (l, r, ctx) => {\n    const leftmostKind = l.precedence < r.precedence ? l.kind : r.kind;\n    const implementation = l.impl.intersections[r.kind] ?? r.impl.intersections[l.kind];\n    if (implementation === undefined) {\n        // should be two ConstraintNodes that have no relation\n        // this could also happen if a user directly intersects a Type and a ConstraintNode,\n        // but that is not allowed by the external function signature\n        return null;\n    }\n    else if (leftmostKind === l.kind)\n        return implementation(l, r, ctx);\n    else {\n        let result = implementation(r, l, { ...ctx, invert: !ctx.invert });\n        if (result instanceof Disjoint)\n            result = result.invert();\n        return result;\n    }\n};\nconst _pipeNodes = (l, r, ctx) => l.includesTransform || r.includesTransform ?\n    ctx.invert ?\n        pipeMorphed(r, l, ctx)\n        : pipeMorphed(l, r, ctx)\n    : _intersectNodes(l, r, ctx);\nconst pipeMorphed = (from, to, ctx) => from.distribute(fromBranch => _pipeMorphed(fromBranch, to, ctx), results => {\n    const viableBranches = results.filter(isNode);\n    if (viableBranches.length === 0)\n        return Disjoint.init(\"union\", from.branches, to.branches);\n    // if the input type has changed, create a new node without preserving metadata\n    if (viableBranches.length < from.branches.length ||\n        !from.branches.every((branch, i) => branch.in.equals(viableBranches[i].in)))\n        return ctx.$.parseSchema(viableBranches);\n    // otherwise, the input has not changed so preserve metadata\n    let meta;\n    if (viableBranches.length === 1) {\n        const onlyBranch = viableBranches[0];\n        if (!meta)\n            return onlyBranch;\n        return ctx.$.node(\"morph\", {\n            ...onlyBranch.inner,\n            in: onlyBranch.in.configure(meta, \"self\")\n        });\n    }\n    const schema = {\n        branches: viableBranches\n    };\n    if (meta)\n        schema.meta = meta;\n    return ctx.$.parseSchema(schema);\n});\nconst _pipeMorphed = (from, to, ctx) => {\n    const fromIsMorph = from.hasKind(\"morph\");\n    if (fromIsMorph) {\n        const morphs = [...from.morphs];\n        if (from.lastMorphIfNode) {\n            // still piped from context, so allows appending additional morphs\n            const outIntersection = intersectOrPipeNodes(from.lastMorphIfNode, to, ctx);\n            if (outIntersection instanceof Disjoint)\n                return outIntersection;\n            morphs[morphs.length - 1] = outIntersection;\n        }\n        else\n            morphs.push(to);\n        return ctx.$.node(\"morph\", {\n            morphs,\n            in: from.inner.in\n        });\n    }\n    if (to.hasKind(\"morph\")) {\n        const inTersection = intersectOrPipeNodes(from, to.in, ctx);\n        if (inTersection instanceof Disjoint)\n            return inTersection;\n        return ctx.$.node(\"morph\", {\n            morphs: [to],\n            in: inTersection\n        });\n    }\n    return ctx.$.node(\"morph\", {\n        morphs: [to],\n        in: from\n    });\n};\n", "import { Callable, flatMorph, snapshot, throwParseError } from \"@ark/util\";\nimport { $ark } from \"./shared/registry.js\";\nimport { arkKind } from \"./shared/utils.js\";\nexport const parseGeneric = (paramDefs, bodyDef, $) => new GenericRoot(paramDefs, bodyDef, $, $, null);\nexport class LazyGenericBody extends Callable {\n}\nexport class GenericRoot extends Callable {\n    [arkKind] = \"generic\";\n    paramDefs;\n    bodyDef;\n    $;\n    arg$;\n    baseInstantiation;\n    hkt;\n    description;\n    constructor(paramDefs, bodyDef, $, arg$, hkt) {\n        super((...args) => {\n            const argNodes = flatMorph(this.names, (i, name) => {\n                const arg = this.arg$.parse(args[i]);\n                if (!arg.extends(this.constraints[i])) {\n                    throwParseError(writeUnsatisfiedParameterConstraintMessage(name, this.constraints[i].expression, arg.expression));\n                }\n                return [name, arg];\n            });\n            if (this.defIsLazy()) {\n                const def = this.bodyDef(argNodes);\n                return this.$.parse(def);\n            }\n            return this.$.parse(bodyDef, { args: argNodes });\n        });\n        this.paramDefs = paramDefs;\n        this.bodyDef = bodyDef;\n        this.$ = $;\n        this.arg$ = arg$;\n        this.hkt = hkt;\n        this.description =\n            hkt ?\n                (new hkt().description ?? `a generic type for ${hkt.constructor.name}`)\n                : \"a generic type\";\n        this.baseInstantiation = this(...this.constraints);\n    }\n    defIsLazy() {\n        return this.bodyDef instanceof LazyGenericBody;\n    }\n    cacheGetter(name, value) {\n        Object.defineProperty(this, name, { value });\n        return value;\n    }\n    get json() {\n        return this.cacheGetter(\"json\", {\n            params: this.params.map(param => param[1].isUnknown() ? param[0] : [param[0], param[1].json]),\n            body: snapshot(this.bodyDef)\n        });\n    }\n    get params() {\n        return this.cacheGetter(\"params\", this.paramDefs.map(param => typeof param === \"string\" ?\n            [param, $ark.intrinsic.unknown]\n            : [param[0], this.$.parse(param[1])]));\n    }\n    get names() {\n        return this.cacheGetter(\"names\", this.params.map(e => e[0]));\n    }\n    get constraints() {\n        return this.cacheGetter(\"constraints\", this.params.map(e => e[1]));\n    }\n    get internal() {\n        return this;\n    }\n    get referencesById() {\n        return this.baseInstantiation.internal.referencesById;\n    }\n    get references() {\n        return this.baseInstantiation.internal.references;\n    }\n}\nexport const writeUnsatisfiedParameterConstraintMessage = (name, constraint, arg) => `${name} must be assignable to ${constraint} (was ${arg})`;\n", "import { node, schemaScope } from \"./scope.js\";\nimport { $ark } from \"./shared/registry.js\";\nimport { arrayIndexSource } from \"./structure/shared.js\";\nconst intrinsicBases = schemaScope({\n    bigint: \"bigint\",\n    // since we know this won't be reduced, it can be safely cast to a union\n    boolean: [{ unit: false }, { unit: true }],\n    false: { unit: false },\n    never: [],\n    null: { unit: null },\n    number: \"number\",\n    object: \"object\",\n    string: \"string\",\n    symbol: \"symbol\",\n    true: { unit: true },\n    unknown: {},\n    undefined: { unit: undefined },\n    Array,\n    Date\n}, { prereducedAliases: true }).export();\n$ark.intrinsic = { ...intrinsicBases };\nconst intrinsicRoots = schemaScope({\n    integer: {\n        domain: \"number\",\n        divisor: 1\n    },\n    lengthBoundable: [\"string\", Array],\n    key: [\"string\", \"symbol\"],\n    nonNegativeIntegerString: { domain: \"string\", pattern: arrayIndexSource }\n}, { prereducedAliases: true }).export();\n// needed to parse index signatures for JSON\nObject.assign($ark.intrinsic, intrinsicRoots);\nconst intrinsicJson = schemaScope({\n    jsonPrimitive: [\n        \"string\",\n        \"number\",\n        { unit: true },\n        { unit: false },\n        { unit: null }\n    ],\n    jsonObject: {\n        domain: \"object\",\n        index: {\n            signature: \"string\",\n            value: \"$jsonData\"\n        }\n    },\n    jsonData: [\"$jsonPrimitive\", \"$jsonObject\"]\n}, { prereducedAliases: true }).export();\nexport const intrinsic = {\n    ...intrinsicBases,\n    ...intrinsicRoots,\n    ...intrinsicJson,\n    emptyStructure: node(\"structure\", {}, { prereduced: true })\n};\n$ark.intrinsic = { ...intrinsic };\n", "import { ParseError, flatMorph, hasDomain, isArray, isThunk, printable, throwInternalError, throwParseError } from \"@ark/util\";\nimport { mergeConfigs } from \"./config.js\";\nimport { GenericRoot, LazyGenericBody } from \"./generic.js\";\nimport { nodeImplementationsByKind } from \"./kinds.js\";\nimport { RootModule, bindModule } from \"./module.js\";\nimport { nodesByRegisteredId, parseNode, registerNodeId, schemaKindOf, withId } from \"./parse.js\";\nimport { Alias } from \"./roots/alias.js\";\nimport { CompiledFunction, NodeCompiler } from \"./shared/compile.js\";\nimport { $ark } from \"./shared/registry.js\";\nimport { Traversal } from \"./shared/traversal.js\";\nimport { arkKind, hasArkKind, isNode } from \"./shared/utils.js\";\nconst schemaBranchesOf = (schema) => isArray(schema) ? schema\n    : \"branches\" in schema && isArray(schema.branches) ? schema.branches\n        : undefined;\nconst throwMismatchedNodeRootError = (expected, actual) => throwParseError(`Node of kind ${actual} is not valid as a ${expected} definition`);\nexport const writeDuplicateAliasError = (alias) => `#${alias} duplicates public alias ${alias}`;\nconst scopesByName = {};\n$ark.ambient ??= {};\nlet rawUnknownUnion;\nconst rootScopeFnName = \"function $\";\nconst precompile = (references) => bindPrecompilation(references, precompileReferences(references));\nconst bindPrecompilation = (references, precompiler) => {\n    const precompilation = precompiler.write(rootScopeFnName, 4);\n    const compiledTraversals = precompiler.compile()();\n    for (const node of references) {\n        if (node.precompilation) {\n            // if node has already been bound to another scope or anonymous type, don't rebind it\n            continue;\n        }\n        node.traverseAllows =\n            compiledTraversals[`${node.id}Allows`].bind(compiledTraversals);\n        if (node.isRoot() && !node.allowsRequiresContext) {\n            // if the reference doesn't require context, we can assign over\n            // it directly to avoid having to initialize it\n            node.allows = node.traverseAllows;\n        }\n        node.traverseApply =\n            compiledTraversals[`${node.id}Apply`].bind(compiledTraversals);\n        if (compiledTraversals[`${node.id}Optimistic`]) {\n            ;\n            node.traverseOptimistic =\n                compiledTraversals[`${node.id}Optimistic`].bind(compiledTraversals);\n        }\n        node.precompilation = precompilation;\n    }\n};\nconst precompileReferences = (references) => new CompiledFunction().return(references.reduce((js, node) => {\n    const allowsCompiler = new NodeCompiler({ kind: \"Allows\" }).indent();\n    node.compile(allowsCompiler);\n    const allowsJs = allowsCompiler.write(`${node.id}Allows`);\n    const applyCompiler = new NodeCompiler({ kind: \"Apply\" }).indent();\n    node.compile(applyCompiler);\n    const applyJs = applyCompiler.write(`${node.id}Apply`);\n    const result = `${js}${allowsJs},\\n${applyJs},\\n`;\n    if (!node.hasKind(\"union\"))\n        return result;\n    const optimisticCompiler = new NodeCompiler({\n        kind: \"Allows\",\n        optimistic: true\n    }).indent();\n    node.compile(optimisticCompiler);\n    const optimisticJs = optimisticCompiler.write(`${node.id}Optimistic`);\n    return `${result}${optimisticJs},\\n`;\n}, \"{\\n\") + \"}\");\nexport class BaseScope {\n    config;\n    resolvedConfig;\n    name;\n    get [arkKind]() {\n        return \"scope\";\n    }\n    referencesById = {};\n    references = [];\n    resolutions = {};\n    exportedNames = [];\n    aliases = {};\n    resolved = false;\n    nodesByHash = {};\n    intrinsic;\n    constructor(\n    /** The set of names defined at the root-level of the scope mapped to their\n     * corresponding definitions.**/\n    def, config) {\n        this.config = mergeConfigs($ark.config, config);\n        this.resolvedConfig = mergeConfigs($ark.resolvedConfig, config);\n        this.name =\n            this.resolvedConfig.name ??\n                `anonymousScope${Object.keys(scopesByName).length}`;\n        if (this.name in scopesByName)\n            throwParseError(`A Scope already named ${this.name} already exists`);\n        scopesByName[this.name] = this;\n        const aliasEntries = Object.entries(def).map(entry => this.preparseOwnAliasEntry(...entry));\n        for (const [k, v] of aliasEntries) {\n            let name = k;\n            if (k[0] === \"#\") {\n                name = k.slice(1);\n                if (name in this.aliases)\n                    throwParseError(writeDuplicateAliasError(name));\n                this.aliases[name] = v;\n            }\n            else {\n                if (name in this.aliases)\n                    throwParseError(writeDuplicateAliasError(k));\n                this.aliases[name] = v;\n                this.exportedNames.push(name);\n            }\n            if (!hasArkKind(v, \"module\") &&\n                !hasArkKind(v, \"generic\") &&\n                !isThunk(v)) {\n                const preparsed = this.preparseOwnDefinitionFormat(v, { alias: name });\n                this.resolutions[name] =\n                    hasArkKind(preparsed, \"root\") ?\n                        this.bindReference(preparsed)\n                        : this.createParseContext(preparsed).id;\n            }\n        }\n        // reduce union of all possible values reduces to unknown\n        rawUnknownUnion ??= this.node(\"union\", {\n            branches: [\n                \"string\",\n                \"number\",\n                \"object\",\n                \"bigint\",\n                \"symbol\",\n                { unit: true },\n                { unit: false },\n                { unit: undefined },\n                { unit: null }\n            ]\n        }, { prereduced: true });\n        this.nodesByHash[rawUnknownUnion.hash] = this.node(\"intersection\", {}, { prereduced: true });\n        this.intrinsic =\n            $ark.intrinsic ?\n                flatMorph($ark.intrinsic, (k, v) => \n                // don't include cyclic aliases from JSON scope\n                k.startsWith(\"json\") ? [] : [k, this.bindReference(v)])\n                // intrinsic won't be available during bootstrapping,  so we lie\n                // about the type here as an extrnal convenience\n                : {};\n    }\n    cacheGetter(name, value) {\n        Object.defineProperty(this, name, { value });\n        return value;\n    }\n    get internal() {\n        return this;\n    }\n    // json is populated when the scope is exported, so ensure it is populated\n    // before allowing external access\n    _json;\n    get json() {\n        if (!this._json)\n            this.export();\n        return this._json;\n    }\n    defineSchema(def) {\n        return def;\n    }\n    generic = (...params) => {\n        const $ = this;\n        return (def, possibleHkt) => new GenericRoot(params, possibleHkt ? new LazyGenericBody(def) : def, $, $, possibleHkt ?? null);\n    };\n    units = (values, opts) => {\n        const uniqueValues = [];\n        for (const value of values)\n            if (!uniqueValues.includes(value))\n                uniqueValues.push(value);\n        const branches = uniqueValues.map(unit => this.node(\"unit\", { unit }, opts));\n        return this.node(\"union\", branches, {\n            ...opts,\n            prereduced: true\n        });\n    };\n    lazyResolutions = [];\n    lazilyResolve(resolve, syntheticAlias) {\n        const node = this.node(\"alias\", {\n            reference: syntheticAlias ?? \"synthetic\",\n            resolve\n        }, { prereduced: true });\n        if (!this.resolved)\n            this.lazyResolutions.push(node);\n        return node;\n    }\n    schema = (schema, opts) => this.finalize(this.parseSchema(schema, opts));\n    parseSchema = (schema, opts) => this.node(schemaKindOf(schema), schema, opts);\n    preparseNode(kinds, schema, opts) {\n        let kind = typeof kinds === \"string\" ? kinds : schemaKindOf(schema, kinds);\n        if (isNode(schema) && schema.kind === kind)\n            return schema;\n        if (kind === \"alias\" && !opts?.prereduced) {\n            const { reference } = Alias.implementation.normalize(schema, this);\n            if (reference.startsWith(\"$\")) {\n                const resolution = this.resolveRoot(reference.slice(1));\n                schema = resolution;\n                kind = resolution.kind;\n            }\n        }\n        else if (kind === \"union\" && hasDomain(schema, \"object\")) {\n            const branches = schemaBranchesOf(schema);\n            if (branches?.length === 1) {\n                schema = branches[0];\n                kind = schemaKindOf(schema);\n            }\n        }\n        if (isNode(schema) && schema.kind === kind)\n            return schema;\n        const impl = nodeImplementationsByKind[kind];\n        const normalizedSchema = impl.normalize?.(schema, this) ?? schema;\n        // check again after normalization in case a node is a valid collapsed\n        // schema for the kind (e.g. sequence can collapse to element accepting a Node')\n        if (isNode(normalizedSchema)) {\n            return normalizedSchema.kind === kind ?\n                normalizedSchema\n                : throwMismatchedNodeRootError(kind, normalizedSchema.kind);\n        }\n        return {\n            ...opts,\n            $: this,\n            kind,\n            def: normalizedSchema,\n            prefix: opts.alias ?? kind\n        };\n    }\n    bindReference(reference) {\n        let bound;\n        if (isNode(reference)) {\n            bound =\n                reference.$ === this ?\n                    reference\n                    : new reference.constructor(reference.attachments, this);\n        }\n        else {\n            bound =\n                reference.$ === this ?\n                    reference\n                    : new GenericRoot(reference.params, reference.bodyDef, reference.$, this, reference.hkt);\n        }\n        if (!this.resolved) {\n            // we're still parsing the scope itself, so defer compilation but\n            // add the node as a reference\n            Object.assign(this.referencesById, bound.referencesById);\n        }\n        return bound;\n    }\n    resolveRoot(name) {\n        return (this.maybeResolveRoot(name) ??\n            throwParseError(writeUnresolvableMessage(name)));\n    }\n    maybeResolveRoot(name) {\n        const result = this.maybeResolve(name);\n        if (hasArkKind(result, \"generic\"))\n            return;\n        return result;\n    }\n    /** If name is a valid reference to a submodule alias, return its resolution  */\n    maybeResolveSubalias(name) {\n        return (maybeResolveSubalias(this.aliases, name) ??\n            maybeResolveSubalias(this.ambient, name));\n    }\n    get ambient() {\n        return $ark.ambient;\n    }\n    maybeResolve(name) {\n        const cached = this.resolutions[name];\n        if (cached) {\n            if (typeof cached !== \"string\")\n                return this.bindReference(cached);\n            const v = nodesByRegisteredId[cached];\n            if (hasArkKind(v, \"root\"))\n                return (this.resolutions[name] = v);\n            if (hasArkKind(v, \"context\")) {\n                if (v.phase === \"resolving\") {\n                    return this.node(\"alias\", { reference: `$${name}` }, { prereduced: true });\n                }\n                if (v.phase === \"resolved\") {\n                    return throwInternalError(`Unexpected resolved context for was uncached by its scope: ${printable(v)}`);\n                }\n                v.phase = \"resolving\";\n                const node = this.bindReference(this.parseOwnDefinitionFormat(v.def, v));\n                v.phase = \"resolved\";\n                nodesByRegisteredId[node.id] = node;\n                nodesByRegisteredId[v.id] = node;\n                return (this.resolutions[name] = node);\n            }\n            return throwInternalError(`Unexpected nodesById entry for ${cached}: ${printable(v)}`);\n        }\n        let def = this.aliases[name] ?? this.ambient?.[name];\n        if (!def)\n            return this.maybeResolveSubalias(name);\n        def = this.normalizeRootScopeValue(def);\n        if (hasArkKind(def, \"generic\"))\n            return (this.resolutions[name] = this.bindReference(def));\n        if (hasArkKind(def, \"module\")) {\n            if (!def.root)\n                throwParseError(writeMissingSubmoduleAccessMessage(name));\n            return (this.resolutions[name] = this.bindReference(def.root));\n        }\n        return (this.resolutions[name] = this.parse(def, {\n            alias: name\n        }));\n    }\n    createParseContext(input) {\n        const id = input.id ?? registerNodeId(input.prefix);\n        return (nodesByRegisteredId[id] = Object.assign(input, {\n            [arkKind]: \"context\",\n            $: this,\n            id,\n            phase: \"unresolved\"\n        }));\n    }\n    traversal(root) {\n        return new Traversal(root, this.resolvedConfig);\n    }\n    import(...names) {\n        return new RootModule(flatMorph(this.export(...names), (alias, value) => [\n            `#${alias}`,\n            value\n        ]));\n    }\n    precompilation;\n    _exportedResolutions;\n    _exports;\n    export(...names) {\n        if (!this._exports) {\n            this._exports = {};\n            for (const name of this.exportedNames) {\n                const def = this.aliases[name];\n                this._exports[name] =\n                    hasArkKind(def, \"module\") ?\n                        bindModule(def, this)\n                        : bootstrapAliasReferences(this.maybeResolve(name));\n            }\n            // force node.resolution getter evaluation\n            // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n            for (const node of this.lazyResolutions)\n                node.resolution;\n            this._exportedResolutions = resolutionsOfModule(this, this._exports);\n            this._json = resolutionsToJson(this._exportedResolutions);\n            Object.assign(this.resolutions, this._exportedResolutions);\n            this.references = Object.values(this.referencesById);\n            if (!this.resolvedConfig.jitless) {\n                const precompiler = precompileReferences(this.references);\n                this.precompilation = precompiler.write(rootScopeFnName, 4);\n                bindPrecompilation(this.references, precompiler);\n            }\n            this.resolved = true;\n        }\n        const namesToExport = names.length ? names : this.exportedNames;\n        return new RootModule(flatMorph(namesToExport, (_, name) => [\n            name,\n            this._exports[name]\n        ]));\n    }\n    resolve(name) {\n        return this.export()[name];\n    }\n    node = (kinds, nodeSchema, opts = {}) => {\n        const ctxOrNode = this.preparseNode(kinds, nodeSchema, opts);\n        if (isNode(ctxOrNode))\n            return this.bindReference(ctxOrNode);\n        const ctx = this.createParseContext(ctxOrNode);\n        const node = parseNode(ctx);\n        const bound = this.bindReference(node);\n        return (nodesByRegisteredId[ctx.id] = bound);\n    };\n    parse = (def, opts = {}) => this.finalize(this.parseDefinition(def, opts));\n    parseDefinition(def, opts = {}) {\n        if (hasArkKind(def, \"root\"))\n            return this.bindReference(def);\n        const ctxInputOrNode = this.preparseOwnDefinitionFormat(def, opts);\n        if (hasArkKind(ctxInputOrNode, \"root\"))\n            return this.bindReference(ctxInputOrNode);\n        const ctx = this.createParseContext(ctxInputOrNode);\n        nodesByRegisteredId[ctx.id] = ctx;\n        let node = this.bindReference(this.parseOwnDefinitionFormat(def, ctx));\n        // if the node is recursive e.g. { box: \"this\" }, we need to make sure it\n        // has the original id from context so that its references compile correctly\n        if (node.isCyclic)\n            node = withId(node, ctx.id);\n        nodesByRegisteredId[ctx.id] = node;\n        return node;\n    }\n    finalize(node) {\n        bootstrapAliasReferences(node);\n        if (!node.precompilation && !this.resolvedConfig.jitless)\n            precompile(node.references);\n        return node;\n    }\n}\nexport class SchemaScope extends BaseScope {\n    parseOwnDefinitionFormat(def, ctx) {\n        return parseNode(ctx);\n    }\n    preparseOwnDefinitionFormat(schema, opts) {\n        return this.preparseNode(schemaKindOf(schema), schema, opts);\n    }\n    preparseOwnAliasEntry(k, v) {\n        return [k, v];\n    }\n    normalizeRootScopeValue(v) {\n        return v;\n    }\n}\nconst bootstrapAliasReferences = (resolution) => {\n    const aliases = resolution.references.filter(node => node.hasKind(\"alias\"));\n    for (const aliasNode of aliases) {\n        Object.assign(aliasNode.referencesById, aliasNode.resolution.referencesById);\n        for (const ref of resolution.references) {\n            if (aliasNode.id in ref.referencesById)\n                Object.assign(ref.referencesById, aliasNode.referencesById);\n        }\n    }\n    return resolution;\n};\nconst resolutionsToJson = (resolutions) => flatMorph(resolutions, (k, v) => [\n    k,\n    hasArkKind(v, \"root\") || hasArkKind(v, \"generic\") ? v.json\n        : hasArkKind(v, \"module\") ? resolutionsToJson(v)\n            : throwInternalError(`Unexpected resolution ${printable(v)}`)\n]);\nconst maybeResolveSubalias = (base, name) => {\n    const dotIndex = name.indexOf(\".\");\n    if (dotIndex === -1)\n        return;\n    const dotPrefix = name.slice(0, dotIndex);\n    const prefixSchema = base[dotPrefix];\n    // if the name includes \".\", but the prefix is not an alias, it\n    // might be something like a decimal literal, so just fall through to return\n    if (prefixSchema === undefined)\n        return;\n    if (!hasArkKind(prefixSchema, \"module\"))\n        return throwParseError(writeNonSubmoduleDotMessage(dotPrefix));\n    const subalias = name.slice(dotIndex + 1);\n    const resolution = prefixSchema[subalias];\n    if (resolution === undefined)\n        return maybeResolveSubalias(prefixSchema, subalias);\n    if (hasArkKind(resolution, \"root\") || hasArkKind(resolution, \"generic\"))\n        return resolution;\n    if (hasArkKind(resolution, \"module\")) {\n        return (resolution.root ??\n            throwParseError(writeMissingSubmoduleAccessMessage(name)));\n    }\n    throwInternalError(`Unexpected resolution for alias '${name}': ${printable(resolution)}`);\n};\nexport const schemaScope = (aliases, config) => new SchemaScope(aliases, config);\nexport const rootSchemaScope = new SchemaScope({});\nexport const parseAsSchema = (def, opts) => {\n    try {\n        return rootSchema(def, opts);\n    }\n    catch (e) {\n        if (e instanceof ParseError)\n            return e;\n        throw e;\n    }\n};\nconst resolutionsOfModule = ($, typeSet) => {\n    const result = {};\n    for (const k in typeSet) {\n        const v = typeSet[k];\n        if (hasArkKind(v, \"module\")) {\n            const innerResolutions = resolutionsOfModule($, v);\n            const prefixedResolutions = flatMorph(innerResolutions, (innerK, innerV) => [`${k}.${innerK}`, innerV]);\n            Object.assign(result, prefixedResolutions);\n        }\n        else if (hasArkKind(v, \"root\") || hasArkKind(v, \"generic\"))\n            result[k] = v;\n        else\n            throwInternalError(`Unexpected scope resolution ${printable(v)}`);\n    }\n    return result;\n};\nexport const writeUnresolvableMessage = (token) => `'${token}' is unresolvable`;\nexport const writeNonSubmoduleDotMessage = (name) => `'${name}' must reference a module to be accessed using dot syntax`;\nexport const writeMissingSubmoduleAccessMessage = (name) => `Reference to submodule '${name}' must specify an alias`;\n// ensure the scope is resolved so JIT will be applied to future types\nrootSchemaScope.export();\nexport const rootSchema = rootSchemaScope.schema;\nexport const node = rootSchemaScope.node;\nexport const defineSchema = rootSchemaScope.defineSchema;\nexport const genericNode = rootSchemaScope.generic;\n", "import { deepClone, envHasCsp, flatMorph, withAlphabetizedKeys } from \"@ark/util\";\nimport { mergeConfigs } from \"./config.js\";\nimport { Predicate } from \"./predicate.js\";\nimport { Divisor } from \"./refinements/divisor.js\";\nimport { boundClassesByKind, boundImplementationsByKind } from \"./refinements/kinds.js\";\nimport { Pattern } from \"./refinements/pattern.js\";\nimport { Alias } from \"./roots/alias.js\";\nimport { Domain } from \"./roots/domain.js\";\nimport { Intersection } from \"./roots/intersection.js\";\nimport { Morph } from \"./roots/morph.js\";\nimport { Proto } from \"./roots/proto.js\";\nimport { Union } from \"./roots/union.js\";\nimport { Unit } from \"./roots/unit.js\";\nimport { $ark } from \"./shared/registry.js\";\nimport { ToJsonSchema } from \"./shared/toJsonSchema.js\";\nimport { Index } from \"./structure/index.js\";\nimport { Optional } from \"./structure/optional.js\";\nimport { Required } from \"./structure/required.js\";\nimport { Sequence } from \"./structure/sequence.js\";\nimport { Structure } from \"./structure/structure.js\";\nexport const nodeImplementationsByKind = {\n    ...boundImplementationsByKind,\n    alias: Alias.implementation,\n    domain: Domain.implementation,\n    unit: Unit.implementation,\n    proto: Proto.implementation,\n    union: Union.implementation,\n    morph: Morph.implementation,\n    intersection: Intersection.implementation,\n    divisor: Divisor.implementation,\n    pattern: Pattern.implementation,\n    predicate: Predicate.implementation,\n    required: Required.implementation,\n    optional: Optional.implementation,\n    index: Index.implementation,\n    sequence: Sequence.implementation,\n    structure: Structure.implementation\n};\n$ark.defaultConfig = withAlphabetizedKeys(Object.assign(flatMorph(nodeImplementationsByKind, (kind, implementation) => [\n    kind,\n    implementation.defaults\n]), {\n    jitless: envHasCsp(),\n    clone: deepClone,\n    onUndeclaredKey: \"ignore\",\n    exactOptionalPropertyTypes: true,\n    numberAllowsNaN: false,\n    dateAllowsInvalid: false,\n    onFail: null,\n    keywords: {},\n    toJsonSchema: ToJsonSchema.defaultConfig\n}));\n$ark.resolvedConfig = mergeConfigs($ark.defaultConfig, $ark.config);\nexport const nodeClassesByKind = {\n    ...boundClassesByKind,\n    alias: Alias.Node,\n    domain: Domain.Node,\n    unit: Unit.Node,\n    proto: Proto.Node,\n    union: Union.Node,\n    morph: Morph.Node,\n    intersection: Intersection.Node,\n    divisor: Divisor.Node,\n    pattern: Pattern.Node,\n    predicate: Predicate.Node,\n    required: Required.Node,\n    optional: Optional.Node,\n    index: Index.Node,\n    sequence: Sequence.Node,\n    structure: Structure.Node\n};\n", "import { BaseConstraint } from \"./constraint.js\";\nimport { compileObjectLiteral, implementNode } from \"./shared/implement.js\";\nimport { registeredReference } from \"./shared/registry.js\";\nconst implementation = implementNode({\n    kind: \"predicate\",\n    hasAssociatedError: true,\n    collapsibleKey: \"predicate\",\n    keys: {\n        predicate: {}\n    },\n    normalize: schema => typeof schema === \"function\" ? { predicate: schema } : schema,\n    defaults: {\n        description: node => `valid according to ${node.predicate.name || \"an anonymous predicate\"}`\n    },\n    intersectionIsOpen: true,\n    intersections: {\n        // as long as the narrows in l and r are individually safe to check\n        // in the order they're specified, checking them in the order\n        // resulting from this intersection should also be safe.\n        predicate: () => null\n    }\n});\nexport class PredicateNode extends BaseConstraint {\n    serializedPredicate = registeredReference(this.predicate);\n    compiledCondition = `${this.serializedPredicate}(data, ctx)`;\n    compiledNegation = `!${this.compiledCondition}`;\n    impliedBasis = null;\n    expression = this.serializedPredicate;\n    traverseAllows = this.predicate;\n    errorContext = {\n        code: \"predicate\",\n        description: this.description,\n        meta: this.meta\n    };\n    compiledErrorContext = compileObjectLiteral(this.errorContext);\n    traverseApply = (data, ctx) => {\n        if (!this.predicate(data, ctx.external) && !ctx.hasError())\n            ctx.errorFromNodeContext(this.errorContext);\n    };\n    compile(js) {\n        if (js.traversalKind === \"Allows\") {\n            js.return(this.compiledCondition);\n            return;\n        }\n        js.if(`${this.compiledNegation} && !ctx.hasError()`, () => js.line(`ctx.errorFromNodeContext(${this.compiledErrorContext})`));\n    }\n    reduceJsonSchema(base, ctx) {\n        return ctx.fallback.predicate({\n            code: \"predicate\",\n            base,\n            predicate: this.predicate\n        });\n    }\n}\nexport const Predicate = {\n    implementation,\n    Node: PredicateNode\n};\n", "import { throwParseError } from \"@ark/util\";\nimport { InternalPrimitiveConstraint, writeInvalidOperandMessage } from \"../constraint.js\";\nimport { implementNode } from \"../shared/implement.js\";\nimport { $ark } from \"../shared/registry.js\";\nconst implementation = implementNode({\n    kind: \"divisor\",\n    collapsibleKey: \"rule\",\n    keys: {\n        rule: {\n            parse: divisor => Number.isInteger(divisor) ? divisor : (throwParseError(writeNonIntegerDivisorMessage(divisor)))\n        }\n    },\n    normalize: schema => typeof schema === \"number\" ? { rule: schema } : schema,\n    hasAssociatedError: true,\n    defaults: {\n        description: node => node.rule === 1 ? \"an integer\"\n            : node.rule === 2 ? \"even\"\n                : `a multiple of ${node.rule}`\n    },\n    intersections: {\n        divisor: (l, r, ctx) => ctx.$.node(\"divisor\", {\n            rule: Math.abs((l.rule * r.rule) / greatestCommonDivisor(l.rule, r.rule))\n        })\n    },\n    obviatesBasisDescription: true\n});\nexport class DivisorNode extends InternalPrimitiveConstraint {\n    traverseAllows = data => data % this.rule === 0;\n    compiledCondition = `data % ${this.rule} === 0`;\n    compiledNegation = `data % ${this.rule} !== 0`;\n    impliedBasis = $ark.intrinsic.number.internal;\n    expression = `% ${this.rule}`;\n    reduceJsonSchema(schema) {\n        schema.type = \"integer\";\n        if (this.rule === 1)\n            return schema;\n        schema.multipleOf = this.rule;\n        return schema;\n    }\n}\nexport const Divisor = {\n    implementation,\n    Node: DivisorNode\n};\nexport const writeIndivisibleMessage = (t) => writeInvalidOperandMessage(\"divisor\", $ark.intrinsic.number, t);\nexport const writeNonIntegerDivisorMessage = (divisor) => `divisor must be an integer (was ${divisor})`;\n// https://en.wikipedia.org/wiki/Euclidean_algorithm\nconst greatestCommonDivisor = (l, r) => {\n    let previous;\n    let greatestCommonDivisor = l;\n    let current = r;\n    while (current !== 0) {\n        previous = current;\n        current = greatestCommonDivisor % current;\n        greatestCommonDivisor = previous;\n    }\n    return greatestCommonDivisor;\n};\n", "import { After } from \"./after.js\";\nimport { Before } from \"./before.js\";\nimport { ExactLength } from \"./exactLength.js\";\nimport { Max } from \"./max.js\";\nimport { MaxLength } from \"./maxLength.js\";\nimport { Min } from \"./min.js\";\nimport { MinLength } from \"./minLength.js\";\nexport const boundImplementationsByKind = {\n    min: Min.implementation,\n    max: Max.implementation,\n    minLength: MinLength.implementation,\n    maxLength: MaxLength.implementation,\n    exactLength: ExactLength.implementation,\n    after: After.implementation,\n    before: Before.implementation\n};\nexport const boundClassesByKind = {\n    min: Min.Node,\n    max: Max.Node,\n    minLength: MinLength.Node,\n    maxLength: MaxLength.Node,\n    exactLength: ExactLength.Node,\n    after: After.Node,\n    before: Before.Node\n};\n", "import { describeCollapsibleDate } from \"@ark/util\";\nimport { implementNode } from \"../shared/implement.js\";\nimport { $ark } from \"../shared/registry.js\";\nimport { BaseRange, createDateSchemaNormalizer, parseDateLimit } from \"./range.js\";\nconst implementation = implementNode({\n    kind: \"after\",\n    collapsibleKey: \"rule\",\n    hasAssociatedError: true,\n    keys: {\n        rule: {\n            parse: parseDateLimit,\n            serialize: schema => schema.toISOString()\n        }\n    },\n    normalize: createDateSchemaNormalizer(\"after\"),\n    defaults: {\n        description: node => `${node.collapsibleLimitString} or later`,\n        actual: describeCollapsibleDate\n    },\n    intersections: {\n        after: (l, r) => (l.isStricterThan(r) ? l : r)\n    }\n});\nexport class AfterNode extends BaseRange {\n    impliedBasis = $ark.intrinsic.Date.internal;\n    collapsibleLimitString = describeCollapsibleDate(this.rule);\n    traverseAllows = data => data >= this.rule;\n    reduceJsonSchema(base, ctx) {\n        return ctx.fallback.date({ code: \"date\", base, after: this.rule });\n    }\n}\nexport const After = {\n    implementation,\n    Node: AfterNode\n};\n", "import { isKeyOf, throwParseError } from \"@ark/util\";\nimport { InternalPrimitiveConstraint } from \"../constraint.js\";\nexport class BaseRange extends InternalPrimitiveConstraint {\n    boundOperandKind = operandKindsByBoundKind[this.kind];\n    compiledActual = this.boundOperandKind === \"value\" ? `data`\n        : this.boundOperandKind === \"length\" ? `data.length`\n            : `data.valueOf()`;\n    comparator = compileComparator(this.kind, this.exclusive);\n    numericLimit = this.rule.valueOf();\n    expression = `${this.comparator} ${this.rule}`;\n    compiledCondition = `${this.compiledActual} ${this.comparator} ${this.numericLimit}`;\n    compiledNegation = `${this.compiledActual} ${negatedComparators[this.comparator]} ${this.numericLimit}`;\n    // we need to compute stringLimit before errorContext, which references it\n    // transitively through description for date bounds\n    stringLimit = this.boundOperandKind === \"date\" ?\n        dateLimitToString(this.numericLimit)\n        : `${this.numericLimit}`;\n    limitKind = this.comparator[\"0\"] === \"<\" ? \"upper\" : \"lower\";\n    isStricterThan(r) {\n        const thisLimitIsStricter = this.limitKind === \"upper\" ?\n            this.numericLimit < r.numericLimit\n            : this.numericLimit > r.numericLimit;\n        return (thisLimitIsStricter ||\n            (this.numericLimit === r.numericLimit &&\n                this.exclusive === true &&\n                !r.exclusive));\n    }\n    overlapsRange(r) {\n        if (this.isStricterThan(r))\n            return false;\n        if (this.numericLimit === r.numericLimit && (this.exclusive || r.exclusive))\n            return false;\n        return true;\n    }\n    overlapIsUnit(r) {\n        return (this.numericLimit === r.numericLimit && !this.exclusive && !r.exclusive);\n    }\n}\nconst negatedComparators = {\n    \"<\": \">=\",\n    \"<=\": \">\",\n    \">\": \"<=\",\n    \">=\": \"<\"\n};\nexport const boundKindPairsByLower = {\n    min: \"max\",\n    minLength: \"maxLength\",\n    after: \"before\"\n};\nexport const parseExclusiveKey = {\n    // omit key with value false since it is the default\n    parse: (flag) => flag || undefined\n};\nexport const createLengthSchemaNormalizer = (kind) => (schema) => {\n    if (typeof schema === \"number\")\n        return { rule: schema };\n    const { exclusive, ...normalized } = schema;\n    return exclusive ?\n        {\n            ...normalized,\n            rule: kind === \"minLength\" ? normalized.rule + 1 : normalized.rule - 1\n        }\n        : normalized;\n};\nexport const createDateSchemaNormalizer = (kind) => (schema) => {\n    if (typeof schema === \"number\" ||\n        typeof schema === \"string\" ||\n        schema instanceof Date)\n        return { rule: schema };\n    const { exclusive, ...normalized } = schema;\n    if (!exclusive)\n        return normalized;\n    const numericLimit = typeof normalized.rule === \"number\" ? normalized.rule\n        : typeof normalized.rule === \"string\" ?\n            new Date(normalized.rule).valueOf()\n            : normalized.rule.valueOf();\n    return exclusive ?\n        {\n            ...normalized,\n            rule: kind === \"after\" ? numericLimit + 1 : numericLimit - 1\n        }\n        : normalized;\n};\nexport const parseDateLimit = (limit) => typeof limit === \"string\" || typeof limit === \"number\" ?\n    new Date(limit)\n    : limit;\nexport const writeInvalidLengthBoundMessage = (kind, limit) => `${kind} bound must be a positive integer (was ${limit})`;\nexport const createLengthRuleParser = (kind) => (limit) => {\n    if (!Number.isInteger(limit) || limit < 0)\n        throwParseError(writeInvalidLengthBoundMessage(kind, limit));\n    return limit;\n};\nconst operandKindsByBoundKind = {\n    min: \"value\",\n    max: \"value\",\n    minLength: \"length\",\n    maxLength: \"length\",\n    after: \"date\",\n    before: \"date\"\n};\nexport const compileComparator = (kind, exclusive) => `${isKeyOf(kind, boundKindPairsByLower) ? \">\" : \"<\"}${exclusive ? \"\" : \"=\"}`;\nexport const dateLimitToString = (limit) => typeof limit === \"string\" ? limit : new Date(limit).toLocaleString();\nexport const writeUnboundableMessage = (root) => `Bounded expression ${root} must be exactly one of number, string, Array, or Date`;\n", "import { describeCollapsibleDate } from \"@ark/util\";\nimport { Disjoint } from \"../shared/disjoint.js\";\nimport { implementNode } from \"../shared/implement.js\";\nimport { $ark } from \"../shared/registry.js\";\nimport { BaseRange, createDateSchemaNormalizer, parseDateLimit } from \"./range.js\";\nconst implementation = implementNode({\n    kind: \"before\",\n    collapsibleKey: \"rule\",\n    hasAssociatedError: true,\n    keys: {\n        rule: {\n            parse: parseDateLimit,\n            serialize: schema => schema.toISOString()\n        }\n    },\n    normalize: createDateSchemaNormalizer(\"before\"),\n    defaults: {\n        description: node => `${node.collapsibleLimitString} or earlier`,\n        actual: describeCollapsibleDate\n    },\n    intersections: {\n        before: (l, r) => (l.isStricterThan(r) ? l : r),\n        after: (before, after, ctx) => before.overlapsRange(after) ?\n            before.overlapIsUnit(after) ?\n                ctx.$.node(\"unit\", { unit: before.rule })\n                : null\n            : Disjoint.init(\"range\", before, after)\n    }\n});\nexport class BeforeNode extends BaseRange {\n    collapsibleLimitString = describeCollapsibleDate(this.rule);\n    traverseAllows = data => data <= this.rule;\n    impliedBasis = $ark.intrinsic.Date.internal;\n    reduceJsonSchema(base, ctx) {\n        return ctx.fallback.date({ code: \"date\", base, before: this.rule });\n    }\n}\nexport const Before = {\n    implementation,\n    Node: BeforeNode\n};\n", "import { InternalPrimitiveConstraint } from \"../constraint.js\";\nimport { Disjoint } from \"../shared/disjoint.js\";\nimport { implementNode } from \"../shared/implement.js\";\nimport { $ark } from \"../shared/registry.js\";\nimport { ToJsonSchema } from \"../shared/toJsonSchema.js\";\nimport { createLengthRuleParser } from \"./range.js\";\nconst implementation = implementNode({\n    kind: \"exactLength\",\n    collapsibleKey: \"rule\",\n    keys: {\n        rule: {\n            parse: createLengthRuleParser(\"exactLength\")\n        }\n    },\n    normalize: schema => typeof schema === \"number\" ? { rule: schema } : schema,\n    hasAssociatedError: true,\n    defaults: {\n        description: node => `exactly length ${node.rule}`,\n        actual: data => `${data.length}`\n    },\n    intersections: {\n        exactLength: (l, r, ctx) => Disjoint.init(\"unit\", ctx.$.node(\"unit\", { unit: l.rule }), ctx.$.node(\"unit\", { unit: r.rule }), { path: [\"length\"] }),\n        minLength: (exactLength, minLength) => exactLength.rule >= minLength.rule ?\n            exactLength\n            : Disjoint.init(\"range\", exactLength, minLength),\n        maxLength: (exactLength, maxLength) => exactLength.rule <= maxLength.rule ?\n            exactLength\n            : Disjoint.init(\"range\", exactLength, maxLength)\n    }\n});\nexport class ExactLengthNode extends InternalPrimitiveConstraint {\n    traverseAllows = data => data.length === this.rule;\n    compiledCondition = `data.length === ${this.rule}`;\n    compiledNegation = `data.length !== ${this.rule}`;\n    impliedBasis = $ark.intrinsic.lengthBoundable.internal;\n    expression = `== ${this.rule}`;\n    reduceJsonSchema(schema) {\n        switch (schema.type) {\n            case \"string\":\n                schema.minLength = this.rule;\n                schema.maxLength = this.rule;\n                return schema;\n            case \"array\":\n                schema.minItems = this.rule;\n                schema.maxItems = this.rule;\n                return schema;\n            default:\n                return ToJsonSchema.throwInternalOperandError(\"exactLength\", schema);\n        }\n    }\n}\nexport const ExactLength = {\n    implementation,\n    Node: ExactLengthNode\n};\n", "import { Disjoint } from \"../shared/disjoint.js\";\nimport { implementNode } from \"../shared/implement.js\";\nimport { $ark } from \"../shared/registry.js\";\nimport { BaseRange, parseExclusiveKey } from \"./range.js\";\nconst implementation = implementNode({\n    kind: \"max\",\n    collapsibleKey: \"rule\",\n    hasAssociatedError: true,\n    keys: {\n        rule: {},\n        exclusive: parseExclusiveKey\n    },\n    normalize: schema => typeof schema === \"number\" ? { rule: schema } : schema,\n    defaults: {\n        description: node => {\n            if (node.rule === 0)\n                return node.exclusive ? \"negative\" : \"non-positive\";\n            return `${node.exclusive ? \"less than\" : \"at most\"} ${node.rule}`;\n        }\n    },\n    intersections: {\n        max: (l, r) => (l.isStricterThan(r) ? l : r),\n        min: (max, min, ctx) => max.overlapsRange(min) ?\n            max.overlapIsUnit(min) ?\n                ctx.$.node(\"unit\", { unit: max.rule })\n                : null\n            : Disjoint.init(\"range\", max, min)\n    },\n    obviatesBasisDescription: true\n});\nexport class MaxNode extends BaseRange {\n    impliedBasis = $ark.intrinsic.number.internal;\n    traverseAllows = this.exclusive ? data => data < this.rule : data => data <= this.rule;\n    reduceJsonSchema(schema) {\n        if (this.exclusive)\n            schema.exclusiveMaximum = this.rule;\n        else\n            schema.maximum = this.rule;\n        return schema;\n    }\n}\nexport const Max = {\n    implementation,\n    Node: MaxNode\n};\n", "import { Disjoint } from \"../shared/disjoint.js\";\nimport { implementNode } from \"../shared/implement.js\";\nimport { $ark } from \"../shared/registry.js\";\nimport { ToJsonSchema } from \"../shared/toJsonSchema.js\";\nimport { BaseRange, createLengthRuleParser, createLengthSchemaNormalizer } from \"./range.js\";\nconst implementation = implementNode({\n    kind: \"maxLength\",\n    collapsibleKey: \"rule\",\n    hasAssociatedError: true,\n    keys: {\n        rule: {\n            parse: createLengthRuleParser(\"maxLength\")\n        }\n    },\n    reduce: (inner, $) => inner.rule === 0 ? $.node(\"exactLength\", inner) : undefined,\n    normalize: createLengthSchemaNormalizer(\"maxLength\"),\n    defaults: {\n        description: node => `at most length ${node.rule}`,\n        actual: data => `${data.length}`\n    },\n    intersections: {\n        maxLength: (l, r) => (l.isStricterThan(r) ? l : r),\n        minLength: (max, min, ctx) => max.overlapsRange(min) ?\n            max.overlapIsUnit(min) ?\n                ctx.$.node(\"exactLength\", { rule: max.rule })\n                : null\n            : Disjoint.init(\"range\", max, min)\n    }\n});\nexport class MaxLengthNode extends BaseRange {\n    impliedBasis = $ark.intrinsic.lengthBoundable.internal;\n    traverseAllows = data => data.length <= this.rule;\n    reduceJsonSchema(schema) {\n        switch (schema.type) {\n            case \"string\":\n                schema.maxLength = this.rule;\n                return schema;\n            case \"array\":\n                schema.maxItems = this.rule;\n                return schema;\n            default:\n                return ToJsonSchema.throwInternalOperandError(\"maxLength\", schema);\n        }\n    }\n}\nexport const MaxLength = {\n    implementation,\n    Node: MaxLengthNode\n};\n", "import { implementNode } from \"../shared/implement.js\";\nimport { $ark } from \"../shared/registry.js\";\nimport { BaseRange, parseExclusiveKey } from \"./range.js\";\nconst implementation = implementNode({\n    kind: \"min\",\n    collapsibleKey: \"rule\",\n    hasAssociatedError: true,\n    keys: {\n        rule: {},\n        exclusive: parseExclusiveKey\n    },\n    normalize: schema => typeof schema === \"number\" ? { rule: schema } : schema,\n    defaults: {\n        description: node => {\n            if (node.rule === 0)\n                return node.exclusive ? \"positive\" : \"non-negative\";\n            return `${node.exclusive ? \"more than\" : \"at least\"} ${node.rule}`;\n        }\n    },\n    intersections: {\n        min: (l, r) => (l.isStricterThan(r) ? l : r)\n    },\n    obviatesBasisDescription: true\n});\nexport class MinNode extends BaseRange {\n    impliedBasis = $ark.intrinsic.number.internal;\n    traverseAllows = this.exclusive ? data => data > this.rule : data => data >= this.rule;\n    reduceJsonSchema(schema) {\n        if (this.exclusive)\n            schema.exclusiveMinimum = this.rule;\n        else\n            schema.minimum = this.rule;\n        return schema;\n    }\n}\nexport const Min = {\n    implementation,\n    Node: MinNode\n};\n", "import { implementNode } from \"../shared/implement.js\";\nimport { $ark } from \"../shared/registry.js\";\nimport { ToJsonSchema } from \"../shared/toJsonSchema.js\";\nimport { BaseRange, createLengthRuleParser, createLengthSchemaNormalizer } from \"./range.js\";\nconst implementation = implementNode({\n    kind: \"minLength\",\n    collapsibleKey: \"rule\",\n    hasAssociatedError: true,\n    keys: {\n        rule: {\n            parse: createLengthRuleParser(\"minLength\")\n        }\n    },\n    reduce: inner => inner.rule === 0 ?\n        // a minimum length of zero is trivially satisfied\n        $ark.intrinsic.unknown\n        : undefined,\n    normalize: createLengthSchemaNormalizer(\"minLength\"),\n    defaults: {\n        description: node => node.rule === 1 ? \"non-empty\" : `at least length ${node.rule}`,\n        // avoid default message like \"must be non-empty (was 0)\"\n        actual: data => (data.length === 0 ? \"\" : `${data.length}`)\n    },\n    intersections: {\n        minLength: (l, r) => (l.isStricterThan(r) ? l : r)\n    }\n});\nexport class MinLengthNode extends BaseRange {\n    impliedBasis = $ark.intrinsic.lengthBoundable.internal;\n    traverseAllows = data => data.length >= this.rule;\n    reduceJsonSchema(schema) {\n        switch (schema.type) {\n            case \"string\":\n                schema.minLength = this.rule;\n                return schema;\n            case \"array\":\n                schema.minItems = this.rule;\n                return schema;\n            default:\n                return ToJsonSchema.throwInternalOperandError(\"minLength\", schema);\n        }\n    }\n}\nexport const MinLength = {\n    implementation,\n    Node: MinLengthNode\n};\n", "import { InternalPrimitiveConstraint } from \"../constraint.js\";\nimport { implementNode } from \"../shared/implement.js\";\nimport { $ark } from \"../shared/registry.js\";\nconst implementation = implementNode({\n    kind: \"pattern\",\n    collapsibleKey: \"rule\",\n    keys: {\n        rule: {},\n        flags: {}\n    },\n    normalize: schema => typeof schema === \"string\" ? { rule: schema }\n        : schema instanceof RegExp ?\n            schema.flags ?\n                { rule: schema.source, flags: schema.flags }\n                : { rule: schema.source }\n            : schema,\n    obviatesBasisDescription: true,\n    obviatesBasisExpression: true,\n    hasAssociatedError: true,\n    intersectionIsOpen: true,\n    defaults: {\n        description: node => `matched by ${node.rule}`\n    },\n    intersections: {\n        // for now, non-equal regex are naively intersected:\n        // https://github.com/arktypeio/arktype/issues/853\n        pattern: () => null\n    }\n});\nexport class PatternNode extends InternalPrimitiveConstraint {\n    instance = new RegExp(this.rule, this.flags);\n    expression = `${this.instance}`;\n    traverseAllows = this.instance.test.bind(this.instance);\n    compiledCondition = `${this.expression}.test(data)`;\n    compiledNegation = `!${this.compiledCondition}`;\n    impliedBasis = $ark.intrinsic.string.internal;\n    reduceJsonSchema(base, ctx) {\n        if (base.pattern) {\n            return ctx.fallback.patternIntersection({\n                code: \"patternIntersection\",\n                base: base,\n                pattern: this.rule\n            });\n        }\n        base.pattern = this.rule;\n        return base;\n    }\n}\nexport const Pattern = {\n    implementation,\n    Node: PatternNode\n};\n", "import { append, domainDescriptions, printable, throwInternalError, throwParseError } from \"@ark/util\";\nimport { nodesByRegisteredId } from \"../parse.js\";\nimport { Disjoint } from \"../shared/disjoint.js\";\nimport { implementNode } from \"../shared/implement.js\";\nimport { intersectOrPipeNodes } from \"../shared/intersections.js\";\nimport { $ark } from \"../shared/registry.js\";\nimport { hasArkKind } from \"../shared/utils.js\";\nimport { BaseRoot } from \"./root.js\";\nimport { defineRightwardIntersections } from \"./utils.js\";\nexport const normalizeAliasSchema = (schema) => typeof schema === \"string\" ? { reference: schema } : schema;\nconst neverIfDisjoint = (result) => result instanceof Disjoint ? $ark.intrinsic.never.internal : result;\nconst implementation = implementNode({\n    kind: \"alias\",\n    hasAssociatedError: false,\n    collapsibleKey: \"reference\",\n    keys: {\n        reference: {\n            serialize: s => (s.startsWith(\"$\") ? s : `$ark.${s}`)\n        },\n        resolve: {}\n    },\n    normalize: normalizeAliasSchema,\n    defaults: {\n        description: node => node.reference\n    },\n    intersections: {\n        alias: (l, r, ctx) => ctx.$.lazilyResolve(() => neverIfDisjoint(intersectOrPipeNodes(l.resolution, r.resolution, ctx)), `${l.reference}${ctx.pipe ? \"=>\" : \"&\"}${r.reference}`),\n        ...defineRightwardIntersections(\"alias\", (l, r, ctx) => {\n            if (r.isUnknown())\n                return l;\n            if (r.isNever())\n                return r;\n            if (r.isBasis() && !r.overlaps($ark.intrinsic.object)) {\n                // can be more robust as part of https://github.com/arktypeio/arktype/issues/1026\n                return Disjoint.init(\"assignability\", $ark.intrinsic.object, r);\n            }\n            return ctx.$.lazilyResolve(() => neverIfDisjoint(intersectOrPipeNodes(l.resolution, r, ctx)), `${l.reference}${ctx.pipe ? \"=>\" : \"&\"}${r.id}`);\n        })\n    }\n});\nexport class AliasNode extends BaseRoot {\n    expression = this.reference;\n    structure = undefined;\n    get resolution() {\n        const result = this._resolve();\n        return (nodesByRegisteredId[this.id] = result);\n    }\n    _resolve() {\n        if (this.resolve)\n            return this.resolve();\n        if (this.reference[0] === \"$\")\n            return this.$.resolveRoot(this.reference.slice(1));\n        const id = this.reference;\n        let resolution = nodesByRegisteredId[id];\n        const seen = [];\n        while (hasArkKind(resolution, \"context\")) {\n            if (seen.includes(resolution.id)) {\n                return throwParseError(writeShallowCycleErrorMessage(resolution.id, seen));\n            }\n            seen.push(resolution.id);\n            resolution = nodesByRegisteredId[resolution.id];\n        }\n        if (!hasArkKind(resolution, \"root\")) {\n            return throwInternalError(`Unexpected resolution for reference ${this.reference}\nSeen: [${seen.join(\"->\")}] \nResolution: ${printable(resolution)}`);\n        }\n        return resolution;\n    }\n    get resolutionId() {\n        if (this.reference.includes(\"&\") || this.reference.includes(\"=>\"))\n            return this.resolution.id;\n        if (this.reference[0] !== \"$\")\n            return this.reference;\n        const alias = this.reference.slice(1);\n        const resolution = this.$.resolutions[alias];\n        if (typeof resolution === \"string\")\n            return resolution;\n        if (hasArkKind(resolution, \"root\"))\n            return resolution.id;\n        return throwInternalError(`Unexpected resolution for reference ${this.reference}: ${printable(resolution)}`);\n    }\n    get defaultShortDescription() {\n        return domainDescriptions.object;\n    }\n    innerToJsonSchema(ctx) {\n        return this.resolution.toJsonSchemaRecurse(ctx);\n    }\n    traverseAllows = (data, ctx) => {\n        const seen = ctx.seen[this.reference];\n        if (seen?.includes(data))\n            return true;\n        ctx.seen[this.reference] = append(seen, data);\n        return this.resolution.traverseAllows(data, ctx);\n    };\n    traverseApply = (data, ctx) => {\n        const seen = ctx.seen[this.reference];\n        if (seen?.includes(data))\n            return;\n        ctx.seen[this.reference] = append(seen, data);\n        this.resolution.traverseApply(data, ctx);\n    };\n    compile(js) {\n        const id = this.resolutionId;\n        js.if(`ctx.seen.${id} && ctx.seen.${id}.includes(data)`, () => js.return(true));\n        js.if(`!ctx.seen.${id}`, () => js.line(`ctx.seen.${id} = []`));\n        js.line(`ctx.seen.${id}.push(data)`);\n        js.return(js.invoke(id));\n    }\n}\nexport const writeShallowCycleErrorMessage = (name, seen) => `Alias '${name}' has a shallow resolution cycle: ${[...seen, name].join(\"->\")}`;\nexport const Alias = {\n    implementation,\n    Node: AliasNode\n};\n", "import { domainDescriptions, entriesOf, flatMorph, hasDomain, isArray, isEmptyObject, printable, throwInternalError, throwParseError, unset } from \"@ark/util\";\nimport { nodeClassesByKind, nodeImplementationsByKind } from \"./kinds.js\";\nimport { Disjoint } from \"./shared/disjoint.js\";\nimport { constraintKeys, defaultValueSerializer, isNodeKind, precedenceOfKind } from \"./shared/implement.js\";\nimport { $ark } from \"./shared/registry.js\";\nimport { hasArkKind, isNode } from \"./shared/utils.js\";\nexport const schemaKindOf = (schema, allowedKinds) => {\n    const kind = discriminateRootKind(schema);\n    if (allowedKinds && !allowedKinds.includes(kind)) {\n        return throwParseError(`Root of kind ${kind} should be one of ${allowedKinds}`);\n    }\n    return kind;\n};\nconst discriminateRootKind = (schema) => {\n    if (hasArkKind(schema, \"root\"))\n        return schema.kind;\n    if (typeof schema === \"string\") {\n        return (schema[0] === \"$\" ? \"alias\"\n            : schema in domainDescriptions ? \"domain\"\n                : \"proto\");\n    }\n    if (typeof schema === \"function\")\n        return \"proto\";\n    // throw at end of function\n    if (typeof schema !== \"object\" || schema === null)\n        return throwParseError(writeInvalidSchemaMessage(schema));\n    if (\"morphs\" in schema)\n        return \"morph\";\n    if (\"branches\" in schema || isArray(schema))\n        return \"union\";\n    if (\"unit\" in schema)\n        return \"unit\";\n    if (\"reference\" in schema)\n        return \"alias\";\n    const schemaKeys = Object.keys(schema);\n    if (schemaKeys.length === 0 || schemaKeys.some(k => k in constraintKeys))\n        return \"intersection\";\n    if (\"proto\" in schema)\n        return \"proto\";\n    if (\"domain\" in schema)\n        return \"domain\";\n    return throwParseError(writeInvalidSchemaMessage(schema));\n};\nexport const writeInvalidSchemaMessage = (schema) => `${printable(schema)} is not a valid type schema`;\nconst nodeCountsByPrefix = {};\nconst serializeListableChild = (listableNode) => isArray(listableNode) ?\n    listableNode.map(node => node.collapsibleJson)\n    : listableNode.collapsibleJson;\nexport const nodesByRegisteredId = {};\n$ark.nodesByRegisteredId = nodesByRegisteredId;\nexport const registerNodeId = (prefix) => {\n    nodeCountsByPrefix[prefix] ??= 0;\n    return `${prefix}${++nodeCountsByPrefix[prefix]}`;\n};\nexport const parseNode = (ctx) => {\n    const impl = nodeImplementationsByKind[ctx.kind];\n    const configuredSchema = impl.applyConfig?.(ctx.def, ctx.$.resolvedConfig) ?? ctx.def;\n    const inner = {};\n    const { meta: metaSchema, ...innerSchema } = configuredSchema;\n    const meta = metaSchema === undefined ? {}\n        : typeof metaSchema === \"string\" ? { description: metaSchema }\n            : metaSchema;\n    // ensure node entries are parsed in order of precedence, with non-children\n    // parsed first\n    const innerSchemaEntries = entriesOf(innerSchema)\n        .sort(([lKey], [rKey]) => isNodeKind(lKey) ?\n        isNodeKind(rKey) ? precedenceOfKind(lKey) - precedenceOfKind(rKey)\n            : 1\n        : isNodeKind(rKey) ? -1\n            : lKey < rKey ? -1\n                : 1)\n        .filter(([k, v]) => {\n        // move meta. prefixed props to meta, overwriting existing nested\n        // props of the same name if they exist\n        if (k.startsWith(\"meta.\")) {\n            const metaKey = k.slice(5);\n            meta[metaKey] = v;\n            return false;\n        }\n        return true;\n    });\n    for (const entry of innerSchemaEntries) {\n        const k = entry[0];\n        const keyImpl = impl.keys[k];\n        if (!keyImpl)\n            return throwParseError(`Key ${k} is not valid on ${ctx.kind} schema`);\n        const v = keyImpl.parse ? keyImpl.parse(entry[1], ctx) : entry[1];\n        if (v !== unset && (v !== undefined || keyImpl.preserveUndefined))\n            inner[k] = v;\n    }\n    if (impl.reduce && !ctx.prereduced) {\n        const reduced = impl.reduce(inner, ctx.$);\n        if (reduced) {\n            if (reduced instanceof Disjoint)\n                return reduced.throw();\n            // we can't cache this reduction for now in case the reduction involved\n            // impliedSiblings\n            return withMeta(reduced, meta);\n        }\n    }\n    const node = createNode({\n        id: ctx.id,\n        kind: ctx.kind,\n        inner,\n        meta,\n        $: ctx.$\n    });\n    return node;\n};\nexport const createNode = ({ id, kind, inner, meta, $, ignoreCache }) => {\n    const impl = nodeImplementationsByKind[kind];\n    const innerEntries = entriesOf(inner);\n    const children = [];\n    let innerJson = {};\n    for (const [k, v] of innerEntries) {\n        const keyImpl = impl.keys[k];\n        const serialize = keyImpl.serialize ??\n            (keyImpl.child ? serializeListableChild : defaultValueSerializer);\n        innerJson[k] = serialize(v);\n        if (keyImpl.child === true) {\n            const listableNode = v;\n            if (isArray(listableNode))\n                children.push(...listableNode);\n            else\n                children.push(listableNode);\n        }\n        else if (typeof keyImpl.child === \"function\")\n            children.push(...keyImpl.child(v));\n    }\n    if (impl.finalizeInnerJson)\n        innerJson = impl.finalizeInnerJson(innerJson);\n    let json = { ...innerJson };\n    let metaJson = {};\n    if (!isEmptyObject(meta)) {\n        metaJson = flatMorph(meta, (k, v) => [\n            k,\n            k === \"examples\" ? v : defaultValueSerializer(v)\n        ]);\n        json.meta = possiblyCollapse(metaJson, \"description\", true);\n    }\n    innerJson = possiblyCollapse(innerJson, impl.collapsibleKey, false);\n    const innerHash = JSON.stringify({ kind, ...innerJson });\n    json = possiblyCollapse(json, impl.collapsibleKey, false);\n    const collapsibleJson = possiblyCollapse(json, impl.collapsibleKey, true);\n    const hash = JSON.stringify({ kind, ...json });\n    // we have to wait until after reduction to return a cached entry,\n    // since reduction can add impliedSiblings\n    if ($.nodesByHash[hash] && !ignoreCache)\n        return $.nodesByHash[hash];\n    const attachments = {\n        id,\n        kind,\n        impl,\n        inner,\n        innerEntries,\n        innerJson,\n        innerHash,\n        meta,\n        metaJson,\n        json,\n        hash,\n        collapsibleJson: collapsibleJson,\n        children\n    };\n    if (kind !== \"intersection\") {\n        for (const k in inner)\n            if (k !== \"in\" && k !== \"out\")\n                attachments[k] = inner[k];\n    }\n    const node = new nodeClassesByKind[kind](attachments, $);\n    return ($.nodesByHash[hash] = node);\n};\nexport const withId = (node, id) => {\n    if (node.id === id)\n        return node;\n    if (isNode(nodesByRegisteredId[id]))\n        throwInternalError(`Unexpected attempt to overwrite node id ${id}`);\n    // have to ignore cache to force creation of new potentially cyclic id\n    return createNode({\n        id,\n        kind: node.kind,\n        inner: node.inner,\n        meta: node.meta,\n        $: node.$,\n        ignoreCache: true\n    });\n};\nexport const withMeta = (node, meta, id) => {\n    if (id && isNode(nodesByRegisteredId[id]))\n        throwInternalError(`Unexpected attempt to overwrite node id ${id}`);\n    return createNode({\n        id: id ?? registerNodeId(meta.alias ?? node.kind),\n        kind: node.kind,\n        inner: node.inner,\n        meta,\n        $: node.$\n    });\n};\nconst possiblyCollapse = (json, toKey, allowPrimitive) => {\n    const collapsibleKeys = Object.keys(json);\n    if (collapsibleKeys.length === 1 && collapsibleKeys[0] === toKey) {\n        const collapsed = json[toKey];\n        if (allowPrimitive)\n            return collapsed;\n        if (\n        // if the collapsed value is still an object\n        hasDomain(collapsed, \"object\") &&\n            // and the JSON did not include any implied keys\n            (Object.keys(collapsed).length === 1 || Array.isArray(collapsed))) {\n            // we can replace it with its collapsed value\n            return collapsed;\n        }\n    }\n    return json;\n};\n", "import { arrayEquals, flatMorph, includes, inferred, omit, throwInternalError, throwParseError } from \"@ark/util\";\nimport { mergeToJsonSchemaConfigs } from \"../config.js\";\nimport { throwInvalidOperandError } from \"../constraint.js\";\nimport { BaseNode } from \"../node.js\";\nimport { Disjoint, writeUnsatisfiableExpressionError } from \"../shared/disjoint.js\";\nimport { ArkErrors } from \"../shared/errors.js\";\nimport { structuralKinds } from \"../shared/implement.js\";\nimport { intersectNodesRoot, pipeNodesRoot } from \"../shared/intersections.js\";\nimport { $ark } from \"../shared/registry.js\";\nimport { arkKind, hasArkKind } from \"../shared/utils.js\";\nimport { assertDefaultValueAssignability } from \"../structure/optional.js\";\nexport class BaseRoot extends BaseNode {\n    constructor(attachments, $) {\n        super(attachments, $);\n        // define as a getter to avoid it being enumerable/spreadable\n        Object.defineProperty(this, arkKind, { value: \"root\", enumerable: false });\n    }\n    get internal() {\n        return this;\n    }\n    get \"~standard\"() {\n        return {\n            vendor: \"arktype\",\n            version: 1,\n            validate: input => {\n                const out = this(input);\n                if (out instanceof ArkErrors)\n                    return out;\n                return { value: out };\n            }\n        };\n    }\n    as() {\n        return this;\n    }\n    brand(name) {\n        if (name === \"\")\n            return throwParseError(emptyBrandNameMessage);\n        return this;\n    }\n    readonly() {\n        return this;\n    }\n    branches = this.hasKind(\"union\") ? this.inner.branches : [this];\n    distribute(mapBranch, reduceMapped) {\n        const mappedBranches = this.branches.map(mapBranch);\n        return reduceMapped?.(mappedBranches) ?? mappedBranches;\n    }\n    get shortDescription() {\n        return this.meta.description ?? this.defaultShortDescription;\n    }\n    toJsonSchema(opts = {}) {\n        const ctx = mergeToJsonSchemaConfigs(this.$.resolvedConfig.toJsonSchema, opts);\n        ctx.useRefs ||= this.isCyclic;\n        // ensure $schema is the first key if present\n        const schema = typeof ctx.dialect === \"string\" ? { $schema: ctx.dialect } : {};\n        Object.assign(schema, this.toJsonSchemaRecurse(ctx));\n        if (ctx.useRefs) {\n            schema.$defs = flatMorph(this.references, (i, ref) => ref.isRoot() && !ref.alwaysExpandJsonSchema ?\n                [ref.id, ref.toResolvedJsonSchema(ctx)]\n                : []);\n        }\n        return schema;\n    }\n    toJsonSchemaRecurse(ctx) {\n        if (ctx.useRefs && !this.alwaysExpandJsonSchema)\n            return { $ref: `#/$defs/${this.id}` };\n        return this.toResolvedJsonSchema(ctx);\n    }\n    get alwaysExpandJsonSchema() {\n        return (this.isBasis() ||\n            this.kind === \"alias\" ||\n            (this.hasKind(\"union\") && this.isBoolean));\n    }\n    toResolvedJsonSchema(ctx) {\n        const result = this.innerToJsonSchema(ctx);\n        return Object.assign(result, this.metaJson);\n    }\n    intersect(r) {\n        const rNode = this.$.parseDefinition(r);\n        const result = this.rawIntersect(rNode);\n        if (result instanceof Disjoint)\n            return result;\n        return this.$.finalize(result);\n    }\n    rawIntersect(r) {\n        return intersectNodesRoot(this, r, this.$);\n    }\n    toNeverIfDisjoint() {\n        return this;\n    }\n    and(r) {\n        const result = this.intersect(r);\n        return result instanceof Disjoint ? result.throw() : result;\n    }\n    rawAnd(r) {\n        const result = this.rawIntersect(r);\n        return result instanceof Disjoint ? result.throw() : result;\n    }\n    or(r) {\n        const rNode = this.$.parseDefinition(r);\n        return this.$.finalize(this.rawOr(rNode));\n    }\n    rawOr(r) {\n        const branches = [...this.branches, ...r.branches];\n        return this.$.node(\"union\", branches);\n    }\n    map(flatMapEntry) {\n        return this.$.schema(this.applyStructuralOperation(\"map\", [flatMapEntry]));\n    }\n    pick(...keys) {\n        return this.$.schema(this.applyStructuralOperation(\"pick\", keys));\n    }\n    omit(...keys) {\n        return this.$.schema(this.applyStructuralOperation(\"omit\", keys));\n    }\n    required() {\n        return this.$.schema(this.applyStructuralOperation(\"required\", []));\n    }\n    partial() {\n        return this.$.schema(this.applyStructuralOperation(\"partial\", []));\n    }\n    _keyof;\n    keyof() {\n        if (this._keyof)\n            return this._keyof;\n        const result = this.applyStructuralOperation(\"keyof\", []).reduce((result, branch) => result.intersect(branch).toNeverIfDisjoint(), $ark.intrinsic.unknown.internal);\n        if (result.branches.length === 0) {\n            throwParseError(writeUnsatisfiableExpressionError(`keyof ${this.expression}`));\n        }\n        return (this._keyof = this.$.finalize(result));\n    }\n    get props() {\n        if (this.branches.length !== 1)\n            return throwParseError(writeLiteralUnionEntriesMessage(this.expression));\n        return [...this.applyStructuralOperation(\"props\", [])[0]];\n    }\n    merge(r) {\n        const rNode = this.$.parseDefinition(r);\n        return this.$.schema(rNode.distribute(branch => this.applyStructuralOperation(\"merge\", [\n            structureOf(branch) ??\n                throwParseError(writeNonStructuralOperandMessage(\"merge\", branch.expression))\n        ])));\n    }\n    applyStructuralOperation(operation, args) {\n        return this.distribute(branch => {\n            if (branch.equals($ark.intrinsic.object) && operation !== \"merge\")\n                // ideally this wouldn't be a special case, but for now it\n                // allows us to bypass `assertHasKeys` checks on base\n                // instantiations of generics like Pick and Omit. Could\n                // potentially be removed once constraints can reference each other:\n                // https://github.com/arktypeio/arktype/issues/1053\n                return branch;\n            const structure = structureOf(branch);\n            if (!structure) {\n                throwParseError(writeNonStructuralOperandMessage(operation, branch.expression));\n            }\n            if (operation === \"keyof\")\n                return structure.keyof();\n            if (operation === \"get\")\n                return structure.get(...args);\n            if (operation === \"props\")\n                return structure.props;\n            const structuralMethodName = operation === \"required\" ? \"require\"\n                : operation === \"partial\" ? \"optionalize\"\n                    : operation;\n            return this.$.node(\"intersection\", {\n                ...branch.inner,\n                structure: structure[structuralMethodName](...args)\n            });\n        });\n    }\n    get(...path) {\n        if (path[0] === undefined)\n            return this;\n        return this.$.schema(this.applyStructuralOperation(\"get\", path));\n    }\n    extract(r) {\n        const rNode = this.$.parseDefinition(r);\n        return this.$.schema(this.branches.filter(branch => branch.extends(rNode)));\n    }\n    exclude(r) {\n        const rNode = this.$.parseDefinition(r);\n        return this.$.schema(this.branches.filter(branch => !branch.extends(rNode)));\n    }\n    array() {\n        return this.$.schema(this.isUnknown() ?\n            { proto: Array }\n            : {\n                proto: Array,\n                sequence: this\n            }, { prereduced: true });\n    }\n    overlaps(r) {\n        const intersection = this.intersect(r);\n        return !(intersection instanceof Disjoint);\n    }\n    extends(r) {\n        const intersection = this.intersect(r);\n        return (!(intersection instanceof Disjoint) && this.equals(intersection));\n    }\n    ifExtends(r) {\n        return this.extends(r) ? this : undefined;\n    }\n    subsumes(r) {\n        const rNode = this.$.parseDefinition(r);\n        return rNode.extends(this);\n    }\n    configure(meta, selector = \"shallow\") {\n        return this.configureReferences(meta, selector);\n    }\n    describe(description, selector = \"shallow\") {\n        return this.configure({ description }, selector);\n    }\n    // these should ideally be implemented in arktype since they use its syntax\n    // https://github.com/arktypeio/arktype/issues/1223\n    optional() {\n        return [this, \"?\"];\n    }\n    // these should ideally be implemented in arktype since they use its syntax\n    // https://github.com/arktypeio/arktype/issues/1223\n    default(thunkableValue) {\n        assertDefaultValueAssignability(this, thunkableValue, null);\n        return [this, \"=\", thunkableValue];\n    }\n    from(input) {\n        // ideally we might not validate here but for now we need to do determine\n        // which morphs to apply\n        return this.assert(input);\n    }\n    _pipe(...morphs) {\n        const result = morphs.reduce((acc, morph) => acc.rawPipeOnce(morph), this);\n        return this.$.finalize(result);\n    }\n    tryPipe(...morphs) {\n        const result = morphs.reduce((acc, morph) => acc.rawPipeOnce(hasArkKind(morph, \"root\") ? morph : ((In, ctx) => {\n            try {\n                return morph(In, ctx);\n            }\n            catch (e) {\n                return ctx.error({\n                    code: \"predicate\",\n                    predicate: morph,\n                    actual: `aborted due to error:\\n    ${e}\\n`\n                });\n            }\n        })), this);\n        return this.$.finalize(result);\n    }\n    pipe = Object.assign(this._pipe.bind(this), {\n        try: this.tryPipe.bind(this)\n    });\n    to(def) {\n        return this.$.finalize(this.toNode(this.$.parseDefinition(def)));\n    }\n    toNode(root) {\n        const result = pipeNodesRoot(this, root, this.$);\n        if (result instanceof Disjoint)\n            return result.throw();\n        return result;\n    }\n    rawPipeOnce(morph) {\n        if (hasArkKind(morph, \"root\"))\n            return this.toNode(morph);\n        return this.distribute(branch => branch.hasKind(\"morph\") ?\n            this.$.node(\"morph\", {\n                in: branch.inner.in,\n                morphs: [...branch.morphs, morph]\n            })\n            : this.$.node(\"morph\", {\n                in: branch,\n                morphs: [morph]\n            }), this.$.parseSchema);\n    }\n    narrow(predicate) {\n        return this.constrainOut(\"predicate\", predicate);\n    }\n    constrain(kind, schema) {\n        return this._constrain(\"root\", kind, schema);\n    }\n    constrainIn(kind, schema) {\n        return this._constrain(\"in\", kind, schema);\n    }\n    constrainOut(kind, schema) {\n        return this._constrain(\"out\", kind, schema);\n    }\n    _constrain(io, kind, schema) {\n        const constraint = this.$.node(kind, schema);\n        if (constraint.isRoot()) {\n            // if the node reduces to `unknown`, nothing to do (e.g. minLength: 0)\n            return constraint.isUnknown() ? this : (throwInternalError(`Unexpected constraint node ${constraint}`));\n        }\n        const operand = io === \"root\" ? this : this[io];\n        if (operand.hasKind(\"morph\") ||\n            (constraint.impliedBasis && !operand.extends(constraint.impliedBasis))) {\n            return throwInvalidOperandError(kind, constraint.impliedBasis, this);\n        }\n        const partialIntersection = this.$.node(\"intersection\", {\n            // important this is constraint.kind instead of kind in case\n            // the node was reduced during parsing\n            [constraint.kind]: constraint\n        });\n        const result = io === \"out\" ?\n            pipeNodesRoot(this, partialIntersection, this.$)\n            : intersectNodesRoot(this, partialIntersection, this.$);\n        if (result instanceof Disjoint)\n            result.throw();\n        return this.$.finalize(result);\n    }\n    onUndeclaredKey(cfg) {\n        const rule = typeof cfg === \"string\" ? cfg : cfg.rule;\n        const deep = typeof cfg === \"string\" ? false : cfg.deep;\n        return this.$.finalize(this.transform((kind, inner) => kind === \"structure\" ?\n            rule === \"ignore\" ?\n                omit(inner, { undeclared: 1 })\n                : { ...inner, undeclared: rule }\n            : inner, deep ? undefined : ({ shouldTransform: node => !includes(structuralKinds, node.kind) })));\n    }\n    hasEqualMorphs(r) {\n        if (!this.includesTransform && !r.includesTransform)\n            return true;\n        if (!arrayEquals(this.shallowMorphs, r.shallowMorphs))\n            return false;\n        if (!arrayEquals(this.flatMorphs, r.flatMorphs, {\n            isEqual: (l, r) => l.propString === r.propString &&\n                (l.node.hasKind(\"morph\") && r.node.hasKind(\"morph\") ?\n                    l.node.hasEqualMorphs(r.node)\n                    : l.node.hasKind(\"intersection\") && r.node.hasKind(\"intersection\") ?\n                        l.node.structure?.structuralMorphRef ===\n                            r.node.structure?.structuralMorphRef\n                        : false)\n        }))\n            return false;\n        return true;\n    }\n    onDeepUndeclaredKey(behavior) {\n        return this.onUndeclaredKey({ rule: behavior, deep: true });\n    }\n    filter(predicate) {\n        return this.constrainIn(\"predicate\", predicate);\n    }\n    divisibleBy(schema) {\n        return this.constrain(\"divisor\", schema);\n    }\n    matching(schema) {\n        return this.constrain(\"pattern\", schema);\n    }\n    atLeast(schema) {\n        return this.constrain(\"min\", schema);\n    }\n    atMost(schema) {\n        return this.constrain(\"max\", schema);\n    }\n    moreThan(schema) {\n        return this.constrain(\"min\", exclusivizeRangeSchema(schema));\n    }\n    lessThan(schema) {\n        return this.constrain(\"max\", exclusivizeRangeSchema(schema));\n    }\n    atLeastLength(schema) {\n        return this.constrain(\"minLength\", schema);\n    }\n    atMostLength(schema) {\n        return this.constrain(\"maxLength\", schema);\n    }\n    moreThanLength(schema) {\n        return this.constrain(\"minLength\", exclusivizeRangeSchema(schema));\n    }\n    lessThanLength(schema) {\n        return this.constrain(\"maxLength\", exclusivizeRangeSchema(schema));\n    }\n    exactlyLength(schema) {\n        return this.constrain(\"exactLength\", schema);\n    }\n    atOrAfter(schema) {\n        return this.constrain(\"after\", schema);\n    }\n    atOrBefore(schema) {\n        return this.constrain(\"before\", schema);\n    }\n    laterThan(schema) {\n        return this.constrain(\"after\", exclusivizeRangeSchema(schema));\n    }\n    earlierThan(schema) {\n        return this.constrain(\"before\", exclusivizeRangeSchema(schema));\n    }\n}\nexport const emptyBrandNameMessage = `Expected a non-empty brand name after #`;\nexport const exclusivizeRangeSchema = (schema) => (typeof schema === \"object\" && !(schema instanceof Date) ?\n    { ...schema, exclusive: true }\n    : {\n        rule: schema,\n        exclusive: true\n    });\nexport const typeOrTermExtends = (t, base) => hasArkKind(base, \"root\") ?\n    hasArkKind(t, \"root\") ? t.extends(base)\n        : base.allows(t)\n    : hasArkKind(t, \"root\") ? t.hasUnit(base)\n        : base === t;\nconst structureOf = (branch) => {\n    if (branch.hasKind(\"morph\"))\n        return null;\n    if (branch.hasKind(\"intersection\")) {\n        return (branch.inner.structure ??\n            (branch.basis?.domain === \"object\" ?\n                branch.$.bindReference($ark.intrinsic.emptyStructure)\n                : null));\n    }\n    if (branch.isBasis() && branch.domain === \"object\")\n        return branch.$.bindReference($ark.intrinsic.emptyStructure);\n    return null;\n};\nexport const writeLiteralUnionEntriesMessage = (expression) => `Props cannot be extracted from a union. Use .distribute to extract props from each branch instead. Received:\n${expression}`;\nexport const writeNonStructuralOperandMessage = (operation, operand) => `${operation} operand must be an object (was ${operand})`;\n", "import { hasDomain, isThunk, printable, throwParseError } from \"@ark/util\";\nimport { intrinsic } from \"../intrinsic.js\";\nimport { compileSerializedValue } from \"../shared/compile.js\";\nimport { ArkErrors } from \"../shared/errors.js\";\nimport { defaultValueSerializer, implementNode } from \"../shared/implement.js\";\nimport { registeredReference } from \"../shared/registry.js\";\nimport { traverseKey } from \"../shared/traversal.js\";\nimport { BaseProp, intersectProps } from \"./prop.js\";\nconst implementation = implementNode({\n    kind: \"optional\",\n    hasAssociatedError: false,\n    intersectionIsOpen: true,\n    keys: {\n        key: {},\n        value: {\n            child: true,\n            parse: (schema, ctx) => ctx.$.parseSchema(schema)\n        },\n        default: {\n            preserveUndefined: true\n        }\n    },\n    normalize: schema => schema,\n    reduce: (inner, $) => {\n        if ($.resolvedConfig.exactOptionalPropertyTypes === false) {\n            if (!inner.value.allows(undefined)) {\n                return $.node(\"optional\", { ...inner, value: inner.value.or(intrinsic.undefined) }, { prereduced: true });\n            }\n        }\n    },\n    defaults: {\n        description: node => `${node.compiledKey}?: ${node.value.description}`\n    },\n    intersections: {\n        optional: intersectProps\n    }\n});\nexport class OptionalNode extends BaseProp {\n    constructor(...args) {\n        super(...args);\n        if (\"default\" in this.inner)\n            assertDefaultValueAssignability(this.value, this.inner.default, this.key);\n    }\n    get outProp() {\n        if (!this.hasDefault())\n            return this;\n        const { default: defaultValue, ...requiredInner } = this.inner;\n        return this.cacheGetter(\"outProp\", this.$.node(\"required\", requiredInner, { prereduced: true }));\n    }\n    expression = this.hasDefault() ?\n        `${this.compiledKey}: ${this.value.expression} = ${printable(this.inner.default)}`\n        : `${this.compiledKey}?: ${this.value.expression}`;\n    defaultValueMorph = getDefaultableMorph(this);\n    defaultValueMorphRef = this.defaultValueMorph && registeredReference(this.defaultValueMorph);\n}\nexport const Optional = {\n    implementation,\n    Node: OptionalNode\n};\nconst defaultableMorphCache = {};\nconst getDefaultableMorph = (node) => {\n    if (!node.hasDefault())\n        return;\n    const cacheKey = `{${node.compiledKey}: ${node.value.id} = ${defaultValueSerializer(node.default)}}`;\n    return (defaultableMorphCache[cacheKey] ??= computeDefaultValueMorph(node.key, node.value, node.default));\n};\nexport const computeDefaultValueMorph = (key, value, defaultInput) => {\n    if (typeof defaultInput === \"function\") {\n        // if the value has a morph, pipe context through it\n        return value.includesTransform ?\n            (data, ctx) => {\n                traverseKey(key, () => value((data[key] = defaultInput()), ctx), ctx);\n                return data;\n            }\n            : data => {\n                data[key] = defaultInput();\n                return data;\n            };\n    }\n    // non-functional defaults can be safely cached as long as the morph is\n    // guaranteed to be pure and the output is primitive\n    const precomputedMorphedDefault = value.includesTransform ? value.assert(defaultInput) : defaultInput;\n    return hasDomain(precomputedMorphedDefault, \"object\") ?\n        // the type signature only allows this if the value was morphed\n        (data, ctx) => {\n            traverseKey(key, () => value((data[key] = defaultInput), ctx), ctx);\n            return data;\n        }\n        : data => {\n            data[key] = precomputedMorphedDefault;\n            return data;\n        };\n};\nexport const assertDefaultValueAssignability = (node, value, key) => {\n    const wrapped = isThunk(value);\n    if (hasDomain(value, \"object\") && !wrapped)\n        throwParseError(writeNonPrimitiveNonFunctionDefaultValueMessage(key));\n    const out = node.in(wrapped ? value() : value);\n    if (out instanceof ArkErrors) {\n        if (key === null) {\n            // e.g. \"Default must be assignable to number (was string)\"\n            throwParseError(`Default ${out.summary}`);\n        }\n        const atPath = out.transform(e => e.transform(input => ({ ...input, prefixPath: [key] })));\n        // e.g. \"Default for bar must be assignable to number (was string)\"\n        // e.g. \"Default for value at [0] must be assignable to number (was string)\"\n        throwParseError(`Default for ${atPath.summary}`);\n    }\n    return value;\n};\nexport const writeNonPrimitiveNonFunctionDefaultValueMessage = (key) => {\n    const keyDescription = key === null ? \"\"\n        : typeof key === \"number\" ? `for value at [${key}] `\n            : `for ${compileSerializedValue(key)} `;\n    return `Non-primitive default ${keyDescription}must be specified as a function like () => ({my: 'object'})`;\n};\n", "import { append, printable, throwParseError, unset } from \"@ark/util\";\nimport { BaseConstraint } from \"../constraint.js\";\nimport { flatRef } from \"../node.js\";\nimport { compileSerializedValue } from \"../shared/compile.js\";\nimport { Disjoint } from \"../shared/disjoint.js\";\nimport { intersectOrPipeNodes } from \"../shared/intersections.js\";\nimport { $ark } from \"../shared/registry.js\";\nimport { traverseKey } from \"../shared/traversal.js\";\nexport const intersectProps = (l, r, ctx) => {\n    if (l.key !== r.key)\n        return null;\n    const key = l.key;\n    let value = intersectOrPipeNodes(l.value, r.value, ctx);\n    const kind = l.required || r.required ? \"required\" : \"optional\";\n    if (value instanceof Disjoint) {\n        if (kind === \"optional\")\n            value = $ark.intrinsic.never.internal;\n        else {\n            // if either operand was optional, the Disjoint has to be treated as optional\n            return value.withPrefixKey(l.key, l.required && r.required ? \"required\" : \"optional\");\n        }\n    }\n    if (kind === \"required\") {\n        return ctx.$.node(\"required\", {\n            key,\n            value\n        });\n    }\n    const defaultIntersection = l.hasDefault() ?\n        r.hasDefault() ?\n            l.default === r.default ?\n                l.default\n                : throwParseError(writeDefaultIntersectionMessage(l.default, r.default))\n            : l.default\n        : r.hasDefault() ? r.default\n            : unset;\n    return ctx.$.node(\"optional\", {\n        key,\n        value,\n        // unset is stripped during parsing\n        default: defaultIntersection\n    });\n};\nexport class BaseProp extends BaseConstraint {\n    required = this.kind === \"required\";\n    optional = this.kind === \"optional\";\n    impliedBasis = $ark.intrinsic.object.internal;\n    serializedKey = compileSerializedValue(this.key);\n    compiledKey = typeof this.key === \"string\" ? this.key : this.serializedKey;\n    flatRefs = append(this.value.flatRefs.map(ref => flatRef([this.key, ...ref.path], ref.node)), flatRef([this.key], this.value));\n    _transform(mapper, ctx) {\n        ctx.path.push(this.key);\n        const result = super._transform(mapper, ctx);\n        ctx.path.pop();\n        return result;\n    }\n    hasDefault() {\n        return \"default\" in this.inner;\n    }\n    traverseAllows = (data, ctx) => {\n        if (this.key in data) {\n            // ctx will be undefined if this node isn't context-dependent\n            return traverseKey(this.key, () => this.value.traverseAllows(data[this.key], ctx), ctx);\n        }\n        return this.optional;\n    };\n    traverseApply = (data, ctx) => {\n        if (this.key in data) {\n            traverseKey(this.key, () => this.value.traverseApply(data[this.key], ctx), ctx);\n        }\n        else if (this.hasKind(\"required\"))\n            ctx.errorFromNodeContext(this.errorContext);\n    };\n    compile(js) {\n        js.if(`${this.serializedKey} in data`, () => js.traverseKey(this.serializedKey, `data${js.prop(this.key)}`, this.value));\n        if (this.hasKind(\"required\")) {\n            js.else(() => js.traversalKind === \"Apply\" ?\n                js.line(`ctx.errorFromNodeContext(${this.compiledErrorContext})`)\n                : js.return(false));\n        }\n        if (js.traversalKind === \"Allows\")\n            js.return(true);\n    }\n}\nexport const writeDefaultIntersectionMessage = (lValue, rValue) => `Invalid intersection of default values ${printable(lValue)} & ${printable(rValue)}`;\n", "import { flatMorph } from \"@ark/util\";\nimport { schemaKindsRightOf } from \"../shared/implement.js\";\nexport const defineRightwardIntersections = (kind, implementation) => flatMorph(schemaKindsRightOf(kind), (i, kind) => [\n    kind,\n    implementation\n]);\n", "import { domainDescriptions, domainOf, hasKey, throwParseError } from \"@ark/util\";\nimport { Disjoint } from \"../shared/disjoint.js\";\nimport { implementNode } from \"../shared/implement.js\";\nimport { InternalBasis } from \"./basis.js\";\nconst implementation = implementNode({\n    kind: \"domain\",\n    hasAssociatedError: true,\n    collapsibleKey: \"domain\",\n    keys: {\n        domain: {},\n        numberAllowsNaN: {}\n    },\n    normalize: schema => typeof schema === \"string\" ? { domain: schema }\n        : hasKey(schema, \"numberAllowsNaN\") && schema.domain !== \"number\" ?\n            throwParseError(Domain.writeBadAllowNanMessage(schema.domain))\n            : schema,\n    applyConfig: (schema, config) => (schema.numberAllowsNaN === undefined &&\n        schema.domain === \"number\" &&\n        config.numberAllowsNaN) ?\n        { ...schema, numberAllowsNaN: true }\n        : schema,\n    defaults: {\n        description: node => domainDescriptions[node.domain],\n        actual: data => Number.isNaN(data) ? \"NaN\" : domainDescriptions[domainOf(data)]\n    },\n    intersections: {\n        domain: (l, r) => \n        // since l === r is handled by default, remaining cases are disjoint\n        // outside those including options like numberAllowsNaN\n        l.domain === \"number\" && r.domain === \"number\" ?\n            l.numberAllowsNaN ?\n                r\n                : l\n            : Disjoint.init(\"domain\", l, r)\n    }\n});\nexport class DomainNode extends InternalBasis {\n    requiresNaNCheck = this.domain === \"number\" && !this.numberAllowsNaN;\n    traverseAllows = this.requiresNaNCheck ?\n        data => typeof data === \"number\" && !Number.isNaN(data)\n        : data => domainOf(data) === this.domain;\n    compiledCondition = this.domain === \"object\" ?\n        `((typeof data === \"object\" && data !== null) || typeof data === \"function\")`\n        : `typeof data === \"${this.domain}\"${this.requiresNaNCheck ? \" && !Number.isNaN(data)\" : \"\"}`;\n    compiledNegation = this.domain === \"object\" ?\n        `((typeof data !== \"object\" || data === null) && typeof data !== \"function\")`\n        : `typeof data !== \"${this.domain}\"${this.requiresNaNCheck ? \" || Number.isNaN(data)\" : \"\"}`;\n    expression = this.numberAllowsNaN ? \"number | NaN\" : this.domain;\n    get nestableExpression() {\n        return this.numberAllowsNaN ? `(${this.expression})` : this.expression;\n    }\n    get defaultShortDescription() {\n        return domainDescriptions[this.domain];\n    }\n    innerToJsonSchema(ctx) {\n        if (this.domain === \"bigint\" || this.domain === \"symbol\") {\n            return ctx.fallback.domain({\n                code: \"domain\",\n                base: {},\n                domain: this.domain\n            });\n        }\n        return {\n            type: this.domain\n        };\n    }\n}\nexport const Domain = {\n    implementation,\n    Node: DomainNode,\n    writeBadAllowNanMessage: (actual) => `numberAllowsNaN may only be specified with domain \"number\" (was ${actual})`\n};\n", "import { compileObjectLiteral } from \"../shared/implement.js\";\nimport { BaseRoot } from \"./root.js\";\nexport class InternalBasis extends BaseRoot {\n    traverseApply = (data, ctx) => {\n        if (!this.traverseAllows(data, ctx))\n            ctx.errorFromNodeContext(this.errorContext);\n    };\n    get errorContext() {\n        return {\n            code: this.kind,\n            description: this.description,\n            meta: this.meta,\n            ...this.inner\n        };\n    }\n    get compiledErrorContext() {\n        return compileObjectLiteral(this.errorContext);\n    }\n    compile(js) {\n        if (js.traversalKind === \"Allows\")\n            js.return(this.compiledCondition);\n        else {\n            js.if(this.compiledNegation, () => js.line(`${js.ctx}.errorFromNodeContext(${this.compiledErrorContext})`));\n        }\n    }\n}\n", "import { flatMorph, hasDomain, isEmptyObject, isKeyOf, throwParseError } from \"@ark/util\";\nimport { constraintKeyParser, flattenConstraints, intersectConstraints } from \"../constraint.js\";\nimport { Disjoint } from \"../shared/disjoint.js\";\nimport { implementNode, structureKeys } from \"../shared/implement.js\";\nimport { intersectOrPipeNodes } from \"../shared/intersections.js\";\nimport { hasArkKind, isNode } from \"../shared/utils.js\";\nimport { BaseRoot } from \"./root.js\";\nimport { defineRightwardIntersections } from \"./utils.js\";\nconst implementation = implementNode({\n    kind: \"intersection\",\n    hasAssociatedError: true,\n    normalize: rawSchema => {\n        if (isNode(rawSchema))\n            return rawSchema;\n        const { structure, ...schema } = rawSchema;\n        const hasRootStructureKey = !!structure;\n        const normalizedStructure = structure ?? {};\n        const normalized = flatMorph(schema, (k, v) => {\n            if (isKeyOf(k, structureKeys)) {\n                if (hasRootStructureKey) {\n                    throwParseError(`Flattened structure key ${k} cannot be specified alongside a root 'structure' key.`);\n                }\n                normalizedStructure[k] = v;\n                return [];\n            }\n            return [k, v];\n        });\n        if (hasArkKind(normalizedStructure, \"constraint\") ||\n            !isEmptyObject(normalizedStructure))\n            normalized.structure = normalizedStructure;\n        return normalized;\n    },\n    finalizeInnerJson: ({ structure, ...rest }) => hasDomain(structure, \"object\") ? { ...structure, ...rest } : rest,\n    keys: {\n        domain: {\n            child: true,\n            parse: (schema, ctx) => ctx.$.node(\"domain\", schema)\n        },\n        proto: {\n            child: true,\n            parse: (schema, ctx) => ctx.$.node(\"proto\", schema)\n        },\n        structure: {\n            child: true,\n            parse: (schema, ctx) => ctx.$.node(\"structure\", schema),\n            serialize: node => {\n                if (!node.sequence?.minLength)\n                    return node.collapsibleJson;\n                const { sequence, ...structureJson } = node.collapsibleJson;\n                const { minVariadicLength, ...sequenceJson } = sequence;\n                const collapsibleSequenceJson = sequenceJson.variadic && Object.keys(sequenceJson).length === 1 ?\n                    sequenceJson.variadic\n                    : sequenceJson;\n                return { ...structureJson, sequence: collapsibleSequenceJson };\n            }\n        },\n        divisor: {\n            child: true,\n            parse: constraintKeyParser(\"divisor\")\n        },\n        max: {\n            child: true,\n            parse: constraintKeyParser(\"max\")\n        },\n        min: {\n            child: true,\n            parse: constraintKeyParser(\"min\")\n        },\n        maxLength: {\n            child: true,\n            parse: constraintKeyParser(\"maxLength\")\n        },\n        minLength: {\n            child: true,\n            parse: constraintKeyParser(\"minLength\")\n        },\n        exactLength: {\n            child: true,\n            parse: constraintKeyParser(\"exactLength\")\n        },\n        before: {\n            child: true,\n            parse: constraintKeyParser(\"before\")\n        },\n        after: {\n            child: true,\n            parse: constraintKeyParser(\"after\")\n        },\n        pattern: {\n            child: true,\n            parse: constraintKeyParser(\"pattern\")\n        },\n        predicate: {\n            child: true,\n            parse: constraintKeyParser(\"predicate\")\n        }\n    },\n    // leverage reduction logic from intersection and identity to ensure initial\n    // parse result is reduced\n    reduce: (inner, $) => \n    // we cast union out of the result here since that only occurs when intersecting two sequences\n    // that cannot occur when reducing a single intersection schema using unknown\n    intersectIntersections({}, inner, {\n        $,\n        invert: false,\n        pipe: false\n    }),\n    defaults: {\n        description: node => {\n            if (node.children.length === 0)\n                return \"unknown\";\n            if (node.structure)\n                return node.structure.description;\n            const childDescriptions = [];\n            if (node.basis &&\n                !node.refinements.some(r => r.impl.obviatesBasisDescription))\n                childDescriptions.push(node.basis.description);\n            if (node.refinements.length) {\n                const sortedRefinementDescriptions = node.refinements\n                    // override alphabetization to describe min before max\n                    .toSorted((l, r) => (l.kind === \"min\" && r.kind === \"max\" ? -1 : 0))\n                    .map(r => r.description);\n                childDescriptions.push(...sortedRefinementDescriptions);\n            }\n            if (node.inner.predicate) {\n                childDescriptions.push(...node.inner.predicate.map(p => p.description));\n            }\n            return childDescriptions.join(\" and \");\n        },\n        expected: source => `  \u25E6 ${source.errors.map(e => e.expected).join(\"\\n  \u25E6 \")}`,\n        problem: ctx => `(${ctx.actual}) must be...\\n${ctx.expected}`\n    },\n    intersections: {\n        intersection: (l, r, ctx) => intersectIntersections(l.inner, r.inner, ctx),\n        ...defineRightwardIntersections(\"intersection\", (l, r, ctx) => {\n            // if l is unknown, return r\n            if (l.children.length === 0)\n                return r;\n            const { domain, proto, ...lInnerConstraints } = l.inner;\n            const lBasis = proto ?? domain;\n            const basis = lBasis ? intersectOrPipeNodes(lBasis, r, ctx) : r;\n            return (basis instanceof Disjoint ? basis\n                : l?.basis?.equals(basis) ?\n                    // if the basis doesn't change, return the original intesection\n                    l\n                    // given we've already precluded l being unknown, the result must\n                    // be an intersection with the new basis result integrated\n                    : l.$.node(\"intersection\", { ...lInnerConstraints, [basis.kind]: basis }, { prereduced: true }));\n        })\n    }\n});\nexport class IntersectionNode extends BaseRoot {\n    basis = this.inner.domain ?? this.inner.proto ?? null;\n    refinements = this.children.filter(node => node.isRefinement());\n    structure = this.inner.structure;\n    expression = writeIntersectionExpression(this);\n    get shallowMorphs() {\n        return this.inner.structure?.structuralMorph ?\n            [this.inner.structure.structuralMorph]\n            : [];\n    }\n    get defaultShortDescription() {\n        return this.basis?.defaultShortDescription ?? \"present\";\n    }\n    innerToJsonSchema(ctx) {\n        return this.children.reduce(\n        // cast is required since TS doesn't know children have compatible schema prerequisites\n        (schema, child) => child.isBasis() ?\n            child.toJsonSchemaRecurse(ctx)\n            : child.reduceJsonSchema(schema, ctx), {});\n    }\n    traverseAllows = (data, ctx) => this.children.every(child => child.traverseAllows(data, ctx));\n    traverseApply = (data, ctx) => {\n        const errorCount = ctx.currentErrorCount;\n        if (this.basis) {\n            this.basis.traverseApply(data, ctx);\n            if (ctx.currentErrorCount > errorCount)\n                return;\n        }\n        if (this.refinements.length) {\n            for (let i = 0; i < this.refinements.length - 1; i++) {\n                this.refinements[i].traverseApply(data, ctx);\n                if (ctx.failFast && ctx.currentErrorCount > errorCount)\n                    return;\n            }\n            this.refinements.at(-1).traverseApply(data, ctx);\n            if (ctx.currentErrorCount > errorCount)\n                return;\n        }\n        if (this.structure) {\n            this.structure.traverseApply(data, ctx);\n            if (ctx.currentErrorCount > errorCount)\n                return;\n        }\n        if (this.inner.predicate) {\n            for (let i = 0; i < this.inner.predicate.length - 1; i++) {\n                this.inner.predicate[i].traverseApply(data, ctx);\n                if (ctx.failFast && ctx.currentErrorCount > errorCount)\n                    return;\n            }\n            this.inner.predicate.at(-1).traverseApply(data, ctx);\n        }\n    };\n    compile(js) {\n        if (js.traversalKind === \"Allows\") {\n            for (const child of this.children)\n                js.check(child);\n            js.return(true);\n            return;\n        }\n        js.initializeErrorCount();\n        if (this.basis) {\n            js.check(this.basis);\n            // we only have to return conditionally if this is not the last check\n            if (this.children.length > 1)\n                js.returnIfFail();\n        }\n        if (this.refinements.length) {\n            for (let i = 0; i < this.refinements.length - 1; i++) {\n                js.check(this.refinements[i]);\n                js.returnIfFailFast();\n            }\n            js.check(this.refinements.at(-1));\n            if (this.structure || this.inner.predicate)\n                js.returnIfFail();\n        }\n        if (this.structure) {\n            js.check(this.structure);\n            if (this.inner.predicate)\n                js.returnIfFail();\n        }\n        if (this.inner.predicate) {\n            for (let i = 0; i < this.inner.predicate.length - 1; i++) {\n                js.check(this.inner.predicate[i]);\n                // since predicates can be chained, we have to fail immediately\n                // if one fails\n                js.returnIfFail();\n            }\n            js.check(this.inner.predicate.at(-1));\n        }\n    }\n}\nexport const Intersection = {\n    implementation,\n    Node: IntersectionNode\n};\nconst writeIntersectionExpression = (node) => {\n    let expression = node.structure?.expression ||\n        `${node.basis && !node.refinements.some(n => n.impl.obviatesBasisExpression) ? node.basis.nestableExpression + \" \" : \"\"}${node.refinements.map(n => n.expression).join(\" & \")}` ||\n        \"unknown\";\n    if (expression === \"Array == 0\")\n        expression = \"[]\";\n    return expression;\n};\nconst intersectIntersections = (l, r, ctx) => {\n    const baseInner = {};\n    const lBasis = l.proto ?? l.domain;\n    const rBasis = r.proto ?? r.domain;\n    const basisResult = lBasis ?\n        rBasis ?\n            intersectOrPipeNodes(lBasis, rBasis, ctx)\n            : lBasis\n        : rBasis;\n    if (basisResult instanceof Disjoint)\n        return basisResult;\n    if (basisResult)\n        baseInner[basisResult.kind] = basisResult;\n    return intersectConstraints({\n        kind: \"intersection\",\n        baseInner,\n        l: flattenConstraints(l),\n        r: flattenConstraints(r),\n        roots: [],\n        ctx\n    });\n};\n", "import { arrayEquals, liftArray, throwParseError } from \"@ark/util\";\nimport { Disjoint } from \"../shared/disjoint.js\";\nimport { implementNode } from \"../shared/implement.js\";\nimport { intersectOrPipeNodes } from \"../shared/intersections.js\";\nimport { $ark, registeredReference } from \"../shared/registry.js\";\nimport { hasArkKind } from \"../shared/utils.js\";\nimport { BaseRoot } from \"./root.js\";\nimport { defineRightwardIntersections } from \"./utils.js\";\nconst implementation = implementNode({\n    kind: \"morph\",\n    hasAssociatedError: false,\n    keys: {\n        in: {\n            child: true,\n            parse: (schema, ctx) => ctx.$.parseSchema(schema)\n        },\n        morphs: {\n            parse: liftArray,\n            serialize: morphs => morphs.map(m => hasArkKind(m, \"root\") ? m.json : registeredReference(m))\n        },\n        declaredIn: {\n            child: false,\n            serialize: node => node.json\n        },\n        declaredOut: {\n            child: false,\n            serialize: node => node.json\n        }\n    },\n    normalize: schema => schema,\n    defaults: {\n        description: node => `a morph from ${node.in.description} to ${node.out?.description ?? \"unknown\"}`\n    },\n    intersections: {\n        morph: (l, r, ctx) => {\n            if (!l.hasEqualMorphs(r)) {\n                return throwParseError(writeMorphIntersectionMessage(l.expression, r.expression));\n            }\n            const inTersection = intersectOrPipeNodes(l.in, r.in, ctx);\n            if (inTersection instanceof Disjoint)\n                return inTersection;\n            const baseInner = {\n                morphs: l.morphs\n            };\n            if (l.declaredIn || r.declaredIn) {\n                const declaredIn = intersectOrPipeNodes(l.in, r.in, ctx);\n                // we can't treat this as a normal Disjoint since it's just declared\n                // it should only happen if someone's essentially trying to create a broken type\n                if (declaredIn instanceof Disjoint)\n                    return declaredIn.throw();\n                else\n                    baseInner.declaredIn = declaredIn;\n            }\n            if (l.declaredOut || r.declaredOut) {\n                const declaredOut = intersectOrPipeNodes(l.out, r.out, ctx);\n                if (declaredOut instanceof Disjoint)\n                    return declaredOut.throw();\n                else\n                    baseInner.declaredOut = declaredOut;\n            }\n            // in case from is a union, we need to distribute the branches\n            // to can be a union as any schema is allowed\n            return inTersection.distribute(inBranch => ctx.$.node(\"morph\", {\n                ...baseInner,\n                in: inBranch\n            }), ctx.$.parseSchema);\n        },\n        ...defineRightwardIntersections(\"morph\", (l, r, ctx) => {\n            const inTersection = l.inner.in ? intersectOrPipeNodes(l.inner.in, r, ctx) : r;\n            return (inTersection instanceof Disjoint ? inTersection\n                : inTersection.equals(l.inner.in) ? l\n                    : ctx.$.node(\"morph\", {\n                        ...l.inner,\n                        in: inTersection\n                    }));\n        })\n    }\n});\nexport class MorphNode extends BaseRoot {\n    serializedMorphs = this.morphs.map(registeredReference);\n    compiledMorphs = `[${this.serializedMorphs}]`;\n    lastMorph = this.inner.morphs.at(-1);\n    lastMorphIfNode = hasArkKind(this.lastMorph, \"root\") ? this.lastMorph : undefined;\n    introspectableIn = this.inner.in;\n    introspectableOut = this.lastMorphIfNode ?\n        Object.assign(this.referencesById, this.lastMorphIfNode.referencesById) &&\n            this.lastMorphIfNode.out\n        : undefined;\n    get shallowMorphs() {\n        // if the morph input is a union, it should not contain any other shallow morphs\n        return Array.isArray(this.inner.in?.shallowMorphs) ?\n            [...this.inner.in.shallowMorphs, ...this.morphs]\n            : this.morphs;\n    }\n    get in() {\n        return (this.declaredIn ?? this.inner.in?.in ?? $ark.intrinsic.unknown.internal);\n    }\n    get out() {\n        return (this.declaredOut ??\n            this.introspectableOut ??\n            $ark.intrinsic.unknown.internal);\n    }\n    declareIn(declaredIn) {\n        return this.$.node(\"morph\", {\n            ...this.inner,\n            declaredIn\n        });\n    }\n    declareOut(declaredOut) {\n        return this.$.node(\"morph\", {\n            ...this.inner,\n            declaredOut\n        });\n    }\n    expression = `(In: ${this.in.expression}) => ${this.lastMorphIfNode ? \"To\" : \"Out\"}<${this.out.expression}>`;\n    get defaultShortDescription() {\n        return this.in.meta.description ?? this.in.defaultShortDescription;\n    }\n    innerToJsonSchema(ctx) {\n        return ctx.fallback.morph({\n            code: \"morph\",\n            base: this.in.toJsonSchemaRecurse(ctx),\n            out: this.introspectableOut?.toJsonSchemaRecurse(ctx) ?? null\n        });\n    }\n    compile(js) {\n        if (js.traversalKind === \"Allows\") {\n            if (!this.introspectableIn)\n                return;\n            js.return(js.invoke(this.introspectableIn));\n            return;\n        }\n        if (this.introspectableIn)\n            js.line(js.invoke(this.introspectableIn));\n        js.line(`ctx.queueMorphs(${this.compiledMorphs})`);\n    }\n    traverseAllows = (data, ctx) => !this.introspectableIn || this.introspectableIn.traverseAllows(data, ctx);\n    traverseApply = (data, ctx) => {\n        if (this.introspectableIn)\n            this.introspectableIn.traverseApply(data, ctx);\n        ctx.queueMorphs(this.morphs);\n    };\n    /** Check if the morphs of r are equal to those of this node */\n    hasEqualMorphs(r) {\n        return arrayEquals(this.morphs, r.morphs, {\n            isEqual: (lMorph, rMorph) => lMorph === rMorph ||\n                (hasArkKind(lMorph, \"root\") &&\n                    hasArkKind(rMorph, \"root\") &&\n                    lMorph.equals(rMorph))\n        });\n    }\n}\nexport const Morph = {\n    implementation,\n    Node: MorphNode\n};\nexport const writeMorphIntersectionMessage = (lDescription, rDescription) => `The intersection of distinct morphs at a single path is indeterminate:\nLeft: ${lDescription}\nRight: ${rDescription}`;\n", "import { builtinConstructors, constructorExtends, domainOf, getBuiltinNameOfConstructor, hasKey, objectKindDescriptions, objectKindOrDomainOf, throwParseError } from \"@ark/util\";\nimport { Disjoint } from \"../shared/disjoint.js\";\nimport { defaultValueSerializer, implementNode } from \"../shared/implement.js\";\nimport { $ark } from \"../shared/registry.js\";\nimport { isNode } from \"../shared/utils.js\";\nimport { InternalBasis } from \"./basis.js\";\nconst implementation = implementNode({\n    kind: \"proto\",\n    hasAssociatedError: true,\n    collapsibleKey: \"proto\",\n    keys: {\n        proto: {\n            serialize: ctor => getBuiltinNameOfConstructor(ctor) ?? defaultValueSerializer(ctor)\n        },\n        dateAllowsInvalid: {}\n    },\n    normalize: schema => {\n        const normalized = typeof schema === \"string\" ? { proto: builtinConstructors[schema] }\n            : typeof schema === \"function\" ?\n                isNode(schema) ? schema\n                    : { proto: schema }\n                : typeof schema.proto === \"string\" ?\n                    { ...schema, proto: builtinConstructors[schema.proto] }\n                    : schema;\n        if (typeof normalized.proto !== \"function\")\n            throwParseError(Proto.writeInvalidSchemaMessage(normalized.proto));\n        if (hasKey(normalized, \"dateAllowsInvalid\") && normalized.proto !== Date)\n            throwParseError(Proto.writeBadInvalidDateMessage(normalized.proto));\n        return normalized;\n    },\n    applyConfig: (schema, config) => {\n        if (schema.dateAllowsInvalid === undefined &&\n            schema.proto === Date &&\n            config.dateAllowsInvalid)\n            return { ...schema, dateAllowsInvalid: true };\n        return schema;\n    },\n    defaults: {\n        description: node => node.builtinName ?\n            objectKindDescriptions[node.builtinName]\n            : `an instance of ${node.proto.name}`,\n        actual: data => data instanceof Date && data.toString() === \"Invalid Date\" ?\n            \"an invalid Date\"\n            : objectKindOrDomainOf(data)\n    },\n    intersections: {\n        proto: (l, r) => l.proto === Date && r.proto === Date ?\n            // since l === r is handled by default,\n            // exactly one of l or r must have allow invalid dates\n            l.dateAllowsInvalid ?\n                r\n                : l\n            : constructorExtends(l.proto, r.proto) ? l\n                : constructorExtends(r.proto, l.proto) ? r\n                    : Disjoint.init(\"proto\", l, r),\n        domain: (proto, domain) => domain.domain === \"object\" ?\n            proto\n            : Disjoint.init(\"domain\", $ark.intrinsic.object.internal, domain)\n    }\n});\nexport class ProtoNode extends InternalBasis {\n    builtinName = getBuiltinNameOfConstructor(this.proto);\n    serializedConstructor = this.json.proto;\n    requiresInvalidDateCheck = this.proto === Date && !this.dateAllowsInvalid;\n    traverseAllows = this.requiresInvalidDateCheck ?\n        data => data instanceof Date && data.toString() !== \"Invalid Date\"\n        : data => data instanceof this.proto;\n    compiledCondition = `data instanceof ${this.serializedConstructor}${this.requiresInvalidDateCheck ? ` && data.toString() !== \"Invalid Date\"` : \"\"}`;\n    compiledNegation = `!(${this.compiledCondition})`;\n    innerToJsonSchema(ctx) {\n        switch (this.builtinName) {\n            case \"Array\":\n                return {\n                    type: \"array\"\n                };\n            case \"Date\":\n                return (ctx.fallback.date?.({ code: \"date\", base: {} }) ??\n                    ctx.fallback.proto({ code: \"proto\", base: {}, proto: this.proto }));\n            default:\n                return ctx.fallback.proto({\n                    code: \"proto\",\n                    base: {},\n                    proto: this.proto\n                });\n        }\n    }\n    expression = this.dateAllowsInvalid ? \"Date | InvalidDate\" : this.proto.name;\n    get nestableExpression() {\n        return this.dateAllowsInvalid ? `(${this.expression})` : this.expression;\n    }\n    domain = \"object\";\n    get defaultShortDescription() {\n        return this.description;\n    }\n}\nexport const Proto = {\n    implementation,\n    Node: ProtoNode,\n    writeBadInvalidDateMessage: (actual) => `dateAllowsInvalid may only be specified with constructor Date (was ${actual.name})`,\n    writeInvalidSchemaMessage: (actual) => `instanceOf operand must be a function (was ${domainOf(actual)})`\n};\n", "import { appendUnique, arrayEquals, domainDescriptions, flatMorph, groupBy, hasKey, isArray, jsTypeOfDescriptions, printable, range, throwParseError, unset } from \"@ark/util\";\nimport { compileLiteralPropAccess, compileSerializedValue } from \"../shared/compile.js\";\nimport { Disjoint } from \"../shared/disjoint.js\";\nimport { implementNode } from \"../shared/implement.js\";\nimport { intersectNodesRoot, intersectOrPipeNodes } from \"../shared/intersections.js\";\nimport { $ark, registeredReference } from \"../shared/registry.js\";\nimport { Traversal } from \"../shared/traversal.js\";\nimport { hasArkKind } from \"../shared/utils.js\";\nimport { BaseRoot } from \"./root.js\";\nimport { defineRightwardIntersections } from \"./utils.js\";\nconst implementation = implementNode({\n    kind: \"union\",\n    hasAssociatedError: true,\n    collapsibleKey: \"branches\",\n    keys: {\n        ordered: {},\n        branches: {\n            child: true,\n            parse: (schema, ctx) => {\n                const branches = [];\n                for (const branchSchema of schema) {\n                    const branchNodes = hasArkKind(branchSchema, \"root\") ?\n                        branchSchema.branches\n                        : ctx.$.parseSchema(branchSchema).branches;\n                    for (const node of branchNodes) {\n                        if (node.hasKind(\"morph\")) {\n                            const matchingMorphIndex = branches.findIndex(matching => matching.hasKind(\"morph\") && matching.hasEqualMorphs(node));\n                            if (matchingMorphIndex === -1)\n                                branches.push(node);\n                            else {\n                                const matchingMorph = branches[matchingMorphIndex];\n                                branches[matchingMorphIndex] = ctx.$.node(\"morph\", {\n                                    ...matchingMorph.inner,\n                                    in: matchingMorph.in.rawOr(node.in)\n                                });\n                            }\n                        }\n                        else\n                            branches.push(node);\n                    }\n                }\n                if (!ctx.def.ordered)\n                    branches.sort((l, r) => (l.hash < r.hash ? -1 : 1));\n                return branches;\n            }\n        }\n    },\n    normalize: schema => (isArray(schema) ? { branches: schema } : schema),\n    reduce: (inner, $) => {\n        const reducedBranches = reduceBranches(inner);\n        if (reducedBranches.length === 1)\n            return reducedBranches[0];\n        if (reducedBranches.length === inner.branches.length)\n            return;\n        return $.node(\"union\", {\n            ...inner,\n            branches: reducedBranches\n        }, { prereduced: true });\n    },\n    defaults: {\n        description: node => node.distribute(branch => branch.description, describeBranches),\n        expected: ctx => {\n            const byPath = groupBy(ctx.errors, \"propString\");\n            const pathDescriptions = Object.entries(byPath).map(([path, errors]) => {\n                const branchesAtPath = [];\n                for (const errorAtPath of errors)\n                    appendUnique(branchesAtPath, errorAtPath.expected);\n                const expected = describeBranches(branchesAtPath);\n                // if there are multiple actual descriptions that differ,\n                // just fall back to printable, which is the most specific\n                const actual = errors.every(e => e.actual === errors[0].actual) ?\n                    errors[0].actual\n                    : printable(errors[0].data);\n                return `${path && `${path} `}must be ${expected}${actual && ` (was ${actual})`}`;\n            });\n            return describeBranches(pathDescriptions);\n        },\n        problem: ctx => ctx.expected,\n        message: ctx => ctx.problem\n    },\n    intersections: {\n        union: (l, r, ctx) => {\n            if (l.isNever !== r.isNever) {\n                // if exactly one operand is never, we can use it to discriminate based on presence\n                return Disjoint.init(\"presence\", l, r);\n            }\n            let resultBranches;\n            if (l.ordered) {\n                if (r.ordered) {\n                    throwParseError(writeOrderedIntersectionMessage(l.expression, r.expression));\n                }\n                resultBranches = intersectBranches(r.branches, l.branches, ctx);\n                if (resultBranches instanceof Disjoint)\n                    resultBranches.invert();\n            }\n            else\n                resultBranches = intersectBranches(l.branches, r.branches, ctx);\n            if (resultBranches instanceof Disjoint)\n                return resultBranches;\n            return ctx.$.parseSchema(l.ordered || r.ordered ?\n                {\n                    branches: resultBranches,\n                    ordered: true\n                }\n                : { branches: resultBranches });\n        },\n        ...defineRightwardIntersections(\"union\", (l, r, ctx) => {\n            const branches = intersectBranches(l.branches, [r], ctx);\n            if (branches instanceof Disjoint)\n                return branches;\n            if (branches.length === 1)\n                return branches[0];\n            return ctx.$.parseSchema(l.ordered ? { branches, ordered: true } : { branches });\n        })\n    }\n});\nexport class UnionNode extends BaseRoot {\n    isBoolean = this.branches.length === 2 &&\n        this.branches[0].hasUnit(false) &&\n        this.branches[1].hasUnit(true);\n    get branchGroups() {\n        const branchGroups = [];\n        let firstBooleanIndex = -1;\n        for (const branch of this.branches) {\n            if (branch.hasKind(\"unit\") && branch.domain === \"boolean\") {\n                if (firstBooleanIndex === -1) {\n                    firstBooleanIndex = branchGroups.length;\n                    branchGroups.push(branch);\n                }\n                else\n                    branchGroups[firstBooleanIndex] = $ark.intrinsic.boolean;\n                continue;\n            }\n            branchGroups.push(branch);\n        }\n        return branchGroups;\n    }\n    unitBranches = this.branches.filter((n) => n.in.hasKind(\"unit\"));\n    discriminant = this.discriminate();\n    discriminantJson = this.discriminant ? discriminantToJson(this.discriminant) : null;\n    expression = this.distribute(n => n.nestableExpression, expressBranches);\n    createBranchedOptimisticRootApply() {\n        return (data, onFail) => {\n            const optimisticResult = this.traverseOptimistic(data);\n            if (optimisticResult !== unset)\n                return optimisticResult;\n            const ctx = new Traversal(data, this.$.resolvedConfig);\n            this.traverseApply(data, ctx);\n            return ctx.finalize(onFail);\n        };\n    }\n    get shallowMorphs() {\n        return this.branches.reduce((morphs, branch) => appendUnique(morphs, branch.shallowMorphs), []);\n    }\n    get defaultShortDescription() {\n        return this.distribute(branch => branch.defaultShortDescription, describeBranches);\n    }\n    innerToJsonSchema(ctx) {\n        // special case to simplify { const: true } | { const: false }\n        // to the canonical JSON Schema representation { type: \"boolean\" }\n        if (this.branchGroups.length === 1 &&\n            this.branchGroups[0].equals($ark.intrinsic.boolean))\n            return { type: \"boolean\" };\n        const jsonSchemaBranches = this.branchGroups.map(group => group.toJsonSchemaRecurse(ctx));\n        if (jsonSchemaBranches.every((branch) => \n        // iff all branches are pure unit values with no metadata,\n        // we can simplify the representation to an enum\n        Object.keys(branch).length === 1 && hasKey(branch, \"const\"))) {\n            return {\n                enum: jsonSchemaBranches.map(branch => branch.const)\n            };\n        }\n        return {\n            anyOf: jsonSchemaBranches\n        };\n    }\n    traverseAllows = (data, ctx) => this.branches.some(b => b.traverseAllows(data, ctx));\n    traverseApply = (data, ctx) => {\n        const errors = [];\n        for (let i = 0; i < this.branches.length; i++) {\n            ctx.pushBranch();\n            this.branches[i].traverseApply(data, ctx);\n            if (!ctx.hasError()) {\n                if (this.branches[i].includesTransform)\n                    return ctx.queuedMorphs.push(...ctx.popBranch().queuedMorphs);\n                return ctx.popBranch();\n            }\n            errors.push(ctx.popBranch().error);\n        }\n        ctx.errorFromNodeContext({ code: \"union\", errors, meta: this.meta });\n    };\n    traverseOptimistic = (data) => {\n        for (let i = 0; i < this.branches.length; i++) {\n            const branch = this.branches[i];\n            if (branch.traverseAllows(data)) {\n                if (branch.contextFreeMorph)\n                    return branch.contextFreeMorph(data);\n                // if we're calling this function and the matching branch didn't have\n                // a context-free morph, it shouldn't have morphs at all\n                return data;\n            }\n        }\n        return unset;\n    };\n    compile(js) {\n        if (!this.discriminant ||\n            // if we have a union of two units like `boolean`, the\n            // undiscriminated compilation will be just as fast\n            (this.unitBranches.length === this.branches.length &&\n                this.branches.length === 2))\n            return this.compileIndiscriminable(js);\n        // we need to access the path as optional so we don't throw if it isn't present\n        let condition = this.discriminant.optionallyChainedPropString;\n        if (this.discriminant.kind === \"domain\")\n            condition = `typeof ${condition} === \"object\" ? ${condition} === null ? \"null\" : \"object\" : typeof ${condition} === \"function\" ? \"object\" : typeof ${condition}`;\n        const cases = this.discriminant.cases;\n        const caseKeys = Object.keys(cases);\n        const { optimistic } = js;\n        // only the first layer can be optimistic\n        js.optimistic = false;\n        js.block(`switch(${condition})`, () => {\n            for (const k in cases) {\n                const v = cases[k];\n                const caseCondition = k === \"default\" ? k : `case ${k}`;\n                js.line(`${caseCondition}: return ${v === true ?\n                    optimistic ? js.data\n                        : v\n                    : optimistic ?\n                        `${js.invoke(v)} ? ${v.contextFreeMorph ? `${registeredReference(v.contextFreeMorph)}(${js.data})` : js.data} : \"${unset}\"`\n                        : js.invoke(v)}`);\n            }\n            return js;\n        });\n        if (js.traversalKind === \"Allows\") {\n            js.return(optimistic ? `\"${unset}\"` : false);\n            return;\n        }\n        const expected = describeBranches(this.discriminant.kind === \"domain\" ?\n            caseKeys.map(k => {\n                const jsTypeOf = k.slice(1, -1);\n                return jsTypeOf === \"function\" ?\n                    domainDescriptions.object\n                    : domainDescriptions[jsTypeOf];\n            })\n            : caseKeys);\n        const serializedPathSegments = this.discriminant.path.map(k => typeof k === \"symbol\" ? registeredReference(k) : JSON.stringify(k));\n        const serializedExpected = JSON.stringify(expected);\n        const serializedActual = this.discriminant.kind === \"domain\" ?\n            `${serializedTypeOfDescriptions}[${condition}]`\n            : `${serializedPrintable}(${condition})`;\n        js.line(`ctx.errorFromNodeContext({\n\tcode: \"predicate\",\n\texpected: ${serializedExpected},\n\tactual: ${serializedActual},\n\trelativePath: [${serializedPathSegments}],\n\tmeta: ${this.compiledMeta}\n})`);\n    }\n    compileIndiscriminable(js) {\n        if (js.traversalKind === \"Apply\") {\n            js.const(\"errors\", \"[]\");\n            for (const branch of this.branches) {\n                js.line(\"ctx.pushBranch()\")\n                    .line(js.invoke(branch))\n                    .if(\"!ctx.hasError()\", () => js.return(branch.includesTransform ?\n                    \"ctx.queuedMorphs.push(...ctx.popBranch().queuedMorphs)\"\n                    : \"ctx.popBranch()\"))\n                    .line(\"errors.push(ctx.popBranch().error)\");\n            }\n            js.line(`ctx.errorFromNodeContext({ code: \"union\", errors, meta: ${this.compiledMeta} })`);\n        }\n        else {\n            const { optimistic } = js;\n            // only the first layer can be optimistic\n            js.optimistic = false;\n            for (const branch of this.branches) {\n                js.if(`${js.invoke(branch)}`, () => js.return(optimistic ?\n                    branch.contextFreeMorph ?\n                        `${registeredReference(branch.contextFreeMorph)}(${js.data})`\n                        : js.data\n                    : true));\n            }\n            js.return(optimistic ? `\"${unset}\"` : false);\n        }\n    }\n    get nestableExpression() {\n        // avoid adding unnecessary parentheses around boolean since it's\n        // already collapsed to a single keyword\n        return this.isBoolean ? \"boolean\" : `(${this.expression})`;\n    }\n    discriminate() {\n        if (this.branches.length < 2 || this.isCyclic)\n            return null;\n        if (this.unitBranches.length === this.branches.length) {\n            const cases = flatMorph(this.unitBranches, (i, n) => [\n                `${n.in.serializedValue}`,\n                n.hasKind(\"morph\") ? n : true\n            ]);\n            return {\n                kind: \"unit\",\n                path: [],\n                optionallyChainedPropString: \"data\",\n                cases\n            };\n        }\n        const candidates = [];\n        for (let lIndex = 0; lIndex < this.branches.length - 1; lIndex++) {\n            const l = this.branches[lIndex];\n            for (let rIndex = lIndex + 1; rIndex < this.branches.length; rIndex++) {\n                const r = this.branches[rIndex];\n                const result = intersectNodesRoot(l.in, r.in, l.$);\n                if (!(result instanceof Disjoint))\n                    continue;\n                for (const entry of result) {\n                    if (!entry.kind || entry.optional)\n                        continue;\n                    let lSerialized;\n                    let rSerialized;\n                    if (entry.kind === \"domain\") {\n                        const lValue = entry.l;\n                        const rValue = entry.r;\n                        lSerialized = `\"${typeof lValue === \"string\" ? lValue : lValue.domain}\"`;\n                        rSerialized = `\"${typeof rValue === \"string\" ? rValue : rValue.domain}\"`;\n                    }\n                    else if (entry.kind === \"unit\") {\n                        lSerialized = entry.l.serializedValue;\n                        rSerialized = entry.r.serializedValue;\n                    }\n                    else\n                        continue;\n                    const matching = candidates.find(d => arrayEquals(d.path, entry.path) && d.kind === entry.kind);\n                    if (!matching) {\n                        candidates.push({\n                            kind: entry.kind,\n                            cases: {\n                                [lSerialized]: {\n                                    branchIndices: [lIndex],\n                                    condition: entry.l\n                                },\n                                [rSerialized]: {\n                                    branchIndices: [rIndex],\n                                    condition: entry.r\n                                }\n                            },\n                            path: entry.path\n                        });\n                    }\n                    else {\n                        if (matching.cases[lSerialized]) {\n                            matching.cases[lSerialized].branchIndices = appendUnique(matching.cases[lSerialized].branchIndices, lIndex);\n                        }\n                        else {\n                            matching.cases[lSerialized] ??= {\n                                branchIndices: [lIndex],\n                                condition: entry.l\n                            };\n                        }\n                        if (matching.cases[rSerialized]) {\n                            matching.cases[rSerialized].branchIndices = appendUnique(matching.cases[rSerialized].branchIndices, rIndex);\n                        }\n                        else {\n                            matching.cases[rSerialized] ??= {\n                                branchIndices: [rIndex],\n                                condition: entry.r\n                            };\n                        }\n                    }\n                }\n            }\n        }\n        const orderedCandidates = this.ordered ? orderCandidates(candidates, this.branches) : candidates;\n        if (!orderedCandidates.length)\n            return null;\n        const ctx = createCaseResolutionContext(orderedCandidates, this);\n        const cases = {};\n        for (const k in ctx.best.cases) {\n            const resolution = resolveCase(ctx, k);\n            if (resolution === null) {\n                cases[k] = true;\n                continue;\n            }\n            // if all the branches ended up back in pruned, we'd loop if we continued\n            // so just bail out- nothing left to discriminate\n            if (resolution.length === this.branches.length)\n                return null;\n            if (this.ordered) {\n                // ensure the original order of the pruned branches is preserved\n                resolution.sort((l, r) => l.originalIndex - r.originalIndex);\n            }\n            const branches = resolution.map(entry => entry.branch);\n            const caseNode = branches.length === 1 ?\n                branches[0]\n                : this.$.node(\"union\", this.ordered ? { branches, ordered: true } : branches);\n            Object.assign(this.referencesById, caseNode.referencesById);\n            cases[k] = caseNode;\n        }\n        if (ctx.defaultEntries.length) {\n            // we don't have to worry about order here as it is always preserved\n            // within defaultEntries\n            const branches = ctx.defaultEntries.map(entry => entry.branch);\n            cases.default = this.$.node(\"union\", this.ordered ? { branches, ordered: true } : branches, {\n                prereduced: true\n            });\n            Object.assign(this.referencesById, cases.default.referencesById);\n        }\n        return Object.assign(ctx.location, {\n            cases\n        });\n    }\n}\nconst createCaseResolutionContext = (orderedCandidates, node) => {\n    const best = orderedCandidates.sort((l, r) => Object.keys(r.cases).length - Object.keys(l.cases).length)[0];\n    const location = {\n        kind: best.kind,\n        path: best.path,\n        optionallyChainedPropString: optionallyChainPropString(best.path)\n    };\n    const defaultEntries = node.branches.map((branch, originalIndex) => ({\n        originalIndex,\n        branch\n    }));\n    return {\n        best,\n        location,\n        defaultEntries,\n        node\n    };\n};\nconst resolveCase = (ctx, key) => {\n    const caseCtx = ctx.best.cases[key];\n    const discriminantNode = discriminantCaseToNode(caseCtx.condition, ctx.location.path, ctx.node.$);\n    let resolvedEntries = [];\n    const nextDefaults = [];\n    for (let i = 0; i < ctx.defaultEntries.length; i++) {\n        const entry = ctx.defaultEntries[i];\n        if (caseCtx.branchIndices.includes(entry.originalIndex)) {\n            const pruned = pruneDiscriminant(ctx.node.branches[entry.originalIndex], ctx.location);\n            if (pruned === null) {\n                // if any branch of the union has no constraints (i.e. is\n                // unknown), the others won't affect the resolution type, but could still\n                // remove additional cases from defaultEntries\n                resolvedEntries = null;\n            }\n            else {\n                resolvedEntries?.push({\n                    originalIndex: entry.originalIndex,\n                    branch: pruned\n                });\n            }\n        }\n        else if (\n        // we shouldn't need a special case for alias to avoid the below\n        // once alias resolution issues are improved:\n        // https://github.com/arktypeio/arktype/issues/1026\n        entry.branch.hasKind(\"alias\") &&\n            discriminantNode.hasKind(\"domain\") &&\n            discriminantNode.domain === \"object\")\n            resolvedEntries?.push(entry);\n        else {\n            if (entry.branch.in.overlaps(discriminantNode)) {\n                // include cases where an object not including the\n                // discriminant path might have that value present as an undeclared key\n                const overlapping = pruneDiscriminant(entry.branch, ctx.location);\n                resolvedEntries?.push({\n                    originalIndex: entry.originalIndex,\n                    branch: overlapping\n                });\n            }\n            nextDefaults.push(entry);\n        }\n    }\n    ctx.defaultEntries = nextDefaults;\n    return resolvedEntries;\n};\nconst orderCandidates = (candidates, originalBranches) => {\n    const viableCandidates = candidates.filter(candidate => {\n        const caseGroups = Object.values(candidate.cases).map(caseCtx => caseCtx.branchIndices);\n        // compare each group against all subsequent groups.\n        for (let i = 0; i < caseGroups.length - 1; i++) {\n            const currentGroup = caseGroups[i];\n            for (let j = i + 1; j < caseGroups.length; j++) {\n                const nextGroup = caseGroups[j];\n                // for each group pair, check for branches whose order was reversed\n                for (const currentIndex of currentGroup) {\n                    for (const nextIndex of nextGroup) {\n                        if (currentIndex > nextIndex) {\n                            if (originalBranches[currentIndex].overlaps(originalBranches[nextIndex])) {\n                                // if the order was not preserved and the branches overlap,\n                                // this is not a viable discriminant as it cannot guarantee the same behavior\n                                return false;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        // branch groups preserved order for non-disjoint pairs and is viable\n        return true;\n    });\n    return viableCandidates;\n};\nconst discriminantCaseToNode = (caseDiscriminant, path, $) => {\n    let node = caseDiscriminant === \"undefined\" ? $.node(\"unit\", { unit: undefined })\n        : caseDiscriminant === \"null\" ? $.node(\"unit\", { unit: null })\n            : caseDiscriminant === \"boolean\" ? $.units([true, false])\n                : caseDiscriminant;\n    for (let i = path.length - 1; i >= 0; i--) {\n        const key = path[i];\n        node = $.node(\"intersection\", typeof key === \"number\" ?\n            {\n                proto: \"Array\",\n                // create unknown for preceding elements (could be optimized with safe imports)\n                sequence: [...range(key).map(_ => ({})), node]\n            }\n            : {\n                domain: \"object\",\n                required: [{ key, value: node }]\n            });\n    }\n    return node;\n};\nconst optionallyChainPropString = (path) => path.reduce((acc, k) => acc + compileLiteralPropAccess(k, true), \"data\");\nconst serializedTypeOfDescriptions = registeredReference(jsTypeOfDescriptions);\nconst serializedPrintable = registeredReference(printable);\nexport const Union = {\n    implementation,\n    Node: UnionNode\n};\nconst discriminantToJson = (discriminant) => ({\n    kind: discriminant.kind,\n    path: discriminant.path.map(k => typeof k === \"string\" ? k : compileSerializedValue(k)),\n    cases: flatMorph(discriminant.cases, (k, node) => [\n        k,\n        node === true ? node\n            : node.hasKind(\"union\") && node.discriminantJson ? node.discriminantJson\n                : node.json\n    ])\n});\nconst describeExpressionOptions = {\n    delimiter: \" | \",\n    finalDelimiter: \" | \"\n};\nconst expressBranches = (expressions) => describeBranches(expressions, describeExpressionOptions);\nexport const describeBranches = (descriptions, opts) => {\n    const delimiter = opts?.delimiter ?? \", \";\n    const finalDelimiter = opts?.finalDelimiter ?? \" or \";\n    if (descriptions.length === 0)\n        return \"never\";\n    if (descriptions.length === 1)\n        return descriptions[0];\n    if ((descriptions.length === 2 &&\n        descriptions[0] === \"false\" &&\n        descriptions[1] === \"true\") ||\n        (descriptions[0] === \"true\" && descriptions[1] === \"false\"))\n        return \"boolean\";\n    // keep track of seen descriptions to avoid duplication\n    const seen = {};\n    const unique = descriptions.filter(s => (seen[s] ? false : (seen[s] = true)));\n    const last = unique.pop();\n    return `${unique.join(delimiter)}${unique.length ? finalDelimiter : \"\"}${last}`;\n};\nexport const intersectBranches = (l, r, ctx) => {\n    // If the corresponding r branch is identified as a subtype of an l branch, the\n    // value at rIndex is set to null so we can avoid including previous/future\n    // intersections in the reduced result.\n    const batchesByR = r.map(() => []);\n    for (let lIndex = 0; lIndex < l.length; lIndex++) {\n        let candidatesByR = {};\n        for (let rIndex = 0; rIndex < r.length; rIndex++) {\n            if (batchesByR[rIndex] === null) {\n                // rBranch is a subtype of an lBranch and\n                // will not yield any distinct intersection\n                continue;\n            }\n            if (l[lIndex].equals(r[rIndex])) {\n                // Combination of subtype and supertype cases\n                batchesByR[rIndex] = null;\n                candidatesByR = {};\n                break;\n            }\n            const branchIntersection = intersectOrPipeNodes(l[lIndex], r[rIndex], ctx);\n            if (branchIntersection instanceof Disjoint) {\n                // Doesn't tell us anything useful about their relationships\n                // with other branches\n                continue;\n            }\n            if (branchIntersection.equals(l[lIndex])) {\n                // If the current l branch is a subtype of r, intersections\n                // with previous and remaining branches of r won't lead to\n                // distinct intersections.\n                batchesByR[rIndex].push(l[lIndex]);\n                candidatesByR = {};\n                break;\n            }\n            if (branchIntersection.equals(r[rIndex])) {\n                // If the current r branch is a subtype of l, set its batch to\n                // null, removing any previous intersections and preventing any\n                // of its remaining intersections from being computed.\n                batchesByR[rIndex] = null;\n            }\n            else {\n                // If neither l nor r is a subtype of the other, add their\n                // intersection as a candidate (could still be removed if it is\n                // determined l or r is a subtype of a remaining branch).\n                candidatesByR[rIndex] = branchIntersection;\n            }\n        }\n        for (const rIndex in candidatesByR) {\n            // batchesByR at rIndex should never be null if it is in candidatesByR\n            batchesByR[rIndex][lIndex] = candidatesByR[rIndex];\n        }\n    }\n    // Compile the reduced intersection result, including:\n    // \t\t1. Remaining candidates resulting from distinct intersections or strict subtypes of r\n    // \t\t2. Original r branches corresponding to indices with a null batch (subtypes of l)\n    const resultBranches = batchesByR.flatMap(\n    // ensure unions returned from branchable intersections like sequence are flattened\n    (batch, i) => batch?.flatMap(branch => branch.branches) ?? r[i]);\n    return resultBranches.length === 0 ?\n        Disjoint.init(\"union\", l, r)\n        : resultBranches;\n};\nexport const reduceBranches = ({ branches, ordered }) => {\n    if (branches.length < 2)\n        return branches;\n    const uniquenessByIndex = branches.map(() => true);\n    for (let i = 0; i < branches.length; i++) {\n        for (let j = i + 1; j < branches.length && uniquenessByIndex[i] && uniquenessByIndex[j]; j++) {\n            if (branches[i].equals(branches[j])) {\n                // if the two branches are equal, only \"j\" is marked as\n                // redundant so at least one copy could still be included in\n                // the final set of branches.\n                uniquenessByIndex[j] = false;\n                continue;\n            }\n            const intersection = intersectNodesRoot(branches[i].in, branches[j].in, branches[0].$);\n            if (intersection instanceof Disjoint)\n                continue;\n            if (!ordered)\n                assertDeterminateOverlap(branches[i], branches[j]);\n            if (intersection.equals(branches[i].in)) {\n                // preserve ordered branches that are a subtype of a subsequent branch\n                uniquenessByIndex[i] = !!ordered;\n            }\n            else if (intersection.equals(branches[j].in))\n                uniquenessByIndex[j] = false;\n        }\n    }\n    return branches.filter((_, i) => uniquenessByIndex[i]);\n};\nconst assertDeterminateOverlap = (l, r) => {\n    if (!l.includesTransform && !r.includesTransform)\n        return;\n    if (!arrayEquals(l.shallowMorphs, r.shallowMorphs)) {\n        throwParseError(writeIndiscriminableMorphMessage(l.expression, r.expression));\n    }\n    if (!arrayEquals(l.flatMorphs, r.flatMorphs, {\n        isEqual: (l, r) => l.propString === r.propString &&\n            (l.node.hasKind(\"morph\") && r.node.hasKind(\"morph\") ?\n                l.node.hasEqualMorphs(r.node)\n                : l.node.hasKind(\"intersection\") && r.node.hasKind(\"intersection\") ?\n                    l.node.structure?.structuralMorphRef ===\n                        r.node.structure?.structuralMorphRef\n                    : false)\n    })) {\n        throwParseError(writeIndiscriminableMorphMessage(l.expression, r.expression));\n    }\n};\nexport const pruneDiscriminant = (discriminantBranch, discriminantCtx) => discriminantBranch.transform((nodeKind, inner) => {\n    if (nodeKind === \"domain\" || nodeKind === \"unit\")\n        return null;\n    return inner;\n}, {\n    shouldTransform: (node, ctx) => {\n        // safe to cast here as index nodes are never discriminants\n        const propString = optionallyChainPropString(ctx.path);\n        if (!discriminantCtx.optionallyChainedPropString.startsWith(propString))\n            return false;\n        if (node.hasKind(\"domain\") && node.domain === \"object\")\n            // if we've already checked a path at least as long as the current one,\n            // we don't need to revalidate that we're in an object\n            return true;\n        if ((node.hasKind(\"domain\") || discriminantCtx.kind === \"unit\") &&\n            propString === discriminantCtx.optionallyChainedPropString)\n            // if the discriminant has already checked the domain at the current path\n            // (or a unit literal, implying a domain), we don't need to recheck it\n            return true;\n        // we don't need to recurse into index nodes as they will never\n        // have a required path therefore can't be used to discriminate\n        return node.children.length !== 0 && node.kind !== \"index\";\n    }\n});\nexport const writeIndiscriminableMorphMessage = (lDescription, rDescription) => `An unordered union of a type including a morph and a type with overlapping input is indeterminate:\nLeft: ${lDescription}\nRight: ${rDescription}`;\nexport const writeOrderedIntersectionMessage = (lDescription, rDescription) => `The intersection of two ordered unions is indeterminate:\nLeft: ${lDescription}\nRight: ${rDescription}`;\n", "import { domainDescriptions, domainOf, printable } from \"@ark/util\";\nimport { Disjoint } from \"../shared/disjoint.js\";\nimport { defaultValueSerializer, implementNode } from \"../shared/implement.js\";\nimport { $ark } from \"../shared/registry.js\";\nimport { InternalBasis } from \"./basis.js\";\nimport { defineRightwardIntersections } from \"./utils.js\";\nconst implementation = implementNode({\n    kind: \"unit\",\n    hasAssociatedError: true,\n    keys: {\n        unit: {\n            preserveUndefined: true,\n            serialize: schema => schema instanceof Date ?\n                schema.toISOString()\n                : defaultValueSerializer(schema)\n        }\n    },\n    normalize: schema => schema,\n    defaults: {\n        description: node => printable(node.unit),\n        problem: ({ expected, actual }) => `${expected === actual ? `must be reference equal to ${expected} (serialized to the same value)` : `must be ${expected} (was ${actual})`}`\n    },\n    intersections: {\n        unit: (l, r) => Disjoint.init(\"unit\", l, r),\n        ...defineRightwardIntersections(\"unit\", (l, r) => {\n            if (r.allows(l.unit))\n                return l;\n            // will always be a disjoint at this point, but we try to use\n            // a domain Disjoint if possible since it's better for discrimination\n            const rBasis = r.hasKind(\"intersection\") ? r.basis : r;\n            if (rBasis) {\n                const rDomain = rBasis.hasKind(\"domain\") ? rBasis : $ark.intrinsic.object;\n                if (l.domain !== rDomain.domain) {\n                    const lDomainDisjointValue = (l.domain === \"undefined\" ||\n                        l.domain === \"null\" ||\n                        l.domain === \"boolean\") ?\n                        l.domain\n                        : $ark.intrinsic[l.domain];\n                    return Disjoint.init(\"domain\", lDomainDisjointValue, rDomain);\n                }\n            }\n            return Disjoint.init(\"assignability\", l, r.hasKind(\"intersection\") ?\n                r.children.find(rConstraint => !rConstraint.allows(l.unit))\n                : r);\n        })\n    }\n});\nexport class UnitNode extends InternalBasis {\n    compiledValue = this.json.unit;\n    serializedValue = typeof this.unit === \"string\" || this.unit instanceof Date ?\n        JSON.stringify(this.compiledValue)\n        : `${this.compiledValue}`;\n    compiledCondition = compileEqualityCheck(this.unit, this.serializedValue);\n    compiledNegation = compileEqualityCheck(this.unit, this.serializedValue, \"negated\");\n    expression = printable(this.unit);\n    domain = domainOf(this.unit);\n    get defaultShortDescription() {\n        return this.domain === \"object\" ?\n            domainDescriptions.object\n            : this.description;\n    }\n    innerToJsonSchema(ctx) {\n        return (\n        // this is the more standard JSON schema representation, especially for Open API\n        this.unit === null ? { type: \"null\" }\n            : $ark.intrinsic.jsonPrimitive.allows(this.unit) ? { const: this.unit }\n                : ctx.fallback.unit({ code: \"unit\", base: {}, unit: this.unit }));\n    }\n    traverseAllows = this.unit instanceof Date ?\n        data => data instanceof Date && data.toISOString() === this.compiledValue\n        : Number.isNaN(this.unit) ? data => Number.isNaN(data)\n            : data => data === this.unit;\n}\nexport const Unit = {\n    implementation,\n    Node: UnitNode\n};\nconst compileEqualityCheck = (unit, serializedValue, negated) => {\n    if (unit instanceof Date) {\n        const condition = `data instanceof Date && data.toISOString() === ${serializedValue}`;\n        return negated ? `!(${condition})` : condition;\n    }\n    if (Number.isNaN(unit))\n        return `${negated ? \"!\" : \"\"}Number.isNaN(data)`;\n    return `data ${negated ? \"!\" : \"=\"}== ${serializedValue}`;\n};\n", "import { append, printable, stringAndSymbolicEntriesOf, throwParseError } from \"@ark/util\";\nimport { BaseConstraint } from \"../constraint.js\";\nimport { flatRef } from \"../node.js\";\nimport { Disjoint } from \"../shared/disjoint.js\";\nimport { implementNode } from \"../shared/implement.js\";\nimport { intersectOrPipeNodes } from \"../shared/intersections.js\";\nimport { $ark } from \"../shared/registry.js\";\nimport { traverseKey } from \"../shared/traversal.js\";\nconst implementation = implementNode({\n    kind: \"index\",\n    hasAssociatedError: false,\n    intersectionIsOpen: true,\n    keys: {\n        signature: {\n            child: true,\n            parse: (schema, ctx) => {\n                const key = ctx.$.parseSchema(schema);\n                if (!key.extends($ark.intrinsic.key)) {\n                    return throwParseError(writeInvalidPropertyKeyMessage(key.expression));\n                }\n                const enumerableBranches = key.branches.filter(b => b.hasKind(\"unit\"));\n                if (enumerableBranches.length) {\n                    return throwParseError(writeEnumerableIndexBranches(enumerableBranches.map(b => printable(b.unit))));\n                }\n                return key;\n            }\n        },\n        value: {\n            child: true,\n            parse: (schema, ctx) => ctx.$.parseSchema(schema)\n        }\n    },\n    normalize: schema => schema,\n    defaults: {\n        description: node => `[${node.signature.expression}]: ${node.value.description}`\n    },\n    intersections: {\n        index: (l, r, ctx) => {\n            if (l.signature.equals(r.signature)) {\n                const valueIntersection = intersectOrPipeNodes(l.value, r.value, ctx);\n                const value = valueIntersection instanceof Disjoint ?\n                    $ark.intrinsic.never.internal\n                    : valueIntersection;\n                return ctx.$.node(\"index\", { signature: l.signature, value });\n            }\n            // if r constrains all of l's keys to a subtype of l's value, r is a subtype of l\n            if (l.signature.extends(r.signature) && l.value.subsumes(r.value))\n                return r;\n            // if l constrains all of r's keys to a subtype of r's value, l is a subtype of r\n            if (r.signature.extends(l.signature) && r.value.subsumes(l.value))\n                return l;\n            // other relationships between index signatures can't be generally reduced\n            return null;\n        }\n    }\n});\nexport class IndexNode extends BaseConstraint {\n    impliedBasis = $ark.intrinsic.object.internal;\n    expression = `[${this.signature.expression}]: ${this.value.expression}`;\n    flatRefs = append(this.value.flatRefs.map(ref => flatRef([this.signature, ...ref.path], ref.node)), flatRef([this.signature], this.value));\n    traverseAllows = (data, ctx) => stringAndSymbolicEntriesOf(data).every(entry => {\n        if (this.signature.traverseAllows(entry[0], ctx)) {\n            return traverseKey(entry[0], () => this.value.traverseAllows(entry[1], ctx), ctx);\n        }\n        return true;\n    });\n    traverseApply = (data, ctx) => {\n        for (const entry of stringAndSymbolicEntriesOf(data)) {\n            if (this.signature.traverseAllows(entry[0], ctx)) {\n                traverseKey(entry[0], () => this.value.traverseApply(entry[1], ctx), ctx);\n            }\n        }\n    };\n    _transform(mapper, ctx) {\n        ctx.path.push(this.signature);\n        const result = super._transform(mapper, ctx);\n        ctx.path.pop();\n        return result;\n    }\n    compile() {\n        // this is currently handled by StructureNode\n    }\n}\nexport const Index = {\n    implementation,\n    Node: IndexNode\n};\nexport const writeEnumerableIndexBranches = (keys) => `Index keys ${keys.join(\", \")} should be specified as named props.`;\nexport const writeInvalidPropertyKeyMessage = (indexSchema) => `Indexed key definition '${indexSchema}' must be a string or symbol`;\n", "import { compileObjectLiteral, implementNode } from \"../shared/implement.js\";\nimport { BaseProp, intersectProps } from \"./prop.js\";\nconst implementation = implementNode({\n    kind: \"required\",\n    hasAssociatedError: true,\n    intersectionIsOpen: true,\n    keys: {\n        key: {},\n        value: {\n            child: true,\n            parse: (schema, ctx) => ctx.$.parseSchema(schema)\n        }\n    },\n    normalize: schema => schema,\n    defaults: {\n        description: node => `${node.compiledKey}: ${node.value.description}`,\n        expected: ctx => ctx.missingValueDescription,\n        actual: () => \"missing\"\n    },\n    intersections: {\n        required: intersectProps,\n        optional: intersectProps\n    }\n});\nexport class RequiredNode extends BaseProp {\n    expression = `${this.compiledKey}: ${this.value.expression}`;\n    errorContext = Object.freeze({\n        code: \"required\",\n        missingValueDescription: this.value.defaultShortDescription,\n        relativePath: [this.key],\n        meta: this.meta\n    });\n    compiledErrorContext = compileObjectLiteral(this.errorContext);\n}\nexport const Required = {\n    implementation,\n    Node: RequiredNode\n};\n", "import { append, conflatenate, printable, throwInternalError, throwParseError } from \"@ark/util\";\nimport { BaseConstraint } from \"../constraint.js\";\nimport { appendUniqueFlatRefs, flatRef } from \"../node.js\";\nimport { Disjoint } from \"../shared/disjoint.js\";\nimport { defaultValueSerializer, implementNode } from \"../shared/implement.js\";\nimport { intersectOrPipeNodes } from \"../shared/intersections.js\";\nimport { $ark, registeredReference } from \"../shared/registry.js\";\nimport { traverseKey } from \"../shared/traversal.js\";\nimport { assertDefaultValueAssignability, computeDefaultValueMorph } from \"./optional.js\";\nimport { writeDefaultIntersectionMessage } from \"./prop.js\";\nconst implementation = implementNode({\n    kind: \"sequence\",\n    hasAssociatedError: false,\n    collapsibleKey: \"variadic\",\n    keys: {\n        prefix: {\n            child: true,\n            parse: (schema, ctx) => {\n                // empty affixes are omitted. an empty array should therefore\n                // be specified as `{ proto: Array, length: 0 }`\n                if (schema.length === 0)\n                    return undefined;\n                return schema.map(element => ctx.$.parseSchema(element));\n            }\n        },\n        optionals: {\n            child: true,\n            parse: (schema, ctx) => {\n                if (schema.length === 0)\n                    return undefined;\n                return schema.map(element => ctx.$.parseSchema(element));\n            }\n        },\n        defaultables: {\n            child: defaultables => defaultables.map(element => element[0]),\n            parse: (defaultables, ctx) => {\n                if (defaultables.length === 0)\n                    return undefined;\n                return defaultables.map(element => {\n                    const node = ctx.$.parseSchema(element[0]);\n                    assertDefaultValueAssignability(node, element[1], null);\n                    return [node, element[1]];\n                });\n            },\n            serialize: defaults => defaults.map(element => [\n                element[0].collapsibleJson,\n                defaultValueSerializer(element[1])\n            ])\n        },\n        variadic: {\n            child: true,\n            parse: (schema, ctx) => ctx.$.parseSchema(schema, ctx)\n        },\n        minVariadicLength: {\n            // minVariadicLength is reflected in the id of this node,\n            // but not its IntersectionNode parent since it is superceded by the minLength\n            // node it implies\n            parse: min => (min === 0 ? undefined : min)\n        },\n        postfix: {\n            child: true,\n            parse: (schema, ctx) => {\n                if (schema.length === 0)\n                    return undefined;\n                return schema.map(element => ctx.$.parseSchema(element));\n            }\n        }\n    },\n    normalize: schema => {\n        if (typeof schema === \"string\")\n            return { variadic: schema };\n        if (\"variadic\" in schema ||\n            \"prefix\" in schema ||\n            \"defaultables\" in schema ||\n            \"optionals\" in schema ||\n            \"postfix\" in schema ||\n            \"minVariadicLength\" in schema) {\n            if (schema.postfix?.length) {\n                if (!schema.variadic)\n                    return throwParseError(postfixWithoutVariadicMessage);\n                if (schema.optionals?.length || schema.defaultables?.length)\n                    return throwParseError(postfixAfterOptionalOrDefaultableMessage);\n            }\n            if (schema.minVariadicLength && !schema.variadic) {\n                return throwParseError(\"minVariadicLength may not be specified without a variadic element\");\n            }\n            return schema;\n        }\n        return { variadic: schema };\n    },\n    reduce: (raw, $) => {\n        let minVariadicLength = raw.minVariadicLength ?? 0;\n        const prefix = raw.prefix?.slice() ?? [];\n        const defaultables = raw.defaultables?.slice() ?? [];\n        const optionals = raw.optionals?.slice() ?? [];\n        const postfix = raw.postfix?.slice() ?? [];\n        if (raw.variadic) {\n            // optional elements equivalent to the variadic parameter are redundant\n            while (optionals.at(-1)?.equals(raw.variadic))\n                optionals.pop();\n            if (optionals.length === 0 && defaultables.length === 0) {\n                // If there are no optional, normalize prefix\n                // elements adjacent and equivalent to variadic:\n                // \t\t{ variadic: number, prefix: [string, number] }\n                // reduces to:\n                // \t\t{ variadic: number, prefix: [string], minVariadicLength: 1 }\n                while (prefix.at(-1)?.equals(raw.variadic)) {\n                    prefix.pop();\n                    minVariadicLength++;\n                }\n            }\n            // Normalize postfix elements adjacent and equivalent to variadic:\n            // \t\t{ variadic: number, postfix: [number, number, 5] }\n            // reduces to:\n            // \t\t{ variadic: number, postfix: [5], minVariadicLength: 2 }\n            while (postfix[0]?.equals(raw.variadic)) {\n                postfix.shift();\n                minVariadicLength++;\n            }\n        }\n        else if (optionals.length === 0 && defaultables.length === 0) {\n            // if there's no variadic, optional or defaultable elements,\n            // postfix can just be appended to prefix\n            prefix.push(...postfix.splice(0));\n        }\n        if (\n        // if any variadic adjacent elements were moved to minVariadicLength\n        minVariadicLength !== raw.minVariadicLength ||\n            // or any postfix elements were moved to prefix\n            (raw.prefix && raw.prefix.length !== prefix.length)) {\n            // reparse the reduced def\n            return $.node(\"sequence\", {\n                ...raw,\n                // empty lists will be omitted during parsing\n                prefix,\n                defaultables,\n                optionals,\n                postfix,\n                minVariadicLength\n            }, { prereduced: true });\n        }\n    },\n    defaults: {\n        description: node => {\n            if (node.isVariadicOnly)\n                return `${node.variadic.nestableExpression}[]`;\n            const innerDescription = node.tuple\n                .map(element => element.kind === \"defaultables\" ?\n                `${element.node.nestableExpression} = ${printable(element.default)}`\n                : element.kind === \"optionals\" ?\n                    `${element.node.nestableExpression}?`\n                    : element.kind === \"variadic\" ?\n                        `...${element.node.nestableExpression}[]`\n                        : element.node.expression)\n                .join(\", \");\n            return `[${innerDescription}]`;\n        }\n    },\n    intersections: {\n        sequence: (l, r, ctx) => {\n            const rootState = _intersectSequences({\n                l: l.tuple,\n                r: r.tuple,\n                disjoint: new Disjoint(),\n                result: [],\n                fixedVariants: [],\n                ctx\n            });\n            const viableBranches = rootState.disjoint.length === 0 ?\n                [rootState, ...rootState.fixedVariants]\n                : rootState.fixedVariants;\n            return (viableBranches.length === 0 ? rootState.disjoint\n                : viableBranches.length === 1 ?\n                    ctx.$.node(\"sequence\", sequenceTupleToInner(viableBranches[0].result))\n                    : ctx.$.node(\"union\", viableBranches.map(state => ({\n                        proto: Array,\n                        sequence: sequenceTupleToInner(state.result)\n                    }))));\n        }\n        // exactLength, minLength, and maxLength don't need to be defined\n        // here since impliedSiblings guarantees they will be added\n        // directly to the IntersectionNode parent of the SequenceNode\n        // they exist on\n    }\n});\nexport class SequenceNode extends BaseConstraint {\n    impliedBasis = $ark.intrinsic.Array.internal;\n    tuple = sequenceInnerToTuple(this.inner);\n    prefixLength = this.prefix?.length ?? 0;\n    defaultablesLength = this.defaultables?.length ?? 0;\n    optionalsLength = this.optionals?.length ?? 0;\n    postfixLength = this.postfix?.length ?? 0;\n    defaultablesAndOptionals = [];\n    prevariadic = this.tuple.filter((el) => {\n        if (el.kind === \"defaultables\" || el.kind === \"optionals\") {\n            // populate defaultablesAndOptionals while filtering prevariadic\n            this.defaultablesAndOptionals.push(el.node);\n            return true;\n        }\n        return el.kind === \"prefix\";\n    });\n    variadicOrPostfix = conflatenate(this.variadic && [this.variadic], this.postfix);\n    // have to wait until prevariadic and variadicOrPostfix are set to calculate\n    flatRefs = this.addFlatRefs();\n    addFlatRefs() {\n        appendUniqueFlatRefs(this.flatRefs, this.prevariadic.flatMap((element, i) => append(element.node.flatRefs.map(ref => flatRef([`${i}`, ...ref.path], ref.node)), flatRef([`${i}`], element.node))));\n        appendUniqueFlatRefs(this.flatRefs, this.variadicOrPostfix.flatMap(element => \n        // a postfix index can't be directly represented as a type\n        // key, so we just use the same matcher for variadic\n        append(element.flatRefs.map(ref => flatRef([$ark.intrinsic.nonNegativeIntegerString.internal, ...ref.path], ref.node)), flatRef([$ark.intrinsic.nonNegativeIntegerString.internal], element))));\n        return this.flatRefs;\n    }\n    isVariadicOnly = this.prevariadic.length + this.postfixLength === 0;\n    minVariadicLength = this.inner.minVariadicLength ?? 0;\n    minLength = this.prefixLength + this.minVariadicLength + this.postfixLength;\n    minLengthNode = this.minLength === 0 ?\n        null\n        // cast is safe here as the only time this would not be a\n        // MinLengthNode would be when minLength is 0\n        : this.$.node(\"minLength\", this.minLength);\n    maxLength = this.variadic ? null : this.tuple.length;\n    maxLengthNode = this.maxLength === null ? null : this.$.node(\"maxLength\", this.maxLength);\n    impliedSiblings = this.minLengthNode ?\n        this.maxLengthNode ?\n            [this.minLengthNode, this.maxLengthNode]\n            : [this.minLengthNode]\n        : this.maxLengthNode ? [this.maxLengthNode]\n            : [];\n    defaultValueMorphs = getDefaultableMorphs(this);\n    defaultValueMorphsReference = this.defaultValueMorphs.length ?\n        registeredReference(this.defaultValueMorphs)\n        : undefined;\n    elementAtIndex(data, index) {\n        if (index < this.prevariadic.length)\n            return this.tuple[index];\n        const firstPostfixIndex = data.length - this.postfixLength;\n        if (index >= firstPostfixIndex)\n            return { kind: \"postfix\", node: this.postfix[index - firstPostfixIndex] };\n        return {\n            kind: \"variadic\",\n            node: this.variadic ??\n                throwInternalError(`Unexpected attempt to access index ${index} on ${this}`)\n        };\n    }\n    // minLength/maxLength should be checked by Intersection before either traversal\n    traverseAllows = (data, ctx) => {\n        for (let i = 0; i < data.length; i++) {\n            if (!this.elementAtIndex(data, i).node.traverseAllows(data[i], ctx))\n                return false;\n        }\n        return true;\n    };\n    traverseApply = (data, ctx) => {\n        let i = 0;\n        for (; i < data.length; i++) {\n            traverseKey(i, () => this.elementAtIndex(data, i).node.traverseApply(data[i], ctx), ctx);\n        }\n    };\n    get element() {\n        return this.cacheGetter(\"element\", this.$.node(\"union\", this.children));\n    }\n    // minLength/maxLength compilation should be handled by Intersection\n    compile(js) {\n        if (this.prefix) {\n            for (const [i, node] of this.prefix.entries())\n                js.traverseKey(`${i}`, `data[${i}]`, node);\n        }\n        for (const [i, node] of this.defaultablesAndOptionals.entries()) {\n            const dataIndex = `${i + this.prefixLength}`;\n            js.if(`${dataIndex} >= ${js.data}.length`, () => js.traversalKind === \"Allows\" ? js.return(true) : js.return());\n            js.traverseKey(dataIndex, `data[${dataIndex}]`, node);\n        }\n        if (this.variadic) {\n            if (this.postfix) {\n                js.const(\"firstPostfixIndex\", `${js.data}.length${this.postfix ? `- ${this.postfix.length}` : \"\"}`);\n            }\n            js.for(`i < ${this.postfix ? \"firstPostfixIndex\" : \"data.length\"}`, () => js.traverseKey(\"i\", \"data[i]\", this.variadic), this.prevariadic.length);\n            if (this.postfix) {\n                for (const [i, node] of this.postfix.entries()) {\n                    const keyExpression = `firstPostfixIndex + ${i}`;\n                    js.traverseKey(keyExpression, `data[${keyExpression}]`, node);\n                }\n            }\n        }\n        if (js.traversalKind === \"Allows\")\n            js.return(true);\n    }\n    _transform(mapper, ctx) {\n        ctx.path.push($ark.intrinsic.nonNegativeIntegerString.internal);\n        const result = super._transform(mapper, ctx);\n        ctx.path.pop();\n        return result;\n    }\n    // this depends on tuple so needs to come after it\n    expression = this.description;\n    reduceJsonSchema(schema, ctx) {\n        if (this.prevariadic.length) {\n            schema.prefixItems = this.prevariadic.map(el => {\n                const valueSchema = el.node.toJsonSchemaRecurse(ctx);\n                if (el.kind === \"defaultables\") {\n                    const value = typeof el.default === \"function\" ? el.default() : el.default;\n                    valueSchema.default =\n                        $ark.intrinsic.jsonData.allows(value) ?\n                            value\n                            : ctx.fallback.defaultValue({\n                                code: \"defaultValue\",\n                                base: valueSchema,\n                                value\n                            });\n                }\n                return valueSchema;\n            });\n        }\n        // by default JSON schema prefixElements are optional\n        // add minLength here if there are any required prefix elements\n        if (this.minLength)\n            schema.minItems = this.minLength;\n        if (this.variadic) {\n            // alias schema for narrowing (Object.assign mutates anyways)\n            const variadicSchema = Object.assign(schema, {\n                items: this.variadic.toJsonSchemaRecurse(ctx)\n            });\n            // maxLength constraint will be enforced by items: false\n            // for non-variadic arrays\n            if (this.maxLength)\n                variadicSchema.maxItems = this.maxLength;\n            // postfix can only be present if variadic is present so nesting this is fine\n            if (this.postfix) {\n                const elements = this.postfix.map(el => el.toJsonSchemaRecurse(ctx));\n                schema = ctx.fallback.arrayPostfix({\n                    code: \"arrayPostfix\",\n                    base: variadicSchema,\n                    elements\n                });\n            }\n        }\n        else {\n            schema.items = false;\n            // delete maxItems constraint that will have been added by the\n            // base intersection node to enforce fixed length\n            delete schema.maxItems;\n        }\n        return schema;\n    }\n}\nconst defaultableMorphsCache = {};\nconst getDefaultableMorphs = (node) => {\n    if (!node.defaultables)\n        return [];\n    const morphs = [];\n    let cacheKey = \"[\";\n    const lastDefaultableIndex = node.prefixLength + node.defaultablesLength - 1;\n    for (let i = node.prefixLength; i <= lastDefaultableIndex; i++) {\n        const [elementNode, defaultValue] = node.defaultables[i - node.prefixLength];\n        morphs.push(computeDefaultValueMorph(i, elementNode, defaultValue));\n        cacheKey += `${i}: ${elementNode.id} = ${defaultValueSerializer(defaultValue)}, `;\n    }\n    cacheKey += \"]\";\n    return (defaultableMorphsCache[cacheKey] ??= morphs);\n};\nexport const Sequence = {\n    implementation,\n    Node: SequenceNode\n};\nconst sequenceInnerToTuple = (inner) => {\n    const tuple = [];\n    if (inner.prefix)\n        for (const node of inner.prefix)\n            tuple.push({ kind: \"prefix\", node });\n    if (inner.defaultables) {\n        for (const [node, defaultValue] of inner.defaultables)\n            tuple.push({ kind: \"defaultables\", node, default: defaultValue });\n    }\n    if (inner.optionals)\n        for (const node of inner.optionals)\n            tuple.push({ kind: \"optionals\", node });\n    if (inner.variadic)\n        tuple.push({ kind: \"variadic\", node: inner.variadic });\n    if (inner.postfix)\n        for (const node of inner.postfix)\n            tuple.push({ kind: \"postfix\", node });\n    return tuple;\n};\nconst sequenceTupleToInner = (tuple) => tuple.reduce((result, element) => {\n    if (element.kind === \"variadic\")\n        result.variadic = element.node;\n    else if (element.kind === \"defaultables\") {\n        result.defaultables = append(result.defaultables, [\n            [element.node, element.default]\n        ]);\n    }\n    else\n        result[element.kind] = append(result[element.kind], element.node);\n    return result;\n}, {});\nexport const postfixAfterOptionalOrDefaultableMessage = \"A postfix required element cannot follow an optional or defaultable element\";\nexport const postfixWithoutVariadicMessage = \"A postfix element requires a variadic element\";\nconst _intersectSequences = (s) => {\n    const [lHead, ...lTail] = s.l;\n    const [rHead, ...rTail] = s.r;\n    if (!lHead || !rHead)\n        return s;\n    const lHasPostfix = lTail.at(-1)?.kind === \"postfix\";\n    const rHasPostfix = rTail.at(-1)?.kind === \"postfix\";\n    const kind = lHead.kind === \"prefix\" || rHead.kind === \"prefix\" ? \"prefix\"\n        : lHead.kind === \"postfix\" || rHead.kind === \"postfix\" ? \"postfix\"\n            : lHead.kind === \"variadic\" && rHead.kind === \"variadic\" ? \"variadic\"\n                // if either operand has postfix elements, the full-length\n                // intersection can't include optional elements (though they may\n                // exist in some of the fixed length variants)\n                : lHasPostfix || rHasPostfix ? \"prefix\"\n                    : lHead.kind === \"defaultables\" || rHead.kind === \"defaultables\" ?\n                        \"defaultables\"\n                        : \"optionals\";\n    if (lHead.kind === \"prefix\" && rHead.kind === \"variadic\" && rHasPostfix) {\n        const postfixBranchResult = _intersectSequences({\n            ...s,\n            fixedVariants: [],\n            r: rTail.map(element => ({ ...element, kind: \"prefix\" }))\n        });\n        if (postfixBranchResult.disjoint.length === 0)\n            s.fixedVariants.push(postfixBranchResult);\n    }\n    else if (rHead.kind === \"prefix\" &&\n        lHead.kind === \"variadic\" &&\n        lHasPostfix) {\n        const postfixBranchResult = _intersectSequences({\n            ...s,\n            fixedVariants: [],\n            l: lTail.map(element => ({ ...element, kind: \"prefix\" }))\n        });\n        if (postfixBranchResult.disjoint.length === 0)\n            s.fixedVariants.push(postfixBranchResult);\n    }\n    const result = intersectOrPipeNodes(lHead.node, rHead.node, s.ctx);\n    if (result instanceof Disjoint) {\n        if (kind === \"prefix\" || kind === \"postfix\") {\n            s.disjoint.push(...result.withPrefixKey(\n            // ideally we could handle disjoint paths more precisely here,\n            // but not trivial to serialize postfix elements as keys\n            kind === \"prefix\" ? s.result.length : `-${lTail.length + 1}`, \"required\"));\n            s.result = [...s.result, { kind, node: $ark.intrinsic.never.internal }];\n        }\n        else if (kind === \"optionals\" || kind === \"defaultables\") {\n            // if the element result is optional and unsatisfiable, the\n            // intersection can still be satisfied as long as the tuple\n            // ends before the disjoint element would occur\n            return s;\n        }\n        else {\n            // if the element is variadic and unsatisfiable, the intersection\n            // can be satisfied with a fixed length variant including zero\n            // variadic elements\n            return _intersectSequences({\n                ...s,\n                fixedVariants: [],\n                // if there were any optional elements, there will be no postfix elements\n                // so this mapping will never occur (which would be illegal otherwise)\n                l: lTail.map(element => ({ ...element, kind: \"prefix\" })),\n                r: lTail.map(element => ({ ...element, kind: \"prefix\" }))\n            });\n        }\n    }\n    else if (kind === \"defaultables\") {\n        if (lHead.kind === \"defaultables\" &&\n            rHead.kind === \"defaultables\" &&\n            lHead.default !== rHead.default) {\n            throwParseError(writeDefaultIntersectionMessage(lHead.default, rHead.default));\n        }\n        s.result = [\n            ...s.result,\n            {\n                kind,\n                node: result,\n                default: lHead.kind === \"defaultables\" ? lHead.default\n                    : rHead.kind === \"defaultables\" ? rHead.default\n                        : throwInternalError(`Unexpected defaultable intersection from ${lHead.kind} and ${rHead.kind} elements.`)\n            }\n        ];\n    }\n    else\n        s.result = [...s.result, { kind, node: result }];\n    const lRemaining = s.l.length;\n    const rRemaining = s.r.length;\n    if (lHead.kind !== \"variadic\" ||\n        (lRemaining >= rRemaining &&\n            (rHead.kind === \"variadic\" || rRemaining === 1)))\n        s.l = lTail;\n    if (rHead.kind !== \"variadic\" ||\n        (rRemaining >= lRemaining &&\n            (lHead.kind === \"variadic\" || lRemaining === 1)))\n        s.r = rTail;\n    return _intersectSequences(s);\n};\n", "import { append, conflatenate, flatMorph, printable, spliterate, throwInternalError, throwParseError } from \"@ark/util\";\nimport { BaseConstraint, constraintKeyParser, flattenConstraints, intersectConstraints } from \"../constraint.js\";\nimport { intrinsic } from \"../intrinsic.js\";\nimport { typeOrTermExtends } from \"../roots/root.js\";\nimport { Disjoint } from \"../shared/disjoint.js\";\nimport { implementNode } from \"../shared/implement.js\";\nimport { intersectNodesRoot } from \"../shared/intersections.js\";\nimport { $ark, registeredReference } from \"../shared/registry.js\";\nimport { ToJsonSchema } from \"../shared/toJsonSchema.js\";\nimport { traverseKey } from \"../shared/traversal.js\";\nimport { hasArkKind, isNode, makeRootAndArrayPropertiesMutable } from \"../shared/utils.js\";\nimport { Optional } from \"./optional.js\";\nconst createStructuralWriter = (childStringProp) => (node) => {\n    if (node.props.length || node.index) {\n        const parts = node.index?.map(index => index[childStringProp]) ?? [];\n        for (const prop of node.props)\n            parts.push(prop[childStringProp]);\n        if (node.undeclared)\n            parts.push(`+ (undeclared): ${node.undeclared}`);\n        const objectLiteralDescription = `{ ${parts.join(\", \")} }`;\n        return node.sequence ?\n            `${objectLiteralDescription} & ${node.sequence.description}`\n            : objectLiteralDescription;\n    }\n    return node.sequence?.description ?? \"{}\";\n};\nconst structuralDescription = createStructuralWriter(\"description\");\nconst structuralExpression = createStructuralWriter(\"expression\");\nconst intersectPropsAndIndex = (l, r, $) => {\n    const kind = l.required ? \"required\" : \"optional\";\n    if (!r.signature.allows(l.key))\n        return null;\n    const value = intersectNodesRoot(l.value, r.value, $);\n    if (value instanceof Disjoint) {\n        return kind === \"optional\" ?\n            $.node(\"optional\", {\n                key: l.key,\n                value: $ark.intrinsic.never.internal\n            })\n            : value.withPrefixKey(l.key, l.kind);\n    }\n    return null;\n};\nconst implementation = implementNode({\n    kind: \"structure\",\n    hasAssociatedError: false,\n    normalize: schema => schema,\n    applyConfig: (schema, config) => {\n        if (!schema.undeclared && config.onUndeclaredKey !== \"ignore\") {\n            return {\n                ...schema,\n                undeclared: config.onUndeclaredKey\n            };\n        }\n        return schema;\n    },\n    keys: {\n        required: {\n            child: true,\n            parse: constraintKeyParser(\"required\"),\n            reduceIo: (ioKind, inner, nodes) => {\n                // ensure we don't overwrite nodes added by optional\n                inner.required = append(inner.required, nodes.map(node => node[ioKind]));\n                return;\n            }\n        },\n        optional: {\n            child: true,\n            parse: constraintKeyParser(\"optional\"),\n            reduceIo: (ioKind, inner, nodes) => {\n                if (ioKind === \"in\") {\n                    inner.optional = nodes.map(node => node.in);\n                    return;\n                }\n                for (const node of nodes) {\n                    inner[node.outProp.kind] = append(inner[node.outProp.kind], node.outProp.out);\n                }\n            }\n        },\n        index: {\n            child: true,\n            parse: constraintKeyParser(\"index\")\n        },\n        sequence: {\n            child: true,\n            parse: constraintKeyParser(\"sequence\")\n        },\n        undeclared: {\n            parse: behavior => (behavior === \"ignore\" ? undefined : behavior),\n            reduceIo: (ioKind, inner, value) => {\n                if (value !== \"delete\")\n                    return;\n                // if base is \"delete\", undeclared keys are \"ignore\" (i.e. unconstrained)\n                // on input and \"reject\" on output\n                if (ioKind === \"in\")\n                    delete inner.undeclared;\n                else\n                    inner.undeclared = \"reject\";\n            }\n        }\n    },\n    defaults: {\n        description: structuralDescription\n    },\n    intersections: {\n        structure: (l, r, ctx) => {\n            const lInner = { ...l.inner };\n            const rInner = { ...r.inner };\n            const disjointResult = new Disjoint();\n            if (l.undeclared) {\n                const lKey = l.keyof();\n                for (const k of r.requiredKeys) {\n                    if (!lKey.allows(k)) {\n                        disjointResult.add(\"presence\", $ark.intrinsic.never.internal, r.propsByKey[k].value, {\n                            path: [k]\n                        });\n                    }\n                }\n                if (rInner.optional)\n                    rInner.optional = rInner.optional.filter(n => lKey.allows(n.key));\n                if (rInner.index) {\n                    rInner.index = rInner.index.flatMap(n => {\n                        if (n.signature.extends(lKey))\n                            return n;\n                        const indexOverlap = intersectNodesRoot(lKey, n.signature, ctx.$);\n                        if (indexOverlap instanceof Disjoint)\n                            return [];\n                        const normalized = normalizeIndex(indexOverlap, n.value, ctx.$);\n                        if (normalized.required) {\n                            rInner.required = conflatenate(rInner.required, normalized.required);\n                        }\n                        if (normalized.optional) {\n                            rInner.optional = conflatenate(rInner.optional, normalized.optional);\n                        }\n                        return normalized.index ?? [];\n                    });\n                }\n            }\n            if (r.undeclared) {\n                const rKey = r.keyof();\n                for (const k of l.requiredKeys) {\n                    if (!rKey.allows(k)) {\n                        disjointResult.add(\"presence\", l.propsByKey[k].value, $ark.intrinsic.never.internal, {\n                            path: [k]\n                        });\n                    }\n                }\n                if (lInner.optional)\n                    lInner.optional = lInner.optional.filter(n => rKey.allows(n.key));\n                if (lInner.index) {\n                    lInner.index = lInner.index.flatMap(n => {\n                        if (n.signature.extends(rKey))\n                            return n;\n                        const indexOverlap = intersectNodesRoot(rKey, n.signature, ctx.$);\n                        if (indexOverlap instanceof Disjoint)\n                            return [];\n                        const normalized = normalizeIndex(indexOverlap, n.value, ctx.$);\n                        if (normalized.required) {\n                            lInner.required = conflatenate(lInner.required, normalized.required);\n                        }\n                        if (normalized.optional) {\n                            lInner.optional = conflatenate(lInner.optional, normalized.optional);\n                        }\n                        return normalized.index ?? [];\n                    });\n                }\n            }\n            const baseInner = {};\n            if (l.undeclared || r.undeclared) {\n                baseInner.undeclared =\n                    l.undeclared === \"reject\" || r.undeclared === \"reject\" ?\n                        \"reject\"\n                        : \"delete\";\n            }\n            const childIntersectionResult = intersectConstraints({\n                kind: \"structure\",\n                baseInner,\n                l: flattenConstraints(lInner),\n                r: flattenConstraints(rInner),\n                roots: [],\n                ctx\n            });\n            if (childIntersectionResult instanceof Disjoint)\n                disjointResult.push(...childIntersectionResult);\n            if (disjointResult.length)\n                return disjointResult;\n            return childIntersectionResult;\n        }\n    },\n    reduce: (inner, $) => {\n        if (inner.index) {\n            if (!(inner.required || inner.optional))\n                return;\n            let updated = false;\n            const requiredProps = inner.required ?? [];\n            const optionalProps = inner.optional ?? [];\n            const newOptionalProps = [...optionalProps];\n            for (const index of inner.index) {\n                for (const requiredProp of requiredProps) {\n                    const intersection = intersectPropsAndIndex(requiredProp, index, $);\n                    if (intersection instanceof Disjoint)\n                        return intersection;\n                }\n                for (const [indx, optionalProp] of optionalProps.entries()) {\n                    const intersection = intersectPropsAndIndex(optionalProp, index, $);\n                    if (intersection instanceof Disjoint)\n                        return intersection;\n                    if (intersection === null)\n                        continue;\n                    newOptionalProps[indx] = intersection;\n                    updated = true;\n                }\n            }\n            if (updated) {\n                return $.node(\"structure\", { ...inner, optional: newOptionalProps }, { prereduced: true });\n            }\n        }\n    }\n});\nexport class StructureNode extends BaseConstraint {\n    impliedBasis = $ark.intrinsic.object.internal;\n    impliedSiblings = this.children.flatMap(n => n.impliedSiblings ?? []);\n    props = conflatenate(this.required, this.optional);\n    propsByKey = flatMorph(this.props, (i, node) => [node.key, node]);\n    propsByKeyReference = registeredReference(this.propsByKey);\n    expression = structuralExpression(this);\n    requiredKeys = this.required?.map(node => node.key) ?? [];\n    optionalKeys = this.optional?.map(node => node.key) ?? [];\n    literalKeys = [...this.requiredKeys, ...this.optionalKeys];\n    _keyof;\n    keyof() {\n        if (this._keyof)\n            return this._keyof;\n        let branches = this.$.units(this.literalKeys).branches;\n        if (this.index) {\n            for (const { signature } of this.index)\n                branches = branches.concat(signature.branches);\n        }\n        return (this._keyof = this.$.node(\"union\", branches));\n    }\n    map(flatMapProp) {\n        return this.$.node(\"structure\", this.props\n            .flatMap(flatMapProp)\n            .reduce((structureInner, mapped) => {\n            const originalProp = this.propsByKey[mapped.key];\n            if (isNode(mapped)) {\n                if (mapped.kind !== \"required\" && mapped.kind !== \"optional\") {\n                    return throwParseError(`Map result must have kind \"required\" or \"optional\" (was ${mapped.kind})`);\n                }\n                structureInner[mapped.kind] = append(structureInner[mapped.kind], mapped);\n                return structureInner;\n            }\n            const mappedKind = mapped.kind ?? originalProp?.kind ?? \"required\";\n            // extract the inner keys from the map result in case a node was spread,\n            // which would otherwise lead to invalid keys\n            const mappedPropInner = flatMorph(mapped, (k, v) => (k in Optional.implementation.keys ? [k, v] : []));\n            structureInner[mappedKind] = append(structureInner[mappedKind], this.$.node(mappedKind, mappedPropInner));\n            return structureInner;\n        }, {}));\n    }\n    assertHasKeys(keys) {\n        const invalidKeys = keys.filter(k => !typeOrTermExtends(k, this.keyof()));\n        if (invalidKeys.length) {\n            return throwParseError(writeInvalidKeysMessage(this.expression, invalidKeys));\n        }\n    }\n    get(indexer, ...path) {\n        let value;\n        let required = false;\n        const key = indexerToKey(indexer);\n        if ((typeof key === \"string\" || typeof key === \"symbol\") &&\n            this.propsByKey[key]) {\n            value = this.propsByKey[key].value;\n            required = this.propsByKey[key].required;\n        }\n        if (this.index) {\n            for (const n of this.index) {\n                if (typeOrTermExtends(key, n.signature))\n                    value = value?.and(n.value) ?? n.value;\n            }\n        }\n        if (this.sequence &&\n            typeOrTermExtends(key, $ark.intrinsic.nonNegativeIntegerString)) {\n            if (hasArkKind(key, \"root\")) {\n                if (this.sequence.variadic)\n                    // if there is a variadic element and we're accessing an index, return a union\n                    // of all possible elements. If there is no variadic expression, we're in a tuple\n                    // so this access wouldn't be safe based on the array indices\n                    value = value?.and(this.sequence.element) ?? this.sequence.element;\n            }\n            else {\n                const index = Number.parseInt(key);\n                if (index < this.sequence.prevariadic.length) {\n                    const fixedElement = this.sequence.prevariadic[index].node;\n                    value = value?.and(fixedElement) ?? fixedElement;\n                    required ||= index < this.sequence.prefixLength;\n                }\n                else if (this.sequence.variadic) {\n                    // ideally we could return something more specific for postfix\n                    // but there is no way to represent it using an index alone\n                    const nonFixedElement = this.$.node(\"union\", this.sequence.variadicOrPostfix);\n                    value = value?.and(nonFixedElement) ?? nonFixedElement;\n                }\n            }\n        }\n        if (!value) {\n            if (this.sequence?.variadic &&\n                hasArkKind(key, \"root\") &&\n                key.extends($ark.intrinsic.number)) {\n                return throwParseError(writeNumberIndexMessage(key.expression, this.sequence.expression));\n            }\n            return throwParseError(writeInvalidKeysMessage(this.expression, [key]));\n        }\n        const result = value.get(...path);\n        return required ? result : result.or($ark.intrinsic.undefined);\n    }\n    pick(...keys) {\n        this.assertHasKeys(keys);\n        return this.$.node(\"structure\", this.filterKeys(\"pick\", keys));\n    }\n    omit(...keys) {\n        this.assertHasKeys(keys);\n        return this.$.node(\"structure\", this.filterKeys(\"omit\", keys));\n    }\n    optionalize() {\n        const { required, ...inner } = this.inner;\n        return this.$.node(\"structure\", {\n            ...inner,\n            optional: this.props.map(prop => prop.hasKind(\"required\") ? this.$.node(\"optional\", prop.inner) : prop)\n        });\n    }\n    require() {\n        const { optional, ...inner } = this.inner;\n        return this.$.node(\"structure\", {\n            ...inner,\n            required: this.props.map(prop => prop.hasKind(\"optional\") ?\n                {\n                    key: prop.key,\n                    value: prop.value\n                }\n                : prop)\n        });\n    }\n    merge(r) {\n        const inner = this.filterKeys(\"omit\", [r.keyof()]);\n        if (r.required)\n            inner.required = append(inner.required, r.required);\n        if (r.optional)\n            inner.optional = append(inner.optional, r.optional);\n        if (r.index)\n            inner.index = append(inner.index, r.index);\n        if (r.sequence)\n            inner.sequence = r.sequence;\n        if (r.undeclared)\n            inner.undeclared = r.undeclared;\n        else\n            delete inner.undeclared;\n        return this.$.node(\"structure\", inner);\n    }\n    filterKeys(operation, keys) {\n        const result = makeRootAndArrayPropertiesMutable(this.inner);\n        const shouldKeep = (key) => {\n            const matchesKey = keys.some(k => typeOrTermExtends(key, k));\n            return operation === \"pick\" ? matchesKey : !matchesKey;\n        };\n        if (result.required)\n            result.required = result.required.filter(prop => shouldKeep(prop.key));\n        if (result.optional)\n            result.optional = result.optional.filter(prop => shouldKeep(prop.key));\n        if (result.index)\n            result.index = result.index.filter(index => shouldKeep(index.signature));\n        return result;\n    }\n    traverseAllows = (data, ctx) => this._traverse(\"Allows\", data, ctx);\n    traverseApply = (data, ctx) => this._traverse(\"Apply\", data, ctx);\n    _traverse = (traversalKind, data, ctx) => {\n        const errorCount = ctx?.currentErrorCount ?? 0;\n        for (let i = 0; i < this.props.length; i++) {\n            if (traversalKind === \"Allows\") {\n                if (!this.props[i].traverseAllows(data, ctx))\n                    return false;\n            }\n            else {\n                this.props[i].traverseApply(data, ctx);\n                if (ctx.failFast && ctx.currentErrorCount > errorCount)\n                    return false;\n            }\n        }\n        if (this.sequence) {\n            if (traversalKind === \"Allows\") {\n                if (!this.sequence.traverseAllows(data, ctx))\n                    return false;\n            }\n            else {\n                this.sequence.traverseApply(data, ctx);\n                if (ctx.failFast && ctx.currentErrorCount > errorCount)\n                    return false;\n            }\n        }\n        if (this.index || this.undeclared === \"reject\") {\n            const keys = Object.keys(data);\n            keys.push(...Object.getOwnPropertySymbols(data));\n            for (let i = 0; i < keys.length; i++) {\n                const k = keys[i];\n                if (this.index) {\n                    for (const node of this.index) {\n                        if (node.signature.traverseAllows(k, ctx)) {\n                            if (traversalKind === \"Allows\") {\n                                const result = traverseKey(k, () => node.value.traverseAllows(data[k], ctx), ctx);\n                                if (!result)\n                                    return false;\n                            }\n                            else {\n                                traverseKey(k, () => node.value.traverseApply(data[k], ctx), ctx);\n                                if (ctx.failFast && ctx.currentErrorCount > errorCount)\n                                    return false;\n                            }\n                        }\n                    }\n                }\n                if (this.undeclared === \"reject\" && !this.declaresKey(k)) {\n                    if (traversalKind === \"Allows\")\n                        return false;\n                    // this should have its own error code:\n                    // https://github.com/arktypeio/arktype/issues/1403\n                    ctx.errorFromNodeContext({\n                        code: \"predicate\",\n                        expected: \"removed\",\n                        actual: \"\",\n                        relativePath: [k],\n                        meta: this.meta\n                    });\n                    if (ctx.failFast)\n                        return false;\n                }\n            }\n        }\n        // added additional ctx check here to address\n        // https://github.com/arktypeio/arktype/issues/1346\n        if (this.structuralMorph && ctx && !ctx.hasError())\n            ctx.queueMorphs([this.structuralMorph]);\n        return true;\n    };\n    get defaultable() {\n        return this.cacheGetter(\"defaultable\", this.optional?.filter(o => o.hasDefault()) ?? []);\n    }\n    declaresKey = (k) => k in this.propsByKey ||\n        this.index?.some(n => n.signature.allows(k)) ||\n        (this.sequence !== undefined &&\n            $ark.intrinsic.nonNegativeIntegerString.allows(k));\n    _compileDeclaresKey(js) {\n        const parts = [];\n        if (this.props.length)\n            parts.push(`k in ${this.propsByKeyReference}`);\n        if (this.index) {\n            for (const index of this.index)\n                parts.push(js.invoke(index.signature, { kind: \"Allows\", arg: \"k\" }));\n        }\n        if (this.sequence)\n            parts.push(\"$ark.intrinsic.nonNegativeIntegerString.allows(k)\");\n        // if parts is empty, this is a structure like { \"+\": \"reject\" }\n        // that declares no keys, so return false\n        return parts.join(\" || \") || \"false\";\n    }\n    get structuralMorph() {\n        return this.cacheGetter(\"structuralMorph\", getPossibleMorph(this));\n    }\n    structuralMorphRef = this.structuralMorph && registeredReference(this.structuralMorph);\n    compile(js) {\n        if (js.traversalKind === \"Apply\")\n            js.initializeErrorCount();\n        for (const prop of this.props) {\n            js.check(prop);\n            if (js.traversalKind === \"Apply\")\n                js.returnIfFailFast();\n        }\n        if (this.sequence) {\n            js.check(this.sequence);\n            if (js.traversalKind === \"Apply\")\n                js.returnIfFailFast();\n        }\n        if (this.index || this.undeclared === \"reject\") {\n            js.const(\"keys\", \"Object.keys(data)\");\n            js.line(\"keys.push(...Object.getOwnPropertySymbols(data))\");\n            js.for(\"i < keys.length\", () => this.compileExhaustiveEntry(js));\n        }\n        if (js.traversalKind === \"Allows\")\n            return js.return(true);\n        // always queue deleteUndeclared on valid traversal for \"delete\"\n        if (this.structuralMorphRef) {\n            // added additional ctx check here to address\n            // https://github.com/arktypeio/arktype/issues/1346\n            js.if(\"ctx && !ctx.hasError()\", () => {\n                js.line(`ctx.queueMorphs([`);\n                precompileMorphs(js, this);\n                return js.line(\"])\");\n            });\n        }\n    }\n    compileExhaustiveEntry(js) {\n        js.const(\"k\", \"keys[i]\");\n        if (this.index) {\n            for (const node of this.index) {\n                js.if(`${js.invoke(node.signature, { arg: \"k\", kind: \"Allows\" })}`, () => js.traverseKey(\"k\", \"data[k]\", node.value));\n            }\n        }\n        if (this.undeclared === \"reject\") {\n            js.if(`!(${this._compileDeclaresKey(js)})`, () => {\n                if (js.traversalKind === \"Allows\")\n                    return js.return(false);\n                return js\n                    .line(`ctx.errorFromNodeContext({ code: \"predicate\", expected: \"removed\", actual: \"\", relativePath: [k], meta: ${this.compiledMeta} })`)\n                    .if(\"ctx.failFast\", () => js.return());\n            });\n        }\n        return js;\n    }\n    reduceJsonSchema(schema, ctx) {\n        switch (schema.type) {\n            case \"object\":\n                return this.reduceObjectJsonSchema(schema, ctx);\n            case \"array\":\n                const arraySchema = this.sequence?.reduceJsonSchema(schema, ctx) ?? schema;\n                if (this.props.length || this.index) {\n                    return ctx.fallback.arrayObject({\n                        code: \"arrayObject\",\n                        base: arraySchema,\n                        object: this.reduceObjectJsonSchema({ type: \"object\" }, ctx)\n                    });\n                }\n                return arraySchema;\n            default:\n                return ToJsonSchema.throwInternalOperandError(\"structure\", schema);\n        }\n    }\n    reduceObjectJsonSchema(schema, ctx) {\n        if (this.props.length) {\n            schema.properties = {};\n            for (const prop of this.props) {\n                const valueSchema = prop.value.toJsonSchemaRecurse(ctx);\n                if (typeof prop.key === \"symbol\") {\n                    ctx.fallback.symbolKey({\n                        code: \"symbolKey\",\n                        base: schema,\n                        key: prop.key,\n                        value: valueSchema,\n                        optional: prop.optional\n                    });\n                    continue;\n                }\n                if (prop.hasDefault()) {\n                    const value = typeof prop.default === \"function\" ? prop.default() : prop.default;\n                    valueSchema.default =\n                        $ark.intrinsic.jsonData.allows(value) ?\n                            value\n                            : ctx.fallback.defaultValue({\n                                code: \"defaultValue\",\n                                base: valueSchema,\n                                value\n                            });\n                }\n                schema.properties[prop.key] = valueSchema;\n            }\n            if (this.requiredKeys.length && schema.properties) {\n                schema.required = this.requiredKeys.filter((k) => typeof k === \"string\" && k in schema.properties);\n            }\n        }\n        if (this.index) {\n            for (const index of this.index) {\n                const valueJsonSchema = index.value.toJsonSchemaRecurse(ctx);\n                if (index.signature.equals($ark.intrinsic.string)) {\n                    schema.additionalProperties = valueJsonSchema;\n                    continue;\n                }\n                for (const keyBranch of index.signature.branches) {\n                    if (!keyBranch.extends($ark.intrinsic.string)) {\n                        schema = ctx.fallback.symbolKey({\n                            code: \"symbolKey\",\n                            base: schema,\n                            key: null,\n                            value: valueJsonSchema,\n                            optional: false\n                        });\n                        continue;\n                    }\n                    let keySchema = { type: \"string\" };\n                    if (keyBranch.hasKind(\"morph\")) {\n                        keySchema = ctx.fallback.morph({\n                            code: \"morph\",\n                            base: keyBranch.in.toJsonSchemaRecurse(ctx),\n                            out: keyBranch.out.toJsonSchemaRecurse(ctx)\n                        });\n                    }\n                    if (!keyBranch.hasKind(\"intersection\")) {\n                        return throwInternalError(`Unexpected index branch kind ${keyBranch.kind}.`);\n                    }\n                    const { pattern } = keyBranch.inner;\n                    if (pattern) {\n                        const keySchemaWithPattern = Object.assign(keySchema, {\n                            pattern: pattern[0].rule\n                        });\n                        for (let i = 1; i < pattern.length; i++) {\n                            keySchema = ctx.fallback.patternIntersection({\n                                code: \"patternIntersection\",\n                                base: keySchemaWithPattern,\n                                pattern: pattern[i].rule\n                            });\n                        }\n                        schema.patternProperties ??= {};\n                        schema.patternProperties[keySchemaWithPattern.pattern] =\n                            valueJsonSchema;\n                    }\n                }\n            }\n        }\n        if (this.undeclared && !schema.additionalProperties)\n            schema.additionalProperties = false;\n        return schema;\n    }\n}\nconst defaultableMorphsCache = {};\nconst constructStructuralMorphCacheKey = (node) => {\n    let cacheKey = \"\";\n    for (let i = 0; i < node.defaultable.length; i++)\n        cacheKey += node.defaultable[i].defaultValueMorphRef;\n    if (node.sequence?.defaultValueMorphsReference)\n        cacheKey += node.sequence?.defaultValueMorphsReference;\n    if (node.undeclared === \"delete\") {\n        cacheKey += \"delete !(\";\n        if (node.required)\n            for (const n of node.required)\n                cacheKey += n.compiledKey + \" | \";\n        if (node.optional)\n            for (const n of node.optional)\n                cacheKey += n.compiledKey + \" | \";\n        if (node.index)\n            for (const index of node.index)\n                cacheKey += index.signature.id + \" | \";\n        if (node.sequence) {\n            if (node.sequence.maxLength === null)\n                cacheKey += intrinsic.nonNegativeIntegerString.id;\n            else {\n                for (let i = 0; i < node.sequence.tuple.length; i++)\n                    cacheKey += i + \" | \";\n            }\n        }\n        cacheKey += \")\";\n    }\n    return cacheKey;\n};\nconst getPossibleMorph = (node) => {\n    const cacheKey = constructStructuralMorphCacheKey(node);\n    if (!cacheKey)\n        return undefined;\n    if (defaultableMorphsCache[cacheKey])\n        return defaultableMorphsCache[cacheKey];\n    const $arkStructuralMorph = (data, ctx) => {\n        for (let i = 0; i < node.defaultable.length; i++) {\n            if (!(node.defaultable[i].key in data))\n                node.defaultable[i].defaultValueMorph(data, ctx);\n        }\n        if (node.sequence?.defaultables) {\n            for (let i = data.length - node.sequence.prefixLength; i < node.sequence.defaultables.length; i++)\n                node.sequence.defaultValueMorphs[i](data, ctx);\n        }\n        if (node.undeclared === \"delete\")\n            for (const k in data)\n                if (!node.declaresKey(k))\n                    delete data[k];\n        return data;\n    };\n    return (defaultableMorphsCache[cacheKey] = $arkStructuralMorph);\n};\nconst precompileMorphs = (js, node) => {\n    const requiresContext = node.defaultable.some(node => node.defaultValueMorph.length === 2) ||\n        node.sequence?.defaultValueMorphs.some(morph => morph.length === 2);\n    const args = `(data${requiresContext ? \", ctx\" : \"\"})`;\n    return js.block(`${args} => `, js => {\n        for (let i = 0; i < node.defaultable.length; i++) {\n            const { serializedKey, defaultValueMorphRef } = node.defaultable[i];\n            js.if(`!(${serializedKey} in data)`, js => js.line(`${defaultValueMorphRef}${args}`));\n        }\n        if (node.sequence?.defaultables) {\n            js.for(`i < ${node.sequence.defaultables.length}`, js => js.set(`data[i]`, 5), `data.length - ${node.sequence.prefixLength}`);\n        }\n        if (node.undeclared === \"delete\") {\n            js.forIn(\"data\", js => js.if(`!(${node._compileDeclaresKey(js)})`, js => js.line(`delete data[k]`)));\n        }\n        return js.return(\"data\");\n    });\n};\nexport const Structure = {\n    implementation,\n    Node: StructureNode\n};\nconst indexerToKey = (indexable) => {\n    if (hasArkKind(indexable, \"root\") && indexable.hasKind(\"unit\"))\n        indexable = indexable.unit;\n    if (typeof indexable === \"number\")\n        indexable = `${indexable}`;\n    return indexable;\n};\nexport const writeNumberIndexMessage = (indexExpression, sequenceExpression) => `${indexExpression} is not allowed as an array index on ${sequenceExpression}. Use the 'nonNegativeIntegerString' keyword instead.`;\n/** extract enumerable named props from an index signature */\nexport const normalizeIndex = (signature, value, $) => {\n    const [enumerableBranches, nonEnumerableBranches] = spliterate(signature.branches, k => k.hasKind(\"unit\"));\n    if (!enumerableBranches.length)\n        return { index: $.node(\"index\", { signature, value }) };\n    const normalized = {};\n    for (const n of enumerableBranches) {\n        // since required can be reduced to optional if it has a default or\n        // optional meta on its value, we have to assign it depending on the\n        // compiled kind\n        const prop = $.node(\"required\", { key: n.unit, value });\n        normalized[prop.kind] = append(normalized[prop.kind], prop);\n    }\n    if (nonEnumerableBranches.length) {\n        normalized.index = $.node(\"index\", {\n            signature: nonEnumerableBranches,\n            value\n        });\n    }\n    return normalized;\n};\nexport const typeKeyToString = (k) => hasArkKind(k, \"root\") ? k.expression : printable(k);\nexport const writeInvalidKeysMessage = (o, keys) => `Key${keys.length === 1 ? \"\" : \"s\"} ${keys.map(typeKeyToString).join(\", \")} ${keys.length === 1 ? \"does\" : \"do\"} not exist on ${o}`;\n", "import { DynamicBase, flatMorph } from \"@ark/util\";\nimport { arkKind, hasArkKind } from \"./shared/utils.js\";\nexport class RootModule extends DynamicBase {\n    // ensure `[arkKind]` is non-enumerable so it doesn't get spread on import/export\n    get [arkKind]() {\n        return \"module\";\n    }\n}\nexport const bindModule = (module, $) => new RootModule(flatMorph(module, (alias, value) => [\n    alias,\n    hasArkKind(value, \"module\") ?\n        bindModule(value, $)\n        : $.bindReference(value)\n]));\nexport const SchemaModule = RootModule;\n", "import { registeredReference } from \"../shared/registry.js\";\nexport const arrayIndexSource = `^(?:0|[1-9]\\\\d*)$`;\nexport const arrayIndexMatcher = new RegExp(arrayIndexSource);\nexport const arrayIndexMatcherReference = registeredReference(arrayIndexMatcher);\n", "export {};\n", "export {};\n", "/** From https://github.com/standard-schema/standard-schema */\nexport {};\n", "// eslint-disable-next-line @typescript-eslint/no-restricted-imports\nimport { configureSchema } from \"@ark/schema/config\";\nexport const configure = configureSchema;\n", "import { GenericRoot } from \"@ark/schema\";\nimport { throwParseError } from \"@ark/util\";\nimport { DynamicState } from \"./parser/reduce/dynamic.js\";\nimport { parseUntilFinalizer } from \"./parser/string.js\";\nexport const Generic = GenericRoot;\nexport const emptyGenericParameterMessage = \"An empty string is not a valid generic parameter name\";\nexport const parseGenericParamName = (scanner, result, ctx) => {\n    scanner.shiftUntilNonWhitespace();\n    const name = scanner.shiftUntilNextTerminator();\n    if (name === \"\") {\n        // if we've reached the end of the string and have parsed at least one\n        // param, return the valid result\n        if (scanner.lookahead === \"\" && result.length)\n            return result;\n        return throwParseError(emptyGenericParameterMessage);\n    }\n    scanner.shiftUntilNonWhitespace();\n    return _parseOptionalConstraint(scanner, name, result, ctx);\n};\nconst extendsToken = \"extends \";\nconst _parseOptionalConstraint = (scanner, name, result, ctx) => {\n    scanner.shiftUntilNonWhitespace();\n    if (scanner.unscanned.startsWith(extendsToken))\n        scanner.jumpForward(extendsToken.length);\n    else {\n        // if we don't have a contraining token here, return now so we can\n        // assume in the rest of the function body we do have a constraint\n        if (scanner.lookahead === \",\")\n            scanner.shift();\n        result.push(name);\n        return parseGenericParamName(scanner, result, ctx);\n    }\n    const s = parseUntilFinalizer(new DynamicState(scanner, ctx));\n    result.push([name, s.root]);\n    return parseGenericParamName(scanner, result, ctx);\n};\n", "import { isKeyOf, throwInternalError, throwParseError } from \"@ark/util\";\nimport { parseOperand } from \"../shift/operand/operand.js\";\nimport { parseOperator } from \"../shift/operator/operator.js\";\nimport { parseUntilFinalizer } from \"../string.js\";\nimport { invertedComparators, minComparators, writeMultipleLeftBoundsMessage, writeOpenRangeMessage, writeUnclosedGroupMessage, writeUnmatchedGroupCloseMessage, writeUnpairableComparatorMessage } from \"./shared.js\";\nexport class DynamicState {\n    // set root type to `any` so that all constraints can be applied\n    root;\n    branches = {\n        prefixes: [],\n        leftBound: null,\n        intersection: null,\n        union: null,\n        pipe: null\n    };\n    finalizer;\n    groups = [];\n    scanner;\n    ctx;\n    constructor(scanner, ctx) {\n        this.scanner = scanner;\n        this.ctx = ctx;\n    }\n    error(message) {\n        return throwParseError(message);\n    }\n    hasRoot() {\n        return this.root !== undefined;\n    }\n    setRoot(root) {\n        this.root = root;\n    }\n    unsetRoot() {\n        const value = this.root;\n        this.root = undefined;\n        return value;\n    }\n    constrainRoot(...args) {\n        this.root = this.root.constrain(args[0], args[1]);\n    }\n    finalize(finalizer) {\n        if (this.groups.length)\n            return this.error(writeUnclosedGroupMessage(\")\"));\n        this.finalizeBranches();\n        this.finalizer = finalizer;\n    }\n    reduceLeftBound(limit, comparator) {\n        const invertedComparator = invertedComparators[comparator];\n        if (!isKeyOf(invertedComparator, minComparators))\n            return this.error(writeUnpairableComparatorMessage(comparator));\n        if (this.branches.leftBound) {\n            return this.error(writeMultipleLeftBoundsMessage(this.branches.leftBound.limit, this.branches.leftBound.comparator, limit, invertedComparator));\n        }\n        this.branches.leftBound = {\n            comparator: invertedComparator,\n            limit\n        };\n    }\n    finalizeBranches() {\n        this.assertRangeUnset();\n        if (this.branches.pipe) {\n            this.pushRootToBranch(\"|>\");\n            this.root = this.branches.pipe;\n            return;\n        }\n        if (this.branches.union) {\n            this.pushRootToBranch(\"|\");\n            this.root = this.branches.union;\n            return;\n        }\n        if (this.branches.intersection) {\n            this.pushRootToBranch(\"&\");\n            this.root = this.branches.intersection;\n            return;\n        }\n        this.applyPrefixes();\n    }\n    finalizeGroup() {\n        this.finalizeBranches();\n        const topBranchState = this.groups.pop();\n        if (!topBranchState)\n            return this.error(writeUnmatchedGroupCloseMessage(this.scanner.unscanned));\n        this.branches = topBranchState;\n    }\n    addPrefix(prefix) {\n        this.branches.prefixes.push(prefix);\n    }\n    applyPrefixes() {\n        while (this.branches.prefixes.length) {\n            const lastPrefix = this.branches.prefixes.pop();\n            this.root =\n                lastPrefix === \"keyof\" ?\n                    this.root.keyof()\n                    : throwInternalError(`Unexpected prefix '${lastPrefix}'`);\n        }\n    }\n    pushRootToBranch(token) {\n        this.assertRangeUnset();\n        this.applyPrefixes();\n        const root = this.root;\n        this.root = undefined;\n        this.branches.intersection =\n            this.branches.intersection?.rawAnd(root) ?? root;\n        if (token === \"&\")\n            return;\n        this.branches.union =\n            this.branches.union?.rawOr(this.branches.intersection) ??\n                this.branches.intersection;\n        this.branches.intersection = null;\n        if (token === \"|\")\n            return;\n        this.branches.pipe =\n            this.branches.pipe?.rawPipeOnce(this.branches.union) ??\n                this.branches.union;\n        this.branches.union = null;\n    }\n    parseUntilFinalizer() {\n        return parseUntilFinalizer(new DynamicState(this.scanner, this.ctx));\n    }\n    parseOperator() {\n        return parseOperator(this);\n    }\n    parseOperand() {\n        return parseOperand(this);\n    }\n    assertRangeUnset() {\n        if (this.branches.leftBound) {\n            return this.error(writeOpenRangeMessage(this.branches.leftBound.limit, this.branches.leftBound.comparator));\n        }\n    }\n    reduceGroupOpen() {\n        this.groups.push(this.branches);\n        this.branches = {\n            prefixes: [],\n            leftBound: null,\n            union: null,\n            intersection: null,\n            pipe: null\n        };\n    }\n    previousOperator() {\n        return (this.branches.leftBound?.comparator ??\n            this.branches.prefixes.at(-1) ??\n            (this.branches.intersection ? \"&\"\n                : this.branches.union ? \"|\"\n                    : this.branches.pipe ? \"|>\"\n                        : undefined));\n    }\n    shiftedByOne() {\n        this.scanner.shift();\n        return this;\n    }\n}\n", "import { whitespaceChars } from \"@ark/util\";\nimport { enclosingChar, enclosingQuote, parseEnclosed } from \"./enclosed.js\";\nimport { parseUnenclosed, writeMissingOperandMessage } from \"./unenclosed.js\";\nexport const parseOperand = (s) => s.scanner.lookahead === \"\" ? s.error(writeMissingOperandMessage(s))\n    : s.scanner.lookahead === \"(\" ? s.shiftedByOne().reduceGroupOpen()\n        : s.scanner.lookaheadIsIn(enclosingChar) ? parseEnclosed(s, s.scanner.shift())\n            : s.scanner.lookaheadIsIn(whitespaceChars) ? parseOperand(s.shiftedByOne())\n                : s.scanner.lookahead === \"d\" ?\n                    s.scanner.nextLookahead in enclosingQuote ?\n                        parseEnclosed(s, `${s.scanner.shift()}${s.scanner.shift()}`)\n                        : parseUnenclosed(s)\n                    : parseUnenclosed(s);\n", "import { isKeyOf, throwParseError } from \"@ark/util\";\nimport { tryParseDate, writeInvalidDateMessage } from \"./date.js\";\nexport const parseEnclosed = (s, enclosing) => {\n    const enclosed = s.scanner.shiftUntil(untilLookaheadIsClosing[enclosingTokens[enclosing]]);\n    if (s.scanner.lookahead === \"\")\n        return s.error(writeUnterminatedEnclosedMessage(enclosed, enclosing));\n    // Shift the scanner one additional time for the second enclosing token\n    s.scanner.shift();\n    if (enclosing === \"/\") {\n        try {\n            new RegExp(enclosed);\n        }\n        catch (e) {\n            throwParseError(String(e));\n        }\n        s.root = s.ctx.$.node(\"intersection\", {\n            domain: \"string\",\n            pattern: enclosed\n        }, { prereduced: true });\n    }\n    else if (isKeyOf(enclosing, enclosingQuote))\n        s.root = s.ctx.$.node(\"unit\", { unit: enclosed });\n    else {\n        const date = tryParseDate(enclosed, writeInvalidDateMessage(enclosed));\n        s.root = s.ctx.$.node(\"unit\", { meta: enclosed, unit: date });\n    }\n};\nexport const enclosingQuote = {\n    \"'\": 1,\n    '\"': 1\n};\nexport const enclosingChar = {\n    \"/\": 1,\n    \"'\": 1,\n    '\"': 1\n};\nexport const enclosingTokens = {\n    \"d'\": \"'\",\n    'd\"': '\"',\n    \"'\": \"'\",\n    '\"': '\"',\n    \"/\": \"/\"\n};\nexport const untilLookaheadIsClosing = {\n    \"'\": scanner => scanner.lookahead === `'`,\n    '\"': scanner => scanner.lookahead === `\"`,\n    \"/\": scanner => scanner.lookahead === `/`\n};\nconst enclosingCharDescriptions = {\n    '\"': \"double-quote\",\n    \"'\": \"single-quote\",\n    \"/\": \"forward slash\"\n};\nexport const writeUnterminatedEnclosedMessage = (fragment, enclosingStart) => `${enclosingStart}${fragment} requires a closing ${enclosingCharDescriptions[enclosingTokens[enclosingStart]]}`;\n", "import { throwParseError, tryParseNumber } from \"@ark/util\";\nexport const isDateLiteral = (value) => typeof value === \"string\" &&\n    value[0] === \"d\" &&\n    (value[1] === \"'\" || value[1] === '\"') &&\n    value.at(-1) === value[1];\nexport const isValidDate = (d) => d.toString() !== \"Invalid Date\";\nexport const extractDateLiteralSource = (literal) => literal.slice(2, -1);\nexport const writeInvalidDateMessage = (source) => `'${source}' could not be parsed by the Date constructor`;\nexport const tryParseDate = (source, errorOnFail) => maybeParseDate(source, errorOnFail);\nconst maybeParseDate = (source, errorOnFail) => {\n    const stringParsedDate = new Date(source);\n    if (isValidDate(stringParsedDate))\n        return stringParsedDate;\n    const epochMillis = tryParseNumber(source);\n    if (epochMillis !== undefined) {\n        const numberParsedDate = new Date(epochMillis);\n        if (isValidDate(numberParsedDate))\n            return numberParsedDate;\n    }\n    return errorOnFail ?\n        throwParseError(errorOnFail === true ? writeInvalidDateMessage(source) : errorOnFail)\n        : undefined;\n};\n", "import { hasArkKind, writeUnresolvableMessage } from \"@ark/schema\";\nimport { printable, throwParseError, tryParseWellFormedBigint, tryParseWellFormedNumber } from \"@ark/util\";\nimport { writePrefixedPrivateReferenceMessage } from \"../../ast/validate.js\";\nimport { parseGenericArgs, writeInvalidGenericArgCountMessage } from \"./genericArgs.js\";\nexport const parseUnenclosed = (s) => {\n    const token = s.scanner.shiftUntilNextTerminator();\n    if (token === \"keyof\")\n        s.addPrefix(\"keyof\");\n    else\n        s.root = unenclosedToNode(s, token);\n};\nexport const parseGenericInstantiation = (name, g, s) => {\n    s.scanner.shiftUntilNonWhitespace();\n    const lookahead = s.scanner.shift();\n    if (lookahead !== \"<\")\n        return s.error(writeInvalidGenericArgCountMessage(name, g.names, []));\n    const parsedArgs = parseGenericArgs(name, g, s);\n    return g(...parsedArgs);\n};\nconst unenclosedToNode = (s, token) => maybeParseReference(s, token) ??\n    maybeParseUnenclosedLiteral(s, token) ??\n    s.error(token === \"\" ?\n        s.scanner.lookahead === \"#\" ?\n            writePrefixedPrivateReferenceMessage(s.shiftedByOne().scanner.shiftUntilNextTerminator())\n            : writeMissingOperandMessage(s)\n        : writeUnresolvableMessage(token));\nconst maybeParseReference = (s, token) => {\n    if (s.ctx.args?.[token]) {\n        const arg = s.ctx.args[token];\n        if (typeof arg !== \"string\")\n            return arg;\n        return s.ctx.$.node(\"alias\", { reference: arg }, { prereduced: true });\n    }\n    const resolution = s.ctx.$.maybeResolve(token);\n    if (hasArkKind(resolution, \"root\"))\n        return resolution;\n    if (resolution === undefined)\n        return;\n    if (hasArkKind(resolution, \"generic\"))\n        return parseGenericInstantiation(token, resolution, s);\n    return throwParseError(`Unexpected resolution ${printable(resolution)}`);\n};\nconst maybeParseUnenclosedLiteral = (s, token) => {\n    const maybeNumber = tryParseWellFormedNumber(token);\n    if (maybeNumber !== undefined)\n        return s.ctx.$.node(\"unit\", { unit: maybeNumber });\n    const maybeBigint = tryParseWellFormedBigint(token);\n    if (maybeBigint !== undefined)\n        return s.ctx.$.node(\"unit\", { unit: maybeBigint });\n};\nexport const writeMissingOperandMessage = (s) => {\n    const operator = s.previousOperator();\n    return operator ?\n        writeMissingRightOperandMessage(operator, s.scanner.unscanned)\n        : writeExpressionExpectedMessage(s.scanner.unscanned);\n};\nexport const writeMissingRightOperandMessage = (token, unscanned = \"\") => `Token '${token}' requires a right operand${unscanned ? ` before '${unscanned}'` : \"\"}`;\nexport const writeExpressionExpectedMessage = (unscanned) => `Expected an expression${unscanned ? ` before '${unscanned}'` : \"\"}`;\n", "export const writePrefixedPrivateReferenceMessage = (name) => `Private type references should not include '#'. Use '${name}' instead.`;\nexport const shallowOptionalMessage = \"Optional definitions like 'string?' are only valid as properties in an object or tuple\";\nexport const shallowDefaultableMessage = \"Defaultable definitions like 'number = 0' are only valid as properties in an object or tuple\";\n", "import { writeUnclosedGroupMessage } from \"../../reduce/shared.js\";\nexport const parseGenericArgs = (name, g, s) => _parseGenericArgs(name, g, s, []);\nconst _parseGenericArgs = (name, g, s, argNodes) => {\n    const argState = s.parseUntilFinalizer();\n    argNodes.push(argState.root);\n    if (argState.finalizer === \">\") {\n        if (argNodes.length !== g.params.length) {\n            return s.error(writeInvalidGenericArgCountMessage(name, g.names, argNodes.map(arg => arg.expression)));\n        }\n        return argNodes;\n    }\n    if (argState.finalizer === \",\")\n        return _parseGenericArgs(name, g, s, argNodes);\n    return argState.error(writeUnclosedGroupMessage(\">\"));\n};\nexport const writeInvalidGenericArgCountMessage = (name, params, argDefs) => `${name}<${params.join(\", \")}> requires exactly ${params.length} args (got ${argDefs.length}${argDefs.length === 0 ? \"\" : `: ${argDefs.join(\", \")}`})`;\n", "export const minComparators = {\n    \">\": true,\n    \">=\": true\n};\nexport const maxComparators = {\n    \"<\": true,\n    \"<=\": true\n};\nexport const comparators = {\n    \">\": true,\n    \">=\": true,\n    \"<\": true,\n    \"<=\": true,\n    \"==\": true\n};\nexport const invertedComparators = {\n    \"<\": \">\",\n    \">\": \"<\",\n    \"<=\": \">=\",\n    \">=\": \"<=\",\n    \"==\": \"==\"\n};\nexport const writeUnmatchedGroupCloseMessage = (unscanned) => `Unmatched )${(unscanned === \"\" ? \"\" : ` before ${unscanned}`)}`;\nexport const writeUnclosedGroupMessage = (missingChar) => `Missing ${missingChar}`;\nexport const writeOpenRangeMessage = (min, comparator) => `Left bounds are only valid when paired with right bounds (try ...${comparator}${min})`;\nexport const writeUnpairableComparatorMessage = (comparator) => `Left-bounded expressions must specify their limits using < or <= (was ${comparator})`;\nexport const writeMultipleLeftBoundsMessage = (openLimit, openComparator, limit, comparator) => `An expression may have at most one left bound (parsed ${openLimit}${invertedComparators[openComparator]}, ${limit}${invertedComparators[comparator]})`;\n", "import { isKeyOf, whitespaceChars } from \"@ark/util\";\nimport { ArkTypeScanner } from \"../scanner.js\";\nimport { comparatorStartChars, parseBound } from \"./bounds.js\";\nimport { parseBrand } from \"./brand.js\";\nimport { parseDivisor } from \"./divisor.js\";\nexport const parseOperator = (s) => {\n    const lookahead = s.scanner.shift();\n    return (lookahead === \"\" ? s.finalize(\"\")\n        : lookahead === \"[\" ?\n            s.scanner.shift() === \"]\" ?\n                s.setRoot(s.root.array())\n                : s.error(incompleteArrayTokenMessage)\n            : lookahead === \"|\" ?\n                s.scanner.lookahead === \">\" ?\n                    s.shiftedByOne().pushRootToBranch(\"|>\")\n                    : s.pushRootToBranch(lookahead)\n                : lookahead === \"&\" ? s.pushRootToBranch(lookahead)\n                    : lookahead === \")\" ? s.finalizeGroup()\n                        : ArkTypeScanner.lookaheadIsFinalizing(lookahead, s.scanner.unscanned) ?\n                            s.finalize(lookahead)\n                            : isKeyOf(lookahead, comparatorStartChars) ? parseBound(s, lookahead)\n                                : lookahead === \"%\" ? parseDivisor(s)\n                                    : lookahead === \"#\" ? parseBrand(s)\n                                        : lookahead in whitespaceChars ? parseOperator(s)\n                                            : s.error(writeUnexpectedCharacterMessage(lookahead)));\n};\nexport const writeUnexpectedCharacterMessage = (char, shouldBe = \"\") => `'${char}' is not allowed here${shouldBe && ` (should be ${shouldBe})`}`;\nexport const incompleteArrayTokenMessage = `Missing expected ']'`;\n", "import { isKeyOf, Scanner, whitespaceChars } from \"@ark/util\";\nexport class ArkTypeScanner extends Scanner {\n    shiftUntilNextTerminator() {\n        this.shiftUntilNonWhitespace();\n        return this.shiftUntil(() => this.lookahead in ArkTypeScanner.terminatingChars);\n    }\n    static terminatingChars = {\n        \"<\": 1,\n        \">\": 1,\n        \"=\": 1,\n        \"|\": 1,\n        \"&\": 1,\n        \")\": 1,\n        \"[\": 1,\n        \"%\": 1,\n        \",\": 1,\n        \":\": 1,\n        \"?\": 1,\n        \"#\": 1,\n        ...whitespaceChars\n    };\n    static finalizingLookaheads = {\n        \">\": 1,\n        \",\": 1,\n        \"\": 1,\n        \"=\": 1,\n        \"?\": 1\n    };\n    static lookaheadIsFinalizing = (lookahead, unscanned) => lookahead === \">\" ?\n        unscanned[0] === \"=\" ?\n            // >== would only occur in an expression like Array<number>==5\n            // otherwise, >= would only occur as part of a bound like number>=5\n            unscanned[1] === \"=\"\n            // if > is the end of a generic instantiation, the next token will be\n            // an operator or the end of the string\n            : unscanned.trimStart() === \"\" ||\n                isKeyOf(unscanned.trimStart()[0], ArkTypeScanner.terminatingChars)\n        // \"=\" is a finalizer on its own (representing a default value),\n        // but not with a second \"=\" (an equality comparator)\n        : lookahead === \"=\" ? unscanned[0] !== \"=\"\n            // \",\" and \"?\" are unambiguously finalizers\n            : lookahead === \",\" || lookahead === \"?\";\n}\n", "import { $ark, writeUnboundableMessage } from \"@ark/schema\";\nimport { isKeyOf, throwParseError } from \"@ark/util\";\nimport { invertedComparators, maxComparators, writeUnpairableComparatorMessage } from \"../../reduce/shared.js\";\nimport { extractDateLiteralSource, isDateLiteral } from \"../operand/date.js\";\nexport const parseBound = (s, start) => {\n    const comparator = shiftComparator(s, start);\n    if (s.root.hasKind(\"unit\")) {\n        if (typeof s.root.unit === \"number\") {\n            s.reduceLeftBound(s.root.unit, comparator);\n            s.unsetRoot();\n            return;\n        }\n        if (s.root.unit instanceof Date) {\n            const literal = `d'${s.root.description ?? s.root.unit.toISOString()}'`;\n            s.unsetRoot();\n            s.reduceLeftBound(literal, comparator);\n            return;\n        }\n    }\n    return parseRightBound(s, comparator);\n};\nexport const comparatorStartChars = {\n    \"<\": 1,\n    \">\": 1,\n    \"=\": 1\n};\nconst shiftComparator = (s, start) => s.scanner.lookaheadIs(\"=\") ?\n    `${start}${s.scanner.shift()}`\n    : start;\nexport const writeIncompatibleRangeMessage = (l, r) => `Bound kinds ${l} and ${r} are incompatible`;\nexport const getBoundKinds = (comparator, limit, root, boundKind) => {\n    if (root.extends($ark.intrinsic.number)) {\n        if (typeof limit !== \"number\") {\n            return throwParseError(writeInvalidLimitMessage(comparator, limit, boundKind));\n        }\n        return (comparator === \"==\" ? [\"min\", \"max\"]\n            : comparator[0] === \">\" ? [\"min\"]\n                : [\"max\"]);\n    }\n    if (root.extends($ark.intrinsic.lengthBoundable)) {\n        if (typeof limit !== \"number\") {\n            return throwParseError(writeInvalidLimitMessage(comparator, limit, boundKind));\n        }\n        return (comparator === \"==\" ? [\"exactLength\"]\n            : comparator[0] === \">\" ? [\"minLength\"]\n                : [\"maxLength\"]);\n    }\n    if (root.extends($ark.intrinsic.Date)) {\n        // allow either numeric or date limits\n        return (comparator === \"==\" ? [\"after\", \"before\"]\n            : comparator[0] === \">\" ? [\"after\"]\n                : [\"before\"]);\n    }\n    return throwParseError(writeUnboundableMessage(root.expression));\n};\nconst openLeftBoundToRoot = (leftBound) => ({\n    rule: isDateLiteral(leftBound.limit) ?\n        extractDateLiteralSource(leftBound.limit)\n        : leftBound.limit,\n    exclusive: leftBound.comparator.length === 1\n});\nexport const parseRightBound = (s, comparator) => {\n    // store the node that will be bounded\n    const previousRoot = s.unsetRoot();\n    const previousScannerIndex = s.scanner.location;\n    s.parseOperand();\n    const limitNode = s.unsetRoot();\n    // after parsing the next operand, use the locations to get the\n    // token from which it was parsed\n    const limitToken = s.scanner.sliceChars(previousScannerIndex, s.scanner.location);\n    s.root = previousRoot;\n    if (!limitNode.hasKind(\"unit\") ||\n        (typeof limitNode.unit !== \"number\" && !(limitNode.unit instanceof Date)))\n        return s.error(writeInvalidLimitMessage(comparator, limitToken, \"right\"));\n    const limit = limitNode.unit;\n    // apply the newly-parsed right bound\n    const exclusive = comparator.length === 1;\n    const boundKinds = getBoundKinds(comparator, typeof limit === \"number\" ? limit : limitToken, previousRoot, \"right\");\n    for (const kind of boundKinds) {\n        s.constrainRoot(kind, comparator === \"==\" ? { rule: limit } : { rule: limit, exclusive });\n    }\n    if (!s.branches.leftBound)\n        return;\n    // if there's an open left bound, perform additional validation and apply it\n    if (!isKeyOf(comparator, maxComparators))\n        return s.error(writeUnpairableComparatorMessage(comparator));\n    const lowerBoundKind = getBoundKinds(s.branches.leftBound.comparator, s.branches.leftBound.limit, previousRoot, \"left\");\n    s.constrainRoot(lowerBoundKind[0], openLeftBoundToRoot(s.branches.leftBound));\n    s.branches.leftBound = null;\n};\nexport const writeInvalidLimitMessage = (comparator, limit, boundKind) => `Comparator ${boundKind === \"left\" ? invertedComparators[comparator] : comparator} must be ${boundKind === \"left\" ? \"preceded\" : \"followed\"} by a corresponding literal (was ${limit})`;\n", "export const parseBrand = (s) => {\n    s.scanner.shiftUntilNonWhitespace();\n    const brandName = s.scanner.shiftUntilNextTerminator();\n    s.root = s.root.brand(brandName);\n};\n", "import { tryParseInteger } from \"@ark/util\";\nexport const parseDivisor = (s) => {\n    const divisorToken = s.scanner.shiftUntilNextTerminator();\n    const divisor = tryParseInteger(divisorToken, {\n        errorOnFail: writeInvalidDivisorMessage(divisorToken)\n    });\n    if (divisor === 0)\n        s.error(writeInvalidDivisorMessage(0));\n    s.root = s.root.constrain(\"divisor\", divisor);\n};\nexport const writeInvalidDivisorMessage = (divisor) => `% operator must be followed by a non-zero integer literal (was ${divisor})`;\n", "import { throwInternalError, throwParseError } from \"@ark/util\";\nimport { DynamicState } from \"./reduce/dynamic.js\";\nimport { parseDefault } from \"./shift/operator/default.js\";\nimport { writeUnexpectedCharacterMessage } from \"./shift/operator/operator.js\";\nimport { ArkTypeScanner } from \"./shift/scanner.js\";\nexport const parseString = (def, ctx) => {\n    const aliasResolution = ctx.$.maybeResolveRoot(def);\n    if (aliasResolution)\n        return aliasResolution;\n    if (def.endsWith(\"[]\")) {\n        const possibleElementResolution = ctx.$.maybeResolveRoot(def.slice(0, -2));\n        if (possibleElementResolution)\n            return possibleElementResolution.array();\n    }\n    const s = new DynamicState(new ArkTypeScanner(def), ctx);\n    const node = fullStringParse(s);\n    if (s.finalizer === \">\")\n        throwParseError(writeUnexpectedCharacterMessage(\">\"));\n    return node;\n};\nexport const fullStringParse = (s) => {\n    s.parseOperand();\n    let result = parseUntilFinalizer(s).root;\n    if (!result) {\n        return throwInternalError(`Root was unexpectedly unset after parsing string '${s.scanner.scanned}'`);\n    }\n    if (s.finalizer === \"=\")\n        result = parseDefault(s);\n    else if (s.finalizer === \"?\")\n        result = [result, \"?\"];\n    s.scanner.shiftUntilNonWhitespace();\n    if (s.scanner.lookahead) {\n        // throw a parse error if non-whitespace characters made it here without being parsed\n        throwParseError(writeUnexpectedCharacterMessage(s.scanner.lookahead));\n    }\n    return result;\n};\nexport const parseUntilFinalizer = (s) => {\n    while (s.finalizer === undefined)\n        next(s);\n    return s;\n};\nconst next = (s) => s.hasRoot() ? s.parseOperator() : s.parseOperand();\n", "export const parseDefault = (s) => {\n    // store the node that will be bounded\n    const baseNode = s.unsetRoot();\n    s.parseOperand();\n    const defaultNode = s.unsetRoot();\n    // after parsing the next operand, use the locations to get the\n    // token from which it was parsed\n    if (!defaultNode.hasKind(\"unit\"))\n        return s.error(writeNonLiteralDefaultMessage(defaultNode.expression));\n    const defaultValue = defaultNode.unit instanceof Date ?\n        () => new Date(defaultNode.unit)\n        : defaultNode.unit;\n    return [baseNode, \"=\", defaultValue];\n};\nexport const writeNonLiteralDefaultMessage = (defaultDef) => `Default value '${defaultDef}' must a literal value`;\n", "import { $arkTypeRegistry, scope } from \"../scope.js\";\nimport { arkBuiltins } from \"./builtins.js\";\nimport { arkPrototypes } from \"./constructors.js\";\nimport { number } from \"./number.js\";\nimport { string } from \"./string.js\";\nimport { arkTsGenerics, arkTsKeywords, object, unknown } from \"./ts.js\";\nexport const ark = scope({\n    ...arkTsKeywords,\n    ...arkTsGenerics,\n    ...arkPrototypes,\n    ...arkBuiltins,\n    string,\n    number,\n    object,\n    unknown\n}, { prereducedAliases: true, name: \"ark\" });\nexport const keywords = ark.export();\nObject.assign($arkTypeRegistry.ambient, keywords);\n$arkTypeRegistry.typeAttachments = {\n    string: keywords.string.root,\n    number: keywords.number.root,\n    bigint: keywords.bigint,\n    boolean: keywords.boolean,\n    symbol: keywords.symbol,\n    undefined: keywords.undefined,\n    null: keywords.null,\n    object: keywords.object.root,\n    unknown: keywords.unknown.root,\n    false: keywords.false,\n    true: keywords.true,\n    never: keywords.never,\n    arrayIndex: keywords.Array.index,\n    Key: keywords.Key,\n    Record: keywords.Record,\n    Array: keywords.Array.root,\n    Date: keywords.Date\n};\nexport const type = Object.assign(ark.type, \n// assign attachments newly parsed in keywords\n// future scopes add these directly from the\n// registry when their TypeParsers are instantiated\n$arkTypeRegistry.typeAttachments);\nexport const match = ark.match;\nexport const generic = ark.generic;\nexport const schema = ark.schema;\nexport const define = ark.define;\nexport const declare = ark.declare;\n", "import { $ark, BaseScope, hasArkKind, parseGeneric } from \"@ark/schema\";\nimport { enumValues, flatMorph, isArray, isThunk, throwParseError } from \"@ark/util\";\nimport { parseGenericParamName } from \"./generic.js\";\nimport { InternalMatchParser } from \"./match.js\";\nimport { shallowDefaultableMessage, shallowOptionalMessage } from \"./parser/ast/validate.js\";\nimport { parseInnerDefinition } from \"./parser/definition.js\";\nimport { ArkTypeScanner } from \"./parser/shift/scanner.js\";\nimport { InternalTypeParser } from \"./type.js\";\nexport const $arkTypeRegistry = $ark;\nexport class InternalScope extends BaseScope {\n    get ambientAttachments() {\n        if (!$arkTypeRegistry.typeAttachments)\n            return;\n        return this.cacheGetter(\"ambientAttachments\", flatMorph($arkTypeRegistry.typeAttachments, (k, v) => [\n            k,\n            this.bindReference(v)\n        ]));\n    }\n    preparseOwnAliasEntry(alias, def) {\n        const firstParamIndex = alias.indexOf(\"<\");\n        if (firstParamIndex === -1) {\n            if (hasArkKind(def, \"module\") || hasArkKind(def, \"generic\"))\n                return [alias, def];\n            const qualifiedName = this.name === \"ark\" ? alias\n                : alias === \"root\" ? this.name\n                    : `${this.name}.${alias}`;\n            const config = this.resolvedConfig.keywords?.[qualifiedName];\n            if (config)\n                def = [def, \"@\", config];\n            return [alias, def];\n        }\n        if (alias.at(-1) !== \">\") {\n            throwParseError(`'>' must be the last character of a generic declaration in a scope`);\n        }\n        const name = alias.slice(0, firstParamIndex);\n        const paramString = alias.slice(firstParamIndex + 1, -1);\n        return [\n            name,\n            // use a thunk definition for the generic so that we can parse\n            // constraints within the current scope\n            () => {\n                const params = this.parseGenericParams(paramString, { alias: name });\n                const generic = parseGeneric(params, def, this);\n                return generic;\n            }\n        ];\n    }\n    parseGenericParams(def, opts) {\n        return parseGenericParamName(new ArkTypeScanner(def), [], this.createParseContext({\n            ...opts,\n            def,\n            prefix: \"generic\"\n        }));\n    }\n    normalizeRootScopeValue(resolution) {\n        if (isThunk(resolution) && !hasArkKind(resolution, \"generic\"))\n            return resolution();\n        return resolution;\n    }\n    preparseOwnDefinitionFormat(def, opts) {\n        return {\n            ...opts,\n            def,\n            prefix: opts.alias ?? \"type\"\n        };\n    }\n    parseOwnDefinitionFormat(def, ctx) {\n        const isScopeAlias = ctx.alias && ctx.alias in this.aliases;\n        // if the definition being parsed is not a scope alias and is not a\n        // generic instantiation (i.e. opts don't include args), add `this` as a resolution.\n        // if we're parsing a nested string, ctx.args will have already been set\n        if (!isScopeAlias && !ctx.args)\n            ctx.args = { this: ctx.id };\n        const result = parseInnerDefinition(def, ctx);\n        if (isArray(result)) {\n            if (result[1] === \"=\")\n                return throwParseError(shallowDefaultableMessage);\n            if (result[1] === \"?\")\n                return throwParseError(shallowOptionalMessage);\n        }\n        return result;\n    }\n    unit = value => this.units([value]);\n    valueOf = tsEnum => this.units(enumValues(tsEnum));\n    enumerated = (...values) => this.units(values);\n    instanceOf = ctor => this.node(\"proto\", { proto: ctor }, { prereduced: true });\n    or = (...defs) => this.schema(defs.map(def => this.parse(def)));\n    and = (...defs) => defs.reduce((node, def) => node.and(this.parse(def)), this.intrinsic.unknown);\n    merge = (...defs) => defs.reduce((node, def) => node.merge(this.parse(def)), this.intrinsic.object);\n    pipe = (...morphs) => this.intrinsic.unknown.pipe(...morphs);\n    match = new InternalMatchParser(this);\n    declare = () => ({\n        type: this.type\n    });\n    define(def) {\n        return def;\n    }\n    type = new InternalTypeParser(this);\n    static scope = ((def, config = {}) => new InternalScope(def, config));\n    static module = ((def, config = {}) => this.scope(def, config).export());\n}\nexport const scope = Object.assign(InternalScope.scope, {\n    define: def => def\n});\nexport const Scope = InternalScope;\n", "import { intrinsic } from \"@ark/schema\";\nimport { Callable, domainOf, throwParseError } from \"@ark/util\";\nexport class InternalMatchParser extends Callable {\n    $;\n    constructor($) {\n        super((...args) => new InternalChainedMatchParser($)(...args), {\n            bind: $\n        });\n        this.$ = $;\n    }\n    in(def) {\n        return new InternalChainedMatchParser(this.$, def === undefined ? undefined : this.$.parse(def));\n    }\n    at(key, cases) {\n        return new InternalChainedMatchParser(this.$).at(key, cases);\n    }\n    case(when, then) {\n        return new InternalChainedMatchParser(this.$).case(when, then);\n    }\n}\nexport class InternalChainedMatchParser extends Callable {\n    $;\n    in;\n    key;\n    branches = [];\n    constructor($, In) {\n        super(cases => this.caseEntries(Object.entries(cases).map(([k, v]) => k === \"default\" ? [k, v] : [this.$.parse(k), v])));\n        this.$ = $;\n        this.in = In;\n    }\n    at(key, cases) {\n        if (this.key)\n            throwParseError(doubleAtMessage);\n        if (this.branches.length)\n            throwParseError(chainedAtMessage);\n        this.key = key;\n        return cases ? this.match(cases) : this;\n    }\n    case(def, resolver) {\n        return this.caseEntry(this.$.parse(def), resolver);\n    }\n    caseEntry(node, resolver) {\n        const wrappableNode = this.key ? this.$.parse({ [this.key]: node }) : node;\n        const branch = wrappableNode.pipe(resolver);\n        this.branches.push(branch);\n        return this;\n    }\n    match(cases) {\n        return this(cases);\n    }\n    strings(cases) {\n        return this.caseEntries(Object.entries(cases).map(([k, v]) => k === \"default\" ?\n            [k, v]\n            : [this.$.node(\"unit\", { unit: k }), v]));\n    }\n    caseEntries(entries) {\n        for (let i = 0; i < entries.length; i++) {\n            const [k, v] = entries[i];\n            if (k === \"default\") {\n                if (i !== entries.length - 1) {\n                    throwParseError(`default may only be specified as the last key of a switch definition`);\n                }\n                return this.default(v);\n            }\n            if (typeof v !== \"function\") {\n                return throwParseError(`Value for case \"${k}\" must be a function (was ${domainOf(v)})`);\n            }\n            this.caseEntry(k, v);\n        }\n        return this;\n    }\n    default(defaultCase) {\n        if (typeof defaultCase === \"function\")\n            this.case(intrinsic.unknown, defaultCase);\n        const schema = {\n            branches: this.branches,\n            ordered: true\n        };\n        if (defaultCase === \"never\" || defaultCase === \"assert\")\n            schema.meta = { onFail: throwOnDefault };\n        const cases = this.$.node(\"union\", schema);\n        if (!this.in)\n            return this.$.finalize(cases);\n        let inputValidatedCases = this.in.pipe(cases);\n        if (defaultCase === \"never\" || defaultCase === \"assert\") {\n            inputValidatedCases = inputValidatedCases.configureReferences({\n                onFail: throwOnDefault\n            }, \"self\");\n        }\n        return this.$.finalize(inputValidatedCases);\n    }\n}\nexport const throwOnDefault = errors => errors.throw();\nexport const chainedAtMessage = `A key matcher must be specified before the first case i.e. match.at('foo') or match.in<object>().at('bar')`;\nexport const doubleAtMessage = `At most one key matcher may be specified per expression`;\n", "import { hasArkKind } from \"@ark/schema\";\nimport { domainOf, hasDomain, isThunk, objectKindOf, printable, throwParseError } from \"@ark/util\";\nimport { parseObjectLiteral } from \"./objectLiteral.js\";\nimport { parseString } from \"./string.js\";\nimport { maybeParseTupleExpression } from \"./tupleExpressions.js\";\nimport { parseTupleLiteral } from \"./tupleLiteral.js\";\nconst parseCache = {};\nexport const parseInnerDefinition = (def, ctx) => {\n    if (typeof def === \"string\") {\n        if (ctx.args && Object.keys(ctx.args).some(k => def.includes(k))) {\n            // we can only rely on the cache if there are no contextual\n            // resolutions like \"this\" or generic args\n            return parseString(def, ctx);\n        }\n        const scopeCache = (parseCache[ctx.$.name] ??= {});\n        return (scopeCache[def] ??= parseString(def, ctx));\n    }\n    return hasDomain(def, \"object\") ?\n        parseObject(def, ctx)\n        : throwParseError(writeBadDefinitionTypeMessage(domainOf(def)));\n};\nexport const parseObject = (def, ctx) => {\n    const objectKind = objectKindOf(def);\n    switch (objectKind) {\n        case undefined:\n            if (hasArkKind(def, \"root\"))\n                return def;\n            return parseObjectLiteral(def, ctx);\n        case \"Array\":\n            return parseTuple(def, ctx);\n        case \"RegExp\":\n            return ctx.$.node(\"intersection\", {\n                domain: \"string\",\n                pattern: def\n            }, { prereduced: true });\n        case \"Function\": {\n            const resolvedDef = isThunk(def) ? def() : def;\n            if (hasArkKind(resolvedDef, \"root\"))\n                return resolvedDef;\n            return throwParseError(writeBadDefinitionTypeMessage(\"Function\"));\n        }\n        default:\n            return throwParseError(writeBadDefinitionTypeMessage(objectKind ?? printable(def)));\n    }\n};\nexport const parseTuple = (def, ctx) => maybeParseTupleExpression(def, ctx) ?? parseTupleLiteral(def, ctx);\nexport const writeBadDefinitionTypeMessage = (actual) => `Type definitions must be strings or objects (was ${actual})`;\n", "import { intrinsic, normalizeIndex } from \"@ark/schema\";\nimport { append, escapeChar, isArray, isEmptyObject, printable, stringAndSymbolicEntriesOf, throwParseError } from \"@ark/util\";\nimport { invalidDefaultableKeyKindMessage, invalidOptionalKeyKindMessage, parseProperty } from \"./property.js\";\nexport const parseObjectLiteral = (def, ctx) => {\n    let spread;\n    const structure = {};\n    // We only allow a spread operator to be used as the first key in an object\n    // because to match JS behavior any keys before the spread are overwritten\n    // by the values in the target object, so there'd be no useful purpose in having it\n    // anywhere except for the beginning.\n    const defEntries = stringAndSymbolicEntriesOf(def);\n    for (const [k, v] of defEntries) {\n        const parsedKey = preparseKey(k);\n        if (parsedKey.kind === \"spread\") {\n            if (!isEmptyObject(structure))\n                return throwParseError(nonLeadingSpreadError);\n            const operand = ctx.$.parseOwnDefinitionFormat(v, ctx);\n            // treat object domain as empty for spreading (useful for generic constraints)\n            if (operand.equals(intrinsic.object))\n                continue;\n            if (!operand.hasKind(\"intersection\") ||\n                // still error on attempts to spread proto nodes like ...Date\n                !operand.basis?.equals(intrinsic.object)) {\n                return throwParseError(writeInvalidSpreadTypeMessage(operand.expression));\n            }\n            spread = operand.structure;\n            continue;\n        }\n        if (parsedKey.kind === \"undeclared\") {\n            if (v !== \"reject\" && v !== \"delete\" && v !== \"ignore\")\n                throwParseError(writeInvalidUndeclaredBehaviorMessage(v));\n            structure.undeclared = v;\n            continue;\n        }\n        const parsedValue = parseProperty(v, ctx);\n        const parsedEntryKey = parsedKey;\n        if (parsedKey.kind === \"required\") {\n            if (!isArray(parsedValue)) {\n                appendNamedProp(structure, \"required\", {\n                    key: parsedKey.normalized,\n                    value: parsedValue\n                }, ctx);\n            }\n            else {\n                appendNamedProp(structure, \"optional\", parsedValue[1] === \"=\" ?\n                    {\n                        key: parsedKey.normalized,\n                        value: parsedValue[0],\n                        default: parsedValue[2]\n                    }\n                    : {\n                        key: parsedKey.normalized,\n                        value: parsedValue[0]\n                    }, ctx);\n            }\n            continue;\n        }\n        if (isArray(parsedValue)) {\n            if (parsedValue[1] === \"?\")\n                throwParseError(invalidOptionalKeyKindMessage);\n            if (parsedValue[1] === \"=\")\n                throwParseError(invalidDefaultableKeyKindMessage);\n        }\n        // value must be a BaseRoot at this point\n        if (parsedKey.kind === \"optional\") {\n            appendNamedProp(structure, \"optional\", {\n                key: parsedKey.normalized,\n                value: parsedValue\n            }, ctx);\n            continue;\n        }\n        // must be index at this point\n        const signature = ctx.$.parseOwnDefinitionFormat(parsedEntryKey.normalized, ctx);\n        const normalized = normalizeIndex(signature, parsedValue, ctx.$);\n        if (normalized.index)\n            structure.index = append(structure.index, normalized.index);\n        if (normalized.required)\n            structure.required = append(structure.required, normalized.required);\n    }\n    const structureNode = ctx.$.node(\"structure\", structure);\n    return ctx.$.parseSchema({\n        domain: \"object\",\n        structure: spread?.merge(structureNode) ?? structureNode\n    });\n};\nconst appendNamedProp = (structure, kind, inner, ctx) => {\n    structure[kind] = append(\n    // doesn't seem like this cast should be necessary\n    structure[kind], ctx.$.node(kind, inner));\n};\nexport const writeInvalidUndeclaredBehaviorMessage = (actual) => `Value of '+' key must be 'reject', 'delete', or 'ignore' (was ${printable(actual)})`;\nexport const nonLeadingSpreadError = \"Spread operator may only be used as the first key in an object\";\nexport const preparseKey = (key) => typeof key === \"symbol\" ? { kind: \"required\", normalized: key }\n    : key.at(-1) === \"?\" ?\n        key.at(-2) === escapeChar ?\n            { kind: \"required\", normalized: `${key.slice(0, -2)}?` }\n            : {\n                kind: \"optional\",\n                normalized: key.slice(0, -1)\n            }\n        : key[0] === \"[\" && key.at(-1) === \"]\" ?\n            { kind: \"index\", normalized: key.slice(1, -1) }\n            : key[0] === escapeChar && key[1] === \"[\" && key.at(-1) === \"]\" ?\n                { kind: \"required\", normalized: key.slice(1) }\n                : key === \"...\" ? { kind: \"spread\" }\n                    : key === \"+\" ? { kind: \"undeclared\" }\n                        : {\n                            kind: \"required\",\n                            normalized: key === \"\\\\...\" ? \"...\"\n                                : key === \"\\\\+\" ? \"+\"\n                                    : key\n                        };\nexport const writeInvalidSpreadTypeMessage = (def) => `Spread operand must resolve to an object literal type (was ${def})`;\n", "import { isArray } from \"@ark/util\";\nimport { parseInnerDefinition } from \"./definition.js\";\nexport const parseProperty = (def, ctx) => {\n    if (isArray(def)) {\n        if (def[1] === \"=\")\n            return [ctx.$.parseOwnDefinitionFormat(def[0], ctx), \"=\", def[2]];\n        if (def[1] === \"?\")\n            return [ctx.$.parseOwnDefinitionFormat(def[0], ctx), \"?\"];\n    }\n    // string-embedded defaults/optionals are handled by the string parser\n    return parseInnerDefinition(def, ctx);\n};\n// single quote use here is better for TypeScript's inlined error to avoid escapes\nexport const invalidOptionalKeyKindMessage = `Only required keys may make their values optional, e.g. { [mySymbol]: ['number', '?'] }`;\n// single quote use here is better for TypeScript's inlined error to avoid escapes\nexport const invalidDefaultableKeyKindMessage = `Only required keys may specify default values, e.g. { value: 'number = 0' }`;\n", "import { Disjoint, intersectNodesRoot, pipeNodesRoot } from \"@ark/schema\";\nimport { objectKindOrDomainOf, throwParseError } from \"@ark/util\";\nimport { shallowDefaultableMessage, shallowOptionalMessage } from \"./ast/validate.js\";\nimport { writeMissingRightOperandMessage } from \"./shift/operand/unenclosed.js\";\nexport const maybeParseTupleExpression = (def, ctx) => isIndexZeroExpression(def) ? indexZeroParsers[def[0]](def, ctx)\n    : isIndexOneExpression(def) ? indexOneParsers[def[1]](def, ctx)\n        : null;\nexport const parseKeyOfTuple = (def, ctx) => ctx.$.parseOwnDefinitionFormat(def[1], ctx).keyof();\nconst parseBranchTuple = (def, ctx) => {\n    if (def[2] === undefined)\n        return throwParseError(writeMissingRightOperandMessage(def[1], \"\"));\n    const l = ctx.$.parseOwnDefinitionFormat(def[0], ctx);\n    const r = ctx.$.parseOwnDefinitionFormat(def[2], ctx);\n    if (def[1] === \"|\")\n        return ctx.$.node(\"union\", { branches: [l, r] });\n    const result = def[1] === \"&\" ?\n        intersectNodesRoot(l, r, ctx.$)\n        : pipeNodesRoot(l, r, ctx.$);\n    if (result instanceof Disjoint)\n        return result.throw();\n    return result;\n};\nconst parseArrayTuple = (def, ctx) => ctx.$.parseOwnDefinitionFormat(def[0], ctx).array();\nexport const parseMorphTuple = (def, ctx) => {\n    if (typeof def[2] !== \"function\") {\n        return throwParseError(writeMalformedFunctionalExpressionMessage(\"=>\", def[2]));\n    }\n    return ctx.$.parseOwnDefinitionFormat(def[0], ctx).pipe(def[2]);\n};\nexport const writeMalformedFunctionalExpressionMessage = (operator, value) => `${operator === \":\" ? \"Narrow\" : \"Morph\"} expression requires a function following '${operator}' (was ${typeof value})`;\nexport const parseNarrowTuple = (def, ctx) => {\n    if (typeof def[2] !== \"function\") {\n        return throwParseError(writeMalformedFunctionalExpressionMessage(\":\", def[2]));\n    }\n    return ctx.$.parseOwnDefinitionFormat(def[0], ctx).constrain(\"predicate\", def[2]);\n};\nconst parseAttributeTuple = (def, ctx) => ctx.$.parseOwnDefinitionFormat(def[0], ctx).configureReferences(def[2], \"shallow\");\nconst defineIndexOneParsers = (parsers) => parsers;\nconst postfixParsers = defineIndexOneParsers({\n    \"[]\": parseArrayTuple,\n    \"?\": () => throwParseError(shallowOptionalMessage)\n});\nconst infixParsers = defineIndexOneParsers({\n    \"|\": parseBranchTuple,\n    \"&\": parseBranchTuple,\n    \":\": parseNarrowTuple,\n    \"=>\": parseMorphTuple,\n    \"|>\": parseBranchTuple,\n    \"@\": parseAttributeTuple,\n    // since object and tuple literals parse there via `parseProperty`,\n    // they must be shallow if parsed directly as a tuple expression\n    \"=\": () => throwParseError(shallowDefaultableMessage)\n});\nconst indexOneParsers = { ...postfixParsers, ...infixParsers };\nconst isIndexOneExpression = (def) => indexOneParsers[def[1]] !== undefined;\nconst defineIndexZeroParsers = (parsers) => parsers;\nconst indexZeroParsers = defineIndexZeroParsers({\n    keyof: parseKeyOfTuple,\n    instanceof: (def, ctx) => {\n        if (typeof def[1] !== \"function\") {\n            return throwParseError(writeInvalidConstructorMessage(objectKindOrDomainOf(def[1])));\n        }\n        const branches = def\n            .slice(1)\n            .map(ctor => typeof ctor === \"function\" ?\n            ctx.$.node(\"proto\", { proto: ctor })\n            : throwParseError(writeInvalidConstructorMessage(objectKindOrDomainOf(ctor))));\n        return branches.length === 1 ?\n            branches[0]\n            : ctx.$.node(\"union\", { branches });\n    },\n    \"===\": (def, ctx) => ctx.$.units(def.slice(1))\n});\nconst isIndexZeroExpression = (def) => indexZeroParsers[def[0]] !== undefined;\nexport const writeInvalidConstructorMessage = (actual) => `Expected a constructor following 'instanceof' operator (was ${actual})`;\n", "import { $ark, makeRootAndArrayPropertiesMutable, postfixAfterOptionalOrDefaultableMessage } from \"@ark/schema\";\nimport { append, isArray, isEmptyObject, throwParseError } from \"@ark/util\";\nimport { parseProperty } from \"./property.js\";\nexport const parseTupleLiteral = (def, ctx) => {\n    let sequences = [{}];\n    let i = 0;\n    while (i < def.length) {\n        let spread = false;\n        if (def[i] === \"...\" && i < def.length - 1) {\n            spread = true;\n            i++;\n        }\n        const parsedProperty = parseProperty(def[i], ctx);\n        const [valueNode, operator, possibleDefaultValue] = !isArray(parsedProperty) ? [parsedProperty] : parsedProperty;\n        i++;\n        if (spread) {\n            if (!valueNode.extends($ark.intrinsic.Array))\n                return throwParseError(writeNonArraySpreadMessage(valueNode.expression));\n            // a spread must be distributed over branches e.g.:\n            // def: [string, ...(number[] | [true, false])]\n            // nodes: [string, ...number[]] | [string, true, false]\n            sequences = sequences.flatMap(base => \n            // since appendElement mutates base, we have to shallow-ish clone it for each branch\n            valueNode.distribute(branch => appendSpreadBranch(makeRootAndArrayPropertiesMutable(base), branch)));\n        }\n        else {\n            sequences = sequences.map(base => {\n                if (operator === \"?\")\n                    return appendOptionalElement(base, valueNode);\n                if (operator === \"=\")\n                    return appendDefaultableElement(base, valueNode, possibleDefaultValue);\n                return appendRequiredElement(base, valueNode);\n            });\n        }\n    }\n    return ctx.$.parseSchema(sequences.map(sequence => isEmptyObject(sequence) ?\n        {\n            proto: Array,\n            exactLength: 0\n        }\n        : {\n            proto: Array,\n            sequence\n        }));\n};\nconst appendRequiredElement = (base, element) => {\n    if (base.defaultables || base.optionals) {\n        return throwParseError(base.variadic ?\n            // e.g. [boolean = true, ...string[], number]\n            postfixAfterOptionalOrDefaultableMessage\n            // e.g. [string?, number]\n            : requiredPostOptionalMessage);\n    }\n    if (base.variadic) {\n        // e.g. [...string[], number]\n        base.postfix = append(base.postfix, element);\n    }\n    else {\n        // e.g. [string, number]\n        base.prefix = append(base.prefix, element);\n    }\n    return base;\n};\nconst appendOptionalElement = (base, element) => {\n    if (base.variadic)\n        // e.g. [...string[], number?]\n        return throwParseError(optionalOrDefaultableAfterVariadicMessage);\n    // e.g. [string, number?]\n    base.optionals = append(base.optionals, element);\n    return base;\n};\nconst appendDefaultableElement = (base, element, value) => {\n    if (base.variadic)\n        // e.g. [...string[], number = 0]\n        return throwParseError(optionalOrDefaultableAfterVariadicMessage);\n    if (base.optionals)\n        // e.g. [string?, number = 0]\n        return throwParseError(defaultablePostOptionalMessage);\n    // value's assignability to element will be checked when the\n    // sequence is instantiated by @ark/schema\n    // e.g. [string, number = 0]\n    base.defaultables = append(base.defaultables, [[element, value]]);\n    return base;\n};\nconst appendVariadicElement = (base, element) => {\n    // e.g. [...string[], number, ...string[]]\n    if (base.postfix)\n        throwParseError(multipleVariadicMesage);\n    if (base.variadic) {\n        if (!base.variadic.equals(element)) {\n            // e.g. [...string[], ...number[]]\n            throwParseError(multipleVariadicMesage);\n        }\n        // e.g. [...string[], ...string[]]\n        // do nothing, second spread doesn't change the type\n    }\n    else {\n        // e.g. [string, ...number[]]\n        base.variadic = element.internal;\n    }\n    return base;\n};\nconst appendSpreadBranch = (base, branch) => {\n    const spread = branch.select({ method: \"find\", kind: \"sequence\" });\n    if (!spread) {\n        // the only array with no sequence reference is unknown[]\n        return appendVariadicElement(base, $ark.intrinsic.unknown);\n    }\n    if (spread.prefix)\n        for (const node of spread.prefix)\n            appendRequiredElement(base, node);\n    if (spread.optionals)\n        for (const node of spread.optionals)\n            appendOptionalElement(base, node);\n    if (spread.variadic)\n        appendVariadicElement(base, spread.variadic);\n    if (spread.postfix)\n        for (const node of spread.postfix)\n            appendRequiredElement(base, node);\n    return base;\n};\nexport const writeNonArraySpreadMessage = (operand) => `Spread element must be an array (was ${operand})`;\nexport const multipleVariadicMesage = \"A tuple may have at most one variadic element\";\nexport const requiredPostOptionalMessage = \"A required element may not follow an optional element\";\nexport const optionalOrDefaultableAfterVariadicMessage = \"An optional element may not follow a variadic element\";\nexport const spreadOptionalMessage = \"A spread element cannot be optional\";\nexport const spreadDefaultableMessage = \"A spread element cannot have a default\";\nexport const defaultablePostOptionalMessage = \"A defaultable element may not follow an optional element without a default\";\n", "import { ArkErrors, BaseRoot, GenericRoot } from \"@ark/schema\";\nimport { Callable, Hkt } from \"@ark/util\";\nexport class InternalTypeParser extends Callable {\n    constructor($) {\n        const attach = Object.assign({\n            errors: ArkErrors,\n            hkt: Hkt,\n            $: $,\n            raw: $.parse,\n            module: $.constructor.module,\n            scope: $.constructor.scope,\n            define: $.define,\n            match: $.match,\n            generic: $.generic,\n            schema: $.schema,\n            // this won't be defined during bootstrapping, but externally always will be\n            keywords: $.ambient,\n            unit: $.unit,\n            enumerated: $.enumerated,\n            instanceOf: $.instanceOf,\n            valueOf: $.valueOf,\n            or: $.or,\n            and: $.and,\n            merge: $.merge,\n            pipe: $.pipe\n        }, \n        // also won't be defined during bootstrapping\n        $.ambientAttachments);\n        super((...args) => {\n            if (args.length === 1) {\n                // treat as a simple definition\n                return $.parse(args[0]);\n            }\n            if (args.length === 2 &&\n                typeof args[0] === \"string\" &&\n                args[0][0] === \"<\" &&\n                args[0].at(-1) === \">\") {\n                // if there are exactly two args, the first of which looks like <${string}>,\n                // treat as a generic\n                const paramString = args[0].slice(1, -1);\n                const params = $.parseGenericParams(paramString, {});\n                return new GenericRoot(params, args[1], $, $, null);\n            }\n            // otherwise, treat as a tuple expression. technically, this also allows\n            // non-expression tuple definitions to be parsed, but it's not a supported\n            // part of the API as specified by the associated types\n            return $.parse(args);\n        }, {\n            bind: $,\n            attach\n        });\n    }\n}\nexport const Type = BaseRoot;\n", "import { genericNode, intrinsic } from \"@ark/schema\";\nimport { Hkt } from \"@ark/util\";\nimport { Scope } from \"../scope.js\";\nclass MergeHkt extends Hkt {\n    description = 'merge an object\\'s properties onto another like `Merge(User, { isAdmin: \"true\" })`';\n}\nconst Merge = genericNode([\"base\", intrinsic.object], [\"props\", intrinsic.object])(args => args.base.merge(args.props), MergeHkt);\nexport const arkBuiltins = Scope.module({\n    Key: intrinsic.key,\n    Merge\n});\n", "import { ecmascriptConstructors, flatMorph, platformConstructors } from \"@ark/util\";\nimport { Scope } from \"../scope.js\";\nimport { arkArray } from \"./Array.js\";\nimport { arkFormData } from \"./FormData.js\";\nimport { TypedArray } from \"./TypedArray.js\";\nconst omittedPrototypes = {\n    Boolean: 1,\n    Number: 1,\n    String: 1\n};\nexport const arkPrototypes = Scope.module({\n    ...flatMorph({ ...ecmascriptConstructors, ...platformConstructors }, (k, v) => (k in omittedPrototypes ? [] : [k, [\"instanceof\", v]])),\n    Array: arkArray,\n    TypedArray,\n    FormData: arkFormData\n});\n", "import { genericNode, intrinsic, rootSchema } from \"@ark/schema\";\nimport { Hkt, liftArray } from \"@ark/util\";\nimport { Scope } from \"../scope.js\";\nclass liftFromHkt extends Hkt {\n}\nconst liftFrom = genericNode(\"element\")(args => {\n    const nonArrayElement = args.element.exclude(intrinsic.Array);\n    const lifted = nonArrayElement.array();\n    return nonArrayElement\n        .rawOr(lifted)\n        .pipe(liftArray)\n        .distribute(branch => branch.assertHasKind(\"morph\").declareOut(lifted), rootSchema);\n}, liftFromHkt);\nexport const arkArray = Scope.module({\n    root: intrinsic.Array,\n    readonly: \"root\",\n    index: intrinsic.nonNegativeIntegerString,\n    liftFrom\n}, {\n    name: \"Array\"\n});\n", "import { rootSchema } from \"@ark/schema\";\nimport { registry } from \"@ark/util\";\nimport { Scope } from \"../scope.js\";\nconst value = rootSchema([\"string\", registry.FileConstructor]);\nconst parsedFormDataValue = value.rawOr(value.array());\nconst parsed = rootSchema({\n    meta: \"an object representing parsed form data\",\n    domain: \"object\",\n    index: {\n        signature: \"string\",\n        value: parsedFormDataValue\n    }\n});\nexport const arkFormData = Scope.module({\n    root: [\"instanceof\", FormData],\n    value,\n    parsed,\n    parse: rootSchema({\n        in: FormData,\n        morphs: (data) => {\n            const result = {};\n            for (const [k, v] of data) {\n                if (k in result) {\n                    const existing = result[k];\n                    if (typeof existing === \"string\" ||\n                        existing instanceof registry.FileConstructor)\n                        result[k] = [existing, v];\n                    else\n                        existing.push(v);\n                }\n                else\n                    result[k] = v;\n            }\n            return result;\n        },\n        declaredOut: parsed\n    })\n}, {\n    name: \"FormData\"\n});\n", "import { Scope } from \"../scope.js\";\nexport const TypedArray = Scope.module({\n    Int8: [\"instanceof\", Int8Array],\n    Uint8: [\"instanceof\", Uint8Array],\n    Uint8Clamped: [\"instanceof\", Uint8ClampedArray],\n    Int16: [\"instanceof\", Int16Array],\n    Uint16: [\"instanceof\", Uint16Array],\n    Int32: [\"instanceof\", Int32Array],\n    Uint32: [\"instanceof\", Uint32Array],\n    Float32: [\"instanceof\", Float32Array],\n    Float64: [\"instanceof\", Float64Array],\n    BigInt64: [\"instanceof\", BigInt64Array],\n    BigUint64: [\"instanceof\", BigUint64Array]\n}, {\n    name: \"TypedArray\"\n});\n", "import { intrinsic, rootSchema } from \"@ark/schema\";\nimport { Scope } from \"../scope.js\";\n/**\n * As per the ECMA-262 specification:\n * A time value supports a slightly smaller range of -8,640,000,000,000,000 to 8,640,000,000,000,000 milliseconds.\n *\n * @see https://262.ecma-international.org/15.0/index.html#sec-time-values-and-time-range\n */\nexport const epoch = rootSchema({\n    domain: {\n        domain: \"number\",\n        meta: \"a number representing a Unix timestamp\"\n    },\n    divisor: {\n        rule: 1,\n        meta: `an integer representing a Unix timestamp`\n    },\n    min: {\n        rule: -8640000000000000,\n        meta: `a Unix timestamp after -8640000000000000`\n    },\n    max: {\n        rule: 8640000000000000,\n        meta: \"a Unix timestamp before 8640000000000000\"\n    },\n    meta: \"an integer representing a safe Unix timestamp\"\n});\nexport const integer = rootSchema({\n    domain: \"number\",\n    divisor: 1\n});\nexport const number = Scope.module({\n    root: intrinsic.number,\n    integer,\n    epoch,\n    safe: rootSchema({\n        domain: {\n            domain: \"number\",\n            numberAllowsNaN: false\n        },\n        min: Number.MIN_SAFE_INTEGER,\n        max: Number.MAX_SAFE_INTEGER\n    }),\n    NaN: [\"===\", Number.NaN],\n    Infinity: [\"===\", Number.POSITIVE_INFINITY],\n    NegativeInfinity: [\"===\", Number.NEGATIVE_INFINITY]\n}, {\n    name: \"number\"\n});\n", "import { ArkErrors, intrinsic, node, rootSchema } from \"@ark/schema\";\nimport { flatMorph, numericStringMatcher, wellFormedIntegerMatcher } from \"@ark/util\";\nimport { Scope } from \"../scope.js\";\nimport { number } from \"./number.js\";\n// non-trivial expressions should have an explanation or attribution\nexport const regexStringNode = (regex, description, jsonSchemaFormat) => {\n    const schema = {\n        domain: \"string\",\n        pattern: {\n            rule: regex.source,\n            flags: regex.flags,\n            meta: description\n        }\n    };\n    if (jsonSchemaFormat)\n        schema.meta = { format: jsonSchemaFormat };\n    return node(\"intersection\", schema);\n};\nconst stringIntegerRoot = regexStringNode(wellFormedIntegerMatcher, \"a well-formed integer string\");\nexport const stringInteger = Scope.module({\n    root: stringIntegerRoot,\n    parse: rootSchema({\n        in: stringIntegerRoot,\n        morphs: (s, ctx) => {\n            const parsed = Number.parseInt(s);\n            return Number.isSafeInteger(parsed) ? parsed : (ctx.error(\"an integer in the range Number.MIN_SAFE_INTEGER to Number.MAX_SAFE_INTEGER\"));\n        },\n        declaredOut: intrinsic.integer\n    })\n}, {\n    name: \"string.integer\"\n});\nconst hex = regexStringNode(/^[\\dA-Fa-f]+$/, \"hex characters only\");\nconst base64 = Scope.module({\n    root: regexStringNode(/^(?:[\\d+/A-Za-z]{4})*(?:[\\d+/A-Za-z]{2}==|[\\d+/A-Za-z]{3}=)?$/, \"base64-encoded\"),\n    url: regexStringNode(/^(?:[\\w-]{4})*(?:[\\w-]{2}(?:==|%3D%3D)?|[\\w-]{3}(?:=|%3D)?)?$/, \"base64url-encoded\")\n}, {\n    name: \"string.base64\"\n});\nconst preformattedCapitalize = regexStringNode(/^[A-Z].*$/, \"capitalized\");\nexport const capitalize = Scope.module({\n    root: rootSchema({\n        in: \"string\",\n        morphs: (s) => s.charAt(0).toUpperCase() + s.slice(1),\n        declaredOut: preformattedCapitalize\n    }),\n    preformatted: preformattedCapitalize\n}, {\n    name: \"string.capitalize\"\n});\n// https://github.com/validatorjs/validator.js/blob/master/src/lib/isLuhnNumber.js\nexport const isLuhnValid = (creditCardInput) => {\n    const sanitized = creditCardInput.replaceAll(/[ -]+/g, \"\");\n    let sum = 0;\n    let digit;\n    let tmpNum;\n    let shouldDouble = false;\n    for (let i = sanitized.length - 1; i >= 0; i--) {\n        digit = sanitized.substring(i, i + 1);\n        tmpNum = Number.parseInt(digit, 10);\n        if (shouldDouble) {\n            tmpNum *= 2;\n            sum += tmpNum >= 10 ? (tmpNum % 10) + 1 : tmpNum;\n        }\n        else\n            sum += tmpNum;\n        shouldDouble = !shouldDouble;\n    }\n    return !!(sum % 10 === 0 ? sanitized : false);\n};\n// https://github.com/validatorjs/validator.js/blob/master/src/lib/isCreditCard.js\nconst creditCardMatcher = /^(?:4\\d{12}(?:\\d{3,6})?|5[1-5]\\d{14}|(222[1-9]|22[3-9]\\d|2[3-6]\\d{2}|27[01]\\d|2720)\\d{12}|6(?:011|5\\d\\d)\\d{12,15}|3[47]\\d{13}|3(?:0[0-5]|[68]\\d)\\d{11}|(?:2131|1800|35\\d{3})\\d{11}|6[27]\\d{14}|^(81\\d{14,17}))$/;\nexport const creditCard = rootSchema({\n    domain: \"string\",\n    pattern: {\n        meta: \"a credit card number\",\n        rule: creditCardMatcher.source\n    },\n    predicate: {\n        meta: \"a credit card number\",\n        predicate: isLuhnValid\n    }\n});\nconst dayDelimiterMatcher = /^[./-]$/;\n// ISO 8601 date/time modernized from https://github.com/validatorjs/validator.js/blob/master/src/lib/isISO8601.js\n// Based on https://tc39.es/ecma262/#sec-date-time-string-format, the T\n// delimiter for date/time is mandatory. Regex from validator.js strict matcher:\nexport const iso8601Matcher = /^([+-]?\\d{4}(?!\\d{2}\\b))((-?)((0[1-9]|1[0-2])(\\3([12]\\d|0[1-9]|3[01]))?|W([0-4]\\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\\d|[12]\\d{2}|3([0-5]\\d|6[1-6])))(T((([01]\\d|2[0-3])((:?)[0-5]\\d)?|24:?00)([,.]\\d+(?!:))?)?(\\17[0-5]\\d([,.]\\d+)?)?([Zz]|([+-])([01]\\d|2[0-3]):?([0-5]\\d)?)?)?)?$/;\nconst isValidDateInstance = (date) => !Number.isNaN(+date);\nconst writeFormattedExpected = (format) => `a ${format}-formatted date`;\nexport const tryParseDatePattern = (data, opts) => {\n    if (!opts?.format) {\n        const result = new Date(data);\n        return isValidDateInstance(result) ? result : \"a valid date\";\n    }\n    if (opts.format === \"iso\") {\n        return iso8601Matcher.test(data) ?\n            new Date(data)\n            : writeFormattedExpected(\"iso\");\n    }\n    const dataParts = data.split(dayDelimiterMatcher);\n    // will be the first delimiter matched, if there is one\n    const delimiter = data[dataParts[0].length];\n    const formatParts = delimiter ? opts.format.split(delimiter) : [opts.format];\n    if (dataParts.length !== formatParts.length)\n        return writeFormattedExpected(opts.format);\n    const parsedParts = {};\n    for (let i = 0; i < formatParts.length; i++) {\n        if (dataParts[i].length !== formatParts[i].length &&\n            // if format is \"m\" or \"d\", data is allowed to be 1 or 2 characters\n            !(formatParts[i].length === 1 && dataParts[i].length === 2))\n            return writeFormattedExpected(opts.format);\n        parsedParts[formatParts[i][0]] = dataParts[i];\n    }\n    const date = new Date(`${parsedParts.m}/${parsedParts.d}/${parsedParts.y}`);\n    if (`${date.getDate()}` === parsedParts.d)\n        return date;\n    return writeFormattedExpected(opts.format);\n};\nconst isParsableDate = (s) => !Number.isNaN(new Date(s).valueOf());\nconst parsableDate = rootSchema({\n    domain: \"string\",\n    predicate: {\n        meta: \"a parsable date\",\n        predicate: isParsableDate\n    }\n}).assertHasKind(\"intersection\");\nconst epochRoot = stringInteger.root.internal\n    .narrow((s, ctx) => {\n    // this is safe since it has already\n    // been validated as an integer string\n    const n = Number.parseInt(s);\n    const out = number.epoch(n);\n    if (out instanceof ArkErrors) {\n        ctx.errors.merge(out);\n        return false;\n    }\n    return true;\n})\n    .configure({\n    description: \"an integer string representing a safe Unix timestamp\"\n}, \"self\")\n    .assertHasKind(\"intersection\");\nconst epoch = Scope.module({\n    root: epochRoot,\n    parse: rootSchema({\n        in: epochRoot,\n        morphs: (s) => new Date(s),\n        declaredOut: intrinsic.Date\n    })\n}, {\n    name: \"string.date.epoch\"\n});\nconst isoRoot = regexStringNode(iso8601Matcher, \"an ISO 8601 (YYYY-MM-DDTHH:mm:ss.sssZ) date\").internal.assertHasKind(\"intersection\");\nconst iso = Scope.module({\n    root: isoRoot,\n    parse: rootSchema({\n        in: isoRoot,\n        morphs: (s) => new Date(s),\n        declaredOut: intrinsic.Date\n    })\n}, {\n    name: \"string.date.iso\"\n});\nexport const stringDate = Scope.module({\n    root: parsableDate,\n    parse: rootSchema({\n        declaredIn: parsableDate,\n        in: \"string\",\n        morphs: (s, ctx) => {\n            const date = new Date(s);\n            if (Number.isNaN(date.valueOf()))\n                return ctx.error(\"a parsable date\");\n            return date;\n        },\n        declaredOut: intrinsic.Date\n    }),\n    iso,\n    epoch\n}, {\n    name: \"string.date\"\n});\nconst email = regexStringNode(\n// considered https://colinhacks.com/essays/reasonable-email-regex but it includes a lookahead\n// which breaks some integrations e.g. fast-check\n// regex based on:\n// https://www.regular-expressions.info/email.html\n/^[\\w%+.-]+@[\\d.A-Za-z-]+\\.[A-Za-z]{2,}$/, \"an email address\", \"email\");\n// based on https://github.com/validatorjs/validator.js/blob/master/src/lib/isIP.js\nconst ipv4Segment = \"(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\";\nconst ipv4Address = `(${ipv4Segment}[.]){3}${ipv4Segment}`;\nconst ipv4Matcher = new RegExp(`^${ipv4Address}$`);\nconst ipv6Segment = \"(?:[0-9a-fA-F]{1,4})\";\nconst ipv6Matcher = new RegExp(\"^(\" +\n    `(?:${ipv6Segment}:){7}(?:${ipv6Segment}|:)|` +\n    `(?:${ipv6Segment}:){6}(?:${ipv4Address}|:${ipv6Segment}|:)|` +\n    `(?:${ipv6Segment}:){5}(?::${ipv4Address}|(:${ipv6Segment}){1,2}|:)|` +\n    `(?:${ipv6Segment}:){4}(?:(:${ipv6Segment}){0,1}:${ipv4Address}|(:${ipv6Segment}){1,3}|:)|` +\n    `(?:${ipv6Segment}:){3}(?:(:${ipv6Segment}){0,2}:${ipv4Address}|(:${ipv6Segment}){1,4}|:)|` +\n    `(?:${ipv6Segment}:){2}(?:(:${ipv6Segment}){0,3}:${ipv4Address}|(:${ipv6Segment}){1,5}|:)|` +\n    `(?:${ipv6Segment}:){1}(?:(:${ipv6Segment}){0,4}:${ipv4Address}|(:${ipv6Segment}){1,6}|:)|` +\n    `(?::((?::${ipv6Segment}){0,5}:${ipv4Address}|(?::${ipv6Segment}){1,7}|:))` +\n    \")(%[0-9a-zA-Z.]{1,})?$\");\nexport const ip = Scope.module({\n    root: [\"v4 | v6\", \"@\", \"an IP address\"],\n    v4: regexStringNode(ipv4Matcher, \"an IPv4 address\", \"ipv4\"),\n    v6: regexStringNode(ipv6Matcher, \"an IPv6 address\", \"ipv6\")\n}, {\n    name: \"string.ip\"\n});\nconst jsonStringDescription = \"a JSON string\";\nexport const writeJsonSyntaxErrorProblem = (error) => {\n    if (!(error instanceof SyntaxError))\n        throw error;\n    return `must be ${jsonStringDescription} (${error})`;\n};\nconst jsonRoot = rootSchema({\n    meta: jsonStringDescription,\n    domain: \"string\",\n    predicate: {\n        meta: jsonStringDescription,\n        predicate: (s, ctx) => {\n            try {\n                JSON.parse(s);\n                return true;\n            }\n            catch (e) {\n                return ctx.reject({\n                    code: \"predicate\",\n                    expected: jsonStringDescription,\n                    problem: writeJsonSyntaxErrorProblem(e)\n                });\n            }\n        }\n    }\n});\nconst parseJson = (s, ctx) => {\n    if (s.length === 0) {\n        return ctx.error({\n            code: \"predicate\",\n            expected: jsonStringDescription,\n            actual: \"empty\"\n        });\n    }\n    try {\n        return JSON.parse(s);\n    }\n    catch (e) {\n        return ctx.error({\n            code: \"predicate\",\n            expected: jsonStringDescription,\n            problem: writeJsonSyntaxErrorProblem(e)\n        });\n    }\n};\nexport const json = Scope.module({\n    root: jsonRoot,\n    parse: rootSchema({\n        meta: \"safe JSON string parser\",\n        in: \"string\",\n        morphs: parseJson,\n        declaredOut: intrinsic.jsonObject\n    })\n}, {\n    name: \"string.json\"\n});\nconst preformattedLower = regexStringNode(/^[a-z]*$/, \"only lowercase letters\");\nconst lower = Scope.module({\n    root: rootSchema({\n        in: \"string\",\n        morphs: (s) => s.toLowerCase(),\n        declaredOut: preformattedLower\n    }),\n    preformatted: preformattedLower\n}, {\n    name: \"string.lower\"\n});\nexport const normalizedForms = [\"NFC\", \"NFD\", \"NFKC\", \"NFKD\"];\nconst preformattedNodes = flatMorph(normalizedForms, (i, form) => [\n    form,\n    rootSchema({\n        domain: \"string\",\n        predicate: (s) => s.normalize(form) === s,\n        meta: `${form}-normalized unicode`\n    })\n]);\nconst normalizeNodes = flatMorph(normalizedForms, (i, form) => [\n    form,\n    rootSchema({\n        in: \"string\",\n        morphs: (s) => s.normalize(form),\n        declaredOut: preformattedNodes[form]\n    })\n]);\nexport const NFC = Scope.module({\n    root: normalizeNodes.NFC,\n    preformatted: preformattedNodes.NFC\n}, {\n    name: \"string.normalize.NFC\"\n});\nexport const NFD = Scope.module({\n    root: normalizeNodes.NFD,\n    preformatted: preformattedNodes.NFD\n}, {\n    name: \"string.normalize.NFD\"\n});\nexport const NFKC = Scope.module({\n    root: normalizeNodes.NFKC,\n    preformatted: preformattedNodes.NFKC\n}, {\n    name: \"string.normalize.NFKC\"\n});\nexport const NFKD = Scope.module({\n    root: normalizeNodes.NFKD,\n    preformatted: preformattedNodes.NFKD\n}, {\n    name: \"string.normalize.NFKD\"\n});\nexport const normalize = Scope.module({\n    root: \"NFC\",\n    NFC,\n    NFD,\n    NFKC,\n    NFKD\n}, {\n    name: \"string.normalize\"\n});\nconst numericRoot = regexStringNode(numericStringMatcher, \"a well-formed numeric string\");\nexport const stringNumeric = Scope.module({\n    root: numericRoot,\n    parse: rootSchema({\n        in: numericRoot,\n        morphs: (s) => Number.parseFloat(s),\n        declaredOut: intrinsic.number\n    })\n}, {\n    name: \"string.numeric\"\n});\nconst regexPatternDescription = \"a regex pattern\";\nconst regex = rootSchema({\n    domain: \"string\",\n    predicate: {\n        meta: regexPatternDescription,\n        predicate: (s, ctx) => {\n            try {\n                new RegExp(s);\n                return true;\n            }\n            catch (e) {\n                return ctx.reject({\n                    code: \"predicate\",\n                    expected: regexPatternDescription,\n                    problem: String(e)\n                });\n            }\n        }\n    },\n    meta: { format: \"regex\" }\n});\nconst semverMatcher = /^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[A-Za-z-][\\dA-Za-z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[A-Za-z-][\\dA-Za-z-]*))*))?(?:\\+([\\dA-Za-z-]+(?:\\.[\\dA-Za-z-]+)*))?$/;\nconst semver = regexStringNode(semverMatcher, \"a semantic version (see https://semver.org/)\");\nconst preformattedTrim = regexStringNode(\n// no leading or trailing whitespace\n/^\\S.*\\S$|^\\S?$/, \"trimmed\");\nconst trim = Scope.module({\n    root: rootSchema({\n        in: \"string\",\n        morphs: (s) => s.trim(),\n        declaredOut: preformattedTrim\n    }),\n    preformatted: preformattedTrim\n}, {\n    name: \"string.trim\"\n});\nconst preformattedUpper = regexStringNode(/^[A-Z]*$/, \"only uppercase letters\");\nconst upper = Scope.module({\n    root: rootSchema({\n        in: \"string\",\n        morphs: (s) => s.toUpperCase(),\n        declaredOut: preformattedUpper\n    }),\n    preformatted: preformattedUpper\n}, {\n    name: \"string.upper\"\n});\nconst isParsableUrl = (s) => {\n    if (URL.canParse)\n        return URL.canParse(s);\n    // TODO[2025-04-30] remove once Node 18 is EOL and we can rely on URL.canParse\n    try {\n        new URL(s);\n        return true;\n    }\n    catch {\n        return false;\n    }\n};\nconst urlRoot = rootSchema({\n    domain: \"string\",\n    predicate: {\n        meta: \"a URL string\",\n        predicate: isParsableUrl\n    },\n    // URL.canParse allows a subset of the RFC-3986 URI spec\n    // since there is no other serializable validation, best include a format\n    meta: { format: \"uri\" }\n});\nexport const url = Scope.module({\n    root: urlRoot,\n    parse: rootSchema({\n        declaredIn: urlRoot,\n        in: \"string\",\n        morphs: (s, ctx) => {\n            try {\n                return new URL(s);\n            }\n            catch {\n                return ctx.error(\"a URL string\");\n            }\n        },\n        declaredOut: rootSchema(URL)\n    })\n}, {\n    name: \"string.url\"\n});\n// based on https://github.com/validatorjs/validator.js/blob/master/src/lib/isUUID.js\nexport const uuid = Scope.module({\n    // the meta tuple expression ensures the error message does not delegate\n    // to the individual branches, which are too detailed\n    root: [\n        \"versioned | nil | max\",\n        \"@\",\n        { description: \"a UUID\", format: \"uuid\" }\n    ],\n    \"#nil\": \"'00000000-0000-0000-0000-000000000000'\",\n    \"#max\": \"'ffffffff-ffff-ffff-ffff-ffffffffffff'\",\n    \"#versioned\": /[\\da-f]{8}-[\\da-f]{4}-[1-8][\\da-f]{3}-[89ab][\\da-f]{3}-[\\da-f]{12}/i,\n    v1: regexStringNode(/^[\\da-f]{8}-[\\da-f]{4}-1[\\da-f]{3}-[89ab][\\da-f]{3}-[\\da-f]{12}$/i, \"a UUIDv1\"),\n    v2: regexStringNode(/^[\\da-f]{8}-[\\da-f]{4}-2[\\da-f]{3}-[89ab][\\da-f]{3}-[\\da-f]{12}$/i, \"a UUIDv2\"),\n    v3: regexStringNode(/^[\\da-f]{8}-[\\da-f]{4}-3[\\da-f]{3}-[89ab][\\da-f]{3}-[\\da-f]{12}$/i, \"a UUIDv3\"),\n    v4: regexStringNode(/^[\\da-f]{8}-[\\da-f]{4}-4[\\da-f]{3}-[89ab][\\da-f]{3}-[\\da-f]{12}$/i, \"a UUIDv4\"),\n    v5: regexStringNode(/^[\\da-f]{8}-[\\da-f]{4}-5[\\da-f]{3}-[89ab][\\da-f]{3}-[\\da-f]{12}$/i, \"a UUIDv5\"),\n    v6: regexStringNode(/^[\\da-f]{8}-[\\da-f]{4}-6[\\da-f]{3}-[89ab][\\da-f]{3}-[\\da-f]{12}$/i, \"a UUIDv6\"),\n    v7: regexStringNode(/^[\\da-f]{8}-[\\da-f]{4}-7[\\da-f]{3}-[89ab][\\da-f]{3}-[\\da-f]{12}$/i, \"a UUIDv7\"),\n    v8: regexStringNode(/^[\\da-f]{8}-[\\da-f]{4}-8[\\da-f]{3}-[89ab][\\da-f]{3}-[\\da-f]{12}$/i, \"a UUIDv8\")\n}, {\n    name: \"string.uuid\"\n});\nexport const string = Scope.module({\n    root: intrinsic.string,\n    alpha: regexStringNode(/^[A-Za-z]*$/, \"only letters\"),\n    alphanumeric: regexStringNode(/^[\\dA-Za-z]*$/, \"only letters and digits 0-9\"),\n    hex,\n    base64,\n    capitalize,\n    creditCard,\n    date: stringDate,\n    digits: regexStringNode(/^\\d*$/, \"only digits 0-9\"),\n    email,\n    integer: stringInteger,\n    ip,\n    json,\n    lower,\n    normalize,\n    numeric: stringNumeric,\n    regex,\n    semver,\n    trim,\n    upper,\n    url,\n    uuid\n}, {\n    name: \"string\"\n});\n", "import { genericNode, intrinsic, node } from \"@ark/schema\";\nimport { Hkt } from \"@ark/util\";\nimport { Scope } from \"../scope.js\";\nexport const arkTsKeywords = Scope.module({\n    bigint: intrinsic.bigint,\n    boolean: intrinsic.boolean,\n    false: intrinsic.false,\n    never: intrinsic.never,\n    null: intrinsic.null,\n    number: intrinsic.number,\n    object: intrinsic.object,\n    string: intrinsic.string,\n    symbol: intrinsic.symbol,\n    true: intrinsic.true,\n    unknown: intrinsic.unknown,\n    undefined: intrinsic.undefined\n});\nexport const unknown = Scope.module({\n    root: intrinsic.unknown,\n    any: intrinsic.unknown\n}, {\n    name: \"unknown\"\n});\nexport const json = Scope.module({\n    root: intrinsic.jsonObject,\n    stringify: node(\"morph\", {\n        in: intrinsic.jsonObject,\n        morphs: (data) => JSON.stringify(data),\n        declaredOut: intrinsic.string\n    })\n}, {\n    name: \"object.json\"\n});\nexport const object = Scope.module({\n    root: intrinsic.object,\n    json\n}, {\n    name: \"object\"\n});\nclass RecordHkt extends Hkt {\n    description = 'instantiate an object from an index signature and corresponding value type like `Record(\"string\", \"number\")`';\n}\nconst Record = genericNode([\"K\", intrinsic.key], \"V\")(args => ({\n    domain: \"object\",\n    index: {\n        signature: args.K,\n        value: args.V\n    }\n}), RecordHkt);\nclass PickHkt extends Hkt {\n    description = 'pick a set of properties from an object like `Pick(User, \"name | age\")`';\n}\nconst Pick = genericNode([\"T\", intrinsic.object], [\"K\", intrinsic.key])(args => args.T.pick(args.K), PickHkt);\nclass OmitHkt extends Hkt {\n    description = 'omit a set of properties from an object like `Omit(User, \"age\")`';\n}\nconst Omit = genericNode([\"T\", intrinsic.object], [\"K\", intrinsic.key])(args => args.T.omit(args.K), OmitHkt);\nclass PartialHkt extends Hkt {\n    description = \"make all named properties of an object optional like `Partial(User)`\";\n}\nconst Partial = genericNode([\"T\", intrinsic.object])(args => args.T.partial(), PartialHkt);\nclass RequiredHkt extends Hkt {\n    description = \"make all named properties of an object required like `Required(User)`\";\n}\nconst Required = genericNode([\"T\", intrinsic.object])(args => args.T.required(), RequiredHkt);\nclass ExcludeHkt extends Hkt {\n    description = 'exclude branches of a union like `Exclude(\"boolean\", \"true\")`';\n}\nconst Exclude = genericNode(\"T\", \"U\")(args => args.T.exclude(args.U), ExcludeHkt);\nclass ExtractHkt extends Hkt {\n    description = 'extract branches of a union like `Extract(\"0 | false | 1\", \"number\")`';\n}\nconst Extract = genericNode(\"T\", \"U\")(args => args.T.extract(args.U), ExtractHkt);\nexport const arkTsGenerics = Scope.module({\n    Exclude,\n    Extract,\n    Omit,\n    Partial,\n    Pick,\n    Record,\n    Required\n});\n", "import { RootModule } from \"@ark/schema\";\nexport const Module = RootModule;\nexport const BoundModule = RootModule;\n", "/**\n * Produces a map of all Epicenter applications with their metadata. Currently only includes the URL,\n * which varies depending on the environment (development or production).\n * \n * These URLs are reused in Vite, Node, and Cloudflare to properly access specific app URLs.\n */\nexport const createApps = (env: 'development' | 'production') => {\n\tconst isProduction = env === 'production';\n\treturn {\n\t\t/**\n\t\t * Authentication service for the application ecosystem\n\t\t */\n\t\tAUTH: {\n\t\t\tURL: isProduction ? 'https://auth.epicenter.so' : 'http://localhost:8787',\n\t\t},\n\t\t/**\n\t\t * Main epicenter.sh web application\n\t\t */\n\t\tSH: {\n\t\t\tURL: isProduction ? 'https://epicenter.sh' : 'http://localhost:5173',\n\t\t},\n\t\t/**\n\t\t * Whispering audio transcription application\n\t\t */\n\t\tAUDIO: {\n\t\t\tURL: isProduction\n\t\t\t\t? 'https://whispering.bradenwong.com'\n\t\t\t\t: 'http://localhost:1420',\n\t\t},\n\t} as const;\n};\n\n/**\n * Derives all URLs from createApps and returns them as an array.\n * \n * Useful for:\n * - CORS configuration\n * - Security policies\n * - Any scenario requiring a list of all service endpoints\n */\nexport const createAppUrls = (env: 'development' | 'production') =>\n\tObject.values(createApps(env)).map((app) => app.URL);\n", "import { betterAuth } from 'better-auth';\nimport { drizzleAdapter } from 'better-auth/adapters/drizzle';\nimport { db } from '@repo/db';\nimport { APPS, APP_URLS, type Env } from '@repo/constants/cloudflare';\n\nexport const auth = (env: Env) =>\n\tbetterAuth({\n\t\tdatabase: drizzleAdapter(db(env), { provider: 'pg' }),\n\t\tsocialProviders: {\n\t\t\tgithub: {\n\t\t\t\tclientId: env.GITHUB_CLIENT_ID,\n\t\t\t\tclientSecret: env.GITHUB_CLIENT_SECRET,\n\t\t\t},\n\t\t},\n\t\ttrustedOrigins: APP_URLS(env),\n\t\tbaseURL: APPS(env).AUTH.URL,\n\t\tadvanced: {\n\t\t\tcrossSubDomainCookies: {\n\t\t\t\tenabled: true,\n\t\t\t},\n\t\t},\n\t});\n", "export { b as betterAuth } from './shared/better-auth.VOBpdwFt.mjs';\nexport { B as BetterAuthError, M as MissingDependencyError } from './shared/better-auth.DdzSJf-n.mjs';\nexport { c as capitalizeFirstLetter } from './shared/better-auth.D-2CmEwz.mjs';\nexport { H as HIDE_METADATA, g as generateState, p as parseState } from './shared/better-auth.D4HhkCZJ.mjs';\nexport { c as createLogger, g as generateId, l as levels, a as logger, s as shouldPublishLog } from './shared/better-auth.DBGfIDnh.mjs';\nimport './api/index.mjs';\nimport 'better-call';\nimport 'zod/v4';\nimport './cookies/index.mjs';\nimport './shared/better-auth.CW6D9eSx.mjs';\nimport './shared/better-auth.8zoxzg-F.mjs';\nimport '@better-auth/utils/base64';\nimport '@better-auth/utils/hmac';\nimport './shared/better-auth.tB5eU6EY.mjs';\nimport './shared/better-auth.VTXNLFMT.mjs';\nimport '@better-auth/utils/binary';\nimport './shared/better-auth.n2KFGwjY.mjs';\nimport './shared/better-auth.DcfNPS8q.mjs';\nimport 'defu';\nimport './crypto/index.mjs';\nimport '@better-auth/utils/hash';\nimport '@noble/ciphers/chacha';\nimport '@noble/ciphers/utils';\nimport '@noble/ciphers/webcrypto';\nimport 'jose';\nimport '@noble/hashes/scrypt';\nimport '@better-auth/utils';\nimport '@better-auth/utils/hex';\nimport '@noble/hashes/utils';\nimport './shared/better-auth.B4Qoxdgc.mjs';\nimport '@better-auth/utils/random';\nimport './shared/better-auth.ByruPN9q.mjs';\nimport './shared/better-auth.DORkW_Ge.mjs';\nimport './shared/better-auth.DwzM-9N1.mjs';\nimport 'kysely';\nimport './shared/better-auth.gBl3F_xa.mjs';\nimport './shared/better-auth.DGpadpzN.mjs';\nimport './shared/better-auth.YwDQhoPc.mjs';\nimport '@better-fetch/fetch';\nimport 'jose/errors';\n", "import { getEndpoints, router } from '../api/index.mjs';\nimport { defu } from 'defu';\nimport { verifyPassword, hashPassword } from '../crypto/index.mjs';\nimport { a as getAdapter, c as createInternalAdapter, e as getMigrations } from './better-auth.ByruPN9q.mjs';\nimport { g as getAuthTables } from './better-auth.DORkW_Ge.mjs';\nimport 'zod/v4';\nimport './better-auth.n2KFGwjY.mjs';\nimport { getCookies, createCookieGetter } from '../cookies/index.mjs';\nimport { c as createLogger, g as generateId } from './better-auth.DBGfIDnh.mjs';\nimport { t as socialProviders, B as BASE_ERROR_CODES } from './better-auth.D4HhkCZJ.mjs';\nimport 'better-call';\nimport '@better-auth/utils/hash';\nimport '@noble/ciphers/chacha';\nimport '@noble/ciphers/utils';\nimport '@noble/ciphers/webcrypto';\nimport '@better-auth/utils/base64';\nimport 'jose';\nimport './better-auth.B4Qoxdgc.mjs';\nimport { e as env, a as isProduction } from './better-auth.8zoxzg-F.mjs';\nimport { c as checkPassword } from './better-auth.YwDQhoPc.mjs';\nimport { a as getBaseURL, g as getOrigin } from './better-auth.VTXNLFMT.mjs';\nimport { B as BetterAuthError } from './better-auth.DdzSJf-n.mjs';\n\nconst DEFAULT_SECRET = \"better-auth-secret-123456789\";\n\nconst init = async (options) => {\n  const adapter = await getAdapter(options);\n  const plugins = options.plugins || [];\n  const internalPlugins = getInternalPlugins(options);\n  const logger = createLogger(options.logger);\n  const baseURL = getBaseURL(options.baseURL, options.basePath);\n  const secret = options.secret || env.BETTER_AUTH_SECRET || env.AUTH_SECRET || DEFAULT_SECRET;\n  if (secret === DEFAULT_SECRET) {\n    if (isProduction) {\n      logger.error(\n        \"You are using the default secret. Please set `BETTER_AUTH_SECRET` in your environment variables or pass `secret` in your auth config.\"\n      );\n    }\n  }\n  options = {\n    ...options,\n    secret,\n    baseURL: baseURL ? new URL(baseURL).origin : \"\",\n    basePath: options.basePath || \"/api/auth\",\n    plugins: plugins.concat(internalPlugins)\n  };\n  const cookies = getCookies(options);\n  const tables = getAuthTables(options);\n  const providers = Object.keys(options.socialProviders || {}).map((key) => {\n    const value = options.socialProviders?.[key];\n    if (!value || value.enabled === false) {\n      return null;\n    }\n    if (!value.clientId) {\n      logger.warn(\n        `Social provider ${key} is missing clientId or clientSecret`\n      );\n    }\n    const provider = socialProviders[key](\n      value\n      // TODO: fix this\n    );\n    provider.disableImplicitSignUp = value.disableImplicitSignUp;\n    return provider;\n  }).filter((x) => x !== null);\n  const generateIdFunc = ({ model, size }) => {\n    if (typeof options.advanced?.generateId === \"function\") {\n      return options.advanced.generateId({ model, size });\n    }\n    if (typeof options?.advanced?.database?.generateId === \"function\") {\n      return options.advanced.database.generateId({ model, size });\n    }\n    return generateId(size);\n  };\n  const ctx = {\n    appName: options.appName || \"Better Auth\",\n    socialProviders: providers,\n    options,\n    tables,\n    trustedOrigins: getTrustedOrigins(options),\n    baseURL: baseURL || \"\",\n    sessionConfig: {\n      updateAge: options.session?.updateAge !== void 0 ? options.session.updateAge : 24 * 60 * 60,\n      // 24 hours\n      expiresIn: options.session?.expiresIn || 60 * 60 * 24 * 7,\n      // 7 days\n      freshAge: options.session?.freshAge === void 0 ? 60 * 60 * 24 : options.session.freshAge\n    },\n    secret,\n    rateLimit: {\n      ...options.rateLimit,\n      enabled: options.rateLimit?.enabled ?? isProduction,\n      window: options.rateLimit?.window || 10,\n      max: options.rateLimit?.max || 100,\n      storage: options.rateLimit?.storage || (options.secondaryStorage ? \"secondary-storage\" : \"memory\")\n    },\n    authCookies: cookies,\n    logger,\n    generateId: generateIdFunc,\n    session: null,\n    secondaryStorage: options.secondaryStorage,\n    password: {\n      hash: options.emailAndPassword?.password?.hash || hashPassword,\n      verify: options.emailAndPassword?.password?.verify || verifyPassword,\n      config: {\n        minPasswordLength: options.emailAndPassword?.minPasswordLength || 8,\n        maxPasswordLength: options.emailAndPassword?.maxPasswordLength || 128\n      },\n      checkPassword\n    },\n    setNewSession(session) {\n      this.newSession = session;\n    },\n    newSession: null,\n    adapter,\n    internalAdapter: createInternalAdapter(adapter, {\n      options,\n      hooks: options.databaseHooks ? [options.databaseHooks] : []}),\n    createAuthCookie: createCookieGetter(options),\n    async runMigrations() {\n      if (!options.database || \"updateMany\" in options.database) {\n        throw new BetterAuthError(\n          \"Database is not provided or it's an adapter. Migrations are only supported with a database instance.\"\n        );\n      }\n      const { runMigrations } = await getMigrations(options);\n      await runMigrations();\n    }\n  };\n  let { context } = runPluginInit(ctx);\n  return context;\n};\nfunction runPluginInit(ctx) {\n  let options = ctx.options;\n  const plugins = options.plugins || [];\n  let context = ctx;\n  const dbHooks = [];\n  for (const plugin of plugins) {\n    if (plugin.init) {\n      const result = plugin.init(context);\n      if (typeof result === \"object\") {\n        if (result.options) {\n          const { databaseHooks, ...restOpts } = result.options;\n          if (databaseHooks) {\n            dbHooks.push(databaseHooks);\n          }\n          options = defu(options, restOpts);\n        }\n        if (result.context) {\n          context = {\n            ...context,\n            ...result.context\n          };\n        }\n      }\n    }\n  }\n  dbHooks.push(options.databaseHooks);\n  context.internalAdapter = createInternalAdapter(ctx.adapter, {\n    options,\n    hooks: dbHooks.filter((u) => u !== void 0),\n    generateId: ctx.generateId\n  });\n  context.options = options;\n  return { context };\n}\nfunction getInternalPlugins(options) {\n  const plugins = [];\n  if (options.advanced?.crossSubDomainCookies?.enabled) ;\n  return plugins;\n}\nfunction getTrustedOrigins(options) {\n  const baseURL = getBaseURL(options.baseURL, options.basePath);\n  if (!baseURL) {\n    return [];\n  }\n  const trustedOrigins = [new URL(baseURL).origin];\n  if (options.trustedOrigins && Array.isArray(options.trustedOrigins)) {\n    trustedOrigins.push(...options.trustedOrigins);\n  }\n  const envTrustedOrigins = env.BETTER_AUTH_TRUSTED_ORIGINS;\n  if (envTrustedOrigins) {\n    trustedOrigins.push(...envTrustedOrigins.split(\",\"));\n  }\n  if (trustedOrigins.filter((x) => !x).length) {\n    throw new BetterAuthError(\n      \"A provided trusted origin is invalid, make sure your trusted origins list is properly defined.\"\n    );\n  }\n  return trustedOrigins;\n}\n\nconst betterAuth = (options) => {\n  const authContext = init(options);\n  const { api } = getEndpoints(authContext, options);\n  const errorCodes = options.plugins?.reduce((acc, plugin) => {\n    if (plugin.$ERROR_CODES) {\n      return {\n        ...acc,\n        ...plugin.$ERROR_CODES\n      };\n    }\n    return acc;\n  }, {});\n  return {\n    handler: async (request) => {\n      const ctx = await authContext;\n      const basePath = ctx.options.basePath || \"/api/auth\";\n      if (!ctx.options.baseURL) {\n        const baseURL = getBaseURL(void 0, basePath, request);\n        if (baseURL) {\n          ctx.baseURL = baseURL;\n          ctx.options.baseURL = getOrigin(ctx.baseURL) || void 0;\n        } else {\n          throw new BetterAuthError(\n            \"Could not get base URL from request. Please provide a valid base URL.\"\n          );\n        }\n      }\n      ctx.trustedOrigins = [\n        ...options.trustedOrigins ? Array.isArray(options.trustedOrigins) ? options.trustedOrigins : await options.trustedOrigins(request) : [],\n        ctx.options.baseURL\n      ];\n      const { handler } = router(ctx, options);\n      return handler(request);\n    },\n    api,\n    options,\n    $context: authContext,\n    $Infer: {},\n    $ERROR_CODES: {\n      ...errorCodes,\n      ...BASE_ERROR_CODES\n    }\n  };\n};\n\nexport { betterAuth as b };\n", "import { APIError, toResponse, createRouter } from 'better-call';\nexport { APIError } from 'better-call';\nimport { j as createAuthEndpoint, B as BASE_ERROR_CODES, w as createEmailVerificationToken, x as wildcardMatch, y as listSessions, z as updateUser, m as getSession, A as originCheckMiddleware, C as error, D as ok, E as accountInfo, F as getAccessToken, G as refreshToken, I as unlinkAccount, J as deleteUserCallback, K as listUserAccounts, L as linkSocialAccount, M as revokeOtherSessions, N as revokeSessions, O as revokeSession, P as requestPasswordResetCallback, Q as requestPasswordReset, R as forgetPasswordCallback, S as deleteUser, T as setPassword, U as changePassword, V as changeEmail, W as sendVerificationEmail, X as verifyEmail, Y as resetPassword, Z as forgetPassword, _ as signInEmail, $ as signOut, a0 as callbackOAuth, a1 as signInSocial } from '../shared/better-auth.D4HhkCZJ.mjs';\nexport { i as createAuthMiddleware, n as freshSessionMiddleware, k as getSessionFromCtx, q as optionsMiddleware, o as originCheck, a2 as requestOnlySessionMiddleware, u as sendVerificationEmailFn, l as sessionMiddleware } from '../shared/better-auth.D4HhkCZJ.mjs';\nimport * as z from 'zod/v4';\nimport { setSessionCookie } from '../cookies/index.mjs';\nimport { f as parseUserInput } from '../shared/better-auth.n2KFGwjY.mjs';\nimport { b as isDevelopment } from '../shared/better-auth.8zoxzg-F.mjs';\nimport { a as logger } from '../shared/better-auth.DBGfIDnh.mjs';\nimport { g as getIp } from '../shared/better-auth.DcfNPS8q.mjs';\nimport defu from 'defu';\nimport '../shared/better-auth.CW6D9eSx.mjs';\nimport '@better-auth/utils/hash';\nimport '@better-auth/utils/base64';\nimport '../crypto/index.mjs';\nimport '@noble/ciphers/chacha';\nimport '@noble/ciphers/utils';\nimport '@noble/ciphers/webcrypto';\nimport 'jose';\nimport '@noble/hashes/scrypt';\nimport '@better-auth/utils';\nimport '@better-auth/utils/hex';\nimport '@noble/hashes/utils';\nimport '../shared/better-auth.B4Qoxdgc.mjs';\nimport '@better-auth/utils/random';\nimport '@better-fetch/fetch';\nimport '../shared/better-auth.VTXNLFMT.mjs';\nimport '../shared/better-auth.DdzSJf-n.mjs';\nimport '../shared/better-auth.tB5eU6EY.mjs';\nimport '@better-auth/utils/hmac';\nimport '@better-auth/utils/binary';\nimport 'jose/errors';\n\nconst signUpEmail = () => createAuthEndpoint(\n  \"/sign-up/email\",\n  {\n    method: \"POST\",\n    body: z.record(z.string(), z.any()),\n    metadata: {\n      $Infer: {\n        body: {}\n      },\n      openapi: {\n        description: \"Sign up a user using email and password\",\n        requestBody: {\n          content: {\n            \"application/json\": {\n              schema: {\n                type: \"object\",\n                properties: {\n                  name: {\n                    type: \"string\",\n                    description: \"The name of the user\"\n                  },\n                  email: {\n                    type: \"string\",\n                    description: \"The email of the user\"\n                  },\n                  password: {\n                    type: \"string\",\n                    description: \"The password of the user\"\n                  },\n                  image: {\n                    type: \"string\",\n                    description: \"The profile image URL of the user\"\n                  },\n                  callbackURL: {\n                    type: \"string\",\n                    description: \"The URL to use for email verification callback\"\n                  },\n                  rememberMe: {\n                    type: \"boolean\",\n                    description: \"If this is false, the session will not be remembered. Default is `true`.\"\n                  }\n                },\n                required: [\"name\", \"email\", \"password\"]\n              }\n            }\n          }\n        },\n        responses: {\n          \"200\": {\n            description: \"Successfully created user\",\n            content: {\n              \"application/json\": {\n                schema: {\n                  type: \"object\",\n                  properties: {\n                    token: {\n                      type: \"string\",\n                      nullable: true,\n                      description: \"Authentication token for the session\"\n                    },\n                    user: {\n                      type: \"object\",\n                      properties: {\n                        id: {\n                          type: \"string\",\n                          description: \"The unique identifier of the user\"\n                        },\n                        email: {\n                          type: \"string\",\n                          format: \"email\",\n                          description: \"The email address of the user\"\n                        },\n                        name: {\n                          type: \"string\",\n                          description: \"The name of the user\"\n                        },\n                        image: {\n                          type: \"string\",\n                          format: \"uri\",\n                          nullable: true,\n                          description: \"The profile image URL of the user\"\n                        },\n                        emailVerified: {\n                          type: \"boolean\",\n                          description: \"Whether the email has been verified\"\n                        },\n                        createdAt: {\n                          type: \"string\",\n                          format: \"date-time\",\n                          description: \"When the user was created\"\n                        },\n                        updatedAt: {\n                          type: \"string\",\n                          format: \"date-time\",\n                          description: \"When the user was last updated\"\n                        }\n                      },\n                      required: [\n                        \"id\",\n                        \"email\",\n                        \"name\",\n                        \"emailVerified\",\n                        \"createdAt\",\n                        \"updatedAt\"\n                      ]\n                    }\n                  },\n                  required: [\"user\"]\n                  // token is optional\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  async (ctx) => {\n    if (!ctx.context.options.emailAndPassword?.enabled || ctx.context.options.emailAndPassword?.disableSignUp) {\n      throw new APIError(\"BAD_REQUEST\", {\n        message: \"Email and password sign up is not enabled\"\n      });\n    }\n    const body = ctx.body;\n    const {\n      name,\n      email,\n      password,\n      image,\n      callbackURL,\n      rememberMe,\n      ...additionalFields\n    } = body;\n    const isValidEmail = z.email().safeParse(email);\n    if (!isValidEmail.success) {\n      throw new APIError(\"BAD_REQUEST\", {\n        message: BASE_ERROR_CODES.INVALID_EMAIL\n      });\n    }\n    const minPasswordLength = ctx.context.password.config.minPasswordLength;\n    if (password.length < minPasswordLength) {\n      ctx.context.logger.error(\"Password is too short\");\n      throw new APIError(\"BAD_REQUEST\", {\n        message: BASE_ERROR_CODES.PASSWORD_TOO_SHORT\n      });\n    }\n    const maxPasswordLength = ctx.context.password.config.maxPasswordLength;\n    if (password.length > maxPasswordLength) {\n      ctx.context.logger.error(\"Password is too long\");\n      throw new APIError(\"BAD_REQUEST\", {\n        message: BASE_ERROR_CODES.PASSWORD_TOO_LONG\n      });\n    }\n    const dbUser = await ctx.context.internalAdapter.findUserByEmail(email);\n    if (dbUser?.user) {\n      ctx.context.logger.info(`Sign-up attempt for existing email: ${email}`);\n      throw new APIError(\"UNPROCESSABLE_ENTITY\", {\n        message: BASE_ERROR_CODES.USER_ALREADY_EXISTS\n      });\n    }\n    const additionalData = parseUserInput(\n      ctx.context.options,\n      additionalFields\n    );\n    const hash = await ctx.context.password.hash(password);\n    let createdUser;\n    try {\n      createdUser = await ctx.context.internalAdapter.createUser(\n        {\n          email: email.toLowerCase(),\n          name,\n          image,\n          ...additionalData,\n          emailVerified: false\n        },\n        ctx\n      );\n      if (!createdUser) {\n        throw new APIError(\"BAD_REQUEST\", {\n          message: BASE_ERROR_CODES.FAILED_TO_CREATE_USER\n        });\n      }\n    } catch (e) {\n      if (isDevelopment) {\n        ctx.context.logger.error(\"Failed to create user\", e);\n      }\n      if (e instanceof APIError) {\n        throw e;\n      }\n      throw new APIError(\"UNPROCESSABLE_ENTITY\", {\n        message: BASE_ERROR_CODES.FAILED_TO_CREATE_USER,\n        details: e\n      });\n    }\n    if (!createdUser) {\n      throw new APIError(\"UNPROCESSABLE_ENTITY\", {\n        message: BASE_ERROR_CODES.FAILED_TO_CREATE_USER\n      });\n    }\n    await ctx.context.internalAdapter.linkAccount(\n      {\n        userId: createdUser.id,\n        providerId: \"credential\",\n        accountId: createdUser.id,\n        password: hash\n      },\n      ctx\n    );\n    if (ctx.context.options.emailVerification?.sendOnSignUp || ctx.context.options.emailAndPassword.requireEmailVerification) {\n      const token = await createEmailVerificationToken(\n        ctx.context.secret,\n        createdUser.email,\n        void 0,\n        ctx.context.options.emailVerification?.expiresIn\n      );\n      const url = `${ctx.context.baseURL}/verify-email?token=${token}&callbackURL=${body.callbackURL || \"/\"}`;\n      await ctx.context.options.emailVerification?.sendVerificationEmail?.(\n        {\n          user: createdUser,\n          url,\n          token\n        },\n        ctx.request\n      );\n    }\n    if (ctx.context.options.emailAndPassword.autoSignIn === false || ctx.context.options.emailAndPassword.requireEmailVerification) {\n      return ctx.json({\n        token: null,\n        user: {\n          id: createdUser.id,\n          email: createdUser.email,\n          name: createdUser.name,\n          image: createdUser.image,\n          emailVerified: createdUser.emailVerified,\n          createdAt: createdUser.createdAt,\n          updatedAt: createdUser.updatedAt\n        }\n      });\n    }\n    const session = await ctx.context.internalAdapter.createSession(\n      createdUser.id,\n      ctx,\n      rememberMe === false\n    );\n    if (!session) {\n      throw new APIError(\"BAD_REQUEST\", {\n        message: BASE_ERROR_CODES.FAILED_TO_CREATE_SESSION\n      });\n    }\n    await setSessionCookie(\n      ctx,\n      {\n        session,\n        user: createdUser\n      },\n      rememberMe === false\n    );\n    return ctx.json({\n      token: session.token,\n      user: {\n        id: createdUser.id,\n        email: createdUser.email,\n        name: createdUser.name,\n        image: createdUser.image,\n        emailVerified: createdUser.emailVerified,\n        createdAt: createdUser.createdAt,\n        updatedAt: createdUser.updatedAt\n      }\n    });\n  }\n);\n\nfunction shouldRateLimit(max, window, rateLimitData) {\n  const now = Date.now();\n  const windowInMs = window * 1e3;\n  const timeSinceLastRequest = now - rateLimitData.lastRequest;\n  return timeSinceLastRequest < windowInMs && rateLimitData.count >= max;\n}\nfunction rateLimitResponse(retryAfter) {\n  return new Response(\n    JSON.stringify({\n      message: \"Too many requests. Please try again later.\"\n    }),\n    {\n      status: 429,\n      statusText: \"Too Many Requests\",\n      headers: {\n        \"X-Retry-After\": retryAfter.toString()\n      }\n    }\n  );\n}\nfunction getRetryAfter(lastRequest, window) {\n  const now = Date.now();\n  const windowInMs = window * 1e3;\n  return Math.ceil((lastRequest + windowInMs - now) / 1e3);\n}\nfunction createDBStorage(ctx) {\n  const model = \"rateLimit\";\n  const db = ctx.adapter;\n  return {\n    get: async (key) => {\n      const res = await db.findMany({\n        model,\n        where: [{ field: \"key\", value: key }]\n      });\n      const data = res[0];\n      if (typeof data?.lastRequest === \"bigint\") {\n        data.lastRequest = Number(data.lastRequest);\n      }\n      return data;\n    },\n    set: async (key, value, _update) => {\n      try {\n        if (_update) {\n          await db.updateMany({\n            model,\n            where: [{ field: \"key\", value: key }],\n            update: {\n              count: value.count,\n              lastRequest: value.lastRequest\n            }\n          });\n        } else {\n          await db.create({\n            model,\n            data: {\n              key,\n              count: value.count,\n              lastRequest: value.lastRequest\n            }\n          });\n        }\n      } catch (e) {\n        ctx.logger.error(\"Error setting rate limit\", e);\n      }\n    }\n  };\n}\nconst memory = /* @__PURE__ */ new Map();\nfunction getRateLimitStorage(ctx) {\n  if (ctx.options.rateLimit?.customStorage) {\n    return ctx.options.rateLimit.customStorage;\n  }\n  if (ctx.rateLimit.storage === \"secondary-storage\") {\n    return {\n      get: async (key) => {\n        const stringified = await ctx.options.secondaryStorage?.get(key);\n        return stringified ? JSON.parse(stringified) : void 0;\n      },\n      set: async (key, value) => {\n        await ctx.options.secondaryStorage?.set?.(key, JSON.stringify(value));\n      }\n    };\n  }\n  const storage = ctx.rateLimit.storage;\n  if (storage === \"memory\") {\n    return {\n      async get(key) {\n        return memory.get(key);\n      },\n      async set(key, value, _update) {\n        memory.set(key, value);\n      }\n    };\n  }\n  return createDBStorage(ctx);\n}\nasync function onRequestRateLimit(req, ctx) {\n  if (!ctx.rateLimit.enabled) {\n    return;\n  }\n  const path = new URL(req.url).pathname.replace(\n    ctx.options.basePath || \"/api/auth\",\n    \"\"\n  );\n  let window = ctx.rateLimit.window;\n  let max = ctx.rateLimit.max;\n  const ip = getIp(req, ctx.options);\n  if (!ip) {\n    console.warn(\"No IP address found for rate limiting\");\n    return;\n  }\n  const key = ip + path;\n  const specialRules = getDefaultSpecialRules();\n  const specialRule = specialRules.find((rule) => rule.pathMatcher(path));\n  if (specialRule) {\n    window = specialRule.window;\n    max = specialRule.max;\n  }\n  for (const plugin of ctx.options.plugins || []) {\n    if (plugin.rateLimit) {\n      const matchedRule = plugin.rateLimit.find(\n        (rule) => rule.pathMatcher(path)\n      );\n      if (matchedRule) {\n        window = matchedRule.window;\n        max = matchedRule.max;\n        break;\n      }\n    }\n  }\n  if (ctx.rateLimit.customRules) {\n    const _path = Object.keys(ctx.rateLimit.customRules).find((p) => {\n      if (p.includes(\"*\")) {\n        const isMatch = wildcardMatch(p)(path);\n        return isMatch;\n      }\n      return p === path;\n    });\n    if (_path) {\n      const customRule = ctx.rateLimit.customRules[_path];\n      const resolved = typeof customRule === \"function\" ? await customRule(req) : customRule;\n      if (resolved) {\n        window = resolved.window;\n        max = resolved.max;\n      }\n    }\n  }\n  const storage = getRateLimitStorage(ctx);\n  const data = await storage.get(key);\n  const now = Date.now();\n  if (!data) {\n    await storage.set(key, {\n      key,\n      count: 1,\n      lastRequest: now\n    });\n  } else {\n    const timeSinceLastRequest = now - data.lastRequest;\n    if (shouldRateLimit(max, window, data)) {\n      const retryAfter = getRetryAfter(data.lastRequest, window);\n      return rateLimitResponse(retryAfter);\n    } else if (timeSinceLastRequest > window * 1e3) {\n      await storage.set(\n        key,\n        {\n          ...data,\n          count: 1,\n          lastRequest: now\n        },\n        true\n      );\n    } else {\n      await storage.set(\n        key,\n        {\n          ...data,\n          count: data.count + 1,\n          lastRequest: now\n        },\n        true\n      );\n    }\n  }\n}\nfunction getDefaultSpecialRules() {\n  const specialRules = [\n    {\n      pathMatcher(path) {\n        return path.startsWith(\"/sign-in\") || path.startsWith(\"/sign-up\") || path.startsWith(\"/change-password\") || path.startsWith(\"/change-email\");\n      },\n      window: 10,\n      max: 3\n    }\n  ];\n  return specialRules;\n}\n\nfunction toAuthEndpoints(endpoints, ctx) {\n  const api = {};\n  for (const [key, endpoint] of Object.entries(endpoints)) {\n    api[key] = async (context) => {\n      const authContext = await ctx;\n      let internalContext = {\n        ...context,\n        context: {\n          ...authContext,\n          returned: void 0,\n          responseHeaders: void 0,\n          session: null\n        },\n        path: endpoint.path,\n        headers: context?.headers ? new Headers(context?.headers) : void 0\n      };\n      const { beforeHooks, afterHooks } = getHooks(authContext);\n      const before = await runBeforeHooks(internalContext, beforeHooks);\n      if (\"context\" in before && before.context && typeof before.context === \"object\") {\n        const { headers, ...rest } = before.context;\n        if (headers) {\n          headers.forEach((value, key2) => {\n            internalContext.headers.set(key2, value);\n          });\n        }\n        internalContext = defu(rest, internalContext);\n      } else if (before) {\n        return before;\n      }\n      internalContext.asResponse = false;\n      internalContext.returnHeaders = true;\n      const result = await endpoint(internalContext).catch((e) => {\n        if (e instanceof APIError) {\n          return {\n            response: e,\n            headers: e.headers ? new Headers(e.headers) : null\n          };\n        }\n        throw e;\n      });\n      internalContext.context.returned = result.response;\n      internalContext.context.responseHeaders = result.headers;\n      const after = await runAfterHooks(internalContext, afterHooks);\n      if (after.response) {\n        result.response = after.response;\n      }\n      if (result.response instanceof APIError && !context?.asResponse) {\n        throw result.response;\n      }\n      const response = context?.asResponse ? toResponse(result.response, {\n        headers: result.headers\n      }) : context?.returnHeaders ? {\n        headers: result.headers,\n        response: result.response\n      } : result.response;\n      return response;\n    };\n    api[key].path = endpoint.path;\n    api[key].options = endpoint.options;\n  }\n  return api;\n}\nasync function runBeforeHooks(context, hooks) {\n  let modifiedContext = {};\n  for (const hook of hooks) {\n    if (hook.matcher(context)) {\n      const result = await hook.handler({\n        ...context,\n        returnHeaders: false\n      });\n      if (result && typeof result === \"object\") {\n        if (\"context\" in result && typeof result.context === \"object\") {\n          const { headers, ...rest } = result.context;\n          if (headers instanceof Headers) {\n            if (modifiedContext.headers) {\n              headers.forEach((value, key) => {\n                modifiedContext.headers?.set(key, value);\n              });\n            } else {\n              modifiedContext.headers = headers;\n            }\n          }\n          modifiedContext = defu(rest, modifiedContext);\n          continue;\n        }\n        return result;\n      }\n    }\n  }\n  return { context: modifiedContext };\n}\nasync function runAfterHooks(context, hooks) {\n  for (const hook of hooks) {\n    if (hook.matcher(context)) {\n      const result = await hook.handler(context).catch((e) => {\n        if (e instanceof APIError) {\n          return {\n            response: e,\n            headers: e.headers ? new Headers(e.headers) : null\n          };\n        }\n        throw e;\n      });\n      if (result.headers) {\n        result.headers.forEach((value, key) => {\n          if (!context.context.responseHeaders) {\n            context.context.responseHeaders = new Headers({\n              [key]: value\n            });\n          } else {\n            if (key.toLowerCase() === \"set-cookie\") {\n              context.context.responseHeaders.append(key, value);\n            } else {\n              context.context.responseHeaders.set(key, value);\n            }\n          }\n        });\n      }\n      if (result.response) {\n        context.context.returned = result.response;\n      }\n    }\n  }\n  return {\n    response: context.context.returned,\n    headers: context.context.responseHeaders\n  };\n}\nfunction getHooks(authContext) {\n  const plugins = authContext.options.plugins || [];\n  const beforeHooks = [];\n  const afterHooks = [];\n  if (authContext.options.hooks?.before) {\n    beforeHooks.push({\n      matcher: () => true,\n      handler: authContext.options.hooks.before\n    });\n  }\n  if (authContext.options.hooks?.after) {\n    afterHooks.push({\n      matcher: () => true,\n      handler: authContext.options.hooks.after\n    });\n  }\n  const pluginBeforeHooks = plugins.map((plugin) => {\n    if (plugin.hooks?.before) {\n      return plugin.hooks.before;\n    }\n  }).filter((plugin) => plugin !== void 0).flat();\n  const pluginAfterHooks = plugins.map((plugin) => {\n    if (plugin.hooks?.after) {\n      return plugin.hooks.after;\n    }\n  }).filter((plugin) => plugin !== void 0).flat();\n  pluginBeforeHooks.length && beforeHooks.push(...pluginBeforeHooks);\n  pluginAfterHooks.length && afterHooks.push(...pluginAfterHooks);\n  return {\n    beforeHooks,\n    afterHooks\n  };\n}\n\nfunction getEndpoints(ctx, options) {\n  const pluginEndpoints = options.plugins?.reduce(\n    (acc, plugin) => {\n      return {\n        ...acc,\n        ...plugin.endpoints\n      };\n    },\n    {}\n  );\n  const middlewares = options.plugins?.map(\n    (plugin) => plugin.middlewares?.map((m) => {\n      const middleware = async (context) => {\n        return m.middleware({\n          ...context,\n          context: {\n            ...ctx,\n            ...context.context\n          }\n        });\n      };\n      middleware.options = m.middleware.options;\n      return {\n        path: m.path,\n        middleware\n      };\n    })\n  ).filter((plugin) => plugin !== void 0).flat() || [];\n  const baseEndpoints = {\n    signInSocial,\n    callbackOAuth,\n    getSession: getSession(),\n    signOut,\n    signUpEmail: signUpEmail(),\n    signInEmail,\n    forgetPassword,\n    resetPassword,\n    verifyEmail,\n    sendVerificationEmail,\n    changeEmail,\n    changePassword,\n    setPassword,\n    updateUser: updateUser(),\n    deleteUser,\n    forgetPasswordCallback,\n    requestPasswordReset,\n    requestPasswordResetCallback,\n    listSessions: listSessions(),\n    revokeSession,\n    revokeSessions,\n    revokeOtherSessions,\n    linkSocialAccount,\n    listUserAccounts,\n    deleteUserCallback,\n    unlinkAccount,\n    refreshToken,\n    getAccessToken,\n    accountInfo\n  };\n  const endpoints = {\n    ...baseEndpoints,\n    ...pluginEndpoints,\n    ok,\n    error\n  };\n  const api = toAuthEndpoints(endpoints, ctx);\n  return {\n    api,\n    middlewares\n  };\n}\nconst router = (ctx, options) => {\n  const { api, middlewares } = getEndpoints(ctx, options);\n  const basePath = new URL(ctx.baseURL).pathname;\n  return createRouter(api, {\n    routerContext: ctx,\n    openapi: {\n      disabled: true\n    },\n    basePath,\n    routerMiddleware: [\n      {\n        path: \"/**\",\n        middleware: originCheckMiddleware\n      },\n      ...middlewares\n    ],\n    async onRequest(req) {\n      const disabledPaths = ctx.options.disabledPaths || [];\n      const path = new URL(req.url).pathname.replace(basePath, \"\");\n      if (disabledPaths.includes(path)) {\n        return new Response(\"Not Found\", { status: 404 });\n      }\n      for (const plugin of ctx.options.plugins || []) {\n        if (plugin.onRequest) {\n          const response = await plugin.onRequest(req, ctx);\n          if (response && \"response\" in response) {\n            return response.response;\n          }\n        }\n      }\n      return onRequestRateLimit(req, ctx);\n    },\n    async onResponse(res) {\n      for (const plugin of ctx.options.plugins || []) {\n        if (plugin.onResponse) {\n          const response = await plugin.onResponse(res, ctx);\n          if (response) {\n            return response.response;\n          }\n        }\n      }\n      return res;\n    },\n    onError(e) {\n      if (e instanceof APIError && e.status === \"FOUND\") {\n        return;\n      }\n      if (options.onAPIError?.throw) {\n        throw e;\n      }\n      if (options.onAPIError?.onError) {\n        options.onAPIError.onError(e, ctx);\n        return;\n      }\n      const optLogLevel = options.logger?.level;\n      const log = optLogLevel === \"error\" || optLogLevel === \"warn\" || optLogLevel === \"debug\" ? logger : void 0;\n      if (options.logger?.disabled !== true) {\n        if (e && typeof e === \"object\" && \"message\" in e && typeof e.message === \"string\") {\n          if (e.message.includes(\"no column\") || e.message.includes(\"column\") || e.message.includes(\"relation\") || e.message.includes(\"table\") || e.message.includes(\"does not exist\")) {\n            ctx.logger?.error(e.message);\n            return;\n          }\n        }\n        if (e instanceof APIError) {\n          if (e.status === \"INTERNAL_SERVER_ERROR\") {\n            ctx.logger.error(e.status, e);\n          }\n          log?.error(e.message);\n        } else {\n          ctx.logger?.error(\n            e && typeof e === \"object\" && \"name\" in e ? e.name : \"\",\n            e\n          );\n        }\n      }\n    }\n  });\n};\n\nexport { accountInfo, callbackOAuth, changeEmail, changePassword, createAuthEndpoint, createEmailVerificationToken, deleteUser, deleteUserCallback, error, forgetPassword, forgetPasswordCallback, getAccessToken, getEndpoints, getSession, linkSocialAccount, listSessions, listUserAccounts, ok, originCheckMiddleware, refreshToken, requestPasswordReset, requestPasswordResetCallback, resetPassword, revokeOtherSessions, revokeSession, revokeSessions, router, sendVerificationEmail, setPassword, signInEmail, signInSocial, signOut, signUpEmail, unlinkAccount, updateUser, verifyEmail };\n", "const webCrypto = globalThis.crypto;\nconst subtle = webCrypto.subtle;\nconst randomUUID = () => {\n  return webCrypto.randomUUID();\n};\nconst getRandomValues = (array) => {\n  return webCrypto.getRandomValues(array);\n};\nconst _crypto = {\n  randomUUID,\n  getRandomValues,\n  subtle\n};\n\nexport { _crypto as default, getRandomValues, randomUUID, subtle };\n", "const EmptyObject = /* @__PURE__ */ (() => {\n  const C = function() {\n  };\n  C.prototype = /* @__PURE__ */ Object.create(null);\n  return C;\n})();\n\nfunction createRouter() {\n  const ctx = {\n    root: { key: \"\" },\n    static: new EmptyObject()\n  };\n  return ctx;\n}\n\nfunction splitPath(path) {\n  return path.split(\"/\").filter(Boolean);\n}\nfunction getMatchParams(segments, paramsMap) {\n  const params = new EmptyObject();\n  for (const [index, name] of paramsMap) {\n    const segment = index < 0 ? segments.slice(-1 * index).join(\"/\") : segments[index];\n    if (typeof name === \"string\") {\n      params[name] = segment;\n    } else {\n      const match = segment.match(name);\n      if (match) {\n        for (const key in match.groups) {\n          params[key] = match.groups[key];\n        }\n      }\n    }\n  }\n  return params;\n}\n\nfunction addRoute(ctx, method = \"\", path, data) {\n  const segments = splitPath(path);\n  let node = ctx.root;\n  let _unnamedParamIndex = 0;\n  const paramsMap = [];\n  for (let i = 0; i < segments.length; i++) {\n    const segment = segments[i];\n    if (segment.startsWith(\"**\")) {\n      if (!node.wildcard) {\n        node.wildcard = { key: \"**\" };\n      }\n      node = node.wildcard;\n      paramsMap.push([\n        -i,\n        segment.split(\":\")[1] || \"_\",\n        segment.length === 2\n      ]);\n      break;\n    }\n    if (segment === \"*\" || segment.includes(\":\")) {\n      if (!node.param) {\n        node.param = { key: \"*\" };\n      }\n      node = node.param;\n      const isOptional = segment === \"*\";\n      paramsMap.push([\n        i,\n        isOptional ? `_${_unnamedParamIndex++}` : _getParamMatcher(segment),\n        isOptional\n      ]);\n      continue;\n    }\n    const child = node.static?.[segment];\n    if (child) {\n      node = child;\n    } else {\n      const staticNode = { key: segment };\n      if (!node.static) {\n        node.static = new EmptyObject();\n      }\n      node.static[segment] = staticNode;\n      node = staticNode;\n    }\n  }\n  const hasParams = paramsMap.length > 0;\n  if (!node.methods) {\n    node.methods = new EmptyObject();\n  }\n  if (!node.methods[method]) {\n    node.methods[method] = [];\n  }\n  node.methods[method].push({\n    data: data || null,\n    paramsMap: hasParams ? paramsMap : void 0\n  });\n  if (!hasParams) {\n    ctx.static[path] = node;\n  }\n}\nfunction _getParamMatcher(segment) {\n  if (!segment.includes(\":\", 1)) {\n    return segment.slice(1);\n  }\n  const regex = segment.replace(/:(\\w+)/g, (_, id) => `(?<${id}>\\\\w+)`);\n  return new RegExp(`^${regex}$`);\n}\n\nfunction findRoute(ctx, method = \"\", path, opts) {\n  if (path[path.length - 1] === \"/\") {\n    path = path.slice(0, -1);\n  }\n  const staticNode = ctx.static[path];\n  if (staticNode && staticNode.methods) {\n    const staticMatch = staticNode.methods[method] || staticNode.methods[\"\"];\n    if (staticMatch !== void 0) {\n      return staticMatch[0];\n    }\n  }\n  const segments = splitPath(path);\n  const match = _lookupTree(ctx, ctx.root, method, segments, 0)?.[0];\n  if (match === void 0) {\n    return;\n  }\n  if (opts?.params === false) {\n    return match;\n  }\n  return {\n    data: match.data,\n    params: match.paramsMap ? getMatchParams(segments, match.paramsMap) : void 0\n  };\n}\nfunction _lookupTree(ctx, node, method, segments, index) {\n  if (index === segments.length) {\n    if (node.methods) {\n      const match = node.methods[method] || node.methods[\"\"];\n      if (match) {\n        return match;\n      }\n    }\n    if (node.param && node.param.methods) {\n      const match = node.param.methods[method] || node.param.methods[\"\"];\n      if (match) {\n        const pMap = match[0].paramsMap;\n        if (pMap?.[pMap?.length - 1]?.[2]) {\n          return match;\n        }\n      }\n    }\n    if (node.wildcard && node.wildcard.methods) {\n      const match = node.wildcard.methods[method] || node.wildcard.methods[\"\"];\n      if (match) {\n        const pMap = match[0].paramsMap;\n        if (pMap?.[pMap?.length - 1]?.[2]) {\n          return match;\n        }\n      }\n    }\n    return void 0;\n  }\n  const segment = segments[index];\n  if (node.static) {\n    const staticChild = node.static[segment];\n    if (staticChild) {\n      const match = _lookupTree(ctx, staticChild, method, segments, index + 1);\n      if (match) {\n        return match;\n      }\n    }\n  }\n  if (node.param) {\n    const match = _lookupTree(ctx, node.param, method, segments, index + 1);\n    if (match) {\n      return match;\n    }\n  }\n  if (node.wildcard && node.wildcard.methods) {\n    return node.wildcard.methods[method] || node.wildcard.methods[\"\"];\n  }\n  return;\n}\n\nfunction removeRoute(ctx, method, path) {\n  const segments = splitPath(path);\n  return _remove(ctx.root, method || \"\", segments, 0);\n}\nfunction _remove(node, method, segments, index) {\n  if (index === segments.length) {\n    if (node.methods && method in node.methods) {\n      delete node.methods[method];\n      if (Object.keys(node.methods).length === 0) {\n        node.methods = void 0;\n      }\n    }\n    return;\n  }\n  const segment = segments[index];\n  if (segment === \"*\") {\n    if (node.param) {\n      _remove(node.param, method, segments, index + 1);\n      if (_isEmptyNode(node.param)) {\n        node.param = void 0;\n      }\n    }\n    return;\n  }\n  if (segment === \"**\") {\n    if (node.wildcard) {\n      _remove(node.wildcard, method, segments, index + 1);\n      if (_isEmptyNode(node.wildcard)) {\n        node.wildcard = void 0;\n      }\n    }\n    return;\n  }\n  const childNode = node.static?.[segment];\n  if (childNode) {\n    _remove(childNode, method, segments, index + 1);\n    if (_isEmptyNode(childNode)) {\n      delete node.static[segment];\n      if (Object.keys(node.static).length === 0) {\n        node.static = void 0;\n      }\n    }\n  }\n}\nfunction _isEmptyNode(node) {\n  return node.methods === void 0 && node.static === void 0 && node.param === void 0 && node.wildcard === void 0;\n}\n\nfunction findAllRoutes(ctx, method = \"\", path, opts) {\n  if (path[path.length - 1] === \"/\") {\n    path = path.slice(0, -1);\n  }\n  const segments = splitPath(path);\n  const matches = _findAll(ctx, ctx.root, method, segments, 0);\n  if (opts?.params === false) {\n    return matches;\n  }\n  return matches.map((m) => {\n    return {\n      data: m.data,\n      params: m.paramsMap ? getMatchParams(segments, m.paramsMap) : void 0\n    };\n  });\n}\nfunction _findAll(ctx, node, method, segments, index, matches = []) {\n  const segment = segments[index];\n  if (node.wildcard && node.wildcard.methods) {\n    const match = node.wildcard.methods[method] || node.wildcard.methods[\"\"];\n    if (match) {\n      matches.push(...match);\n    }\n  }\n  if (node.param) {\n    _findAll(ctx, node.param, method, segments, index + 1, matches);\n    if (index === segments.length && node.param.methods) {\n      const match = node.param.methods[method] || node.param.methods[\"\"];\n      if (match) {\n        matches.push(...match);\n      }\n    }\n  }\n  const staticChild = node.static?.[segment];\n  if (staticChild) {\n    _findAll(ctx, staticChild, method, segments, index + 1, matches);\n  }\n  if (index === segments.length && node.methods) {\n    const match = node.methods[method] || node.methods[\"\"];\n    if (match) {\n      matches.push(...match);\n    }\n  }\n  return matches;\n}\n\nexport { addRoute, createRouter, findAllRoutes, findRoute, removeRoute };\n", "export const _statusCode = {\n\tOK: 200,\n\tCREATED: 201,\n\tACCEPTED: 202,\n\tNO_CONTENT: 204,\n\tMULTIPLE_CHOICES: 300,\n\tMOVED_PERMANENTLY: 301,\n\tFOUND: 302,\n\tSEE_OTHER: 303,\n\tNOT_MODIFIED: 304,\n\tTEMPORARY_REDIRECT: 307,\n\tBAD_REQUEST: 400,\n\tUNAUTHORIZED: 401,\n\tPAYMENT_REQUIRED: 402,\n\tFORBIDDEN: 403,\n\tNOT_FOUND: 404,\n\tMETHOD_NOT_ALLOWED: 405,\n\tNOT_ACCEPTABLE: 406,\n\tPROXY_AUTHENTICATION_REQUIRED: 407,\n\tREQUEST_TIMEOUT: 408,\n\tCONFLICT: 409,\n\tGONE: 410,\n\tLENGTH_REQUIRED: 411,\n\tPRECONDITION_FAILED: 412,\n\tPAYLOAD_TOO_LARGE: 413,\n\tURI_TOO_LONG: 414,\n\tUNSUPPORTED_MEDIA_TYPE: 415,\n\tRANGE_NOT_SATISFIABLE: 416,\n\tEXPECTATION_FAILED: 417,\n\t\"I'M_A_TEAPOT\": 418,\n\tMISDIRECTED_REQUEST: 421,\n\tUNPROCESSABLE_ENTITY: 422,\n\tLOCKED: 423,\n\tFAILED_DEPENDENCY: 424,\n\tTOO_EARLY: 425,\n\tUPGRADE_REQUIRED: 426,\n\tPRECONDITION_REQUIRED: 428,\n\tTOO_MANY_REQUESTS: 429,\n\tREQUEST_HEADER_FIELDS_TOO_LARGE: 431,\n\tUNAVAILABLE_FOR_LEGAL_REASONS: 451,\n\tINTERNAL_SERVER_ERROR: 500,\n\tNOT_IMPLEMENTED: 501,\n\tBAD_GATEWAY: 502,\n\tSERVICE_UNAVAILABLE: 503,\n\tGATEWAY_TIMEOUT: 504,\n\tHTTP_VERSION_NOT_SUPPORTED: 505,\n\tVARIANT_ALSO_NEGOTIATES: 506,\n\tINSUFFICIENT_STORAGE: 507,\n\tLOOP_DETECTED: 508,\n\tNOT_EXTENDED: 510,\n\tNETWORK_AUTHENTICATION_REQUIRED: 511,\n};\n\nexport type Status =\n\t| 100\n\t| 101\n\t| 102\n\t| 103\n\t| 200\n\t| 201\n\t| 202\n\t| 203\n\t| 204\n\t| 205\n\t| 206\n\t| 207\n\t| 208\n\t| 226\n\t| 300\n\t| 301\n\t| 302\n\t| 303\n\t| 304\n\t| 305\n\t| 306\n\t| 307\n\t| 308\n\t| 400\n\t| 401\n\t| 402\n\t| 403\n\t| 404\n\t| 405\n\t| 406\n\t| 407\n\t| 408\n\t| 409\n\t| 410\n\t| 411\n\t| 412\n\t| 413\n\t| 414\n\t| 415\n\t| 416\n\t| 417\n\t| 418\n\t| 421\n\t| 422\n\t| 423\n\t| 424\n\t| 425\n\t| 426\n\t| 428\n\t| 429\n\t| 431\n\t| 451\n\t| 500\n\t| 501\n\t| 502\n\t| 503\n\t| 504\n\t| 505\n\t| 506\n\t| 507\n\t| 508\n\t| 510\n\t| 511;\n\nexport class APIError extends Error {\n\tconstructor(\n\t\tpublic status: keyof typeof _statusCode | Status = \"INTERNAL_SERVER_ERROR\",\n\t\tpublic body:\n\t\t\t| ({\n\t\t\t\t\tmessage?: string;\n\t\t\t\t\tcode?: string;\n\t\t\t  } & Record<string, any>)\n\t\t\t| undefined = undefined,\n\t\tpublic headers: HeadersInit = {},\n\t\tpublic statusCode = typeof status === \"number\" ? status : _statusCode[status],\n\t) {\n\t\tsuper(body?.message);\n\t\tthis.name = \"APIError\";\n\t\tthis.status = status;\n\t\tthis.headers = headers;\n\t\tthis.statusCode = statusCode;\n\t\tthis.body = body\n\t\t\t? {\n\t\t\t\t\tcode: body?.message\n\t\t\t\t\t\t?.toUpperCase()\n\t\t\t\t\t\t.replace(/ /g, \"_\")\n\t\t\t\t\t\t.replace(/[^A-Z0-9_]/g, \"\"),\n\t\t\t\t\t...body,\n\t\t\t\t}\n\t\t\t: undefined;\n\t\tthis.stack = \"\";\n\t}\n}\n", "import { APIError } from \"./error\";\n\nexport async function getBody(request: Request) {\n\tconst contentType = request.headers.get(\"content-type\") || \"\";\n\n\tif (!request.body) {\n\t\treturn undefined;\n\t}\n\n\tif (contentType.includes(\"application/json\")) {\n\t\treturn await request.json();\n\t}\n\n\tif (contentType.includes(\"application/x-www-form-urlencoded\")) {\n\t\tconst formData = await request.formData();\n\t\tconst result: Record<string, string> = {};\n\t\tformData.forEach((value, key) => {\n\t\t\tresult[key] = value.toString();\n\t\t});\n\t\treturn result;\n\t}\n\n\tif (contentType.includes(\"multipart/form-data\")) {\n\t\tconst formData = await request.formData();\n\t\tconst result: Record<string, any> = {};\n\t\tformData.forEach((value, key) => {\n\t\t\tresult[key] = value;\n\t\t});\n\t\treturn result;\n\t}\n\n\tif (contentType.includes(\"text/plain\")) {\n\t\treturn await request.text();\n\t}\n\n\tif (contentType.includes(\"application/octet-stream\")) {\n\t\treturn await request.arrayBuffer();\n\t}\n\n\tif (\n\t\tcontentType.includes(\"application/pdf\") ||\n\t\tcontentType.includes(\"image/\") ||\n\t\tcontentType.includes(\"video/\")\n\t) {\n\t\tconst blob = await request.blob();\n\t\treturn blob;\n\t}\n\n\tif (contentType.includes(\"application/stream\") || request.body instanceof ReadableStream) {\n\t\treturn request.body;\n\t}\n\n\treturn await request.text();\n}\n\nexport function isAPIError(error: any) {\n\treturn error instanceof APIError || error?.name === \"APIError\";\n}\n\nexport function tryDecode(str: string) {\n\ttry {\n\t\treturn str.includes(\"%\") ? decodeURIComponent(str) : str;\n\t} catch {\n\t\treturn str;\n\t}\n}\n", "import { APIError } from \"./error\";\nimport { isAPIError } from \"./utils\";\n\nfunction isJSONSerializable(value: any) {\n\tif (value === undefined) {\n\t\treturn false;\n\t}\n\tconst t = typeof value;\n\tif (t === \"string\" || t === \"number\" || t === \"boolean\" || t === null) {\n\t\treturn true;\n\t}\n\tif (t !== \"object\") {\n\t\treturn false;\n\t}\n\tif (Array.isArray(value)) {\n\t\treturn true;\n\t}\n\tif (value.buffer) {\n\t\treturn false;\n\t}\n\treturn (\n\t\t(value.constructor && value.constructor.name === \"Object\") ||\n\t\ttypeof value.toJSON === \"function\"\n\t);\n}\n\nexport function toResponse(data?: any, init?: ResponseInit): Response {\n\tif (data instanceof Response) {\n\t\tif (init?.headers instanceof Headers) {\n\t\t\tinit.headers.forEach((value, key) => {\n\t\t\t\tdata.headers.set(key, value);\n\t\t\t});\n\t\t}\n\t\treturn data;\n\t}\n\tif (data?._flag === \"json\") {\n\t\tconst routerResponse = data.routerResponse;\n\t\tif (routerResponse instanceof Response) {\n\t\t\treturn routerResponse;\n\t\t}\n\t\treturn toResponse(data.body, {\n\t\t\theaders: data.headers,\n\t\t\tstatus: data.status,\n\t\t});\n\t}\n\tif (isAPIError(data)) {\n\t\treturn toResponse(data.body, {\n\t\t\tstatus: data.statusCode,\n\t\t\tstatusText: data.status.toString(),\n\t\t\theaders: init?.headers || data.headers,\n\t\t});\n\t}\n\tlet body = data;\n\tlet headers = new Headers(init?.headers);\n\tif (!data) {\n\t\tif (data === null) {\n\t\t\tbody = JSON.stringify(null);\n\t\t}\n\t\theaders.set(\"content-type\", \"application/json\");\n\t} else if (typeof data === \"string\") {\n\t\tbody = data;\n\t\theaders.set(\"Content-Type\", \"text/plain\");\n\t} else if (data instanceof ArrayBuffer || ArrayBuffer.isView(data)) {\n\t\tbody = data;\n\t\theaders.set(\"Content-Type\", \"application/octet-stream\");\n\t} else if (data instanceof Blob) {\n\t\tbody = data;\n\t\theaders.set(\"Content-Type\", data.type || \"application/octet-stream\");\n\t} else if (data instanceof FormData) {\n\t\tbody = data;\n\t} else if (data instanceof URLSearchParams) {\n\t\tbody = data;\n\t\theaders.set(\"Content-Type\", \"application/x-www-form-urlencoded\");\n\t} else if (data instanceof ReadableStream) {\n\t\tbody = data;\n\t\theaders.set(\"Content-Type\", \"application/octet-stream\");\n\t} else if (isJSONSerializable(data)) {\n\t\tbody = JSON.stringify(data, (key, value) => {\n\t\t\tif (typeof value === \"bigint\") {\n\t\t\t\treturn value.toString();\n\t\t\t}\n\t\t\treturn value;\n\t\t});\n\t\theaders.set(\"Content-Type\", \"application/json\");\n\t}\n\n\treturn new Response(body, {\n\t\t...init,\n\t\theaders,\n\t});\n}\n", "import type { EndpointOptions } from \"./endpoint\";\nimport type { InputContext } from \"./context\";\nimport type { StandardSchemaV1 } from \"./standard-schema\";\n\ntype ValidationResponse =\n\t| {\n\t\t\tdata: {\n\t\t\t\tbody: any;\n\t\t\t\tquery: any;\n\t\t\t};\n\t\t\terror: null;\n\t  }\n\t| {\n\t\t\tdata: null;\n\t\t\terror: {\n\t\t\t\tmessage: string;\n\t\t\t};\n\t  };\n\n/**\n * Runs validation on body and query\n * @returns error and data object\n */\nexport async function runValidation(\n\toptions: EndpointOptions,\n\tcontext: InputContext<any, any> = {},\n): Promise<ValidationResponse> {\n\tlet request = {\n\t\tbody: context.body,\n\t\tquery: context.query,\n\t} as {\n\t\tbody: any;\n\t\tquery: any;\n\t};\n\tif (options.body) {\n\t\tconst result = await options.body[\"~standard\"].validate(context.body);\n\t\tif (result.issues) {\n\t\t\treturn {\n\t\t\t\tdata: null,\n\t\t\t\terror: fromError(result.issues, \"body\"),\n\t\t\t};\n\t\t}\n\t\trequest.body = result.value;\n\t}\n\n\tif (options.query) {\n\t\tconst result = await options.query[\"~standard\"].validate(context.query);\n\t\tif (result.issues) {\n\t\t\treturn {\n\t\t\t\tdata: null,\n\t\t\t\terror: fromError(result.issues, \"query\"),\n\t\t\t};\n\t\t}\n\t\trequest.query = result.value;\n\t}\n\tif (options.requireHeaders && !context.headers) {\n\t\treturn {\n\t\t\tdata: null,\n\t\t\terror: { message: \"Headers is required\" },\n\t\t};\n\t}\n\tif (options.requireRequest && !context.request) {\n\t\treturn {\n\t\t\tdata: null,\n\t\t\terror: { message: \"Request is required\" },\n\t\t};\n\t}\n\treturn {\n\t\tdata: request,\n\t\terror: null,\n\t};\n}\n\nexport function fromError(error: readonly StandardSchemaV1.Issue[], validating: string) {\n\tconst errorMessages: string[] = [];\n\n\tfor (const issue of error) {\n\t\tconst message = issue.message;\n\t\terrorMessages.push(message);\n\t}\n\treturn {\n\t\tmessage: `Invalid ${validating} parameters`,\n\t};\n}\n", "import { subtle } from \"uncrypto\";\n\nconst algorithm = { name: \"HMAC\", hash: \"SHA-256\" };\n\nexport const getCryptoKey = async (secret: string | BufferSource) => {\n\tconst secretBuf = typeof secret === \"string\" ? new TextEncoder().encode(secret) : secret;\n\treturn await subtle.importKey(\"raw\", secretBuf, algorithm, false, [\"sign\", \"verify\"]);\n};\n\nexport const verifySignature = async (\n\tbase64Signature: string,\n\tvalue: string,\n\tsecret: CryptoKey,\n): Promise<boolean> => {\n\ttry {\n\t\tconst signatureBinStr = atob(base64Signature);\n\t\tconst signature = new Uint8Array(signatureBinStr.length);\n\t\tfor (let i = 0, len = signatureBinStr.length; i < len; i++) {\n\t\t\tsignature[i] = signatureBinStr.charCodeAt(i);\n\t\t}\n\t\treturn await subtle.verify(algorithm, secret, signature, new TextEncoder().encode(value));\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n\nconst makeSignature = async (value: string, secret: string | BufferSource): Promise<string> => {\n\tconst key = await getCryptoKey(secret);\n\tconst signature = await subtle.sign(algorithm.name, key, new TextEncoder().encode(value));\n\t// the returned base64 encoded signature will always be 44 characters long and end with one or two equal signs\n\treturn btoa(String.fromCharCode(...new Uint8Array(signature)));\n};\n\nexport const signCookieValue = async (value: string, secret: string | BufferSource) => {\n\tconst signature = await makeSignature(value, secret);\n\tvalue = `${value}.${signature}`;\n\tvalue = encodeURIComponent(value);\n\treturn value;\n};\n", "import { signCookieValue } from \"./crypto\";\nimport { tryDecode } from \"./utils\";\n\nexport type CookiePrefixOptions = \"host\" | \"secure\";\n\nexport type CookieOptions = {\n\t/**\n\t * Domain of the cookie\n\t *\n\t * The Domain attribute specifies which server can receive a cookie. If specified, cookies are\n\t * available on the specified server and its subdomains. If the it is not\n\t * specified, the cookies are available on the server that sets it but not on\n\t * its subdomains.\n\t *\n\t * @example\n\t * `domain: \"example.com\"`\n\t */\n\tdomain?: string;\n\t/**\n\t * A lifetime of a cookie. Permanent cookies are deleted after the date specified in the\n\t * Expires attribute:\n\t *\n\t * Expires has been available for longer than Max-Age, however Max-Age is less error-prone, and\n\t * takes precedence when both are set. The rationale behind this is that when you set an\n\t * Expires date and time, they're relative to the client the cookie is being set on. If the\n\t * server is set to a different time, this could cause errors\n\t */\n\texpires?: Date;\n\t/**\n\t * Forbids JavaScript from accessing the cookie, for example, through the Document.cookie\n\t * property. Note that a cookie that has been created with HttpOnly will still be sent with\n\t * JavaScript-initiated requests, for example, when calling XMLHttpRequest.send() or fetch().\n\t * This mitigates attacks against cross-site scripting\n\t */\n\thttpOnly?: boolean;\n\t/**\n\t * Indicates the number of seconds until the cookie expires. A zero or negative number will\n\t * expire the cookie immediately. If both Expires and Max-Age are set, Max-Age has precedence.\n\t *\n\t * @example 604800 - 7 days\n\t */\n\tmaxAge?: number;\n\t/**\n\t * Indicates the path that must exist in the requested URL for the browser to send the Cookie\n\t * header.\n\t *\n\t * @example\n\t * \"/docs\"\n\t * // -> the request paths /docs, /docs/, /docs/Web/, and /docs/Web/HTTP will all match. the request paths /, /fr/docs will not match.\n\t */\n\tpath?: string;\n\t/**\n\t * Indicates that the cookie is sent to the server only when a request is made with the https:\n\t * scheme (except on localhost), and therefore, is more resistant to man-in-the-middle attacks.\n\t */\n\tsecure?: boolean;\n\t/**\n\t * Controls whether or not a cookie is sent with cross-site requests, providing some protection\n\t * against cross-site request forgery attacks (CSRF).\n\t *\n\t * Strict -  Means that the browser sends the cookie only for same-site requests, that is,\n\t * requests originating from the same site that set the cookie. If a request originates from a\n\t * different domain or scheme (even with the same domain), no cookies with the SameSite=Strict\n\t * attribute are sent.\n\t *\n\t * Lax - Means that the cookie is not sent on cross-site requests, such as on requests to load\n\t * images or frames, but is sent when a user is navigating to the origin site from an external\n\t * site (for example, when following a link). This is the default behavior if the SameSite\n\t * attribute is not specified.\n\t *\n\t * None - Means that the browser sends the cookie with both cross-site and same-site requests.\n\t * The Secure attribute must also be set when setting this value.\n\t */\n\tsameSite?: \"Strict\" | \"Lax\" | \"None\" | \"strict\" | \"lax\" | \"none\";\n\t/**\n\t * Indicates that the cookie should be stored using partitioned storage. Note that if this is\n\t * set, the Secure directive must also be set.\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/Privacy/Privacy_sandbox/Partitioned_cookies\n\t */\n\tpartitioned?: boolean;\n\t/**\n\t * Cooke Prefix\n\t *\n\t * - secure: `__Secure-` -> `__Secure-cookie-name`\n\t * - host: `__Host-` -> `__Host-cookie-name`\n\t *\n\t * `secure` must be set to true to use prefixes\n\t */\n\tprefix?: CookiePrefixOptions;\n};\n\nexport const getCookieKey = (key: string, prefix?: CookiePrefixOptions) => {\n\tlet finalKey = key;\n\tif (prefix) {\n\t\tif (prefix === \"secure\") {\n\t\t\tfinalKey = \"__Secure-\" + key;\n\t\t} else if (prefix === \"host\") {\n\t\t\tfinalKey = \"__Host-\" + key;\n\t\t} else {\n\t\t\treturn undefined;\n\t\t}\n\t}\n\treturn finalKey;\n};\n\n/**\n * Parse an HTTP Cookie header string and returning an object of all cookie\n * name-value pairs.\n *\n * Inspired by https://github.com/unjs/cookie-es/blob/main/src/cookie/parse.ts\n *\n * @param str the string representing a `Cookie` header value\n */\nexport function parseCookies(str: string) {\n\tif (typeof str !== \"string\") {\n\t\tthrow new TypeError(\"argument str must be a string\");\n\t}\n\n\tconst cookies: Map<string, string> = new Map();\n\n\tlet index = 0;\n\twhile (index < str.length) {\n\t\tconst eqIdx = str.indexOf(\"=\", index);\n\n\t\tif (eqIdx === -1) {\n\t\t\tbreak;\n\t\t}\n\n\t\tlet endIdx = str.indexOf(\";\", index);\n\n\t\tif (endIdx === -1) {\n\t\t\tendIdx = str.length;\n\t\t} else if (endIdx < eqIdx) {\n\t\t\tindex = str.lastIndexOf(\";\", eqIdx - 1) + 1;\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst key = str.slice(index, eqIdx).trim();\n\t\tif (!cookies.has(key)) {\n\t\t\tlet val = str.slice(eqIdx + 1, endIdx).trim();\n\t\t\tif (val.codePointAt(0) === 0x22) {\n\t\t\t\tval = val.slice(1, -1);\n\t\t\t}\n\t\t\tcookies.set(key, tryDecode(val));\n\t\t}\n\n\t\tindex = endIdx + 1;\n\t}\n\n\treturn cookies;\n}\n\nconst _serialize = (key: string, value: string, opt: CookieOptions = {}) => {\n\tlet cookie: string;\n\n\tif (opt?.prefix === \"secure\") {\n\t\tcookie = `${`__Secure-${key}`}=${value}`;\n\t} else if (opt?.prefix === \"host\") {\n\t\tcookie = `${`__Host-${key}`}=${value}`;\n\t} else {\n\t\tcookie = `${key}=${value}`;\n\t}\n\n\tif (key.startsWith(\"__Secure-\") && !opt.secure) {\n\t\topt.secure = true;\n\t}\n\n\tif (key.startsWith(\"__Host-\")) {\n\t\tif (!opt.secure) {\n\t\t\topt.secure = true;\n\t\t}\n\n\t\tif (opt.path !== \"/\") {\n\t\t\topt.path = \"/\";\n\t\t}\n\n\t\tif (opt.domain) {\n\t\t\topt.domain = undefined;\n\t\t}\n\t}\n\n\tif (opt && typeof opt.maxAge === \"number\" && opt.maxAge >= 0) {\n\t\tif (opt.maxAge > 34560000) {\n\t\t\tthrow new Error(\n\t\t\t\t\"Cookies Max-Age SHOULD NOT be greater than 400 days (34560000 seconds) in duration.\",\n\t\t\t);\n\t\t}\n\t\tcookie += `; Max-Age=${Math.floor(opt.maxAge)}`;\n\t}\n\n\tif (opt.domain && opt.prefix !== \"host\") {\n\t\tcookie += `; Domain=${opt.domain}`;\n\t}\n\n\tif (opt.path) {\n\t\tcookie += `; Path=${opt.path}`;\n\t}\n\n\tif (opt.expires) {\n\t\tif (opt.expires.getTime() - Date.now() > 34560000_000) {\n\t\t\tthrow new Error(\n\t\t\t\t\"Cookies Expires SHOULD NOT be greater than 400 days (34560000 seconds) in the future.\",\n\t\t\t);\n\t\t}\n\t\tcookie += `; Expires=${opt.expires.toUTCString()}`;\n\t}\n\n\tif (opt.httpOnly) {\n\t\tcookie += \"; HttpOnly\";\n\t}\n\n\tif (opt.secure) {\n\t\tcookie += \"; Secure\";\n\t}\n\n\tif (opt.sameSite) {\n\t\tcookie += `; SameSite=${opt.sameSite.charAt(0).toUpperCase() + opt.sameSite.slice(1)}`;\n\t}\n\n\tif (opt.partitioned) {\n\t\tif (!opt.secure) {\n\t\t\topt.secure = true;\n\t\t}\n\t\tcookie += \"; Partitioned\";\n\t}\n\n\treturn cookie;\n};\n\nexport const serializeCookie = (key: string, value: string, opt?: CookieOptions) => {\n\tvalue = encodeURIComponent(value);\n\treturn _serialize(key, value, opt);\n};\n\nexport const serializeSignedCookie = async (\n\tkey: string,\n\tvalue: string,\n\tsecret: string,\n\topt?: CookieOptions,\n) => {\n\tvalue = await signCookieValue(value, secret);\n\treturn _serialize(key, value, opt);\n};\n", "import type { EndpointOptions } from \"./endpoint\";\nimport { _statusCode, APIError, type Status } from \"./error\";\nimport type {\n\tInferParamPath,\n\tInferParamWildCard,\n\tIsEmptyObject,\n\tPrettify,\n\tUnionToIntersection,\n} from \"./helper\";\nimport type { Middleware, MiddlewareOptions } from \"./middleware\";\nimport { runValidation } from \"./validator\";\nimport {\n\tgetCookieKey,\n\tparseCookies,\n\tserializeCookie,\n\tserializeSignedCookie,\n\ttype CookieOptions,\n\ttype CookiePrefixOptions,\n} from \"./cookies\";\nimport { getCryptoKey, verifySignature } from \"./crypto\";\nimport type { StandardSchemaV1 } from \"./standard-schema\";\n\nexport type HTTPMethod = \"GET\" | \"POST\" | \"PUT\" | \"DELETE\" | \"PATCH\";\nexport type Method = HTTPMethod | \"*\";\n\nexport type InferBodyInput<\n\tOptions extends EndpointOptions | MiddlewareOptions,\n\tBody = Options[\"metadata\"] extends {\n\t\t$Infer: {\n\t\t\tbody: infer B;\n\t\t};\n\t}\n\t\t? B\n\t\t: Options[\"body\"] extends StandardSchemaV1\n\t\t\t? StandardSchemaV1.InferInput<Options[\"body\"]>\n\t\t\t: undefined,\n> = undefined extends Body\n\t? {\n\t\t\tbody?: Body;\n\t\t}\n\t: {\n\t\t\tbody: Body;\n\t\t};\n\nexport type InferBody<Options extends EndpointOptions | MiddlewareOptions> =\n\tOptions[\"metadata\"] extends {\n\t\t$Infer: {\n\t\t\tbody: infer Body;\n\t\t};\n\t}\n\t\t? Body\n\t\t: Options[\"body\"] extends StandardSchemaV1\n\t\t\t? StandardSchemaV1.InferOutput<Options[\"body\"]>\n\t\t\t: any;\n\nexport type InferQueryInput<\n\tOptions extends EndpointOptions | MiddlewareOptions,\n\tQuery = Options[\"metadata\"] extends {\n\t\t$Infer: {\n\t\t\tquery: infer Query;\n\t\t};\n\t}\n\t\t? Query\n\t\t: Options[\"query\"] extends StandardSchemaV1\n\t\t\t? StandardSchemaV1.InferInput<Options[\"query\"]>\n\t\t\t: Record<string, any> | undefined,\n> = undefined extends Query\n\t? {\n\t\t\tquery?: Query;\n\t\t}\n\t: {\n\t\t\tquery: Query;\n\t\t};\n\nexport type InferQuery<Options extends EndpointOptions | MiddlewareOptions> =\n\tOptions[\"metadata\"] extends {\n\t\t$Infer: {\n\t\t\tquery: infer Query;\n\t\t};\n\t}\n\t\t? Query\n\t\t: Options[\"query\"] extends StandardSchemaV1\n\t\t\t? StandardSchemaV1.InferOutput<Options[\"query\"]>\n\t\t\t: Record<string, any> | undefined;\n\nexport type InferMethod<Options extends EndpointOptions> = Options[\"method\"] extends Array<Method>\n\t? Options[\"method\"][number]\n\t: Options[\"method\"] extends \"*\"\n\t\t? HTTPMethod\n\t\t: Options[\"method\"];\n\nexport type InferInputMethod<\n\tOptions extends EndpointOptions,\n\tMethod = Options[\"method\"] extends Array<any>\n\t\t? Options[\"method\"][number]\n\t\t: Options[\"method\"] extends \"*\"\n\t\t\t? HTTPMethod\n\t\t\t: Options[\"method\"] | undefined,\n> = undefined extends Method\n\t? {\n\t\t\tmethod?: Method;\n\t\t}\n\t: {\n\t\t\tmethod: Method;\n\t\t};\n\nexport type InferParam<Path extends string> = IsEmptyObject<\n\tInferParamPath<Path> & InferParamWildCard<Path>\n> extends true\n\t? Record<string, any> | undefined\n\t: Prettify<InferParamPath<Path> & InferParamWildCard<Path>>;\n\nexport type InferParamInput<Path extends string> = IsEmptyObject<\n\tInferParamPath<Path> & InferParamWildCard<Path>\n> extends true\n\t? {\n\t\t\tparams?: Record<string, any>;\n\t\t}\n\t: {\n\t\t\tparams: Prettify<InferParamPath<Path> & InferParamWildCard<Path>>;\n\t\t};\n\nexport type InferRequest<Option extends EndpointOptions | MiddlewareOptions> =\n\tOption[\"requireRequest\"] extends true ? Request : Request | undefined;\n\nexport type InferRequestInput<Option extends EndpointOptions | MiddlewareOptions> =\n\tOption[\"requireRequest\"] extends true\n\t\t? {\n\t\t\t\trequest: Request;\n\t\t\t}\n\t\t: {\n\t\t\t\trequest?: Request;\n\t\t\t};\n\nexport type InferHeaders<Option extends EndpointOptions | MiddlewareOptions> =\n\tOption[\"requireHeaders\"] extends true ? Headers : Headers | undefined;\n\nexport type InferHeadersInput<Option extends EndpointOptions | MiddlewareOptions> =\n\tOption[\"requireHeaders\"] extends true\n\t\t? {\n\t\t\t\theaders: HeadersInit;\n\t\t\t}\n\t\t: {\n\t\t\t\theaders?: HeadersInit;\n\t\t\t};\n\nexport type InferUse<Opts extends EndpointOptions[\"use\"]> = Opts extends Middleware[]\n\t? UnionToIntersection<Awaited<ReturnType<Opts[number]>>>\n\t: {};\n\nexport type InferMiddlewareBody<Options extends MiddlewareOptions> =\n\tOptions[\"body\"] extends StandardSchemaV1<infer T> ? T : any;\n\nexport type InferMiddlewareQuery<Options extends MiddlewareOptions> =\n\tOptions[\"query\"] extends StandardSchemaV1<infer T> ? T : Record<string, any> | undefined;\n\ntype StrictKeys<T, U extends T = T> = Exclude<keyof U, keyof T> extends never ? U : never;\nexport type InputContext<\n\tPath extends string,\n\tOptions extends EndpointOptions,\n> = InferBodyInput<Options> &\n\tInferInputMethod<Options> &\n\tInferQueryInput<Options> &\n\tInferParamInput<Path> &\n\tInferRequestInput<Options> &\n\tInferHeadersInput<Options> & {\n\t\tasResponse?: boolean;\n\t\treturnHeaders?: boolean;\n\t\tuse?: Middleware[];\n\t\tpath?: string;\n\t};\n\nexport const createInternalContext = async (\n\tcontext: InputContext<any, any>,\n\t{\n\t\toptions,\n\t\tpath,\n\t}: {\n\t\toptions: EndpointOptions;\n\t\tpath: string;\n\t},\n) => {\n\tconst headers = new Headers();\n\tconst { data, error } = await runValidation(options, context);\n\tif (error) {\n\t\tthrow new APIError(400, {\n\t\t\tmessage: error.message,\n\t\t\tcode: \"VALIDATION_ERROR\",\n\t\t});\n\t}\n\tconst requestHeaders: Headers | null =\n\t\t\"headers\" in context\n\t\t\t? context.headers instanceof Headers\n\t\t\t\t? context.headers\n\t\t\t\t: new Headers(context.headers)\n\t\t\t: \"request\" in context && context.request instanceof Request\n\t\t\t\t? context.request.headers\n\t\t\t\t: null;\n\tconst requestCookies = requestHeaders?.get(\"cookie\");\n\tconst parsedCookies = requestCookies ? parseCookies(requestCookies) : undefined;\n\tconst internalContext = {\n\t\t...context,\n\t\tbody: data.body,\n\t\tquery: data.query,\n\t\tpath: context.path || path,\n\t\tcontext: \"context\" in context && context.context ? context.context : {},\n\t\treturned: undefined as any,\n\t\theaders: context?.headers,\n\t\trequest: context?.request,\n\t\tparams: \"params\" in context ? context.params : undefined,\n\t\tmethod: context.method,\n\t\tsetHeader: (key: string, value: string) => {\n\t\t\theaders.set(key, value);\n\t\t},\n\t\tgetHeader: (key: string) => {\n\t\t\tif (!requestHeaders) return null;\n\t\t\treturn requestHeaders.get(key);\n\t\t},\n\t\tgetCookie: (key: string, prefix?: CookiePrefixOptions) => {\n\t\t\tconst finalKey = getCookieKey(key, prefix);\n\t\t\tif (!finalKey) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn parsedCookies?.get(finalKey) || null;\n\t\t},\n\t\tgetSignedCookie: async (key: string, secret: string, prefix?: CookiePrefixOptions) => {\n\t\t\tconst finalKey = getCookieKey(key, prefix);\n\t\t\tif (!finalKey) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tconst value = parsedCookies?.get(finalKey);\n\t\t\tif (!value) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tconst signatureStartPos = value.lastIndexOf(\".\");\n\t\t\tif (signatureStartPos < 1) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tconst signedValue = value.substring(0, signatureStartPos);\n\t\t\tconst signature = value.substring(signatureStartPos + 1);\n\t\t\tif (signature.length !== 44 || !signature.endsWith(\"=\")) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tconst secretKey = await getCryptoKey(secret);\n\t\t\tconst isVerified = await verifySignature(signature, signedValue, secretKey);\n\t\t\treturn isVerified ? signedValue : false;\n\t\t},\n\t\tsetCookie: (key: string, value: string, options?: CookieOptions) => {\n\t\t\tconst cookie = serializeCookie(key, value, options);\n\t\t\theaders.append(\"set-cookie\", cookie);\n\t\t\treturn cookie;\n\t\t},\n\t\tsetSignedCookie: async (\n\t\t\tkey: string,\n\t\t\tvalue: string,\n\t\t\tsecret: string,\n\t\t\toptions?: CookieOptions,\n\t\t) => {\n\t\t\tconst cookie = await serializeSignedCookie(key, value, secret, options);\n\t\t\theaders.append(\"set-cookie\", cookie);\n\t\t\treturn cookie;\n\t\t},\n\t\tredirect: (url: string) => {\n\t\t\theaders.set(\"location\", url);\n\t\t\treturn new APIError(\"FOUND\", undefined, headers);\n\t\t},\n\t\terror: (\n\t\t\tstatus: keyof typeof _statusCode | Status,\n\t\t\tbody?:\n\t\t\t\t| {\n\t\t\t\t\t\tmessage?: string;\n\t\t\t\t\t\tcode?: string;\n\t\t\t\t  }\n\t\t\t\t| undefined,\n\t\t\theaders?: HeadersInit,\n\t\t) => {\n\t\t\treturn new APIError(status, body, headers);\n\t\t},\n\t\tjson: (\n\t\t\tjson: Record<string, any>,\n\t\t\trouterResponse?:\n\t\t\t\t| {\n\t\t\t\t\t\tstatus?: number;\n\t\t\t\t\t\theaders?: Record<string, string>;\n\t\t\t\t\t\tresponse?: Response;\n\t\t\t\t\t\tbody?: Record<string, any>;\n\t\t\t\t  }\n\t\t\t\t| Response,\n\t\t) => {\n\t\t\tif (!context.asResponse) {\n\t\t\t\treturn json;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tbody: routerResponse?.body || json,\n\t\t\t\trouterResponse,\n\t\t\t\t_flag: \"json\",\n\t\t\t};\n\t\t},\n\t\tresponseHeaders: headers,\n\t};\n\t//if context was shimmed through the input we want to apply it\n\tfor (const middleware of options.use || []) {\n\t\tconst response = (await middleware({\n\t\t\t...internalContext,\n\t\t\treturnHeaders: true,\n\t\t\tasResponse: false,\n\t\t})) as {\n\t\t\tresponse?: any;\n\t\t\theaders?: Headers;\n\t\t};\n\t\tif (response.response) {\n\t\t\tObject.assign(internalContext.context, response.response);\n\t\t}\n\t\t/**\n\t\t * Apply headers from the middleware to the endpoint headers\n\t\t */\n\t\tif (response.headers) {\n\t\t\tresponse.headers.forEach((value, key) => {\n\t\t\t\tinternalContext.responseHeaders.set(key, value);\n\t\t\t});\n\t\t}\n\t}\n\treturn internalContext;\n};\n", "import {\n\tcreateEndpoint,\n\ttype Endpoint,\n\ttype EndpointContext,\n\ttype EndpointOptions,\n} from \"./endpoint\";\nimport {\n\tcreateInternalContext,\n\ttype InferBody,\n\ttype InferBodyInput,\n\ttype InferHeaders,\n\ttype InferHeadersInput,\n\ttype InferMiddlewareBody,\n\ttype InferMiddlewareQuery,\n\ttype InferQuery,\n\ttype InferQueryInput,\n\ttype InferRequest,\n\ttype InferRequestInput,\n\ttype InferUse,\n\ttype InputContext,\n} from \"./context\";\nimport type { Prettify } from \"./helper\";\n\nexport interface MiddlewareOptions extends Omit<EndpointOptions, \"method\"> {}\n\nexport type MiddlewareResponse = null | void | undefined | Record<string, any>;\n\nexport type MiddlewareContext<Options extends MiddlewareOptions, Context = {}> = EndpointContext<\n\tstring,\n\tOptions & {\n\t\tmethod: \"*\";\n\t}\n> & {\n\t/**\n\t * Method\n\t *\n\t * The request method\n\t */\n\tmethod: string;\n\t/**\n\t * Path\n\t *\n\t * The path of the endpoint\n\t */\n\tpath: string;\n\t/**\n\t * Body\n\t *\n\t * The body object will be the parsed JSON from the request and validated\n\t * against the body schema if it exists\n\t */\n\tbody: InferMiddlewareBody<Options>;\n\t/**\n\t * Query\n\t *\n\t * The query object will be the parsed query string from the request\n\t * and validated against the query schema if it exists\n\t */\n\tquery: InferMiddlewareQuery<Options>;\n\t/**\n\t * Params\n\t *\n\t * If the path is `/user/:id` and the request is `/user/1` then the\n\t * params will\n\t * be `{ id: \"1\" }` and if the path includes a wildcard like `/user/*`\n\t * then the\n\t * params will be `{ _: \"1\" }` where `_` is the wildcard key. If the\n\t * wildcard\n\t * is named like `/user/**:name` then the params will be `{ name: string }`\n\t */\n\tparams: string;\n\t/**\n\t * Request object\n\t *\n\t * If `requireRequest` is set to true in the endpoint options this will be\n\t * required\n\t */\n\trequest: InferRequest<Options>;\n\t/**\n\t * Headers\n\t *\n\t * If `requireHeaders` is set to true in the endpoint options this will be\n\t * required\n\t */\n\theaders: InferHeaders<Options>;\n\t/**\n\t * Set header\n\t *\n\t * If it's called outside of a request it will just be ignored.\n\t */\n\tsetHeader: (key: string, value: string) => void;\n\t/**\n\t * Get header\n\t *\n\t * If it's called outside of a request it will just return null\n\t *\n\t * @param key  - The key of the header\n\t * @returns\n\t */\n\tgetHeader: (key: string) => string | null;\n\t/**\n\t * JSON\n\t *\n\t * a helper function to create a JSON response with\n\t * the correct headers\n\t * and status code. If `asResponse` is set to true in\n\t * the context then\n\t * it will return a Response object instead of the\n\t * JSON object.\n\t *\n\t * @param json - The JSON object to return\n\t * @param routerResponse - The response object to\n\t * return if `asResponse` is\n\t * true in the context this will take precedence\n\t */\n\tjson: <R extends Record<string, any> | null>(\n\t\tjson: R,\n\t\trouterResponse?:\n\t\t\t| {\n\t\t\t\t\tstatus?: number;\n\t\t\t\t\theaders?: Record<string, string>;\n\t\t\t\t\tresponse?: Response;\n\t\t\t  }\n\t\t\t| Response,\n\t) => Promise<R>;\n\t/**\n\t * Middleware context\n\t */\n\tcontext: Prettify<Context>;\n};\n\nexport function createMiddleware<Options extends MiddlewareOptions, R>(\n\toptions: Options,\n\thandler: (context: MiddlewareContext<Options>) => Promise<R>,\n): <InputCtx extends MiddlewareInputContext<Options>>(inputContext: InputCtx) => Promise<R>;\nexport function createMiddleware<Options extends MiddlewareOptions, R>(\n\thandler: (context: MiddlewareContext<Options>) => Promise<R>,\n): <InputCtx extends MiddlewareInputContext<Options>>(inputContext: InputCtx) => Promise<R>;\nexport function createMiddleware(optionsOrHandler: any, handler?: any) {\n\tconst internalHandler = async (inputCtx: InputContext<any, any>) => {\n\t\tconst context = inputCtx as InputContext<any, any>;\n\t\tconst _handler = typeof optionsOrHandler === \"function\" ? optionsOrHandler : handler;\n\t\tconst options = typeof optionsOrHandler === \"function\" ? {} : optionsOrHandler;\n\t\tconst internalContext = await createInternalContext(context, {\n\t\t\toptions,\n\t\t\tpath: \"/\",\n\t\t});\n\n\t\tif (!_handler) {\n\t\t\tthrow new Error(\"handler must be defined\");\n\t\t}\n\t\tconst response = await _handler(internalContext as any);\n\t\tconst headers = internalContext.responseHeaders;\n\t\treturn context.returnHeaders\n\t\t\t? {\n\t\t\t\t\theaders,\n\t\t\t\t\tresponse,\n\t\t\t\t}\n\t\t\t: response;\n\t};\n\tinternalHandler.options = typeof optionsOrHandler === \"function\" ? {} : optionsOrHandler;\n\treturn internalHandler;\n}\n\nexport type MiddlewareInputContext<Options extends MiddlewareOptions> = InferBodyInput<Options> &\n\tInferQueryInput<Options> &\n\tInferRequestInput<Options> &\n\tInferHeadersInput<Options> & {\n\t\tasResponse?: boolean;\n\t\treturnHeaders?: boolean;\n\t\tuse?: Middleware[];\n\t};\n\nexport type Middleware<\n\tOptions extends MiddlewareOptions = MiddlewareOptions,\n\tHandler extends (inputCtx: any) => Promise<any> = any,\n> = Handler & {\n\toptions: Options;\n};\n\ncreateMiddleware.create = <\n\tE extends {\n\t\tuse?: Middleware[];\n\t},\n>(\n\topts?: E,\n) => {\n\ttype InferredContext = InferUse<E[\"use\"]>;\n\tfunction fn<Options extends MiddlewareOptions, R>(\n\t\toptions: Options,\n\t\thandler: (ctx: MiddlewareContext<Options, InferredContext>) => Promise<R>,\n\t): (inputContext: MiddlewareInputContext<Options>) => Promise<R>;\n\tfunction fn<Options extends MiddlewareOptions, R>(\n\t\thandler: (ctx: MiddlewareContext<Options, InferredContext>) => Promise<R>,\n\t): (inputContext: MiddlewareInputContext<Options>) => Promise<R>;\n\tfunction fn(optionsOrHandler: any, handler?: any) {\n\t\tif (typeof optionsOrHandler === \"function\") {\n\t\t\treturn createMiddleware(\n\t\t\t\t{\n\t\t\t\t\tuse: opts?.use,\n\t\t\t\t},\n\t\t\t\toptionsOrHandler,\n\t\t\t);\n\t\t}\n\t\tif (!handler) {\n\t\t\tthrow new Error(\"Middleware handler is required\");\n\t\t}\n\t\tconst middleware = createMiddleware(\n\t\t\t{\n\t\t\t\t...optionsOrHandler,\n\t\t\t\tmethod: \"*\",\n\t\t\t\tuse: [...(opts?.use || []), ...(optionsOrHandler.use || [])],\n\t\t\t},\n\t\t\thandler,\n\t\t);\n\t\treturn middleware as any;\n\t}\n\treturn fn;\n};\n", "import type { HasRequiredKeys, Prettify } from \"./helper\";\nimport { toResponse } from \"./to-response\";\nimport { type Middleware } from \"./middleware\";\nimport {\n\tcreateInternalContext,\n\ttype InferBody,\n\ttype InferHeaders,\n\ttype InferMethod,\n\ttype InferParam,\n\ttype InferQuery,\n\ttype InferRequest,\n\ttype InferUse,\n\ttype InputContext,\n\ttype Method,\n} from \"./context\";\nimport type { CookieOptions, CookiePrefixOptions } from \"./cookies\";\nimport { APIError, type _statusCode, type Status } from \"./error\";\nimport type { OpenAPIParameter, OpenAPISchemaType } from \"./openapi\";\nimport type { StandardSchemaV1 } from \"./standard-schema\";\nimport { isAPIError } from \"./utils\";\n\nexport interface EndpointOptions {\n\t/**\n\t * Request Method\n\t */\n\tmethod: Method | Method[];\n\t/**\n\t * Body Schema\n\t */\n\tbody?: StandardSchemaV1;\n\t/**\n\t * Query Schema\n\t */\n\tquery?: StandardSchemaV1;\n\t/**\n\t * If true headers will be required to be passed in the context\n\t */\n\trequireHeaders?: boolean;\n\t/**\n\t * If true request object will be required\n\t */\n\trequireRequest?: boolean;\n\t/**\n\t * Clone the request object from the router\n\t */\n\tcloneRequest?: boolean;\n\t/**\n\t * If true the body will be undefined\n\t */\n\tdisableBody?: boolean;\n\t/**\n\t * Endpoint metadata\n\t */\n\tmetadata?: {\n\t\t/**\n\t\t * Open API definition\n\t\t */\n\t\topenapi?: {\n\t\t\tsummary?: string;\n\t\t\tdescription?: string;\n\t\t\ttags?: string[];\n\t\t\toperationId?: string;\n\t\t\tparameters?: OpenAPIParameter[];\n\t\t\trequestBody?: {\n\t\t\t\tcontent: {\n\t\t\t\t\t\"application/json\": {\n\t\t\t\t\t\tschema: {\n\t\t\t\t\t\t\ttype?: OpenAPISchemaType;\n\t\t\t\t\t\t\tproperties?: Record<string, any>;\n\t\t\t\t\t\t\trequired?: string[];\n\t\t\t\t\t\t\t$ref?: string;\n\t\t\t\t\t\t};\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t};\n\t\t\tresponses?: {\n\t\t\t\t[status: string]: {\n\t\t\t\t\tdescription: string;\n\t\t\t\t\tcontent?: {\n\t\t\t\t\t\t\"application/json\"?: {\n\t\t\t\t\t\t\tschema: {\n\t\t\t\t\t\t\t\ttype?: OpenAPISchemaType;\n\t\t\t\t\t\t\t\tproperties?: Record<string, any>;\n\t\t\t\t\t\t\t\trequired?: string[];\n\t\t\t\t\t\t\t\t$ref?: string;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t};\n\t\t\t\t\t\t\"text/plain\"?: {\n\t\t\t\t\t\t\tschema?: {\n\t\t\t\t\t\t\t\ttype?: OpenAPISchemaType;\n\t\t\t\t\t\t\t\tproperties?: Record<string, any>;\n\t\t\t\t\t\t\t\trequired?: string[];\n\t\t\t\t\t\t\t\t$ref?: string;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t};\n\t\t\t\t\t\t\"text/html\"?: {\n\t\t\t\t\t\t\tschema?: {\n\t\t\t\t\t\t\t\ttype?: OpenAPISchemaType;\n\t\t\t\t\t\t\t\tproperties?: Record<string, any>;\n\t\t\t\t\t\t\t\trequired?: string[];\n\t\t\t\t\t\t\t\t$ref?: string;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t};\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t};\n\t\t};\n\t\t/**\n\t\t * Infer body and query type from ts interface\n\t\t *\n\t\t * useful for generic and dynamic types\n\t\t *\n\t\t * @example\n\t\t * ```ts\n\t\t * const endpoint = createEndpoint(\"/path\", {\n\t\t * \t\tmethod: \"POST\",\n\t\t * \t\tbody: z.record(z.string()),\n\t\t * \t\t$Infer: {\n\t\t * \t\t\tbody: {} as {\n\t\t * \t\t\t\ttype: InferTypeFromOptions<Option> // custom type inference\n\t\t * \t\t\t}\n\t\t * \t\t}\n\t\t * \t}, async(ctx)=>{\n\t\t * \t\tconst body = ctx.body\n\t\t * \t})\n\t\t * ```\n\t\t */\n\t\t$Infer?: {\n\t\t\t/**\n\t\t\t * Body\n\t\t\t */\n\t\t\tbody?: any;\n\t\t\t/**\n\t\t\t * Query\n\t\t\t */\n\t\t\tquery?: Record<string, any>;\n\t\t};\n\t\t/**\n\t\t * If enabled, endpoint won't be exposed over a router\n\t\t */\n\t\tSERVER_ONLY?: boolean;\n\t\t/**\n\t\t * Extra metadata\n\t\t */\n\t\t[key: string]: any;\n\t};\n\t/**\n\t * List of middlewares to use\n\t */\n\tuse?: Middleware[];\n\t/**\n\t * A callback to run before any API error is throw or returned\n\t *\n\t * @param e - The API error\n\t * @returns - The response to return\n\t */\n\tonAPIError?: (e: APIError) => void | Promise<void>;\n}\n\nexport type EndpointContext<Path extends string, Options extends EndpointOptions, Context = {}> = {\n\t/**\n\t * Method\n\t *\n\t * The request method\n\t */\n\tmethod: InferMethod<Options>;\n\t/**\n\t * Path\n\t *\n\t * The path of the endpoint\n\t */\n\tpath: Path;\n\t/**\n\t * Body\n\t *\n\t * The body object will be the parsed JSON from the request and validated\n\t * against the body schema if it exists.\n\t */\n\tbody: InferBody<Options>;\n\t/**\n\t * Query\n\t *\n\t * The query object will be the parsed query string from the request\n\t * and validated against the query schema if it exists\n\t */\n\tquery: InferQuery<Options>;\n\t/**\n\t * Params\n\t *\n\t * If the path is `/user/:id` and the request is `/user/1` then the params will\n\t * be `{ id: \"1\" }` and if the path includes a wildcard like `/user/*` then the\n\t * params will be `{ _: \"1\" }` where `_` is the wildcard key. If the wildcard\n\t * is named like `/user/**:name` then the params will be `{ name: string }`\n\t */\n\tparams: InferParam<Path>;\n\t/**\n\t * Request object\n\t *\n\t * If `requireRequest` is set to true in the endpoint options this will be\n\t * required\n\t */\n\trequest: InferRequest<Options>;\n\t/**\n\t * Headers\n\t *\n\t * If `requireHeaders` is set to true in the endpoint options this will be\n\t * required\n\t */\n\theaders: InferHeaders<Options>;\n\t/**\n\t * Set header\n\t *\n\t * If it's called outside of a request it will just be ignored.\n\t */\n\tsetHeader: (key: string, value: string) => void;\n\t/**\n\t * Get header\n\t *\n\t * If it's called outside of a request it will just return null\n\t *\n\t * @param key  - The key of the header\n\t * @returns\n\t */\n\tgetHeader: (key: string) => string | null;\n\t/**\n\t * Get a cookie value from the request\n\t *\n\t * @param key - The key of the cookie\n\t * @param prefix - The prefix of the cookie between `__Secure-` and `__Host-`\n\t * @returns - The value of the cookie\n\t */\n\tgetCookie: (key: string, prefix?: CookiePrefixOptions) => string | null;\n\t/**\n\t * Get a signed cookie value from the request\n\t *\n\t * @param key - The key of the cookie\n\t * @param secret - The secret of the signed cookie\n\t * @param prefix - The prefix of the cookie between `__Secure-` and `__Host-`\n\t * @returns\n\t */\n\tgetSignedCookie: (\n\t\tkey: string,\n\t\tsecret: string,\n\t\tprefix?: CookiePrefixOptions,\n\t) => Promise<string | null>;\n\t/**\n\t * Set a cookie value in the response\n\t *\n\t * @param key - The key of the cookie\n\t * @param value - The value to set\n\t * @param options - The options of the cookie\n\t * @returns - The cookie string\n\t */\n\tsetCookie: (key: string, value: string, options?: CookieOptions) => string;\n\t/**\n\t * Set signed cookie\n\t *\n\t * @param key - The key of the cookie\n\t * @param value  - The value to set\n\t * @param secret - The secret to sign the cookie with\n\t * @param options - The options of the cookie\n\t * @returns - The cookie string\n\t */\n\tsetSignedCookie: (\n\t\tkey: string,\n\t\tvalue: string,\n\t\tsecret: string,\n\t\toptions?: CookieOptions,\n\t) => Promise<string>;\n\t/**\n\t * JSON\n\t *\n\t * a helper function to create a JSON response with\n\t * the correct headers\n\t * and status code. If `asResponse` is set to true in\n\t * the context then\n\t * it will return a Response object instead of the\n\t * JSON object.\n\t *\n\t * @param json - The JSON object to return\n\t * @param routerResponse - The response object to\n\t * return if `asResponse` is\n\t * true in the context this will take precedence\n\t */\n\tjson: <R extends Record<string, any> | null>(\n\t\tjson: R,\n\t\trouterResponse?:\n\t\t\t| {\n\t\t\t\t\tstatus?: number;\n\t\t\t\t\theaders?: Record<string, string>;\n\t\t\t\t\tresponse?: Response;\n\t\t\t\t\tbody?: Record<string, string>;\n\t\t\t  }\n\t\t\t| Response,\n\t) => Promise<R>;\n\t/**\n\t * Middleware context\n\t */\n\tcontext: Prettify<Context & InferUse<Options[\"use\"]>>;\n\t/**\n\t * Redirect to a new URL\n\t */\n\tredirect: (url: string) => APIError;\n\t/**\n\t * Return error\n\t */\n\terror: (\n\t\tstatus: keyof typeof _statusCode | Status,\n\t\tbody?: {\n\t\t\tmessage?: string;\n\t\t\tcode?: string;\n\t\t} & Record<string, any>,\n\t\theaders?: HeadersInit,\n\t) => APIError;\n};\n\nexport const createEndpoint = <Path extends string, Options extends EndpointOptions, R>(\n\tpath: Path,\n\toptions: Options,\n\thandler: (context: EndpointContext<Path, Options>) => Promise<R>,\n) => {\n\ttype Context = InputContext<Path, Options>;\n\tconst internalHandler = async <\n\t\tAsResponse extends boolean = false,\n\t\tReturnHeaders extends boolean = false,\n\t>(\n\t\t...inputCtx: HasRequiredKeys<Context> extends true\n\t\t\t? [Context & { asResponse?: AsResponse; returnHeaders?: ReturnHeaders }]\n\t\t\t: [(Context & { asResponse?: AsResponse; returnHeaders?: ReturnHeaders })?]\n\t) => {\n\t\tconst context = (inputCtx[0] || {}) as InputContext<any, any>;\n\t\tconst internalContext = await createInternalContext(context, {\n\t\t\toptions,\n\t\t\tpath,\n\t\t});\n\t\tconst response = await handler(internalContext as any).catch(async (e) => {\n\t\t\tif (isAPIError(e)) {\n\t\t\t\tconst onAPIError = options.onAPIError;\n\t\t\t\tif (onAPIError) {\n\t\t\t\t\tawait onAPIError(e);\n\t\t\t\t}\n\t\t\t\tif (context.asResponse) {\n\t\t\t\t\treturn e;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthrow e;\n\t\t});\n\t\tconst headers = internalContext.responseHeaders;\n\t\ttype ResultType = [AsResponse] extends [true]\n\t\t\t? Response\n\t\t\t: [ReturnHeaders] extends [true]\n\t\t\t\t? { headers: Headers; response: R }\n\t\t\t\t: R;\n\n\t\treturn (\n\t\t\tcontext.asResponse\n\t\t\t\t? toResponse(response, {\n\t\t\t\t\t\theaders,\n\t\t\t\t\t})\n\t\t\t\t: context.returnHeaders\n\t\t\t\t\t? {\n\t\t\t\t\t\t\theaders,\n\t\t\t\t\t\t\tresponse,\n\t\t\t\t\t\t}\n\t\t\t\t\t: response\n\t\t) as ResultType;\n\t};\n\tinternalHandler.options = options;\n\tinternalHandler.path = path;\n\treturn internalHandler;\n};\n\ncreateEndpoint.create = <E extends { use?: Middleware[] }>(opts?: E) => {\n\treturn <Path extends string, Opts extends EndpointOptions, R>(\n\t\tpath: Path,\n\t\toptions: Opts,\n\t\thandler: (ctx: EndpointContext<Path, Opts, InferUse<E[\"use\"]>>) => Promise<R>,\n\t) => {\n\t\treturn createEndpoint(\n\t\t\tpath,\n\t\t\t{\n\t\t\t\t...options,\n\t\t\t\tuse: [...(options?.use || []), ...(opts?.use || [])],\n\t\t\t},\n\t\t\thandler,\n\t\t);\n\t};\n};\n\nexport type Endpoint<\n\tPath extends string = string,\n\tOptions extends EndpointOptions = EndpointOptions,\n\tHandler extends (inputCtx: any) => Promise<any> = (inputCtx: any) => Promise<any>,\n> = Handler & {\n\toptions: Options;\n\tpath: Path;\n};\n", "import { createRouter as createRou3Router, addRoute, findRoute, findAllRoutes } from \"rou3\";\nimport { createEndpoint, type Endpoint } from \"./endpoint\";\nimport { generator, getHTML } from \"./openapi\";\nimport type { Middleware } from \"./middleware\";\nimport { getBody, isAPIError } from \"./utils\";\nimport { APIError } from \"./error\";\nimport { toResponse } from \"./to-response\";\n\nexport interface RouterConfig {\n\tthrowError?: boolean;\n\tonError?: (e: unknown) => void | Promise<void> | Response | Promise<Response>;\n\tbasePath?: string;\n\trouterMiddleware?: Array<{\n\t\tpath: string;\n\t\tmiddleware: Middleware;\n\t}>;\n\t/**\n\t * additional Context that needs to passed to endpoints\n\t *\n\t * this will be available on `ctx.context` on endpoints\n\t */\n\trouterContext?: Record<string, any>;\n\t/**\n\t * A callback to run before any response\n\t */\n\tonResponse?: (res: Response) => any | Promise<any>;\n\t/**\n\t * A callback to run before any request\n\t */\n\tonRequest?: (req: Request) => any | Promise<any>;\n\t/**\n\t * Open API route configuration\n\t */\n\topenapi?: {\n\t\t/**\n\t\t * Disable openapi route\n\t\t *\n\t\t * @default false\n\t\t */\n\t\tdisabled?: boolean;\n\t\t/**\n\t\t * A path to display open api using scalar\n\t\t *\n\t\t * @default \"/api/reference\"\n\t\t */\n\t\tpath?: string;\n\t\t/**\n\t\t * Scalar Configuration\n\t\t */\n\t\tscalar?: {\n\t\t\t/**\n\t\t\t * Title\n\t\t\t * @default \"Open API Reference\"\n\t\t\t */\n\t\t\ttitle?: string;\n\t\t\t/**\n\t\t\t * Description\n\t\t\t *\n\t\t\t * @default \"Better Call Open API Reference\"\n\t\t\t */\n\t\t\tdescription?: string;\n\t\t\t/**\n\t\t\t * Logo URL\n\t\t\t */\n\t\t\tlogo?: string;\n\t\t\t/**\n\t\t\t * Scalar theme\n\t\t\t * @default \"saturn\"\n\t\t\t */\n\t\t\ttheme?: string;\n\t\t};\n\t};\n}\n\nexport const createRouter = <E extends Record<string, Endpoint>, Config extends RouterConfig>(\n\tendpoints: E,\n\tconfig?: Config,\n) => {\n\tif (!config?.openapi?.disabled) {\n\t\tconst openapi = {\n\t\t\tpath: \"/api/reference\",\n\t\t\t...config?.openapi,\n\t\t};\n\t\t//@ts-expect-error\n\t\tendpoints[\"openapi\"] = createEndpoint(\n\t\t\topenapi.path,\n\t\t\t{\n\t\t\t\tmethod: \"GET\",\n\t\t\t},\n\t\t\tasync (c) => {\n\t\t\t\tconst schema = await generator(endpoints);\n\t\t\t\treturn new Response(getHTML(schema, openapi.scalar), {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t\"Content-Type\": \"text/html\",\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t},\n\t\t);\n\t}\n\tconst router = createRou3Router();\n\tconst middlewareRouter = createRou3Router();\n\n\tfor (const endpoint of Object.values(endpoints)) {\n\t\tif (!endpoint.options) {\n\t\t\tcontinue;\n\t\t}\n\t\tif (endpoint.options?.metadata?.SERVER_ONLY) continue;\n\n\t\tconst methods = Array.isArray(endpoint.options?.method)\n\t\t\t? endpoint.options.method\n\t\t\t: [endpoint.options?.method];\n\n\t\tfor (const method of methods) {\n\t\t\taddRoute(router, method, endpoint.path, endpoint);\n\t\t}\n\t}\n\n\tif (config?.routerMiddleware?.length) {\n\t\tfor (const { path, middleware } of config.routerMiddleware) {\n\t\t\taddRoute(middlewareRouter, \"*\", path, middleware);\n\t\t}\n\t}\n\n\tconst processRequest = async (request: Request) => {\n\t\tconst url = new URL(request.url);\n\t\tconst path = config?.basePath\n\t\t\t? url.pathname\n\t\t\t\t\t.split(config.basePath)\n\t\t\t\t\t.reduce((acc, curr, index) => {\n\t\t\t\t\t\tif (index !== 0) {\n\t\t\t\t\t\t\tif (index > 1) {\n\t\t\t\t\t\t\t\tacc.push(`${config.basePath}${curr}`);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tacc.push(curr);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn acc;\n\t\t\t\t\t}, [] as string[])\n\t\t\t\t\t.join(\"\")\n\t\t\t: url.pathname;\n\n\t\tif (!path?.length) {\n\t\t\treturn new Response(null, { status: 404, statusText: \"Not Found\" });\n\t\t}\n\n\t\tconst route = findRoute(router, request.method, path);\n\t\tif (!route?.data) {\n\t\t\treturn new Response(null, { status: 404, statusText: \"Not Found\" });\n\t\t}\n\n\t\tconst query: Record<string, string | string[]> = {};\n\t\turl.searchParams.forEach((value, key) => {\n\t\t\tif (key in query) {\n\t\t\t\tif (Array.isArray(query[key])) {\n\t\t\t\t\t(query[key] as string[]).push(value);\n\t\t\t\t} else {\n\t\t\t\t\tquery[key] = [query[key] as string, value];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tquery[key] = value;\n\t\t\t}\n\t\t});\n\n\t\tconst handler = route.data as Endpoint;\n\t\tconst context = {\n\t\t\tpath,\n\t\t\tmethod: request.method as \"GET\",\n\t\t\theaders: request.headers,\n\t\t\tparams: route.params ? (JSON.parse(JSON.stringify(route.params)) as any) : {},\n\t\t\trequest: request,\n\t\t\tbody: handler.options.disableBody\n\t\t\t\t? undefined\n\t\t\t\t: await getBody(handler.options.cloneRequest ? request.clone() : request),\n\t\t\tquery,\n\t\t\t_flag: \"router\" as const,\n\t\t\tasResponse: true,\n\t\t\tcontext: config?.routerContext,\n\t\t};\n\n\t\ttry {\n\t\t\tconst middlewareRoutes = findAllRoutes(middlewareRouter, \"*\", path);\n\t\t\tif (middlewareRoutes?.length) {\n\t\t\t\tfor (const { data: middleware, params } of middlewareRoutes) {\n\t\t\t\t\tconst res = await (middleware as Endpoint)({\n\t\t\t\t\t\t...context,\n\t\t\t\t\t\tparams,\n\t\t\t\t\t\tasResponse: false,\n\t\t\t\t\t});\n\n\t\t\t\t\tif (res instanceof Response) return res;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst response = (await handler(context)) as Response;\n\t\t\treturn response;\n\t\t} catch (error) {\n\t\t\tif (isAPIError(error)) {\n\t\t\t\treturn toResponse(error);\n\t\t\t}\n\t\t\tconsole.error(`# SERVER_ERROR: `, error);\n\t\t\treturn new Response(null, {\n\t\t\t\tstatus: 500,\n\t\t\t\tstatusText: \"Internal Server Error\",\n\t\t\t});\n\t\t}\n\t};\n\n\treturn {\n\t\thandler: async (request: Request) => {\n\t\t\tconst onReq = await config?.onRequest?.(request);\n\t\t\tif (onReq instanceof Response) {\n\t\t\t\treturn onReq;\n\t\t\t}\n\t\t\tconst req = onReq instanceof Request ? onReq : request;\n\t\t\tconst res = await processRequest(req);\n\t\t\tconst onRes = await config?.onResponse?.(res);\n\t\t\tif (onRes instanceof Response) {\n\t\t\t\treturn onRes;\n\t\t\t}\n\t\t\treturn res;\n\t\t},\n\t\tendpoints,\n\t};\n};\n\nexport type Router = ReturnType<typeof createRouter>;\n", "var util;\n(function (util) {\n    util.assertEqual = (val) => val;\n    function assertIs(_arg) { }\n    util.assertIs = assertIs;\n    function assertNever(_x) {\n        throw new Error();\n    }\n    util.assertNever = assertNever;\n    util.arrayToEnum = (items) => {\n        const obj = {};\n        for (const item of items) {\n            obj[item] = item;\n        }\n        return obj;\n    };\n    util.getValidEnumValues = (obj) => {\n        const validKeys = util.objectKeys(obj).filter((k) => typeof obj[obj[k]] !== \"number\");\n        const filtered = {};\n        for (const k of validKeys) {\n            filtered[k] = obj[k];\n        }\n        return util.objectValues(filtered);\n    };\n    util.objectValues = (obj) => {\n        return util.objectKeys(obj).map(function (e) {\n            return obj[e];\n        });\n    };\n    util.objectKeys = typeof Object.keys === \"function\" // eslint-disable-line ban/ban\n        ? (obj) => Object.keys(obj) // eslint-disable-line ban/ban\n        : (object) => {\n            const keys = [];\n            for (const key in object) {\n                if (Object.prototype.hasOwnProperty.call(object, key)) {\n                    keys.push(key);\n                }\n            }\n            return keys;\n        };\n    util.find = (arr, checker) => {\n        for (const item of arr) {\n            if (checker(item))\n                return item;\n        }\n        return undefined;\n    };\n    util.isInteger = typeof Number.isInteger === \"function\"\n        ? (val) => Number.isInteger(val) // eslint-disable-line ban/ban\n        : (val) => typeof val === \"number\" && isFinite(val) && Math.floor(val) === val;\n    function joinValues(array, separator = \" | \") {\n        return array\n            .map((val) => (typeof val === \"string\" ? `'${val}'` : val))\n            .join(separator);\n    }\n    util.joinValues = joinValues;\n    util.jsonStringifyReplacer = (_, value) => {\n        if (typeof value === \"bigint\") {\n            return value.toString();\n        }\n        return value;\n    };\n})(util || (util = {}));\nvar objectUtil;\n(function (objectUtil) {\n    objectUtil.mergeShapes = (first, second) => {\n        return {\n            ...first,\n            ...second, // second overwrites first\n        };\n    };\n})(objectUtil || (objectUtil = {}));\nconst ZodParsedType = util.arrayToEnum([\n    \"string\",\n    \"nan\",\n    \"number\",\n    \"integer\",\n    \"float\",\n    \"boolean\",\n    \"date\",\n    \"bigint\",\n    \"symbol\",\n    \"function\",\n    \"undefined\",\n    \"null\",\n    \"array\",\n    \"object\",\n    \"unknown\",\n    \"promise\",\n    \"void\",\n    \"never\",\n    \"map\",\n    \"set\",\n]);\nconst getParsedType = (data) => {\n    const t = typeof data;\n    switch (t) {\n        case \"undefined\":\n            return ZodParsedType.undefined;\n        case \"string\":\n            return ZodParsedType.string;\n        case \"number\":\n            return isNaN(data) ? ZodParsedType.nan : ZodParsedType.number;\n        case \"boolean\":\n            return ZodParsedType.boolean;\n        case \"function\":\n            return ZodParsedType.function;\n        case \"bigint\":\n            return ZodParsedType.bigint;\n        case \"symbol\":\n            return ZodParsedType.symbol;\n        case \"object\":\n            if (Array.isArray(data)) {\n                return ZodParsedType.array;\n            }\n            if (data === null) {\n                return ZodParsedType.null;\n            }\n            if (data.then &&\n                typeof data.then === \"function\" &&\n                data.catch &&\n                typeof data.catch === \"function\") {\n                return ZodParsedType.promise;\n            }\n            if (typeof Map !== \"undefined\" && data instanceof Map) {\n                return ZodParsedType.map;\n            }\n            if (typeof Set !== \"undefined\" && data instanceof Set) {\n                return ZodParsedType.set;\n            }\n            if (typeof Date !== \"undefined\" && data instanceof Date) {\n                return ZodParsedType.date;\n            }\n            return ZodParsedType.object;\n        default:\n            return ZodParsedType.unknown;\n    }\n};\n\nconst ZodIssueCode = util.arrayToEnum([\n    \"invalid_type\",\n    \"invalid_literal\",\n    \"custom\",\n    \"invalid_union\",\n    \"invalid_union_discriminator\",\n    \"invalid_enum_value\",\n    \"unrecognized_keys\",\n    \"invalid_arguments\",\n    \"invalid_return_type\",\n    \"invalid_date\",\n    \"invalid_string\",\n    \"too_small\",\n    \"too_big\",\n    \"invalid_intersection_types\",\n    \"not_multiple_of\",\n    \"not_finite\",\n]);\nconst quotelessJson = (obj) => {\n    const json = JSON.stringify(obj, null, 2);\n    return json.replace(/\"([^\"]+)\":/g, \"$1:\");\n};\nclass ZodError extends Error {\n    get errors() {\n        return this.issues;\n    }\n    constructor(issues) {\n        super();\n        this.issues = [];\n        this.addIssue = (sub) => {\n            this.issues = [...this.issues, sub];\n        };\n        this.addIssues = (subs = []) => {\n            this.issues = [...this.issues, ...subs];\n        };\n        const actualProto = new.target.prototype;\n        if (Object.setPrototypeOf) {\n            // eslint-disable-next-line ban/ban\n            Object.setPrototypeOf(this, actualProto);\n        }\n        else {\n            this.__proto__ = actualProto;\n        }\n        this.name = \"ZodError\";\n        this.issues = issues;\n    }\n    format(_mapper) {\n        const mapper = _mapper ||\n            function (issue) {\n                return issue.message;\n            };\n        const fieldErrors = { _errors: [] };\n        const processError = (error) => {\n            for (const issue of error.issues) {\n                if (issue.code === \"invalid_union\") {\n                    issue.unionErrors.map(processError);\n                }\n                else if (issue.code === \"invalid_return_type\") {\n                    processError(issue.returnTypeError);\n                }\n                else if (issue.code === \"invalid_arguments\") {\n                    processError(issue.argumentsError);\n                }\n                else if (issue.path.length === 0) {\n                    fieldErrors._errors.push(mapper(issue));\n                }\n                else {\n                    let curr = fieldErrors;\n                    let i = 0;\n                    while (i < issue.path.length) {\n                        const el = issue.path[i];\n                        const terminal = i === issue.path.length - 1;\n                        if (!terminal) {\n                            curr[el] = curr[el] || { _errors: [] };\n                            // if (typeof el === \"string\") {\n                            //   curr[el] = curr[el] || { _errors: [] };\n                            // } else if (typeof el === \"number\") {\n                            //   const errorArray: any = [];\n                            //   errorArray._errors = [];\n                            //   curr[el] = curr[el] || errorArray;\n                            // }\n                        }\n                        else {\n                            curr[el] = curr[el] || { _errors: [] };\n                            curr[el]._errors.push(mapper(issue));\n                        }\n                        curr = curr[el];\n                        i++;\n                    }\n                }\n            }\n        };\n        processError(this);\n        return fieldErrors;\n    }\n    static assert(value) {\n        if (!(value instanceof ZodError)) {\n            throw new Error(`Not a ZodError: ${value}`);\n        }\n    }\n    toString() {\n        return this.message;\n    }\n    get message() {\n        return JSON.stringify(this.issues, util.jsonStringifyReplacer, 2);\n    }\n    get isEmpty() {\n        return this.issues.length === 0;\n    }\n    flatten(mapper = (issue) => issue.message) {\n        const fieldErrors = {};\n        const formErrors = [];\n        for (const sub of this.issues) {\n            if (sub.path.length > 0) {\n                fieldErrors[sub.path[0]] = fieldErrors[sub.path[0]] || [];\n                fieldErrors[sub.path[0]].push(mapper(sub));\n            }\n            else {\n                formErrors.push(mapper(sub));\n            }\n        }\n        return { formErrors, fieldErrors };\n    }\n    get formErrors() {\n        return this.flatten();\n    }\n}\nZodError.create = (issues) => {\n    const error = new ZodError(issues);\n    return error;\n};\n\nconst errorMap = (issue, _ctx) => {\n    let message;\n    switch (issue.code) {\n        case ZodIssueCode.invalid_type:\n            if (issue.received === ZodParsedType.undefined) {\n                message = \"Required\";\n            }\n            else {\n                message = `Expected ${issue.expected}, received ${issue.received}`;\n            }\n            break;\n        case ZodIssueCode.invalid_literal:\n            message = `Invalid literal value, expected ${JSON.stringify(issue.expected, util.jsonStringifyReplacer)}`;\n            break;\n        case ZodIssueCode.unrecognized_keys:\n            message = `Unrecognized key(s) in object: ${util.joinValues(issue.keys, \", \")}`;\n            break;\n        case ZodIssueCode.invalid_union:\n            message = `Invalid input`;\n            break;\n        case ZodIssueCode.invalid_union_discriminator:\n            message = `Invalid discriminator value. Expected ${util.joinValues(issue.options)}`;\n            break;\n        case ZodIssueCode.invalid_enum_value:\n            message = `Invalid enum value. Expected ${util.joinValues(issue.options)}, received '${issue.received}'`;\n            break;\n        case ZodIssueCode.invalid_arguments:\n            message = `Invalid function arguments`;\n            break;\n        case ZodIssueCode.invalid_return_type:\n            message = `Invalid function return type`;\n            break;\n        case ZodIssueCode.invalid_date:\n            message = `Invalid date`;\n            break;\n        case ZodIssueCode.invalid_string:\n            if (typeof issue.validation === \"object\") {\n                if (\"includes\" in issue.validation) {\n                    message = `Invalid input: must include \"${issue.validation.includes}\"`;\n                    if (typeof issue.validation.position === \"number\") {\n                        message = `${message} at one or more positions greater than or equal to ${issue.validation.position}`;\n                    }\n                }\n                else if (\"startsWith\" in issue.validation) {\n                    message = `Invalid input: must start with \"${issue.validation.startsWith}\"`;\n                }\n                else if (\"endsWith\" in issue.validation) {\n                    message = `Invalid input: must end with \"${issue.validation.endsWith}\"`;\n                }\n                else {\n                    util.assertNever(issue.validation);\n                }\n            }\n            else if (issue.validation !== \"regex\") {\n                message = `Invalid ${issue.validation}`;\n            }\n            else {\n                message = \"Invalid\";\n            }\n            break;\n        case ZodIssueCode.too_small:\n            if (issue.type === \"array\")\n                message = `Array must contain ${issue.exact ? \"exactly\" : issue.inclusive ? `at least` : `more than`} ${issue.minimum} element(s)`;\n            else if (issue.type === \"string\")\n                message = `String must contain ${issue.exact ? \"exactly\" : issue.inclusive ? `at least` : `over`} ${issue.minimum} character(s)`;\n            else if (issue.type === \"number\")\n                message = `Number must be ${issue.exact\n                    ? `exactly equal to `\n                    : issue.inclusive\n                        ? `greater than or equal to `\n                        : `greater than `}${issue.minimum}`;\n            else if (issue.type === \"date\")\n                message = `Date must be ${issue.exact\n                    ? `exactly equal to `\n                    : issue.inclusive\n                        ? `greater than or equal to `\n                        : `greater than `}${new Date(Number(issue.minimum))}`;\n            else\n                message = \"Invalid input\";\n            break;\n        case ZodIssueCode.too_big:\n            if (issue.type === \"array\")\n                message = `Array must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `less than`} ${issue.maximum} element(s)`;\n            else if (issue.type === \"string\")\n                message = `String must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `under`} ${issue.maximum} character(s)`;\n            else if (issue.type === \"number\")\n                message = `Number must be ${issue.exact\n                    ? `exactly`\n                    : issue.inclusive\n                        ? `less than or equal to`\n                        : `less than`} ${issue.maximum}`;\n            else if (issue.type === \"bigint\")\n                message = `BigInt must be ${issue.exact\n                    ? `exactly`\n                    : issue.inclusive\n                        ? `less than or equal to`\n                        : `less than`} ${issue.maximum}`;\n            else if (issue.type === \"date\")\n                message = `Date must be ${issue.exact\n                    ? `exactly`\n                    : issue.inclusive\n                        ? `smaller than or equal to`\n                        : `smaller than`} ${new Date(Number(issue.maximum))}`;\n            else\n                message = \"Invalid input\";\n            break;\n        case ZodIssueCode.custom:\n            message = `Invalid input`;\n            break;\n        case ZodIssueCode.invalid_intersection_types:\n            message = `Intersection results could not be merged`;\n            break;\n        case ZodIssueCode.not_multiple_of:\n            message = `Number must be a multiple of ${issue.multipleOf}`;\n            break;\n        case ZodIssueCode.not_finite:\n            message = \"Number must be finite\";\n            break;\n        default:\n            message = _ctx.defaultError;\n            util.assertNever(issue);\n    }\n    return { message };\n};\n\nlet overrideErrorMap = errorMap;\nfunction setErrorMap(map) {\n    overrideErrorMap = map;\n}\nfunction getErrorMap() {\n    return overrideErrorMap;\n}\n\nconst makeIssue = (params) => {\n    const { data, path, errorMaps, issueData } = params;\n    const fullPath = [...path, ...(issueData.path || [])];\n    const fullIssue = {\n        ...issueData,\n        path: fullPath,\n    };\n    if (issueData.message !== undefined) {\n        return {\n            ...issueData,\n            path: fullPath,\n            message: issueData.message,\n        };\n    }\n    let errorMessage = \"\";\n    const maps = errorMaps\n        .filter((m) => !!m)\n        .slice()\n        .reverse();\n    for (const map of maps) {\n        errorMessage = map(fullIssue, { data, defaultError: errorMessage }).message;\n    }\n    return {\n        ...issueData,\n        path: fullPath,\n        message: errorMessage,\n    };\n};\nconst EMPTY_PATH = [];\nfunction addIssueToContext(ctx, issueData) {\n    const overrideMap = getErrorMap();\n    const issue = makeIssue({\n        issueData: issueData,\n        data: ctx.data,\n        path: ctx.path,\n        errorMaps: [\n            ctx.common.contextualErrorMap, // contextual error map is first priority\n            ctx.schemaErrorMap, // then schema-bound map if available\n            overrideMap, // then global override map\n            overrideMap === errorMap ? undefined : errorMap, // then global default map\n        ].filter((x) => !!x),\n    });\n    ctx.common.issues.push(issue);\n}\nclass ParseStatus {\n    constructor() {\n        this.value = \"valid\";\n    }\n    dirty() {\n        if (this.value === \"valid\")\n            this.value = \"dirty\";\n    }\n    abort() {\n        if (this.value !== \"aborted\")\n            this.value = \"aborted\";\n    }\n    static mergeArray(status, results) {\n        const arrayValue = [];\n        for (const s of results) {\n            if (s.status === \"aborted\")\n                return INVALID;\n            if (s.status === \"dirty\")\n                status.dirty();\n            arrayValue.push(s.value);\n        }\n        return { status: status.value, value: arrayValue };\n    }\n    static async mergeObjectAsync(status, pairs) {\n        const syncPairs = [];\n        for (const pair of pairs) {\n            const key = await pair.key;\n            const value = await pair.value;\n            syncPairs.push({\n                key,\n                value,\n            });\n        }\n        return ParseStatus.mergeObjectSync(status, syncPairs);\n    }\n    static mergeObjectSync(status, pairs) {\n        const finalObject = {};\n        for (const pair of pairs) {\n            const { key, value } = pair;\n            if (key.status === \"aborted\")\n                return INVALID;\n            if (value.status === \"aborted\")\n                return INVALID;\n            if (key.status === \"dirty\")\n                status.dirty();\n            if (value.status === \"dirty\")\n                status.dirty();\n            if (key.value !== \"__proto__\" &&\n                (typeof value.value !== \"undefined\" || pair.alwaysSet)) {\n                finalObject[key.value] = value.value;\n            }\n        }\n        return { status: status.value, value: finalObject };\n    }\n}\nconst INVALID = Object.freeze({\n    status: \"aborted\",\n});\nconst DIRTY = (value) => ({ status: \"dirty\", value });\nconst OK = (value) => ({ status: \"valid\", value });\nconst isAborted = (x) => x.status === \"aborted\";\nconst isDirty = (x) => x.status === \"dirty\";\nconst isValid = (x) => x.status === \"valid\";\nconst isAsync = (x) => typeof Promise !== \"undefined\" && x instanceof Promise;\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nfunction __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\n\nvar errorUtil;\n(function (errorUtil) {\n    errorUtil.errToObj = (message) => typeof message === \"string\" ? { message } : message || {};\n    errorUtil.toString = (message) => typeof message === \"string\" ? message : message === null || message === void 0 ? void 0 : message.message;\n})(errorUtil || (errorUtil = {}));\n\nvar _ZodEnum_cache, _ZodNativeEnum_cache;\nclass ParseInputLazyPath {\n    constructor(parent, value, path, key) {\n        this._cachedPath = [];\n        this.parent = parent;\n        this.data = value;\n        this._path = path;\n        this._key = key;\n    }\n    get path() {\n        if (!this._cachedPath.length) {\n            if (this._key instanceof Array) {\n                this._cachedPath.push(...this._path, ...this._key);\n            }\n            else {\n                this._cachedPath.push(...this._path, this._key);\n            }\n        }\n        return this._cachedPath;\n    }\n}\nconst handleResult = (ctx, result) => {\n    if (isValid(result)) {\n        return { success: true, data: result.value };\n    }\n    else {\n        if (!ctx.common.issues.length) {\n            throw new Error(\"Validation failed but no issues detected.\");\n        }\n        return {\n            success: false,\n            get error() {\n                if (this._error)\n                    return this._error;\n                const error = new ZodError(ctx.common.issues);\n                this._error = error;\n                return this._error;\n            },\n        };\n    }\n};\nfunction processCreateParams(params) {\n    if (!params)\n        return {};\n    const { errorMap, invalid_type_error, required_error, description } = params;\n    if (errorMap && (invalid_type_error || required_error)) {\n        throw new Error(`Can't use \"invalid_type_error\" or \"required_error\" in conjunction with custom error map.`);\n    }\n    if (errorMap)\n        return { errorMap: errorMap, description };\n    const customMap = (iss, ctx) => {\n        var _a, _b;\n        const { message } = params;\n        if (iss.code === \"invalid_enum_value\") {\n            return { message: message !== null && message !== void 0 ? message : ctx.defaultError };\n        }\n        if (typeof ctx.data === \"undefined\") {\n            return { message: (_a = message !== null && message !== void 0 ? message : required_error) !== null && _a !== void 0 ? _a : ctx.defaultError };\n        }\n        if (iss.code !== \"invalid_type\")\n            return { message: ctx.defaultError };\n        return { message: (_b = message !== null && message !== void 0 ? message : invalid_type_error) !== null && _b !== void 0 ? _b : ctx.defaultError };\n    };\n    return { errorMap: customMap, description };\n}\nclass ZodType {\n    get description() {\n        return this._def.description;\n    }\n    _getType(input) {\n        return getParsedType(input.data);\n    }\n    _getOrReturnCtx(input, ctx) {\n        return (ctx || {\n            common: input.parent.common,\n            data: input.data,\n            parsedType: getParsedType(input.data),\n            schemaErrorMap: this._def.errorMap,\n            path: input.path,\n            parent: input.parent,\n        });\n    }\n    _processInputParams(input) {\n        return {\n            status: new ParseStatus(),\n            ctx: {\n                common: input.parent.common,\n                data: input.data,\n                parsedType: getParsedType(input.data),\n                schemaErrorMap: this._def.errorMap,\n                path: input.path,\n                parent: input.parent,\n            },\n        };\n    }\n    _parseSync(input) {\n        const result = this._parse(input);\n        if (isAsync(result)) {\n            throw new Error(\"Synchronous parse encountered promise.\");\n        }\n        return result;\n    }\n    _parseAsync(input) {\n        const result = this._parse(input);\n        return Promise.resolve(result);\n    }\n    parse(data, params) {\n        const result = this.safeParse(data, params);\n        if (result.success)\n            return result.data;\n        throw result.error;\n    }\n    safeParse(data, params) {\n        var _a;\n        const ctx = {\n            common: {\n                issues: [],\n                async: (_a = params === null || params === void 0 ? void 0 : params.async) !== null && _a !== void 0 ? _a : false,\n                contextualErrorMap: params === null || params === void 0 ? void 0 : params.errorMap,\n            },\n            path: (params === null || params === void 0 ? void 0 : params.path) || [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        const result = this._parseSync({ data, path: ctx.path, parent: ctx });\n        return handleResult(ctx, result);\n    }\n    \"~validate\"(data) {\n        var _a, _b;\n        const ctx = {\n            common: {\n                issues: [],\n                async: !!this[\"~standard\"].async,\n            },\n            path: [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        if (!this[\"~standard\"].async) {\n            try {\n                const result = this._parseSync({ data, path: [], parent: ctx });\n                return isValid(result)\n                    ? {\n                        value: result.value,\n                    }\n                    : {\n                        issues: ctx.common.issues,\n                    };\n            }\n            catch (err) {\n                if ((_b = (_a = err === null || err === void 0 ? void 0 : err.message) === null || _a === void 0 ? void 0 : _a.toLowerCase()) === null || _b === void 0 ? void 0 : _b.includes(\"encountered\")) {\n                    this[\"~standard\"].async = true;\n                }\n                ctx.common = {\n                    issues: [],\n                    async: true,\n                };\n            }\n        }\n        return this._parseAsync({ data, path: [], parent: ctx }).then((result) => isValid(result)\n            ? {\n                value: result.value,\n            }\n            : {\n                issues: ctx.common.issues,\n            });\n    }\n    async parseAsync(data, params) {\n        const result = await this.safeParseAsync(data, params);\n        if (result.success)\n            return result.data;\n        throw result.error;\n    }\n    async safeParseAsync(data, params) {\n        const ctx = {\n            common: {\n                issues: [],\n                contextualErrorMap: params === null || params === void 0 ? void 0 : params.errorMap,\n                async: true,\n            },\n            path: (params === null || params === void 0 ? void 0 : params.path) || [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        const maybeAsyncResult = this._parse({ data, path: ctx.path, parent: ctx });\n        const result = await (isAsync(maybeAsyncResult)\n            ? maybeAsyncResult\n            : Promise.resolve(maybeAsyncResult));\n        return handleResult(ctx, result);\n    }\n    refine(check, message) {\n        const getIssueProperties = (val) => {\n            if (typeof message === \"string\" || typeof message === \"undefined\") {\n                return { message };\n            }\n            else if (typeof message === \"function\") {\n                return message(val);\n            }\n            else {\n                return message;\n            }\n        };\n        return this._refinement((val, ctx) => {\n            const result = check(val);\n            const setError = () => ctx.addIssue({\n                code: ZodIssueCode.custom,\n                ...getIssueProperties(val),\n            });\n            if (typeof Promise !== \"undefined\" && result instanceof Promise) {\n                return result.then((data) => {\n                    if (!data) {\n                        setError();\n                        return false;\n                    }\n                    else {\n                        return true;\n                    }\n                });\n            }\n            if (!result) {\n                setError();\n                return false;\n            }\n            else {\n                return true;\n            }\n        });\n    }\n    refinement(check, refinementData) {\n        return this._refinement((val, ctx) => {\n            if (!check(val)) {\n                ctx.addIssue(typeof refinementData === \"function\"\n                    ? refinementData(val, ctx)\n                    : refinementData);\n                return false;\n            }\n            else {\n                return true;\n            }\n        });\n    }\n    _refinement(refinement) {\n        return new ZodEffects({\n            schema: this,\n            typeName: ZodFirstPartyTypeKind.ZodEffects,\n            effect: { type: \"refinement\", refinement },\n        });\n    }\n    superRefine(refinement) {\n        return this._refinement(refinement);\n    }\n    constructor(def) {\n        /** Alias of safeParseAsync */\n        this.spa = this.safeParseAsync;\n        this._def = def;\n        this.parse = this.parse.bind(this);\n        this.safeParse = this.safeParse.bind(this);\n        this.parseAsync = this.parseAsync.bind(this);\n        this.safeParseAsync = this.safeParseAsync.bind(this);\n        this.spa = this.spa.bind(this);\n        this.refine = this.refine.bind(this);\n        this.refinement = this.refinement.bind(this);\n        this.superRefine = this.superRefine.bind(this);\n        this.optional = this.optional.bind(this);\n        this.nullable = this.nullable.bind(this);\n        this.nullish = this.nullish.bind(this);\n        this.array = this.array.bind(this);\n        this.promise = this.promise.bind(this);\n        this.or = this.or.bind(this);\n        this.and = this.and.bind(this);\n        this.transform = this.transform.bind(this);\n        this.brand = this.brand.bind(this);\n        this.default = this.default.bind(this);\n        this.catch = this.catch.bind(this);\n        this.describe = this.describe.bind(this);\n        this.pipe = this.pipe.bind(this);\n        this.readonly = this.readonly.bind(this);\n        this.isNullable = this.isNullable.bind(this);\n        this.isOptional = this.isOptional.bind(this);\n        this[\"~standard\"] = {\n            version: 1,\n            vendor: \"zod\",\n            validate: (data) => this[\"~validate\"](data),\n        };\n    }\n    optional() {\n        return ZodOptional.create(this, this._def);\n    }\n    nullable() {\n        return ZodNullable.create(this, this._def);\n    }\n    nullish() {\n        return this.nullable().optional();\n    }\n    array() {\n        return ZodArray.create(this);\n    }\n    promise() {\n        return ZodPromise.create(this, this._def);\n    }\n    or(option) {\n        return ZodUnion.create([this, option], this._def);\n    }\n    and(incoming) {\n        return ZodIntersection.create(this, incoming, this._def);\n    }\n    transform(transform) {\n        return new ZodEffects({\n            ...processCreateParams(this._def),\n            schema: this,\n            typeName: ZodFirstPartyTypeKind.ZodEffects,\n            effect: { type: \"transform\", transform },\n        });\n    }\n    default(def) {\n        const defaultValueFunc = typeof def === \"function\" ? def : () => def;\n        return new ZodDefault({\n            ...processCreateParams(this._def),\n            innerType: this,\n            defaultValue: defaultValueFunc,\n            typeName: ZodFirstPartyTypeKind.ZodDefault,\n        });\n    }\n    brand() {\n        return new ZodBranded({\n            typeName: ZodFirstPartyTypeKind.ZodBranded,\n            type: this,\n            ...processCreateParams(this._def),\n        });\n    }\n    catch(def) {\n        const catchValueFunc = typeof def === \"function\" ? def : () => def;\n        return new ZodCatch({\n            ...processCreateParams(this._def),\n            innerType: this,\n            catchValue: catchValueFunc,\n            typeName: ZodFirstPartyTypeKind.ZodCatch,\n        });\n    }\n    describe(description) {\n        const This = this.constructor;\n        return new This({\n            ...this._def,\n            description,\n        });\n    }\n    pipe(target) {\n        return ZodPipeline.create(this, target);\n    }\n    readonly() {\n        return ZodReadonly.create(this);\n    }\n    isOptional() {\n        return this.safeParse(undefined).success;\n    }\n    isNullable() {\n        return this.safeParse(null).success;\n    }\n}\nconst cuidRegex = /^c[^\\s-]{8,}$/i;\nconst cuid2Regex = /^[0-9a-z]+$/;\nconst ulidRegex = /^[0-9A-HJKMNP-TV-Z]{26}$/i;\n// const uuidRegex =\n//   /^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i;\nconst uuidRegex = /^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/i;\nconst nanoidRegex = /^[a-z0-9_-]{21}$/i;\nconst jwtRegex = /^[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]*$/;\nconst durationRegex = /^[-+]?P(?!$)(?:(?:[-+]?\\d+Y)|(?:[-+]?\\d+[.,]\\d+Y$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:(?:[-+]?\\d+W)|(?:[-+]?\\d+[.,]\\d+W$))?(?:(?:[-+]?\\d+D)|(?:[-+]?\\d+[.,]\\d+D$))?(?:T(?=[\\d+-])(?:(?:[-+]?\\d+H)|(?:[-+]?\\d+[.,]\\d+H$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:[-+]?\\d+(?:[.,]\\d+)?S)?)??$/;\n// from https://stackoverflow.com/a/46181/1550155\n// old version: too slow, didn't support unicode\n// const emailRegex = /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))$/i;\n//old email regex\n// const emailRegex = /^(([^<>()[\\].,;:\\s@\"]+(\\.[^<>()[\\].,;:\\s@\"]+)*)|(\".+\"))@((?!-)([^<>()[\\].,;:\\s@\"]+\\.)+[^<>()[\\].,;:\\s@\"]{1,})[^-<>()[\\].,;:\\s@\"]$/i;\n// eslint-disable-next-line\n// const emailRegex =\n//   /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\])|(\\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\\.[A-Za-z]{2,})+))$/;\n// const emailRegex =\n//   /^[a-zA-Z0-9\\.\\!\\#\\$\\%\\&\\'\\*\\+\\/\\=\\?\\^\\_\\`\\{\\|\\}\\~\\-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n// const emailRegex =\n//   /^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])$/i;\nconst emailRegex = /^(?!\\.)(?!.*\\.\\.)([A-Z0-9_'+\\-\\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\\-]*\\.)+[A-Z]{2,}$/i;\n// const emailRegex =\n//   /^[a-z0-9.!#$%&*+/=?^_`{|}~-]+@[a-z0-9-]+(?:\\.[a-z0-9\\-]+)*$/i;\n// from https://thekevinscott.com/emojis-in-javascript/#writing-a-regular-expression\nconst _emojiRegex = `^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$`;\nlet emojiRegex;\n// faster, simpler, safer\nconst ipv4Regex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/;\nconst ipv4CidrRegex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\/(3[0-2]|[12]?[0-9])$/;\n// const ipv6Regex =\n// /^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/;\nconst ipv6Regex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/;\nconst ipv6CidrRegex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/;\n// https://stackoverflow.com/questions/7860392/determine-if-string-is-in-base64-using-javascript\nconst base64Regex = /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/;\n// https://base64.guru/standards/base64url\nconst base64urlRegex = /^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/;\n// simple\n// const dateRegexSource = `\\\\d{4}-\\\\d{2}-\\\\d{2}`;\n// no leap year validation\n// const dateRegexSource = `\\\\d{4}-((0[13578]|10|12)-31|(0[13-9]|1[0-2])-30|(0[1-9]|1[0-2])-(0[1-9]|1\\\\d|2\\\\d))`;\n// with leap year validation\nconst dateRegexSource = `((\\\\d\\\\d[2468][048]|\\\\d\\\\d[13579][26]|\\\\d\\\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\\\d|30)|(02)-(0[1-9]|1\\\\d|2[0-8])))`;\nconst dateRegex = new RegExp(`^${dateRegexSource}$`);\nfunction timeRegexSource(args) {\n    // let regex = `\\\\d{2}:\\\\d{2}:\\\\d{2}`;\n    let regex = `([01]\\\\d|2[0-3]):[0-5]\\\\d:[0-5]\\\\d`;\n    if (args.precision) {\n        regex = `${regex}\\\\.\\\\d{${args.precision}}`;\n    }\n    else if (args.precision == null) {\n        regex = `${regex}(\\\\.\\\\d+)?`;\n    }\n    return regex;\n}\nfunction timeRegex(args) {\n    return new RegExp(`^${timeRegexSource(args)}$`);\n}\n// Adapted from https://stackoverflow.com/a/3143231\nfunction datetimeRegex(args) {\n    let regex = `${dateRegexSource}T${timeRegexSource(args)}`;\n    const opts = [];\n    opts.push(args.local ? `Z?` : `Z`);\n    if (args.offset)\n        opts.push(`([+-]\\\\d{2}:?\\\\d{2})`);\n    regex = `${regex}(${opts.join(\"|\")})`;\n    return new RegExp(`^${regex}$`);\n}\nfunction isValidIP(ip, version) {\n    if ((version === \"v4\" || !version) && ipv4Regex.test(ip)) {\n        return true;\n    }\n    if ((version === \"v6\" || !version) && ipv6Regex.test(ip)) {\n        return true;\n    }\n    return false;\n}\nfunction isValidJWT(jwt, alg) {\n    if (!jwtRegex.test(jwt))\n        return false;\n    try {\n        const [header] = jwt.split(\".\");\n        // Convert base64url to base64\n        const base64 = header\n            .replace(/-/g, \"+\")\n            .replace(/_/g, \"/\")\n            .padEnd(header.length + ((4 - (header.length % 4)) % 4), \"=\");\n        const decoded = JSON.parse(atob(base64));\n        if (typeof decoded !== \"object\" || decoded === null)\n            return false;\n        if (!decoded.typ || !decoded.alg)\n            return false;\n        if (alg && decoded.alg !== alg)\n            return false;\n        return true;\n    }\n    catch (_a) {\n        return false;\n    }\n}\nfunction isValidCidr(ip, version) {\n    if ((version === \"v4\" || !version) && ipv4CidrRegex.test(ip)) {\n        return true;\n    }\n    if ((version === \"v6\" || !version) && ipv6CidrRegex.test(ip)) {\n        return true;\n    }\n    return false;\n}\nclass ZodString extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = String(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.string) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.string,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const status = new ParseStatus();\n        let ctx = undefined;\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                if (input.data.length < check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        minimum: check.value,\n                        type: \"string\",\n                        inclusive: true,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                if (input.data.length > check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        maximum: check.value,\n                        type: \"string\",\n                        inclusive: true,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"length\") {\n                const tooBig = input.data.length > check.value;\n                const tooSmall = input.data.length < check.value;\n                if (tooBig || tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    if (tooBig) {\n                        addIssueToContext(ctx, {\n                            code: ZodIssueCode.too_big,\n                            maximum: check.value,\n                            type: \"string\",\n                            inclusive: true,\n                            exact: true,\n                            message: check.message,\n                        });\n                    }\n                    else if (tooSmall) {\n                        addIssueToContext(ctx, {\n                            code: ZodIssueCode.too_small,\n                            minimum: check.value,\n                            type: \"string\",\n                            inclusive: true,\n                            exact: true,\n                            message: check.message,\n                        });\n                    }\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"email\") {\n                if (!emailRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"email\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"emoji\") {\n                if (!emojiRegex) {\n                    emojiRegex = new RegExp(_emojiRegex, \"u\");\n                }\n                if (!emojiRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"emoji\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"uuid\") {\n                if (!uuidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"uuid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"nanoid\") {\n                if (!nanoidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"nanoid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cuid\") {\n                if (!cuidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cuid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cuid2\") {\n                if (!cuid2Regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cuid2\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"ulid\") {\n                if (!ulidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"ulid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"url\") {\n                try {\n                    new URL(input.data);\n                }\n                catch (_a) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"url\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"regex\") {\n                check.regex.lastIndex = 0;\n                const testResult = check.regex.test(input.data);\n                if (!testResult) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"regex\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"trim\") {\n                input.data = input.data.trim();\n            }\n            else if (check.kind === \"includes\") {\n                if (!input.data.includes(check.value, check.position)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { includes: check.value, position: check.position },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"toLowerCase\") {\n                input.data = input.data.toLowerCase();\n            }\n            else if (check.kind === \"toUpperCase\") {\n                input.data = input.data.toUpperCase();\n            }\n            else if (check.kind === \"startsWith\") {\n                if (!input.data.startsWith(check.value)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { startsWith: check.value },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"endsWith\") {\n                if (!input.data.endsWith(check.value)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { endsWith: check.value },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"datetime\") {\n                const regex = datetimeRegex(check);\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"datetime\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"date\") {\n                const regex = dateRegex;\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"date\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"time\") {\n                const regex = timeRegex(check);\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"time\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"duration\") {\n                if (!durationRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"duration\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"ip\") {\n                if (!isValidIP(input.data, check.version)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"ip\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"jwt\") {\n                if (!isValidJWT(input.data, check.alg)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"jwt\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cidr\") {\n                if (!isValidCidr(input.data, check.version)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cidr\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"base64\") {\n                if (!base64Regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"base64\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"base64url\") {\n                if (!base64urlRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"base64url\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    _regex(regex, validation, message) {\n        return this.refinement((data) => regex.test(data), {\n            validation,\n            code: ZodIssueCode.invalid_string,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    _addCheck(check) {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    email(message) {\n        return this._addCheck({ kind: \"email\", ...errorUtil.errToObj(message) });\n    }\n    url(message) {\n        return this._addCheck({ kind: \"url\", ...errorUtil.errToObj(message) });\n    }\n    emoji(message) {\n        return this._addCheck({ kind: \"emoji\", ...errorUtil.errToObj(message) });\n    }\n    uuid(message) {\n        return this._addCheck({ kind: \"uuid\", ...errorUtil.errToObj(message) });\n    }\n    nanoid(message) {\n        return this._addCheck({ kind: \"nanoid\", ...errorUtil.errToObj(message) });\n    }\n    cuid(message) {\n        return this._addCheck({ kind: \"cuid\", ...errorUtil.errToObj(message) });\n    }\n    cuid2(message) {\n        return this._addCheck({ kind: \"cuid2\", ...errorUtil.errToObj(message) });\n    }\n    ulid(message) {\n        return this._addCheck({ kind: \"ulid\", ...errorUtil.errToObj(message) });\n    }\n    base64(message) {\n        return this._addCheck({ kind: \"base64\", ...errorUtil.errToObj(message) });\n    }\n    base64url(message) {\n        // base64url encoding is a modification of base64 that can safely be used in URLs and filenames\n        return this._addCheck({\n            kind: \"base64url\",\n            ...errorUtil.errToObj(message),\n        });\n    }\n    jwt(options) {\n        return this._addCheck({ kind: \"jwt\", ...errorUtil.errToObj(options) });\n    }\n    ip(options) {\n        return this._addCheck({ kind: \"ip\", ...errorUtil.errToObj(options) });\n    }\n    cidr(options) {\n        return this._addCheck({ kind: \"cidr\", ...errorUtil.errToObj(options) });\n    }\n    datetime(options) {\n        var _a, _b;\n        if (typeof options === \"string\") {\n            return this._addCheck({\n                kind: \"datetime\",\n                precision: null,\n                offset: false,\n                local: false,\n                message: options,\n            });\n        }\n        return this._addCheck({\n            kind: \"datetime\",\n            precision: typeof (options === null || options === void 0 ? void 0 : options.precision) === \"undefined\" ? null : options === null || options === void 0 ? void 0 : options.precision,\n            offset: (_a = options === null || options === void 0 ? void 0 : options.offset) !== null && _a !== void 0 ? _a : false,\n            local: (_b = options === null || options === void 0 ? void 0 : options.local) !== null && _b !== void 0 ? _b : false,\n            ...errorUtil.errToObj(options === null || options === void 0 ? void 0 : options.message),\n        });\n    }\n    date(message) {\n        return this._addCheck({ kind: \"date\", message });\n    }\n    time(options) {\n        if (typeof options === \"string\") {\n            return this._addCheck({\n                kind: \"time\",\n                precision: null,\n                message: options,\n            });\n        }\n        return this._addCheck({\n            kind: \"time\",\n            precision: typeof (options === null || options === void 0 ? void 0 : options.precision) === \"undefined\" ? null : options === null || options === void 0 ? void 0 : options.precision,\n            ...errorUtil.errToObj(options === null || options === void 0 ? void 0 : options.message),\n        });\n    }\n    duration(message) {\n        return this._addCheck({ kind: \"duration\", ...errorUtil.errToObj(message) });\n    }\n    regex(regex, message) {\n        return this._addCheck({\n            kind: \"regex\",\n            regex: regex,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    includes(value, options) {\n        return this._addCheck({\n            kind: \"includes\",\n            value: value,\n            position: options === null || options === void 0 ? void 0 : options.position,\n            ...errorUtil.errToObj(options === null || options === void 0 ? void 0 : options.message),\n        });\n    }\n    startsWith(value, message) {\n        return this._addCheck({\n            kind: \"startsWith\",\n            value: value,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    endsWith(value, message) {\n        return this._addCheck({\n            kind: \"endsWith\",\n            value: value,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    min(minLength, message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: minLength,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    max(maxLength, message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: maxLength,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    length(len, message) {\n        return this._addCheck({\n            kind: \"length\",\n            value: len,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    /**\n     * Equivalent to `.min(1)`\n     */\n    nonempty(message) {\n        return this.min(1, errorUtil.errToObj(message));\n    }\n    trim() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"trim\" }],\n        });\n    }\n    toLowerCase() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"toLowerCase\" }],\n        });\n    }\n    toUpperCase() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"toUpperCase\" }],\n        });\n    }\n    get isDatetime() {\n        return !!this._def.checks.find((ch) => ch.kind === \"datetime\");\n    }\n    get isDate() {\n        return !!this._def.checks.find((ch) => ch.kind === \"date\");\n    }\n    get isTime() {\n        return !!this._def.checks.find((ch) => ch.kind === \"time\");\n    }\n    get isDuration() {\n        return !!this._def.checks.find((ch) => ch.kind === \"duration\");\n    }\n    get isEmail() {\n        return !!this._def.checks.find((ch) => ch.kind === \"email\");\n    }\n    get isURL() {\n        return !!this._def.checks.find((ch) => ch.kind === \"url\");\n    }\n    get isEmoji() {\n        return !!this._def.checks.find((ch) => ch.kind === \"emoji\");\n    }\n    get isUUID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"uuid\");\n    }\n    get isNANOID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"nanoid\");\n    }\n    get isCUID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cuid\");\n    }\n    get isCUID2() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cuid2\");\n    }\n    get isULID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"ulid\");\n    }\n    get isIP() {\n        return !!this._def.checks.find((ch) => ch.kind === \"ip\");\n    }\n    get isCIDR() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cidr\");\n    }\n    get isBase64() {\n        return !!this._def.checks.find((ch) => ch.kind === \"base64\");\n    }\n    get isBase64url() {\n        // base64url encoding is a modification of base64 that can safely be used in URLs and filenames\n        return !!this._def.checks.find((ch) => ch.kind === \"base64url\");\n    }\n    get minLength() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxLength() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n}\nZodString.create = (params) => {\n    var _a;\n    return new ZodString({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodString,\n        coerce: (_a = params === null || params === void 0 ? void 0 : params.coerce) !== null && _a !== void 0 ? _a : false,\n        ...processCreateParams(params),\n    });\n};\n// https://stackoverflow.com/questions/3966484/why-does-modulus-operator-return-fractional-number-in-javascript/31711034#31711034\nfunction floatSafeRemainder(val, step) {\n    const valDecCount = (val.toString().split(\".\")[1] || \"\").length;\n    const stepDecCount = (step.toString().split(\".\")[1] || \"\").length;\n    const decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;\n    const valInt = parseInt(val.toFixed(decCount).replace(\".\", \"\"));\n    const stepInt = parseInt(step.toFixed(decCount).replace(\".\", \"\"));\n    return (valInt % stepInt) / Math.pow(10, decCount);\n}\nclass ZodNumber extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.min = this.gte;\n        this.max = this.lte;\n        this.step = this.multipleOf;\n    }\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = Number(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.number) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.number,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        let ctx = undefined;\n        const status = new ParseStatus();\n        for (const check of this._def.checks) {\n            if (check.kind === \"int\") {\n                if (!util.isInteger(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_type,\n                        expected: \"integer\",\n                        received: \"float\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"min\") {\n                const tooSmall = check.inclusive\n                    ? input.data < check.value\n                    : input.data <= check.value;\n                if (tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        minimum: check.value,\n                        type: \"number\",\n                        inclusive: check.inclusive,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                const tooBig = check.inclusive\n                    ? input.data > check.value\n                    : input.data >= check.value;\n                if (tooBig) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        maximum: check.value,\n                        type: \"number\",\n                        inclusive: check.inclusive,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"multipleOf\") {\n                if (floatSafeRemainder(input.data, check.value) !== 0) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_multiple_of,\n                        multipleOf: check.value,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"finite\") {\n                if (!Number.isFinite(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_finite,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    gte(value, message) {\n        return this.setLimit(\"min\", value, true, errorUtil.toString(message));\n    }\n    gt(value, message) {\n        return this.setLimit(\"min\", value, false, errorUtil.toString(message));\n    }\n    lte(value, message) {\n        return this.setLimit(\"max\", value, true, errorUtil.toString(message));\n    }\n    lt(value, message) {\n        return this.setLimit(\"max\", value, false, errorUtil.toString(message));\n    }\n    setLimit(kind, value, inclusive, message) {\n        return new ZodNumber({\n            ...this._def,\n            checks: [\n                ...this._def.checks,\n                {\n                    kind,\n                    value,\n                    inclusive,\n                    message: errorUtil.toString(message),\n                },\n            ],\n        });\n    }\n    _addCheck(check) {\n        return new ZodNumber({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    int(message) {\n        return this._addCheck({\n            kind: \"int\",\n            message: errorUtil.toString(message),\n        });\n    }\n    positive(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: 0,\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    negative(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: 0,\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonpositive(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: 0,\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonnegative(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: 0,\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    multipleOf(value, message) {\n        return this._addCheck({\n            kind: \"multipleOf\",\n            value: value,\n            message: errorUtil.toString(message),\n        });\n    }\n    finite(message) {\n        return this._addCheck({\n            kind: \"finite\",\n            message: errorUtil.toString(message),\n        });\n    }\n    safe(message) {\n        return this._addCheck({\n            kind: \"min\",\n            inclusive: true,\n            value: Number.MIN_SAFE_INTEGER,\n            message: errorUtil.toString(message),\n        })._addCheck({\n            kind: \"max\",\n            inclusive: true,\n            value: Number.MAX_SAFE_INTEGER,\n            message: errorUtil.toString(message),\n        });\n    }\n    get minValue() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxValue() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n    get isInt() {\n        return !!this._def.checks.find((ch) => ch.kind === \"int\" ||\n            (ch.kind === \"multipleOf\" && util.isInteger(ch.value)));\n    }\n    get isFinite() {\n        let max = null, min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"finite\" ||\n                ch.kind === \"int\" ||\n                ch.kind === \"multipleOf\") {\n                return true;\n            }\n            else if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n            else if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return Number.isFinite(min) && Number.isFinite(max);\n    }\n}\nZodNumber.create = (params) => {\n    return new ZodNumber({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodNumber,\n        coerce: (params === null || params === void 0 ? void 0 : params.coerce) || false,\n        ...processCreateParams(params),\n    });\n};\nclass ZodBigInt extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.min = this.gte;\n        this.max = this.lte;\n    }\n    _parse(input) {\n        if (this._def.coerce) {\n            try {\n                input.data = BigInt(input.data);\n            }\n            catch (_a) {\n                return this._getInvalidInput(input);\n            }\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.bigint) {\n            return this._getInvalidInput(input);\n        }\n        let ctx = undefined;\n        const status = new ParseStatus();\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                const tooSmall = check.inclusive\n                    ? input.data < check.value\n                    : input.data <= check.value;\n                if (tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        type: \"bigint\",\n                        minimum: check.value,\n                        inclusive: check.inclusive,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                const tooBig = check.inclusive\n                    ? input.data > check.value\n                    : input.data >= check.value;\n                if (tooBig) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        type: \"bigint\",\n                        maximum: check.value,\n                        inclusive: check.inclusive,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"multipleOf\") {\n                if (input.data % check.value !== BigInt(0)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_multiple_of,\n                        multipleOf: check.value,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    _getInvalidInput(input) {\n        const ctx = this._getOrReturnCtx(input);\n        addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_type,\n            expected: ZodParsedType.bigint,\n            received: ctx.parsedType,\n        });\n        return INVALID;\n    }\n    gte(value, message) {\n        return this.setLimit(\"min\", value, true, errorUtil.toString(message));\n    }\n    gt(value, message) {\n        return this.setLimit(\"min\", value, false, errorUtil.toString(message));\n    }\n    lte(value, message) {\n        return this.setLimit(\"max\", value, true, errorUtil.toString(message));\n    }\n    lt(value, message) {\n        return this.setLimit(\"max\", value, false, errorUtil.toString(message));\n    }\n    setLimit(kind, value, inclusive, message) {\n        return new ZodBigInt({\n            ...this._def,\n            checks: [\n                ...this._def.checks,\n                {\n                    kind,\n                    value,\n                    inclusive,\n                    message: errorUtil.toString(message),\n                },\n            ],\n        });\n    }\n    _addCheck(check) {\n        return new ZodBigInt({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    positive(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: BigInt(0),\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    negative(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: BigInt(0),\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonpositive(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: BigInt(0),\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonnegative(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: BigInt(0),\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    multipleOf(value, message) {\n        return this._addCheck({\n            kind: \"multipleOf\",\n            value,\n            message: errorUtil.toString(message),\n        });\n    }\n    get minValue() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxValue() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n}\nZodBigInt.create = (params) => {\n    var _a;\n    return new ZodBigInt({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodBigInt,\n        coerce: (_a = params === null || params === void 0 ? void 0 : params.coerce) !== null && _a !== void 0 ? _a : false,\n        ...processCreateParams(params),\n    });\n};\nclass ZodBoolean extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = Boolean(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.boolean) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.boolean,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodBoolean.create = (params) => {\n    return new ZodBoolean({\n        typeName: ZodFirstPartyTypeKind.ZodBoolean,\n        coerce: (params === null || params === void 0 ? void 0 : params.coerce) || false,\n        ...processCreateParams(params),\n    });\n};\nclass ZodDate extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = new Date(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.date) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.date,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (isNaN(input.data.getTime())) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_date,\n            });\n            return INVALID;\n        }\n        const status = new ParseStatus();\n        let ctx = undefined;\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                if (input.data.getTime() < check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        message: check.message,\n                        inclusive: true,\n                        exact: false,\n                        minimum: check.value,\n                        type: \"date\",\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                if (input.data.getTime() > check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        message: check.message,\n                        inclusive: true,\n                        exact: false,\n                        maximum: check.value,\n                        type: \"date\",\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return {\n            status: status.value,\n            value: new Date(input.data.getTime()),\n        };\n    }\n    _addCheck(check) {\n        return new ZodDate({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    min(minDate, message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: minDate.getTime(),\n            message: errorUtil.toString(message),\n        });\n    }\n    max(maxDate, message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: maxDate.getTime(),\n            message: errorUtil.toString(message),\n        });\n    }\n    get minDate() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min != null ? new Date(min) : null;\n    }\n    get maxDate() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max != null ? new Date(max) : null;\n    }\n}\nZodDate.create = (params) => {\n    return new ZodDate({\n        checks: [],\n        coerce: (params === null || params === void 0 ? void 0 : params.coerce) || false,\n        typeName: ZodFirstPartyTypeKind.ZodDate,\n        ...processCreateParams(params),\n    });\n};\nclass ZodSymbol extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.symbol) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.symbol,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodSymbol.create = (params) => {\n    return new ZodSymbol({\n        typeName: ZodFirstPartyTypeKind.ZodSymbol,\n        ...processCreateParams(params),\n    });\n};\nclass ZodUndefined extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.undefined) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.undefined,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodUndefined.create = (params) => {\n    return new ZodUndefined({\n        typeName: ZodFirstPartyTypeKind.ZodUndefined,\n        ...processCreateParams(params),\n    });\n};\nclass ZodNull extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.null) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.null,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodNull.create = (params) => {\n    return new ZodNull({\n        typeName: ZodFirstPartyTypeKind.ZodNull,\n        ...processCreateParams(params),\n    });\n};\nclass ZodAny extends ZodType {\n    constructor() {\n        super(...arguments);\n        // to prevent instances of other classes from extending ZodAny. this causes issues with catchall in ZodObject.\n        this._any = true;\n    }\n    _parse(input) {\n        return OK(input.data);\n    }\n}\nZodAny.create = (params) => {\n    return new ZodAny({\n        typeName: ZodFirstPartyTypeKind.ZodAny,\n        ...processCreateParams(params),\n    });\n};\nclass ZodUnknown extends ZodType {\n    constructor() {\n        super(...arguments);\n        // required\n        this._unknown = true;\n    }\n    _parse(input) {\n        return OK(input.data);\n    }\n}\nZodUnknown.create = (params) => {\n    return new ZodUnknown({\n        typeName: ZodFirstPartyTypeKind.ZodUnknown,\n        ...processCreateParams(params),\n    });\n};\nclass ZodNever extends ZodType {\n    _parse(input) {\n        const ctx = this._getOrReturnCtx(input);\n        addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_type,\n            expected: ZodParsedType.never,\n            received: ctx.parsedType,\n        });\n        return INVALID;\n    }\n}\nZodNever.create = (params) => {\n    return new ZodNever({\n        typeName: ZodFirstPartyTypeKind.ZodNever,\n        ...processCreateParams(params),\n    });\n};\nclass ZodVoid extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.undefined) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.void,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodVoid.create = (params) => {\n    return new ZodVoid({\n        typeName: ZodFirstPartyTypeKind.ZodVoid,\n        ...processCreateParams(params),\n    });\n};\nclass ZodArray extends ZodType {\n    _parse(input) {\n        const { ctx, status } = this._processInputParams(input);\n        const def = this._def;\n        if (ctx.parsedType !== ZodParsedType.array) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.array,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (def.exactLength !== null) {\n            const tooBig = ctx.data.length > def.exactLength.value;\n            const tooSmall = ctx.data.length < def.exactLength.value;\n            if (tooBig || tooSmall) {\n                addIssueToContext(ctx, {\n                    code: tooBig ? ZodIssueCode.too_big : ZodIssueCode.too_small,\n                    minimum: (tooSmall ? def.exactLength.value : undefined),\n                    maximum: (tooBig ? def.exactLength.value : undefined),\n                    type: \"array\",\n                    inclusive: true,\n                    exact: true,\n                    message: def.exactLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.minLength !== null) {\n            if (ctx.data.length < def.minLength.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_small,\n                    minimum: def.minLength.value,\n                    type: \"array\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.minLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.maxLength !== null) {\n            if (ctx.data.length > def.maxLength.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_big,\n                    maximum: def.maxLength.value,\n                    type: \"array\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.maxLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (ctx.common.async) {\n            return Promise.all([...ctx.data].map((item, i) => {\n                return def.type._parseAsync(new ParseInputLazyPath(ctx, item, ctx.path, i));\n            })).then((result) => {\n                return ParseStatus.mergeArray(status, result);\n            });\n        }\n        const result = [...ctx.data].map((item, i) => {\n            return def.type._parseSync(new ParseInputLazyPath(ctx, item, ctx.path, i));\n        });\n        return ParseStatus.mergeArray(status, result);\n    }\n    get element() {\n        return this._def.type;\n    }\n    min(minLength, message) {\n        return new ZodArray({\n            ...this._def,\n            minLength: { value: minLength, message: errorUtil.toString(message) },\n        });\n    }\n    max(maxLength, message) {\n        return new ZodArray({\n            ...this._def,\n            maxLength: { value: maxLength, message: errorUtil.toString(message) },\n        });\n    }\n    length(len, message) {\n        return new ZodArray({\n            ...this._def,\n            exactLength: { value: len, message: errorUtil.toString(message) },\n        });\n    }\n    nonempty(message) {\n        return this.min(1, message);\n    }\n}\nZodArray.create = (schema, params) => {\n    return new ZodArray({\n        type: schema,\n        minLength: null,\n        maxLength: null,\n        exactLength: null,\n        typeName: ZodFirstPartyTypeKind.ZodArray,\n        ...processCreateParams(params),\n    });\n};\nfunction deepPartialify(schema) {\n    if (schema instanceof ZodObject) {\n        const newShape = {};\n        for (const key in schema.shape) {\n            const fieldSchema = schema.shape[key];\n            newShape[key] = ZodOptional.create(deepPartialify(fieldSchema));\n        }\n        return new ZodObject({\n            ...schema._def,\n            shape: () => newShape,\n        });\n    }\n    else if (schema instanceof ZodArray) {\n        return new ZodArray({\n            ...schema._def,\n            type: deepPartialify(schema.element),\n        });\n    }\n    else if (schema instanceof ZodOptional) {\n        return ZodOptional.create(deepPartialify(schema.unwrap()));\n    }\n    else if (schema instanceof ZodNullable) {\n        return ZodNullable.create(deepPartialify(schema.unwrap()));\n    }\n    else if (schema instanceof ZodTuple) {\n        return ZodTuple.create(schema.items.map((item) => deepPartialify(item)));\n    }\n    else {\n        return schema;\n    }\n}\nclass ZodObject extends ZodType {\n    constructor() {\n        super(...arguments);\n        this._cached = null;\n        /**\n         * @deprecated In most cases, this is no longer needed - unknown properties are now silently stripped.\n         * If you want to pass through unknown properties, use `.passthrough()` instead.\n         */\n        this.nonstrict = this.passthrough;\n        // extend<\n        //   Augmentation extends ZodRawShape,\n        //   NewOutput extends util.flatten<{\n        //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation\n        //       ? Augmentation[k][\"_output\"]\n        //       : k extends keyof Output\n        //       ? Output[k]\n        //       : never;\n        //   }>,\n        //   NewInput extends util.flatten<{\n        //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation\n        //       ? Augmentation[k][\"_input\"]\n        //       : k extends keyof Input\n        //       ? Input[k]\n        //       : never;\n        //   }>\n        // >(\n        //   augmentation: Augmentation\n        // ): ZodObject<\n        //   extendShape<T, Augmentation>,\n        //   UnknownKeys,\n        //   Catchall,\n        //   NewOutput,\n        //   NewInput\n        // > {\n        //   return new ZodObject({\n        //     ...this._def,\n        //     shape: () => ({\n        //       ...this._def.shape(),\n        //       ...augmentation,\n        //     }),\n        //   }) as any;\n        // }\n        /**\n         * @deprecated Use `.extend` instead\n         *  */\n        this.augment = this.extend;\n    }\n    _getCached() {\n        if (this._cached !== null)\n            return this._cached;\n        const shape = this._def.shape();\n        const keys = util.objectKeys(shape);\n        return (this._cached = { shape, keys });\n    }\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.object) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const { status, ctx } = this._processInputParams(input);\n        const { shape, keys: shapeKeys } = this._getCached();\n        const extraKeys = [];\n        if (!(this._def.catchall instanceof ZodNever &&\n            this._def.unknownKeys === \"strip\")) {\n            for (const key in ctx.data) {\n                if (!shapeKeys.includes(key)) {\n                    extraKeys.push(key);\n                }\n            }\n        }\n        const pairs = [];\n        for (const key of shapeKeys) {\n            const keyValidator = shape[key];\n            const value = ctx.data[key];\n            pairs.push({\n                key: { status: \"valid\", value: key },\n                value: keyValidator._parse(new ParseInputLazyPath(ctx, value, ctx.path, key)),\n                alwaysSet: key in ctx.data,\n            });\n        }\n        if (this._def.catchall instanceof ZodNever) {\n            const unknownKeys = this._def.unknownKeys;\n            if (unknownKeys === \"passthrough\") {\n                for (const key of extraKeys) {\n                    pairs.push({\n                        key: { status: \"valid\", value: key },\n                        value: { status: \"valid\", value: ctx.data[key] },\n                    });\n                }\n            }\n            else if (unknownKeys === \"strict\") {\n                if (extraKeys.length > 0) {\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.unrecognized_keys,\n                        keys: extraKeys,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (unknownKeys === \"strip\") ;\n            else {\n                throw new Error(`Internal ZodObject error: invalid unknownKeys value.`);\n            }\n        }\n        else {\n            // run catchall validation\n            const catchall = this._def.catchall;\n            for (const key of extraKeys) {\n                const value = ctx.data[key];\n                pairs.push({\n                    key: { status: \"valid\", value: key },\n                    value: catchall._parse(new ParseInputLazyPath(ctx, value, ctx.path, key) //, ctx.child(key), value, getParsedType(value)\n                    ),\n                    alwaysSet: key in ctx.data,\n                });\n            }\n        }\n        if (ctx.common.async) {\n            return Promise.resolve()\n                .then(async () => {\n                const syncPairs = [];\n                for (const pair of pairs) {\n                    const key = await pair.key;\n                    const value = await pair.value;\n                    syncPairs.push({\n                        key,\n                        value,\n                        alwaysSet: pair.alwaysSet,\n                    });\n                }\n                return syncPairs;\n            })\n                .then((syncPairs) => {\n                return ParseStatus.mergeObjectSync(status, syncPairs);\n            });\n        }\n        else {\n            return ParseStatus.mergeObjectSync(status, pairs);\n        }\n    }\n    get shape() {\n        return this._def.shape();\n    }\n    strict(message) {\n        errorUtil.errToObj;\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"strict\",\n            ...(message !== undefined\n                ? {\n                    errorMap: (issue, ctx) => {\n                        var _a, _b, _c, _d;\n                        const defaultError = (_c = (_b = (_a = this._def).errorMap) === null || _b === void 0 ? void 0 : _b.call(_a, issue, ctx).message) !== null && _c !== void 0 ? _c : ctx.defaultError;\n                        if (issue.code === \"unrecognized_keys\")\n                            return {\n                                message: (_d = errorUtil.errToObj(message).message) !== null && _d !== void 0 ? _d : defaultError,\n                            };\n                        return {\n                            message: defaultError,\n                        };\n                    },\n                }\n                : {}),\n        });\n    }\n    strip() {\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"strip\",\n        });\n    }\n    passthrough() {\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"passthrough\",\n        });\n    }\n    // const AugmentFactory =\n    //   <Def extends ZodObjectDef>(def: Def) =>\n    //   <Augmentation extends ZodRawShape>(\n    //     augmentation: Augmentation\n    //   ): ZodObject<\n    //     extendShape<ReturnType<Def[\"shape\"]>, Augmentation>,\n    //     Def[\"unknownKeys\"],\n    //     Def[\"catchall\"]\n    //   > => {\n    //     return new ZodObject({\n    //       ...def,\n    //       shape: () => ({\n    //         ...def.shape(),\n    //         ...augmentation,\n    //       }),\n    //     }) as any;\n    //   };\n    extend(augmentation) {\n        return new ZodObject({\n            ...this._def,\n            shape: () => ({\n                ...this._def.shape(),\n                ...augmentation,\n            }),\n        });\n    }\n    /**\n     * Prior to zod@1.0.12 there was a bug in the\n     * inferred type of merged objects. Please\n     * upgrade if you are experiencing issues.\n     */\n    merge(merging) {\n        const merged = new ZodObject({\n            unknownKeys: merging._def.unknownKeys,\n            catchall: merging._def.catchall,\n            shape: () => ({\n                ...this._def.shape(),\n                ...merging._def.shape(),\n            }),\n            typeName: ZodFirstPartyTypeKind.ZodObject,\n        });\n        return merged;\n    }\n    // merge<\n    //   Incoming extends AnyZodObject,\n    //   Augmentation extends Incoming[\"shape\"],\n    //   NewOutput extends {\n    //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation\n    //       ? Augmentation[k][\"_output\"]\n    //       : k extends keyof Output\n    //       ? Output[k]\n    //       : never;\n    //   },\n    //   NewInput extends {\n    //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation\n    //       ? Augmentation[k][\"_input\"]\n    //       : k extends keyof Input\n    //       ? Input[k]\n    //       : never;\n    //   }\n    // >(\n    //   merging: Incoming\n    // ): ZodObject<\n    //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n    //   Incoming[\"_def\"][\"unknownKeys\"],\n    //   Incoming[\"_def\"][\"catchall\"],\n    //   NewOutput,\n    //   NewInput\n    // > {\n    //   const merged: any = new ZodObject({\n    //     unknownKeys: merging._def.unknownKeys,\n    //     catchall: merging._def.catchall,\n    //     shape: () =>\n    //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n    //     typeName: ZodFirstPartyTypeKind.ZodObject,\n    //   }) as any;\n    //   return merged;\n    // }\n    setKey(key, schema) {\n        return this.augment({ [key]: schema });\n    }\n    // merge<Incoming extends AnyZodObject>(\n    //   merging: Incoming\n    // ): //ZodObject<T & Incoming[\"_shape\"], UnknownKeys, Catchall> = (merging) => {\n    // ZodObject<\n    //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n    //   Incoming[\"_def\"][\"unknownKeys\"],\n    //   Incoming[\"_def\"][\"catchall\"]\n    // > {\n    //   // const mergedShape = objectUtil.mergeShapes(\n    //   //   this._def.shape(),\n    //   //   merging._def.shape()\n    //   // );\n    //   const merged: any = new ZodObject({\n    //     unknownKeys: merging._def.unknownKeys,\n    //     catchall: merging._def.catchall,\n    //     shape: () =>\n    //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n    //     typeName: ZodFirstPartyTypeKind.ZodObject,\n    //   }) as any;\n    //   return merged;\n    // }\n    catchall(index) {\n        return new ZodObject({\n            ...this._def,\n            catchall: index,\n        });\n    }\n    pick(mask) {\n        const shape = {};\n        util.objectKeys(mask).forEach((key) => {\n            if (mask[key] && this.shape[key]) {\n                shape[key] = this.shape[key];\n            }\n        });\n        return new ZodObject({\n            ...this._def,\n            shape: () => shape,\n        });\n    }\n    omit(mask) {\n        const shape = {};\n        util.objectKeys(this.shape).forEach((key) => {\n            if (!mask[key]) {\n                shape[key] = this.shape[key];\n            }\n        });\n        return new ZodObject({\n            ...this._def,\n            shape: () => shape,\n        });\n    }\n    /**\n     * @deprecated\n     */\n    deepPartial() {\n        return deepPartialify(this);\n    }\n    partial(mask) {\n        const newShape = {};\n        util.objectKeys(this.shape).forEach((key) => {\n            const fieldSchema = this.shape[key];\n            if (mask && !mask[key]) {\n                newShape[key] = fieldSchema;\n            }\n            else {\n                newShape[key] = fieldSchema.optional();\n            }\n        });\n        return new ZodObject({\n            ...this._def,\n            shape: () => newShape,\n        });\n    }\n    required(mask) {\n        const newShape = {};\n        util.objectKeys(this.shape).forEach((key) => {\n            if (mask && !mask[key]) {\n                newShape[key] = this.shape[key];\n            }\n            else {\n                const fieldSchema = this.shape[key];\n                let newField = fieldSchema;\n                while (newField instanceof ZodOptional) {\n                    newField = newField._def.innerType;\n                }\n                newShape[key] = newField;\n            }\n        });\n        return new ZodObject({\n            ...this._def,\n            shape: () => newShape,\n        });\n    }\n    keyof() {\n        return createZodEnum(util.objectKeys(this.shape));\n    }\n}\nZodObject.create = (shape, params) => {\n    return new ZodObject({\n        shape: () => shape,\n        unknownKeys: \"strip\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nZodObject.strictCreate = (shape, params) => {\n    return new ZodObject({\n        shape: () => shape,\n        unknownKeys: \"strict\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nZodObject.lazycreate = (shape, params) => {\n    return new ZodObject({\n        shape,\n        unknownKeys: \"strip\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nclass ZodUnion extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const options = this._def.options;\n        function handleResults(results) {\n            // return first issue-free validation if it exists\n            for (const result of results) {\n                if (result.result.status === \"valid\") {\n                    return result.result;\n                }\n            }\n            for (const result of results) {\n                if (result.result.status === \"dirty\") {\n                    // add issues from dirty option\n                    ctx.common.issues.push(...result.ctx.common.issues);\n                    return result.result;\n                }\n            }\n            // return invalid\n            const unionErrors = results.map((result) => new ZodError(result.ctx.common.issues));\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union,\n                unionErrors,\n            });\n            return INVALID;\n        }\n        if (ctx.common.async) {\n            return Promise.all(options.map(async (option) => {\n                const childCtx = {\n                    ...ctx,\n                    common: {\n                        ...ctx.common,\n                        issues: [],\n                    },\n                    parent: null,\n                };\n                return {\n                    result: await option._parseAsync({\n                        data: ctx.data,\n                        path: ctx.path,\n                        parent: childCtx,\n                    }),\n                    ctx: childCtx,\n                };\n            })).then(handleResults);\n        }\n        else {\n            let dirty = undefined;\n            const issues = [];\n            for (const option of options) {\n                const childCtx = {\n                    ...ctx,\n                    common: {\n                        ...ctx.common,\n                        issues: [],\n                    },\n                    parent: null,\n                };\n                const result = option._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: childCtx,\n                });\n                if (result.status === \"valid\") {\n                    return result;\n                }\n                else if (result.status === \"dirty\" && !dirty) {\n                    dirty = { result, ctx: childCtx };\n                }\n                if (childCtx.common.issues.length) {\n                    issues.push(childCtx.common.issues);\n                }\n            }\n            if (dirty) {\n                ctx.common.issues.push(...dirty.ctx.common.issues);\n                return dirty.result;\n            }\n            const unionErrors = issues.map((issues) => new ZodError(issues));\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union,\n                unionErrors,\n            });\n            return INVALID;\n        }\n    }\n    get options() {\n        return this._def.options;\n    }\n}\nZodUnion.create = (types, params) => {\n    return new ZodUnion({\n        options: types,\n        typeName: ZodFirstPartyTypeKind.ZodUnion,\n        ...processCreateParams(params),\n    });\n};\n/////////////////////////////////////////////////////\n/////////////////////////////////////////////////////\n//////////                                 //////////\n//////////      ZodDiscriminatedUnion      //////////\n//////////                                 //////////\n/////////////////////////////////////////////////////\n/////////////////////////////////////////////////////\nconst getDiscriminator = (type) => {\n    if (type instanceof ZodLazy) {\n        return getDiscriminator(type.schema);\n    }\n    else if (type instanceof ZodEffects) {\n        return getDiscriminator(type.innerType());\n    }\n    else if (type instanceof ZodLiteral) {\n        return [type.value];\n    }\n    else if (type instanceof ZodEnum) {\n        return type.options;\n    }\n    else if (type instanceof ZodNativeEnum) {\n        // eslint-disable-next-line ban/ban\n        return util.objectValues(type.enum);\n    }\n    else if (type instanceof ZodDefault) {\n        return getDiscriminator(type._def.innerType);\n    }\n    else if (type instanceof ZodUndefined) {\n        return [undefined];\n    }\n    else if (type instanceof ZodNull) {\n        return [null];\n    }\n    else if (type instanceof ZodOptional) {\n        return [undefined, ...getDiscriminator(type.unwrap())];\n    }\n    else if (type instanceof ZodNullable) {\n        return [null, ...getDiscriminator(type.unwrap())];\n    }\n    else if (type instanceof ZodBranded) {\n        return getDiscriminator(type.unwrap());\n    }\n    else if (type instanceof ZodReadonly) {\n        return getDiscriminator(type.unwrap());\n    }\n    else if (type instanceof ZodCatch) {\n        return getDiscriminator(type._def.innerType);\n    }\n    else {\n        return [];\n    }\n};\nclass ZodDiscriminatedUnion extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.object) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const discriminator = this.discriminator;\n        const discriminatorValue = ctx.data[discriminator];\n        const option = this.optionsMap.get(discriminatorValue);\n        if (!option) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union_discriminator,\n                options: Array.from(this.optionsMap.keys()),\n                path: [discriminator],\n            });\n            return INVALID;\n        }\n        if (ctx.common.async) {\n            return option._parseAsync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n        }\n        else {\n            return option._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n        }\n    }\n    get discriminator() {\n        return this._def.discriminator;\n    }\n    get options() {\n        return this._def.options;\n    }\n    get optionsMap() {\n        return this._def.optionsMap;\n    }\n    /**\n     * The constructor of the discriminated union schema. Its behaviour is very similar to that of the normal z.union() constructor.\n     * However, it only allows a union of objects, all of which need to share a discriminator property. This property must\n     * have a different value for each object in the union.\n     * @param discriminator the name of the discriminator property\n     * @param types an array of object schemas\n     * @param params\n     */\n    static create(discriminator, options, params) {\n        // Get all the valid discriminator values\n        const optionsMap = new Map();\n        // try {\n        for (const type of options) {\n            const discriminatorValues = getDiscriminator(type.shape[discriminator]);\n            if (!discriminatorValues.length) {\n                throw new Error(`A discriminator value for key \\`${discriminator}\\` could not be extracted from all schema options`);\n            }\n            for (const value of discriminatorValues) {\n                if (optionsMap.has(value)) {\n                    throw new Error(`Discriminator property ${String(discriminator)} has duplicate value ${String(value)}`);\n                }\n                optionsMap.set(value, type);\n            }\n        }\n        return new ZodDiscriminatedUnion({\n            typeName: ZodFirstPartyTypeKind.ZodDiscriminatedUnion,\n            discriminator,\n            options,\n            optionsMap,\n            ...processCreateParams(params),\n        });\n    }\n}\nfunction mergeValues(a, b) {\n    const aType = getParsedType(a);\n    const bType = getParsedType(b);\n    if (a === b) {\n        return { valid: true, data: a };\n    }\n    else if (aType === ZodParsedType.object && bType === ZodParsedType.object) {\n        const bKeys = util.objectKeys(b);\n        const sharedKeys = util\n            .objectKeys(a)\n            .filter((key) => bKeys.indexOf(key) !== -1);\n        const newObj = { ...a, ...b };\n        for (const key of sharedKeys) {\n            const sharedValue = mergeValues(a[key], b[key]);\n            if (!sharedValue.valid) {\n                return { valid: false };\n            }\n            newObj[key] = sharedValue.data;\n        }\n        return { valid: true, data: newObj };\n    }\n    else if (aType === ZodParsedType.array && bType === ZodParsedType.array) {\n        if (a.length !== b.length) {\n            return { valid: false };\n        }\n        const newArray = [];\n        for (let index = 0; index < a.length; index++) {\n            const itemA = a[index];\n            const itemB = b[index];\n            const sharedValue = mergeValues(itemA, itemB);\n            if (!sharedValue.valid) {\n                return { valid: false };\n            }\n            newArray.push(sharedValue.data);\n        }\n        return { valid: true, data: newArray };\n    }\n    else if (aType === ZodParsedType.date &&\n        bType === ZodParsedType.date &&\n        +a === +b) {\n        return { valid: true, data: a };\n    }\n    else {\n        return { valid: false };\n    }\n}\nclass ZodIntersection extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        const handleParsed = (parsedLeft, parsedRight) => {\n            if (isAborted(parsedLeft) || isAborted(parsedRight)) {\n                return INVALID;\n            }\n            const merged = mergeValues(parsedLeft.value, parsedRight.value);\n            if (!merged.valid) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.invalid_intersection_types,\n                });\n                return INVALID;\n            }\n            if (isDirty(parsedLeft) || isDirty(parsedRight)) {\n                status.dirty();\n            }\n            return { status: status.value, value: merged.data };\n        };\n        if (ctx.common.async) {\n            return Promise.all([\n                this._def.left._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                }),\n                this._def.right._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                }),\n            ]).then(([left, right]) => handleParsed(left, right));\n        }\n        else {\n            return handleParsed(this._def.left._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            }), this._def.right._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            }));\n        }\n    }\n}\nZodIntersection.create = (left, right, params) => {\n    return new ZodIntersection({\n        left: left,\n        right: right,\n        typeName: ZodFirstPartyTypeKind.ZodIntersection,\n        ...processCreateParams(params),\n    });\n};\nclass ZodTuple extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.array) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.array,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (ctx.data.length < this._def.items.length) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.too_small,\n                minimum: this._def.items.length,\n                inclusive: true,\n                exact: false,\n                type: \"array\",\n            });\n            return INVALID;\n        }\n        const rest = this._def.rest;\n        if (!rest && ctx.data.length > this._def.items.length) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.too_big,\n                maximum: this._def.items.length,\n                inclusive: true,\n                exact: false,\n                type: \"array\",\n            });\n            status.dirty();\n        }\n        const items = [...ctx.data]\n            .map((item, itemIndex) => {\n            const schema = this._def.items[itemIndex] || this._def.rest;\n            if (!schema)\n                return null;\n            return schema._parse(new ParseInputLazyPath(ctx, item, ctx.path, itemIndex));\n        })\n            .filter((x) => !!x); // filter nulls\n        if (ctx.common.async) {\n            return Promise.all(items).then((results) => {\n                return ParseStatus.mergeArray(status, results);\n            });\n        }\n        else {\n            return ParseStatus.mergeArray(status, items);\n        }\n    }\n    get items() {\n        return this._def.items;\n    }\n    rest(rest) {\n        return new ZodTuple({\n            ...this._def,\n            rest,\n        });\n    }\n}\nZodTuple.create = (schemas, params) => {\n    if (!Array.isArray(schemas)) {\n        throw new Error(\"You must pass an array of schemas to z.tuple([ ... ])\");\n    }\n    return new ZodTuple({\n        items: schemas,\n        typeName: ZodFirstPartyTypeKind.ZodTuple,\n        rest: null,\n        ...processCreateParams(params),\n    });\n};\nclass ZodRecord extends ZodType {\n    get keySchema() {\n        return this._def.keyType;\n    }\n    get valueSchema() {\n        return this._def.valueType;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.object) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const pairs = [];\n        const keyType = this._def.keyType;\n        const valueType = this._def.valueType;\n        for (const key in ctx.data) {\n            pairs.push({\n                key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, key)),\n                value: valueType._parse(new ParseInputLazyPath(ctx, ctx.data[key], ctx.path, key)),\n                alwaysSet: key in ctx.data,\n            });\n        }\n        if (ctx.common.async) {\n            return ParseStatus.mergeObjectAsync(status, pairs);\n        }\n        else {\n            return ParseStatus.mergeObjectSync(status, pairs);\n        }\n    }\n    get element() {\n        return this._def.valueType;\n    }\n    static create(first, second, third) {\n        if (second instanceof ZodType) {\n            return new ZodRecord({\n                keyType: first,\n                valueType: second,\n                typeName: ZodFirstPartyTypeKind.ZodRecord,\n                ...processCreateParams(third),\n            });\n        }\n        return new ZodRecord({\n            keyType: ZodString.create(),\n            valueType: first,\n            typeName: ZodFirstPartyTypeKind.ZodRecord,\n            ...processCreateParams(second),\n        });\n    }\n}\nclass ZodMap extends ZodType {\n    get keySchema() {\n        return this._def.keyType;\n    }\n    get valueSchema() {\n        return this._def.valueType;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.map) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.map,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const keyType = this._def.keyType;\n        const valueType = this._def.valueType;\n        const pairs = [...ctx.data.entries()].map(([key, value], index) => {\n            return {\n                key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, [index, \"key\"])),\n                value: valueType._parse(new ParseInputLazyPath(ctx, value, ctx.path, [index, \"value\"])),\n            };\n        });\n        if (ctx.common.async) {\n            const finalMap = new Map();\n            return Promise.resolve().then(async () => {\n                for (const pair of pairs) {\n                    const key = await pair.key;\n                    const value = await pair.value;\n                    if (key.status === \"aborted\" || value.status === \"aborted\") {\n                        return INVALID;\n                    }\n                    if (key.status === \"dirty\" || value.status === \"dirty\") {\n                        status.dirty();\n                    }\n                    finalMap.set(key.value, value.value);\n                }\n                return { status: status.value, value: finalMap };\n            });\n        }\n        else {\n            const finalMap = new Map();\n            for (const pair of pairs) {\n                const key = pair.key;\n                const value = pair.value;\n                if (key.status === \"aborted\" || value.status === \"aborted\") {\n                    return INVALID;\n                }\n                if (key.status === \"dirty\" || value.status === \"dirty\") {\n                    status.dirty();\n                }\n                finalMap.set(key.value, value.value);\n            }\n            return { status: status.value, value: finalMap };\n        }\n    }\n}\nZodMap.create = (keyType, valueType, params) => {\n    return new ZodMap({\n        valueType,\n        keyType,\n        typeName: ZodFirstPartyTypeKind.ZodMap,\n        ...processCreateParams(params),\n    });\n};\nclass ZodSet extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.set) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.set,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const def = this._def;\n        if (def.minSize !== null) {\n            if (ctx.data.size < def.minSize.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_small,\n                    minimum: def.minSize.value,\n                    type: \"set\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.minSize.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.maxSize !== null) {\n            if (ctx.data.size > def.maxSize.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_big,\n                    maximum: def.maxSize.value,\n                    type: \"set\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.maxSize.message,\n                });\n                status.dirty();\n            }\n        }\n        const valueType = this._def.valueType;\n        function finalizeSet(elements) {\n            const parsedSet = new Set();\n            for (const element of elements) {\n                if (element.status === \"aborted\")\n                    return INVALID;\n                if (element.status === \"dirty\")\n                    status.dirty();\n                parsedSet.add(element.value);\n            }\n            return { status: status.value, value: parsedSet };\n        }\n        const elements = [...ctx.data.values()].map((item, i) => valueType._parse(new ParseInputLazyPath(ctx, item, ctx.path, i)));\n        if (ctx.common.async) {\n            return Promise.all(elements).then((elements) => finalizeSet(elements));\n        }\n        else {\n            return finalizeSet(elements);\n        }\n    }\n    min(minSize, message) {\n        return new ZodSet({\n            ...this._def,\n            minSize: { value: minSize, message: errorUtil.toString(message) },\n        });\n    }\n    max(maxSize, message) {\n        return new ZodSet({\n            ...this._def,\n            maxSize: { value: maxSize, message: errorUtil.toString(message) },\n        });\n    }\n    size(size, message) {\n        return this.min(size, message).max(size, message);\n    }\n    nonempty(message) {\n        return this.min(1, message);\n    }\n}\nZodSet.create = (valueType, params) => {\n    return new ZodSet({\n        valueType,\n        minSize: null,\n        maxSize: null,\n        typeName: ZodFirstPartyTypeKind.ZodSet,\n        ...processCreateParams(params),\n    });\n};\nclass ZodFunction extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.validate = this.implement;\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.function) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.function,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        function makeArgsIssue(args, error) {\n            return makeIssue({\n                data: args,\n                path: ctx.path,\n                errorMaps: [\n                    ctx.common.contextualErrorMap,\n                    ctx.schemaErrorMap,\n                    getErrorMap(),\n                    errorMap,\n                ].filter((x) => !!x),\n                issueData: {\n                    code: ZodIssueCode.invalid_arguments,\n                    argumentsError: error,\n                },\n            });\n        }\n        function makeReturnsIssue(returns, error) {\n            return makeIssue({\n                data: returns,\n                path: ctx.path,\n                errorMaps: [\n                    ctx.common.contextualErrorMap,\n                    ctx.schemaErrorMap,\n                    getErrorMap(),\n                    errorMap,\n                ].filter((x) => !!x),\n                issueData: {\n                    code: ZodIssueCode.invalid_return_type,\n                    returnTypeError: error,\n                },\n            });\n        }\n        const params = { errorMap: ctx.common.contextualErrorMap };\n        const fn = ctx.data;\n        if (this._def.returns instanceof ZodPromise) {\n            // Would love a way to avoid disabling this rule, but we need\n            // an alias (using an arrow function was what caused 2651).\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            const me = this;\n            return OK(async function (...args) {\n                const error = new ZodError([]);\n                const parsedArgs = await me._def.args\n                    .parseAsync(args, params)\n                    .catch((e) => {\n                    error.addIssue(makeArgsIssue(args, e));\n                    throw error;\n                });\n                const result = await Reflect.apply(fn, this, parsedArgs);\n                const parsedReturns = await me._def.returns._def.type\n                    .parseAsync(result, params)\n                    .catch((e) => {\n                    error.addIssue(makeReturnsIssue(result, e));\n                    throw error;\n                });\n                return parsedReturns;\n            });\n        }\n        else {\n            // Would love a way to avoid disabling this rule, but we need\n            // an alias (using an arrow function was what caused 2651).\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            const me = this;\n            return OK(function (...args) {\n                const parsedArgs = me._def.args.safeParse(args, params);\n                if (!parsedArgs.success) {\n                    throw new ZodError([makeArgsIssue(args, parsedArgs.error)]);\n                }\n                const result = Reflect.apply(fn, this, parsedArgs.data);\n                const parsedReturns = me._def.returns.safeParse(result, params);\n                if (!parsedReturns.success) {\n                    throw new ZodError([makeReturnsIssue(result, parsedReturns.error)]);\n                }\n                return parsedReturns.data;\n            });\n        }\n    }\n    parameters() {\n        return this._def.args;\n    }\n    returnType() {\n        return this._def.returns;\n    }\n    args(...items) {\n        return new ZodFunction({\n            ...this._def,\n            args: ZodTuple.create(items).rest(ZodUnknown.create()),\n        });\n    }\n    returns(returnType) {\n        return new ZodFunction({\n            ...this._def,\n            returns: returnType,\n        });\n    }\n    implement(func) {\n        const validatedFunc = this.parse(func);\n        return validatedFunc;\n    }\n    strictImplement(func) {\n        const validatedFunc = this.parse(func);\n        return validatedFunc;\n    }\n    static create(args, returns, params) {\n        return new ZodFunction({\n            args: (args\n                ? args\n                : ZodTuple.create([]).rest(ZodUnknown.create())),\n            returns: returns || ZodUnknown.create(),\n            typeName: ZodFirstPartyTypeKind.ZodFunction,\n            ...processCreateParams(params),\n        });\n    }\n}\nclass ZodLazy extends ZodType {\n    get schema() {\n        return this._def.getter();\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const lazySchema = this._def.getter();\n        return lazySchema._parse({ data: ctx.data, path: ctx.path, parent: ctx });\n    }\n}\nZodLazy.create = (getter, params) => {\n    return new ZodLazy({\n        getter: getter,\n        typeName: ZodFirstPartyTypeKind.ZodLazy,\n        ...processCreateParams(params),\n    });\n};\nclass ZodLiteral extends ZodType {\n    _parse(input) {\n        if (input.data !== this._def.value) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_literal,\n                expected: this._def.value,\n            });\n            return INVALID;\n        }\n        return { status: \"valid\", value: input.data };\n    }\n    get value() {\n        return this._def.value;\n    }\n}\nZodLiteral.create = (value, params) => {\n    return new ZodLiteral({\n        value: value,\n        typeName: ZodFirstPartyTypeKind.ZodLiteral,\n        ...processCreateParams(params),\n    });\n};\nfunction createZodEnum(values, params) {\n    return new ZodEnum({\n        values,\n        typeName: ZodFirstPartyTypeKind.ZodEnum,\n        ...processCreateParams(params),\n    });\n}\nclass ZodEnum extends ZodType {\n    constructor() {\n        super(...arguments);\n        _ZodEnum_cache.set(this, void 0);\n    }\n    _parse(input) {\n        if (typeof input.data !== \"string\") {\n            const ctx = this._getOrReturnCtx(input);\n            const expectedValues = this._def.values;\n            addIssueToContext(ctx, {\n                expected: util.joinValues(expectedValues),\n                received: ctx.parsedType,\n                code: ZodIssueCode.invalid_type,\n            });\n            return INVALID;\n        }\n        if (!__classPrivateFieldGet(this, _ZodEnum_cache, \"f\")) {\n            __classPrivateFieldSet(this, _ZodEnum_cache, new Set(this._def.values), \"f\");\n        }\n        if (!__classPrivateFieldGet(this, _ZodEnum_cache, \"f\").has(input.data)) {\n            const ctx = this._getOrReturnCtx(input);\n            const expectedValues = this._def.values;\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_enum_value,\n                options: expectedValues,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n    get options() {\n        return this._def.values;\n    }\n    get enum() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    get Values() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    get Enum() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    extract(values, newDef = this._def) {\n        return ZodEnum.create(values, {\n            ...this._def,\n            ...newDef,\n        });\n    }\n    exclude(values, newDef = this._def) {\n        return ZodEnum.create(this.options.filter((opt) => !values.includes(opt)), {\n            ...this._def,\n            ...newDef,\n        });\n    }\n}\n_ZodEnum_cache = new WeakMap();\nZodEnum.create = createZodEnum;\nclass ZodNativeEnum extends ZodType {\n    constructor() {\n        super(...arguments);\n        _ZodNativeEnum_cache.set(this, void 0);\n    }\n    _parse(input) {\n        const nativeEnumValues = util.getValidEnumValues(this._def.values);\n        const ctx = this._getOrReturnCtx(input);\n        if (ctx.parsedType !== ZodParsedType.string &&\n            ctx.parsedType !== ZodParsedType.number) {\n            const expectedValues = util.objectValues(nativeEnumValues);\n            addIssueToContext(ctx, {\n                expected: util.joinValues(expectedValues),\n                received: ctx.parsedType,\n                code: ZodIssueCode.invalid_type,\n            });\n            return INVALID;\n        }\n        if (!__classPrivateFieldGet(this, _ZodNativeEnum_cache, \"f\")) {\n            __classPrivateFieldSet(this, _ZodNativeEnum_cache, new Set(util.getValidEnumValues(this._def.values)), \"f\");\n        }\n        if (!__classPrivateFieldGet(this, _ZodNativeEnum_cache, \"f\").has(input.data)) {\n            const expectedValues = util.objectValues(nativeEnumValues);\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_enum_value,\n                options: expectedValues,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n    get enum() {\n        return this._def.values;\n    }\n}\n_ZodNativeEnum_cache = new WeakMap();\nZodNativeEnum.create = (values, params) => {\n    return new ZodNativeEnum({\n        values: values,\n        typeName: ZodFirstPartyTypeKind.ZodNativeEnum,\n        ...processCreateParams(params),\n    });\n};\nclass ZodPromise extends ZodType {\n    unwrap() {\n        return this._def.type;\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.promise &&\n            ctx.common.async === false) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.promise,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const promisified = ctx.parsedType === ZodParsedType.promise\n            ? ctx.data\n            : Promise.resolve(ctx.data);\n        return OK(promisified.then((data) => {\n            return this._def.type.parseAsync(data, {\n                path: ctx.path,\n                errorMap: ctx.common.contextualErrorMap,\n            });\n        }));\n    }\n}\nZodPromise.create = (schema, params) => {\n    return new ZodPromise({\n        type: schema,\n        typeName: ZodFirstPartyTypeKind.ZodPromise,\n        ...processCreateParams(params),\n    });\n};\nclass ZodEffects extends ZodType {\n    innerType() {\n        return this._def.schema;\n    }\n    sourceType() {\n        return this._def.schema._def.typeName === ZodFirstPartyTypeKind.ZodEffects\n            ? this._def.schema.sourceType()\n            : this._def.schema;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        const effect = this._def.effect || null;\n        const checkCtx = {\n            addIssue: (arg) => {\n                addIssueToContext(ctx, arg);\n                if (arg.fatal) {\n                    status.abort();\n                }\n                else {\n                    status.dirty();\n                }\n            },\n            get path() {\n                return ctx.path;\n            },\n        };\n        checkCtx.addIssue = checkCtx.addIssue.bind(checkCtx);\n        if (effect.type === \"preprocess\") {\n            const processed = effect.transform(ctx.data, checkCtx);\n            if (ctx.common.async) {\n                return Promise.resolve(processed).then(async (processed) => {\n                    if (status.value === \"aborted\")\n                        return INVALID;\n                    const result = await this._def.schema._parseAsync({\n                        data: processed,\n                        path: ctx.path,\n                        parent: ctx,\n                    });\n                    if (result.status === \"aborted\")\n                        return INVALID;\n                    if (result.status === \"dirty\")\n                        return DIRTY(result.value);\n                    if (status.value === \"dirty\")\n                        return DIRTY(result.value);\n                    return result;\n                });\n            }\n            else {\n                if (status.value === \"aborted\")\n                    return INVALID;\n                const result = this._def.schema._parseSync({\n                    data: processed,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (result.status === \"aborted\")\n                    return INVALID;\n                if (result.status === \"dirty\")\n                    return DIRTY(result.value);\n                if (status.value === \"dirty\")\n                    return DIRTY(result.value);\n                return result;\n            }\n        }\n        if (effect.type === \"refinement\") {\n            const executeRefinement = (acc) => {\n                const result = effect.refinement(acc, checkCtx);\n                if (ctx.common.async) {\n                    return Promise.resolve(result);\n                }\n                if (result instanceof Promise) {\n                    throw new Error(\"Async refinement encountered during synchronous parse operation. Use .parseAsync instead.\");\n                }\n                return acc;\n            };\n            if (ctx.common.async === false) {\n                const inner = this._def.schema._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (inner.status === \"aborted\")\n                    return INVALID;\n                if (inner.status === \"dirty\")\n                    status.dirty();\n                // return value is ignored\n                executeRefinement(inner.value);\n                return { status: status.value, value: inner.value };\n            }\n            else {\n                return this._def.schema\n                    ._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx })\n                    .then((inner) => {\n                    if (inner.status === \"aborted\")\n                        return INVALID;\n                    if (inner.status === \"dirty\")\n                        status.dirty();\n                    return executeRefinement(inner.value).then(() => {\n                        return { status: status.value, value: inner.value };\n                    });\n                });\n            }\n        }\n        if (effect.type === \"transform\") {\n            if (ctx.common.async === false) {\n                const base = this._def.schema._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (!isValid(base))\n                    return base;\n                const result = effect.transform(base.value, checkCtx);\n                if (result instanceof Promise) {\n                    throw new Error(`Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.`);\n                }\n                return { status: status.value, value: result };\n            }\n            else {\n                return this._def.schema\n                    ._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx })\n                    .then((base) => {\n                    if (!isValid(base))\n                        return base;\n                    return Promise.resolve(effect.transform(base.value, checkCtx)).then((result) => ({ status: status.value, value: result }));\n                });\n            }\n        }\n        util.assertNever(effect);\n    }\n}\nZodEffects.create = (schema, effect, params) => {\n    return new ZodEffects({\n        schema,\n        typeName: ZodFirstPartyTypeKind.ZodEffects,\n        effect,\n        ...processCreateParams(params),\n    });\n};\nZodEffects.createWithPreprocess = (preprocess, schema, params) => {\n    return new ZodEffects({\n        schema,\n        effect: { type: \"preprocess\", transform: preprocess },\n        typeName: ZodFirstPartyTypeKind.ZodEffects,\n        ...processCreateParams(params),\n    });\n};\nclass ZodOptional extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType === ZodParsedType.undefined) {\n            return OK(undefined);\n        }\n        return this._def.innerType._parse(input);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodOptional.create = (type, params) => {\n    return new ZodOptional({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodOptional,\n        ...processCreateParams(params),\n    });\n};\nclass ZodNullable extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType === ZodParsedType.null) {\n            return OK(null);\n        }\n        return this._def.innerType._parse(input);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodNullable.create = (type, params) => {\n    return new ZodNullable({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodNullable,\n        ...processCreateParams(params),\n    });\n};\nclass ZodDefault extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        let data = ctx.data;\n        if (ctx.parsedType === ZodParsedType.undefined) {\n            data = this._def.defaultValue();\n        }\n        return this._def.innerType._parse({\n            data,\n            path: ctx.path,\n            parent: ctx,\n        });\n    }\n    removeDefault() {\n        return this._def.innerType;\n    }\n}\nZodDefault.create = (type, params) => {\n    return new ZodDefault({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodDefault,\n        defaultValue: typeof params.default === \"function\"\n            ? params.default\n            : () => params.default,\n        ...processCreateParams(params),\n    });\n};\nclass ZodCatch extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        // newCtx is used to not collect issues from inner types in ctx\n        const newCtx = {\n            ...ctx,\n            common: {\n                ...ctx.common,\n                issues: [],\n            },\n        };\n        const result = this._def.innerType._parse({\n            data: newCtx.data,\n            path: newCtx.path,\n            parent: {\n                ...newCtx,\n            },\n        });\n        if (isAsync(result)) {\n            return result.then((result) => {\n                return {\n                    status: \"valid\",\n                    value: result.status === \"valid\"\n                        ? result.value\n                        : this._def.catchValue({\n                            get error() {\n                                return new ZodError(newCtx.common.issues);\n                            },\n                            input: newCtx.data,\n                        }),\n                };\n            });\n        }\n        else {\n            return {\n                status: \"valid\",\n                value: result.status === \"valid\"\n                    ? result.value\n                    : this._def.catchValue({\n                        get error() {\n                            return new ZodError(newCtx.common.issues);\n                        },\n                        input: newCtx.data,\n                    }),\n            };\n        }\n    }\n    removeCatch() {\n        return this._def.innerType;\n    }\n}\nZodCatch.create = (type, params) => {\n    return new ZodCatch({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodCatch,\n        catchValue: typeof params.catch === \"function\" ? params.catch : () => params.catch,\n        ...processCreateParams(params),\n    });\n};\nclass ZodNaN extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.nan) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.nan,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return { status: \"valid\", value: input.data };\n    }\n}\nZodNaN.create = (params) => {\n    return new ZodNaN({\n        typeName: ZodFirstPartyTypeKind.ZodNaN,\n        ...processCreateParams(params),\n    });\n};\nconst BRAND = Symbol(\"zod_brand\");\nclass ZodBranded extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const data = ctx.data;\n        return this._def.type._parse({\n            data,\n            path: ctx.path,\n            parent: ctx,\n        });\n    }\n    unwrap() {\n        return this._def.type;\n    }\n}\nclass ZodPipeline extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.common.async) {\n            const handleAsync = async () => {\n                const inResult = await this._def.in._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (inResult.status === \"aborted\")\n                    return INVALID;\n                if (inResult.status === \"dirty\") {\n                    status.dirty();\n                    return DIRTY(inResult.value);\n                }\n                else {\n                    return this._def.out._parseAsync({\n                        data: inResult.value,\n                        path: ctx.path,\n                        parent: ctx,\n                    });\n                }\n            };\n            return handleAsync();\n        }\n        else {\n            const inResult = this._def.in._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n            if (inResult.status === \"aborted\")\n                return INVALID;\n            if (inResult.status === \"dirty\") {\n                status.dirty();\n                return {\n                    status: \"dirty\",\n                    value: inResult.value,\n                };\n            }\n            else {\n                return this._def.out._parseSync({\n                    data: inResult.value,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n            }\n        }\n    }\n    static create(a, b) {\n        return new ZodPipeline({\n            in: a,\n            out: b,\n            typeName: ZodFirstPartyTypeKind.ZodPipeline,\n        });\n    }\n}\nclass ZodReadonly extends ZodType {\n    _parse(input) {\n        const result = this._def.innerType._parse(input);\n        const freeze = (data) => {\n            if (isValid(data)) {\n                data.value = Object.freeze(data.value);\n            }\n            return data;\n        };\n        return isAsync(result)\n            ? result.then((data) => freeze(data))\n            : freeze(result);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodReadonly.create = (type, params) => {\n    return new ZodReadonly({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodReadonly,\n        ...processCreateParams(params),\n    });\n};\nfunction custom(check, params = {}, \n/**\n * @deprecated\n *\n * Pass `fatal` into the params object instead:\n *\n * ```ts\n * z.string().custom((val) => val.length > 5, { fatal: false })\n * ```\n *\n */\nfatal) {\n    if (check)\n        return ZodAny.create().superRefine((data, ctx) => {\n            var _a, _b;\n            if (!check(data)) {\n                const p = typeof params === \"function\"\n                    ? params(data)\n                    : typeof params === \"string\"\n                        ? { message: params }\n                        : params;\n                const _fatal = (_b = (_a = p.fatal) !== null && _a !== void 0 ? _a : fatal) !== null && _b !== void 0 ? _b : true;\n                const p2 = typeof p === \"string\" ? { message: p } : p;\n                ctx.addIssue({ code: \"custom\", ...p2, fatal: _fatal });\n            }\n        });\n    return ZodAny.create();\n}\nconst late = {\n    object: ZodObject.lazycreate,\n};\nvar ZodFirstPartyTypeKind;\n(function (ZodFirstPartyTypeKind) {\n    ZodFirstPartyTypeKind[\"ZodString\"] = \"ZodString\";\n    ZodFirstPartyTypeKind[\"ZodNumber\"] = \"ZodNumber\";\n    ZodFirstPartyTypeKind[\"ZodNaN\"] = \"ZodNaN\";\n    ZodFirstPartyTypeKind[\"ZodBigInt\"] = \"ZodBigInt\";\n    ZodFirstPartyTypeKind[\"ZodBoolean\"] = \"ZodBoolean\";\n    ZodFirstPartyTypeKind[\"ZodDate\"] = \"ZodDate\";\n    ZodFirstPartyTypeKind[\"ZodSymbol\"] = \"ZodSymbol\";\n    ZodFirstPartyTypeKind[\"ZodUndefined\"] = \"ZodUndefined\";\n    ZodFirstPartyTypeKind[\"ZodNull\"] = \"ZodNull\";\n    ZodFirstPartyTypeKind[\"ZodAny\"] = \"ZodAny\";\n    ZodFirstPartyTypeKind[\"ZodUnknown\"] = \"ZodUnknown\";\n    ZodFirstPartyTypeKind[\"ZodNever\"] = \"ZodNever\";\n    ZodFirstPartyTypeKind[\"ZodVoid\"] = \"ZodVoid\";\n    ZodFirstPartyTypeKind[\"ZodArray\"] = \"ZodArray\";\n    ZodFirstPartyTypeKind[\"ZodObject\"] = \"ZodObject\";\n    ZodFirstPartyTypeKind[\"ZodUnion\"] = \"ZodUnion\";\n    ZodFirstPartyTypeKind[\"ZodDiscriminatedUnion\"] = \"ZodDiscriminatedUnion\";\n    ZodFirstPartyTypeKind[\"ZodIntersection\"] = \"ZodIntersection\";\n    ZodFirstPartyTypeKind[\"ZodTuple\"] = \"ZodTuple\";\n    ZodFirstPartyTypeKind[\"ZodRecord\"] = \"ZodRecord\";\n    ZodFirstPartyTypeKind[\"ZodMap\"] = \"ZodMap\";\n    ZodFirstPartyTypeKind[\"ZodSet\"] = \"ZodSet\";\n    ZodFirstPartyTypeKind[\"ZodFunction\"] = \"ZodFunction\";\n    ZodFirstPartyTypeKind[\"ZodLazy\"] = \"ZodLazy\";\n    ZodFirstPartyTypeKind[\"ZodLiteral\"] = \"ZodLiteral\";\n    ZodFirstPartyTypeKind[\"ZodEnum\"] = \"ZodEnum\";\n    ZodFirstPartyTypeKind[\"ZodEffects\"] = \"ZodEffects\";\n    ZodFirstPartyTypeKind[\"ZodNativeEnum\"] = \"ZodNativeEnum\";\n    ZodFirstPartyTypeKind[\"ZodOptional\"] = \"ZodOptional\";\n    ZodFirstPartyTypeKind[\"ZodNullable\"] = \"ZodNullable\";\n    ZodFirstPartyTypeKind[\"ZodDefault\"] = \"ZodDefault\";\n    ZodFirstPartyTypeKind[\"ZodCatch\"] = \"ZodCatch\";\n    ZodFirstPartyTypeKind[\"ZodPromise\"] = \"ZodPromise\";\n    ZodFirstPartyTypeKind[\"ZodBranded\"] = \"ZodBranded\";\n    ZodFirstPartyTypeKind[\"ZodPipeline\"] = \"ZodPipeline\";\n    ZodFirstPartyTypeKind[\"ZodReadonly\"] = \"ZodReadonly\";\n})(ZodFirstPartyTypeKind || (ZodFirstPartyTypeKind = {}));\nconst instanceOfType = (\n// const instanceOfType = <T extends new (...args: any[]) => any>(\ncls, params = {\n    message: `Input not instance of ${cls.name}`,\n}) => custom((data) => data instanceof cls, params);\nconst stringType = ZodString.create;\nconst numberType = ZodNumber.create;\nconst nanType = ZodNaN.create;\nconst bigIntType = ZodBigInt.create;\nconst booleanType = ZodBoolean.create;\nconst dateType = ZodDate.create;\nconst symbolType = ZodSymbol.create;\nconst undefinedType = ZodUndefined.create;\nconst nullType = ZodNull.create;\nconst anyType = ZodAny.create;\nconst unknownType = ZodUnknown.create;\nconst neverType = ZodNever.create;\nconst voidType = ZodVoid.create;\nconst arrayType = ZodArray.create;\nconst objectType = ZodObject.create;\nconst strictObjectType = ZodObject.strictCreate;\nconst unionType = ZodUnion.create;\nconst discriminatedUnionType = ZodDiscriminatedUnion.create;\nconst intersectionType = ZodIntersection.create;\nconst tupleType = ZodTuple.create;\nconst recordType = ZodRecord.create;\nconst mapType = ZodMap.create;\nconst setType = ZodSet.create;\nconst functionType = ZodFunction.create;\nconst lazyType = ZodLazy.create;\nconst literalType = ZodLiteral.create;\nconst enumType = ZodEnum.create;\nconst nativeEnumType = ZodNativeEnum.create;\nconst promiseType = ZodPromise.create;\nconst effectsType = ZodEffects.create;\nconst optionalType = ZodOptional.create;\nconst nullableType = ZodNullable.create;\nconst preprocessType = ZodEffects.createWithPreprocess;\nconst pipelineType = ZodPipeline.create;\nconst ostring = () => stringType().optional();\nconst onumber = () => numberType().optional();\nconst oboolean = () => booleanType().optional();\nconst coerce = {\n    string: ((arg) => ZodString.create({ ...arg, coerce: true })),\n    number: ((arg) => ZodNumber.create({ ...arg, coerce: true })),\n    boolean: ((arg) => ZodBoolean.create({\n        ...arg,\n        coerce: true,\n    })),\n    bigint: ((arg) => ZodBigInt.create({ ...arg, coerce: true })),\n    date: ((arg) => ZodDate.create({ ...arg, coerce: true })),\n};\nconst NEVER = INVALID;\n\nvar z = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    defaultErrorMap: errorMap,\n    setErrorMap: setErrorMap,\n    getErrorMap: getErrorMap,\n    makeIssue: makeIssue,\n    EMPTY_PATH: EMPTY_PATH,\n    addIssueToContext: addIssueToContext,\n    ParseStatus: ParseStatus,\n    INVALID: INVALID,\n    DIRTY: DIRTY,\n    OK: OK,\n    isAborted: isAborted,\n    isDirty: isDirty,\n    isValid: isValid,\n    isAsync: isAsync,\n    get util () { return util; },\n    get objectUtil () { return objectUtil; },\n    ZodParsedType: ZodParsedType,\n    getParsedType: getParsedType,\n    ZodType: ZodType,\n    datetimeRegex: datetimeRegex,\n    ZodString: ZodString,\n    ZodNumber: ZodNumber,\n    ZodBigInt: ZodBigInt,\n    ZodBoolean: ZodBoolean,\n    ZodDate: ZodDate,\n    ZodSymbol: ZodSymbol,\n    ZodUndefined: ZodUndefined,\n    ZodNull: ZodNull,\n    ZodAny: ZodAny,\n    ZodUnknown: ZodUnknown,\n    ZodNever: ZodNever,\n    ZodVoid: ZodVoid,\n    ZodArray: ZodArray,\n    ZodObject: ZodObject,\n    ZodUnion: ZodUnion,\n    ZodDiscriminatedUnion: ZodDiscriminatedUnion,\n    ZodIntersection: ZodIntersection,\n    ZodTuple: ZodTuple,\n    ZodRecord: ZodRecord,\n    ZodMap: ZodMap,\n    ZodSet: ZodSet,\n    ZodFunction: ZodFunction,\n    ZodLazy: ZodLazy,\n    ZodLiteral: ZodLiteral,\n    ZodEnum: ZodEnum,\n    ZodNativeEnum: ZodNativeEnum,\n    ZodPromise: ZodPromise,\n    ZodEffects: ZodEffects,\n    ZodTransformer: ZodEffects,\n    ZodOptional: ZodOptional,\n    ZodNullable: ZodNullable,\n    ZodDefault: ZodDefault,\n    ZodCatch: ZodCatch,\n    ZodNaN: ZodNaN,\n    BRAND: BRAND,\n    ZodBranded: ZodBranded,\n    ZodPipeline: ZodPipeline,\n    ZodReadonly: ZodReadonly,\n    custom: custom,\n    Schema: ZodType,\n    ZodSchema: ZodType,\n    late: late,\n    get ZodFirstPartyTypeKind () { return ZodFirstPartyTypeKind; },\n    coerce: coerce,\n    any: anyType,\n    array: arrayType,\n    bigint: bigIntType,\n    boolean: booleanType,\n    date: dateType,\n    discriminatedUnion: discriminatedUnionType,\n    effect: effectsType,\n    'enum': enumType,\n    'function': functionType,\n    'instanceof': instanceOfType,\n    intersection: intersectionType,\n    lazy: lazyType,\n    literal: literalType,\n    map: mapType,\n    nan: nanType,\n    nativeEnum: nativeEnumType,\n    never: neverType,\n    'null': nullType,\n    nullable: nullableType,\n    number: numberType,\n    object: objectType,\n    oboolean: oboolean,\n    onumber: onumber,\n    optional: optionalType,\n    ostring: ostring,\n    pipeline: pipelineType,\n    preprocess: preprocessType,\n    promise: promiseType,\n    record: recordType,\n    set: setType,\n    strictObject: strictObjectType,\n    string: stringType,\n    symbol: symbolType,\n    transformer: effectsType,\n    tuple: tupleType,\n    'undefined': undefinedType,\n    union: unionType,\n    unknown: unknownType,\n    'void': voidType,\n    NEVER: NEVER,\n    ZodIssueCode: ZodIssueCode,\n    quotelessJson: quotelessJson,\n    ZodError: ZodError\n});\n\nexport { BRAND, DIRTY, EMPTY_PATH, INVALID, NEVER, OK, ParseStatus, ZodType as Schema, ZodAny, ZodArray, ZodBigInt, ZodBoolean, ZodBranded, ZodCatch, ZodDate, ZodDefault, ZodDiscriminatedUnion, ZodEffects, ZodEnum, ZodError, ZodFirstPartyTypeKind, ZodFunction, ZodIntersection, ZodIssueCode, ZodLazy, ZodLiteral, ZodMap, ZodNaN, ZodNativeEnum, ZodNever, ZodNull, ZodNullable, ZodNumber, ZodObject, ZodOptional, ZodParsedType, ZodPipeline, ZodPromise, ZodReadonly, ZodRecord, ZodType as ZodSchema, ZodSet, ZodString, ZodSymbol, ZodEffects as ZodTransformer, ZodTuple, ZodType, ZodUndefined, ZodUnion, ZodUnknown, ZodVoid, addIssueToContext, anyType as any, arrayType as array, bigIntType as bigint, booleanType as boolean, coerce, custom, dateType as date, datetimeRegex, z as default, errorMap as defaultErrorMap, discriminatedUnionType as discriminatedUnion, effectsType as effect, enumType as enum, functionType as function, getErrorMap, getParsedType, instanceOfType as instanceof, intersectionType as intersection, isAborted, isAsync, isDirty, isValid, late, lazyType as lazy, literalType as literal, makeIssue, mapType as map, nanType as nan, nativeEnumType as nativeEnum, neverType as never, nullType as null, nullableType as nullable, numberType as number, objectType as object, objectUtil, oboolean, onumber, optionalType as optional, ostring, pipelineType as pipeline, preprocessType as preprocess, promiseType as promise, quotelessJson, recordType as record, setType as set, setErrorMap, strictObjectType as strictObject, stringType as string, symbolType as symbol, effectsType as transformer, tupleType as tuple, undefinedType as undefined, unionType as union, unknownType as unknown, util, voidType as void, z };\n", "import { ZodObject, ZodOptional, ZodSchema } from \"zod\";\nimport type { Endpoint, EndpointOptions } from \"./endpoint\";\n\nexport type OpenAPISchemaType = \"string\" | \"number\" | \"integer\" | \"boolean\" | \"array\" | \"object\";\n\nexport interface OpenAPIParameter {\n\tin: \"query\" | \"path\" | \"header\" | \"cookie\";\n\tname?: string;\n\tdescription?: string;\n\trequired?: boolean;\n\tschema?: {\n\t\ttype: OpenAPISchemaType;\n\t\tformat?: string;\n\t\titems?: {\n\t\t\ttype: OpenAPISchemaType;\n\t\t};\n\t\tenum?: string[];\n\t\tminLength?: number;\n\t\tdescription?: string;\n\t\tdefault?: string;\n\t\texample?: string;\n\t};\n}\n\nexport interface Path {\n\tget?: {\n\t\ttags?: string[];\n\t\toperationId?: string;\n\t\tdescription?: string;\n\t\tsecurity?: [{ bearerAuth: string[] }];\n\t\tparameters?: OpenAPIParameter[];\n\t\tresponses?: {\n\t\t\t[key in string]: {\n\t\t\t\tdescription?: string;\n\t\t\t\tcontent: {\n\t\t\t\t\t\"application/json\": {\n\t\t\t\t\t\tschema: {\n\t\t\t\t\t\t\ttype?: OpenAPISchemaType;\n\t\t\t\t\t\t\tproperties?: Record<string, any>;\n\t\t\t\t\t\t\trequired?: string[];\n\t\t\t\t\t\t\t$ref?: string;\n\t\t\t\t\t\t};\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t};\n\t\t};\n\t};\n\tpost?: {\n\t\ttags?: string[];\n\t\toperationId?: string;\n\t\tdescription?: string;\n\t\tsecurity?: [{ bearerAuth: string[] }];\n\t\tparameters?: OpenAPIParameter[];\n\t\trequestBody?: {\n\t\t\tcontent: {\n\t\t\t\t\"application/json\": {\n\t\t\t\t\tschema: {\n\t\t\t\t\t\ttype?: OpenAPISchemaType;\n\t\t\t\t\t\tproperties?: Record<string, any>;\n\t\t\t\t\t\trequired?: string[];\n\t\t\t\t\t\t$ref?: string;\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t};\n\t\t};\n\t\tresponses?: {\n\t\t\t[key in string]: {\n\t\t\t\tdescription?: string;\n\t\t\t\tcontent: {\n\t\t\t\t\t\"application/json\": {\n\t\t\t\t\t\tschema: {\n\t\t\t\t\t\t\ttype?: OpenAPISchemaType;\n\t\t\t\t\t\t\tproperties?: Record<string, any>;\n\t\t\t\t\t\t\trequired?: string[];\n\t\t\t\t\t\t\t$ref?: string;\n\t\t\t\t\t\t};\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t};\n\t\t};\n\t};\n}\nconst paths: Record<string, Path> = {};\n\nfunction getTypeFromZodType(zodType: ZodSchema) {\n\tswitch (zodType.constructor.name) {\n\t\tcase \"ZodString\":\n\t\t\treturn \"string\";\n\t\tcase \"ZodNumber\":\n\t\t\treturn \"number\";\n\t\tcase \"ZodBoolean\":\n\t\t\treturn \"boolean\";\n\t\tcase \"ZodObject\":\n\t\t\treturn \"object\";\n\t\tcase \"ZodArray\":\n\t\t\treturn \"array\";\n\t\tdefault:\n\t\t\treturn \"string\";\n\t}\n}\n\nfunction getParameters(options: EndpointOptions) {\n\tconst parameters: OpenAPIParameter[] = [];\n\tif (options.metadata?.openapi?.parameters) {\n\t\tparameters.push(...options.metadata.openapi.parameters);\n\t\treturn parameters;\n\t}\n\tif (options.query instanceof ZodObject) {\n\t\tObject.entries(options.query.shape).forEach(([key, value]) => {\n\t\t\tif (value instanceof ZodSchema) {\n\t\t\t\tparameters.push({\n\t\t\t\t\tname: key,\n\t\t\t\t\tin: \"query\",\n\t\t\t\t\tschema: {\n\t\t\t\t\t\ttype: getTypeFromZodType(value),\n\t\t\t\t\t\t...(\"minLength\" in value && value.minLength\n\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\tminLength: value.minLength as number,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t: {}),\n\t\t\t\t\t\tdescription: value.description,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\treturn parameters;\n}\n\nfunction getRequestBody(options: EndpointOptions): any {\n\tif (options.metadata?.openapi?.requestBody) {\n\t\treturn options.metadata.openapi.requestBody;\n\t}\n\tif (!options.body) return undefined;\n\tif (options.body instanceof ZodObject || options.body instanceof ZodOptional) {\n\t\t// @ts-ignore\n\t\tconst shape = options.body.shape;\n\t\tif (!shape) return undefined;\n\t\tconst properties: Record<string, any> = {};\n\t\tconst required: string[] = [];\n\t\tObject.entries(shape).forEach(([key, value]) => {\n\t\t\tif (value instanceof ZodSchema) {\n\t\t\t\tproperties[key] = {\n\t\t\t\t\ttype: getTypeFromZodType(value),\n\t\t\t\t\tdescription: value.description,\n\t\t\t\t};\n\t\t\t\tif (!(value instanceof ZodOptional)) {\n\t\t\t\t\trequired.push(key);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn {\n\t\t\trequired: options.body instanceof ZodOptional ? false : options.body ? true : false,\n\t\t\tcontent: {\n\t\t\t\t\"application/json\": {\n\t\t\t\t\tschema: {\n\t\t\t\t\t\ttype: \"object\",\n\t\t\t\t\t\tproperties,\n\t\t\t\t\t\trequired,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\t}\n\treturn undefined;\n}\n\nfunction getResponse(responses?: Record<string, any>) {\n\treturn {\n\t\t\"400\": {\n\t\t\tcontent: {\n\t\t\t\t\"application/json\": {\n\t\t\t\t\tschema: {\n\t\t\t\t\t\ttype: \"object\",\n\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\tmessage: {\n\t\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\trequired: [\"message\"],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tdescription: \"Bad Request. Usually due to missing parameters, or invalid parameters.\",\n\t\t},\n\t\t\"401\": {\n\t\t\tcontent: {\n\t\t\t\t\"application/json\": {\n\t\t\t\t\tschema: {\n\t\t\t\t\t\ttype: \"object\",\n\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\tmessage: {\n\t\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\trequired: [\"message\"],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tdescription: \"Unauthorized. Due to missing or invalid authentication.\",\n\t\t},\n\t\t\"403\": {\n\t\t\tcontent: {\n\t\t\t\t\"application/json\": {\n\t\t\t\t\tschema: {\n\t\t\t\t\t\ttype: \"object\",\n\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\tmessage: {\n\t\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tdescription:\n\t\t\t\t\"Forbidden. You do not have permission to access this resource or to perform this action.\",\n\t\t},\n\t\t\"404\": {\n\t\t\tcontent: {\n\t\t\t\t\"application/json\": {\n\t\t\t\t\tschema: {\n\t\t\t\t\t\ttype: \"object\",\n\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\tmessage: {\n\t\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tdescription: \"Not Found. The requested resource was not found.\",\n\t\t},\n\t\t\"429\": {\n\t\t\tcontent: {\n\t\t\t\t\"application/json\": {\n\t\t\t\t\tschema: {\n\t\t\t\t\t\ttype: \"object\",\n\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\tmessage: {\n\t\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tdescription: \"Too Many Requests. You have exceeded the rate limit. Try again later.\",\n\t\t},\n\t\t\"500\": {\n\t\t\tcontent: {\n\t\t\t\t\"application/json\": {\n\t\t\t\t\tschema: {\n\t\t\t\t\t\ttype: \"object\",\n\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\tmessage: {\n\t\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tdescription:\n\t\t\t\t\"Internal Server Error. This is a problem with the server that you cannot fix.\",\n\t\t},\n\t\t...responses,\n\t} as any;\n}\n\nexport async function generator(\n\tendpoints: Record<string, Endpoint>,\n\tconfig?: {\n\t\turl: string;\n\t},\n) {\n\tconst components = {\n\t\tschemas: {},\n\t};\n\n\tObject.entries(endpoints).forEach(([_, value]) => {\n\t\tconst options = value.options as EndpointOptions;\n\t\tif (options.metadata?.SERVER_ONLY) return;\n\t\tif (options.method === \"GET\") {\n\t\t\tpaths[value.path] = {\n\t\t\t\tget: {\n\t\t\t\t\ttags: [\"Default\", ...(options.metadata?.openapi?.tags || [])],\n\t\t\t\t\tdescription: options.metadata?.openapi?.description,\n\t\t\t\t\toperationId: options.metadata?.openapi?.operationId,\n\t\t\t\t\tsecurity: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbearerAuth: [],\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t\tparameters: getParameters(options),\n\t\t\t\t\tresponses: getResponse(options.metadata?.openapi?.responses),\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\tif (options.method === \"POST\") {\n\t\t\tconst body = getRequestBody(options);\n\t\t\tpaths[value.path] = {\n\t\t\t\tpost: {\n\t\t\t\t\ttags: [\"Default\", ...(options.metadata?.openapi?.tags || [])],\n\t\t\t\t\tdescription: options.metadata?.openapi?.description,\n\t\t\t\t\toperationId: options.metadata?.openapi?.operationId,\n\t\t\t\t\tsecurity: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbearerAuth: [],\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t\tparameters: getParameters(options),\n\t\t\t\t\t...(body\n\t\t\t\t\t\t? { requestBody: body }\n\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\trequestBody: {\n\t\t\t\t\t\t\t\t\t//set body none\n\t\t\t\t\t\t\t\t\tcontent: {\n\t\t\t\t\t\t\t\t\t\t\"application/json\": {\n\t\t\t\t\t\t\t\t\t\t\tschema: {\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"object\",\n\t\t\t\t\t\t\t\t\t\t\t\tproperties: {},\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t}),\n\t\t\t\t\tresponses: getResponse(options.metadata?.openapi?.responses),\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\t});\n\n\tconst res = {\n\t\topenapi: \"3.1.1\",\n\t\tinfo: {\n\t\t\ttitle: \"Better Auth\",\n\t\t\tdescription: \"API Reference for your Better Auth Instance\",\n\t\t\tversion: \"1.1.0\",\n\t\t},\n\t\tcomponents,\n\t\tsecurity: [\n\t\t\t{\n\t\t\t\tapiKeyCookie: [],\n\t\t\t},\n\t\t],\n\t\tservers: [\n\t\t\t{\n\t\t\t\turl: config?.url,\n\t\t\t},\n\t\t],\n\t\ttags: [\n\t\t\t{\n\t\t\t\tname: \"Default\",\n\t\t\t\tdescription:\n\t\t\t\t\t\"Default endpoints that are included with Better Auth by default. These endpoints are not part of any plugin.\",\n\t\t\t},\n\t\t],\n\t\tpaths,\n\t};\n\treturn res;\n}\n\nexport const getHTML = (\n\tapiReference: Record<string, any>,\n\tconfig?: {\n\t\tlogo?: string;\n\t\ttheme?: string;\n\t\ttitle?: string;\n\t\tdescription?: string;\n\t},\n) => `<!doctype html>\n<html>\n  <head>\n    <title>Scalar API Reference</title>\n    <meta charset=\"utf-8\" />\n    <meta\n      name=\"viewport\"\n      content=\"width=device-width, initial-scale=1\" />\n  </head>\n  <body>\n    <script\n      id=\"api-reference\"\n      type=\"application/json\">\n    ${JSON.stringify(apiReference)}\n    </script>\n\t <script>\n      var configuration = {\n\t  \tfavicon: ${config?.logo ? `data:image/svg+xml;utf8,${encodeURIComponent(config.logo)}` : undefined} ,\n\t   \ttheme: ${config?.theme || \"saturn\"},\n        metaData: {\n\t\t\ttitle: ${config?.title || \"Open API Reference\"},\n\t\t\tdescription: ${config?.description || \"Better Call Open API\"},\n\t\t}\n      }\n      document.getElementById('api-reference').dataset.configuration =\n        JSON.stringify(configuration)\n    </script>\n\t  <script src=\"https://cdn.jsdelivr.net/npm/@scalar/api-reference\"></script>\n  </body>\n</html>`;\n", "import * as z from 'zod/v4';\nimport { createMiddleware, createEndpoint, APIError } from 'better-call';\nimport { g as getDate } from './better-auth.CW6D9eSx.mjs';\nimport { createHash } from '@better-auth/utils/hash';\nimport { base64, base64Url } from '@better-auth/utils/base64';\nimport { signJWT, symmetricEncrypt, symmetricDecrypt } from '../crypto/index.mjs';\nimport { betterFetch } from '@better-fetch/fetch';\nimport { jwtVerify, decodeJwt, decodeProtectedHeader, importJWK, createRemoteJWKSet } from 'jose';\nimport '@noble/ciphers/chacha';\nimport '@noble/ciphers/utils';\nimport '@noble/ciphers/webcrypto';\nimport '@noble/hashes/scrypt';\nimport '@better-auth/utils';\nimport '@better-auth/utils/hex';\nimport '@noble/hashes/utils';\nimport { g as generateRandomString } from './better-auth.B4Qoxdgc.mjs';\nimport { g as getOrigin, b as getHost, c as getProtocol } from './better-auth.VTXNLFMT.mjs';\nimport { deleteSessionCookie, setSessionCookie, setCookieCache } from '../cookies/index.mjs';\nimport { s as safeJSONParse } from './better-auth.tB5eU6EY.mjs';\nimport { createHMAC } from '@better-auth/utils/hmac';\nimport { binary } from '@better-auth/utils/binary';\nimport { JWTExpired } from 'jose/errors';\nimport '@better-auth/utils/random';\nimport { a as logger, g as generateId } from './better-auth.DBGfIDnh.mjs';\nimport { f as parseUserInput } from './better-auth.n2KFGwjY.mjs';\nimport { b as isDevelopment } from './better-auth.8zoxzg-F.mjs';\nimport 'defu';\nimport { B as BetterAuthError } from './better-auth.DdzSJf-n.mjs';\n\nconst optionsMiddleware = createMiddleware(async () => {\n  return {};\n});\nconst createAuthMiddleware = createMiddleware.create({\n  use: [\n    optionsMiddleware,\n    /**\n     * Only use for post hooks\n     */\n    createMiddleware(async () => {\n      return {};\n    })\n  ]\n});\nconst createAuthEndpoint = createEndpoint.create({\n  use: [optionsMiddleware]\n});\n\nfunction escapeRegExpChar(char) {\n  if (char === \"-\" || char === \"^\" || char === \"$\" || char === \"+\" || char === \".\" || char === \"(\" || char === \")\" || char === \"|\" || char === \"[\" || char === \"]\" || char === \"{\" || char === \"}\" || char === \"*\" || char === \"?\" || char === \"\\\\\") {\n    return `\\\\${char}`;\n  } else {\n    return char;\n  }\n}\nfunction escapeRegExpString(str) {\n  let result = \"\";\n  for (let i = 0; i < str.length; i++) {\n    result += escapeRegExpChar(str[i]);\n  }\n  return result;\n}\nfunction transform(pattern, separator = true) {\n  if (Array.isArray(pattern)) {\n    let regExpPatterns = pattern.map((p) => `^${transform(p, separator)}$`);\n    return `(?:${regExpPatterns.join(\"|\")})`;\n  }\n  let separatorSplitter = \"\";\n  let separatorMatcher = \"\";\n  let wildcard = \".\";\n  if (separator === true) {\n    separatorSplitter = \"/\";\n    separatorMatcher = \"[/\\\\\\\\]\";\n    wildcard = \"[^/\\\\\\\\]\";\n  } else if (separator) {\n    separatorSplitter = separator;\n    separatorMatcher = escapeRegExpString(separatorSplitter);\n    if (separatorMatcher.length > 1) {\n      separatorMatcher = `(?:${separatorMatcher})`;\n      wildcard = `((?!${separatorMatcher}).)`;\n    } else {\n      wildcard = `[^${separatorMatcher}]`;\n    }\n  }\n  let requiredSeparator = separator ? `${separatorMatcher}+?` : \"\";\n  let optionalSeparator = separator ? `${separatorMatcher}*?` : \"\";\n  let segments = separator ? pattern.split(separatorSplitter) : [pattern];\n  let result = \"\";\n  for (let s = 0; s < segments.length; s++) {\n    let segment = segments[s];\n    let nextSegment = segments[s + 1];\n    let currentSeparator = \"\";\n    if (!segment && s > 0) {\n      continue;\n    }\n    if (separator) {\n      if (s === segments.length - 1) {\n        currentSeparator = optionalSeparator;\n      } else if (nextSegment !== \"**\") {\n        currentSeparator = requiredSeparator;\n      } else {\n        currentSeparator = \"\";\n      }\n    }\n    if (separator && segment === \"**\") {\n      if (currentSeparator) {\n        result += s === 0 ? \"\" : currentSeparator;\n        result += `(?:${wildcard}*?${currentSeparator})*?`;\n      }\n      continue;\n    }\n    for (let c = 0; c < segment.length; c++) {\n      let char = segment[c];\n      if (char === \"\\\\\") {\n        if (c < segment.length - 1) {\n          result += escapeRegExpChar(segment[c + 1]);\n          c++;\n        }\n      } else if (char === \"?\") {\n        result += wildcard;\n      } else if (char === \"*\") {\n        result += `${wildcard}*?`;\n      } else {\n        result += escapeRegExpChar(char);\n      }\n    }\n    result += currentSeparator;\n  }\n  return result;\n}\nfunction isMatch(regexp, sample) {\n  if (typeof sample !== \"string\") {\n    throw new TypeError(`Sample must be a string, but ${typeof sample} given`);\n  }\n  return regexp.test(sample);\n}\nfunction wildcardMatch(pattern, options) {\n  if (typeof pattern !== \"string\" && !Array.isArray(pattern)) {\n    throw new TypeError(\n      `The first argument must be a single pattern string or an array of patterns, but ${typeof pattern} given`\n    );\n  }\n  if (typeof options === \"string\" || typeof options === \"boolean\") {\n    options = { separator: options };\n  }\n  if (arguments.length === 2 && !(typeof options === \"undefined\" || typeof options === \"object\" && options !== null && !Array.isArray(options))) {\n    throw new TypeError(\n      `The second argument must be an options object or a string/boolean separator, but ${typeof options} given`\n    );\n  }\n  options = options || {};\n  if (options.separator === \"\\\\\") {\n    throw new Error(\n      \"\\\\ is not a valid separator because it is used for escaping. Try setting the separator to `true` instead\"\n    );\n  }\n  let regexpPattern = transform(pattern, options.separator);\n  let regexp = new RegExp(`^${regexpPattern}$`, options.flags);\n  let fn = isMatch.bind(null, regexp);\n  fn.options = options;\n  fn.pattern = pattern;\n  fn.regexp = regexp;\n  return fn;\n}\n\nconst originCheckMiddleware = createAuthMiddleware(async (ctx) => {\n  if (ctx.request?.method !== \"POST\" || !ctx.request) {\n    return;\n  }\n  const { body, query, context } = ctx;\n  const originHeader = ctx.headers?.get(\"origin\") || ctx.headers?.get(\"referer\") || \"\";\n  const callbackURL = body?.callbackURL || query?.callbackURL;\n  const redirectURL = body?.redirectTo;\n  const errorCallbackURL = body?.errorCallbackURL;\n  const newUserCallbackURL = body?.newUserCallbackURL;\n  const trustedOrigins = Array.isArray(context.options.trustedOrigins) ? context.trustedOrigins : [\n    ...context.trustedOrigins,\n    ...await context.options.trustedOrigins?.(ctx.request) || []\n  ];\n  const usesCookies = ctx.headers?.has(\"cookie\");\n  const matchesPattern = (url, pattern) => {\n    if (url.startsWith(\"/\")) {\n      return false;\n    }\n    if (pattern.includes(\"*\")) {\n      if (pattern.includes(\"://\")) {\n        return wildcardMatch(pattern)(getOrigin(url) || url);\n      }\n      return wildcardMatch(pattern)(getHost(url));\n    }\n    const protocol = getProtocol(url);\n    return protocol === \"http:\" || protocol === \"https:\" || !protocol ? pattern === getOrigin(url) : url.startsWith(pattern);\n  };\n  const validateURL = (url, label) => {\n    if (!url) {\n      return;\n    }\n    const isTrustedOrigin = trustedOrigins.some(\n      (origin) => matchesPattern(url, origin) || url?.startsWith(\"/\") && label !== \"origin\" && /^\\/(?!\\/|\\\\|%2f|%5c)[\\w\\-.\\+/@]*(?:\\?[\\w\\-.\\+/=&%@]*)?$/.test(url)\n    );\n    if (!isTrustedOrigin) {\n      ctx.context.logger.error(`Invalid ${label}: ${url}`);\n      ctx.context.logger.info(\n        `If it's a valid URL, please add ${url} to trustedOrigins in your auth config\n`,\n        `Current list of trustedOrigins: ${trustedOrigins}`\n      );\n      throw new APIError(\"FORBIDDEN\", { message: `Invalid ${label}` });\n    }\n  };\n  if (usesCookies && !ctx.context.options.advanced?.disableCSRFCheck) {\n    validateURL(originHeader, \"origin\");\n  }\n  callbackURL && validateURL(callbackURL, \"callbackURL\");\n  redirectURL && validateURL(redirectURL, \"redirectURL\");\n  errorCallbackURL && validateURL(errorCallbackURL, \"errorCallbackURL\");\n  newUserCallbackURL && validateURL(newUserCallbackURL, \"newUserCallbackURL\");\n});\nconst originCheck = (getValue) => createAuthMiddleware(async (ctx) => {\n  if (!ctx.request) {\n    return;\n  }\n  const { context } = ctx;\n  const callbackURL = getValue(ctx);\n  const trustedOrigins = Array.isArray(\n    context.options.trustedOrigins\n  ) ? context.trustedOrigins : [\n    ...context.trustedOrigins,\n    ...await context.options.trustedOrigins?.(ctx.request) || []\n  ];\n  const matchesPattern = (url, pattern) => {\n    if (url.startsWith(\"/\")) {\n      return false;\n    }\n    if (pattern.includes(\"*\")) {\n      if (pattern.includes(\"://\")) {\n        return wildcardMatch(pattern)(getOrigin(url) || url);\n      }\n      return wildcardMatch(pattern)(getHost(url));\n    }\n    const protocol = getProtocol(url);\n    return protocol === \"http:\" || protocol === \"https:\" || !protocol ? pattern === getOrigin(url) : url.startsWith(pattern);\n  };\n  const validateURL = (url, label) => {\n    if (!url) {\n      return;\n    }\n    const isTrustedOrigin = trustedOrigins.some(\n      (origin) => matchesPattern(url, origin) || url?.startsWith(\"/\") && label !== \"origin\" && /^\\/(?!\\/|\\\\|%2f|%5c)[\\w\\-.\\+/@]*(?:\\?[\\w\\-.\\+/=&%@]*)?$/.test(\n        url\n      )\n    );\n    if (!isTrustedOrigin) {\n      ctx.context.logger.error(`Invalid ${label}: ${url}`);\n      ctx.context.logger.info(\n        `If it's a valid URL, please add ${url} to trustedOrigins in your auth config\n`,\n        `Current list of trustedOrigins: ${trustedOrigins}`\n      );\n      throw new APIError(\"FORBIDDEN\", { message: `Invalid ${label}` });\n    }\n  };\n  const callbacks = Array.isArray(callbackURL) ? callbackURL : [callbackURL];\n  for (const url of callbacks) {\n    validateURL(url, \"callbackURL\");\n  }\n});\n\nconst BASE_ERROR_CODES = {\n  USER_NOT_FOUND: \"User not found\",\n  FAILED_TO_CREATE_USER: \"Failed to create user\",\n  FAILED_TO_CREATE_SESSION: \"Failed to create session\",\n  FAILED_TO_UPDATE_USER: \"Failed to update user\",\n  FAILED_TO_GET_SESSION: \"Failed to get session\",\n  INVALID_PASSWORD: \"Invalid password\",\n  INVALID_EMAIL: \"Invalid email\",\n  INVALID_EMAIL_OR_PASSWORD: \"Invalid email or password\",\n  SOCIAL_ACCOUNT_ALREADY_LINKED: \"Social account already linked\",\n  PROVIDER_NOT_FOUND: \"Provider not found\",\n  INVALID_TOKEN: \"invalid token\",\n  ID_TOKEN_NOT_SUPPORTED: \"id_token not supported\",\n  FAILED_TO_GET_USER_INFO: \"Failed to get user info\",\n  USER_EMAIL_NOT_FOUND: \"User email not found\",\n  EMAIL_NOT_VERIFIED: \"Email not verified\",\n  PASSWORD_TOO_SHORT: \"Password too short\",\n  PASSWORD_TOO_LONG: \"Password too long\",\n  USER_ALREADY_EXISTS: \"User already exists\",\n  EMAIL_CAN_NOT_BE_UPDATED: \"Email can not be updated\",\n  CREDENTIAL_ACCOUNT_NOT_FOUND: \"Credential account not found\",\n  SESSION_EXPIRED: \"Session expired. Re-authenticate to perform this action.\",\n  FAILED_TO_UNLINK_LAST_ACCOUNT: \"You can't unlink your last account\",\n  ACCOUNT_NOT_FOUND: \"Account not found\",\n  USER_ALREADY_HAS_PASSWORD: \"User already has a password. Provide that to delete the account.\"\n};\n\nconst getSession = () => createAuthEndpoint(\n  \"/get-session\",\n  {\n    method: \"GET\",\n    query: z.optional(\n      z.object({\n        /**\n         * If cookie cache is enabled, it will disable the cache\n         * and fetch the session from the database\n         */\n        disableCookieCache: z.coerce.boolean().meta({\n          description: \"Disable cookie cache and fetch session from database\"\n        }).optional(),\n        disableRefresh: z.coerce.boolean().meta({\n          description: \"Disable session refresh. Useful for checking session status, without updating the session\"\n        }).optional()\n      })\n    ),\n    requireHeaders: true,\n    metadata: {\n      openapi: {\n        description: \"Get the current session\",\n        responses: {\n          \"200\": {\n            description: \"Success\",\n            content: {\n              \"application/json\": {\n                schema: {\n                  type: \"object\",\n                  properties: {\n                    session: {\n                      $ref: \"#/components/schemas/Session\"\n                    },\n                    user: {\n                      $ref: \"#/components/schemas/User\"\n                    }\n                  },\n                  required: [\"session\", \"user\"]\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  async (ctx) => {\n    try {\n      const sessionCookieToken = await ctx.getSignedCookie(\n        ctx.context.authCookies.sessionToken.name,\n        ctx.context.secret\n      );\n      if (!sessionCookieToken) {\n        return null;\n      }\n      const sessionDataCookie = ctx.getCookie(\n        ctx.context.authCookies.sessionData.name\n      );\n      const sessionDataPayload = sessionDataCookie ? safeJSONParse(binary.decode(base64.decode(sessionDataCookie))) : null;\n      if (sessionDataPayload) {\n        const isValid = await createHMAC(\"SHA-256\", \"base64urlnopad\").verify(\n          ctx.context.secret,\n          JSON.stringify({\n            ...sessionDataPayload.session,\n            expiresAt: sessionDataPayload.expiresAt\n          }),\n          sessionDataPayload.signature\n        );\n        if (!isValid) {\n          const dataCookie = ctx.context.authCookies.sessionData.name;\n          ctx.setCookie(dataCookie, \"\", {\n            maxAge: 0\n          });\n          return ctx.json(null);\n        }\n      }\n      const dontRememberMe = await ctx.getSignedCookie(\n        ctx.context.authCookies.dontRememberToken.name,\n        ctx.context.secret\n      );\n      if (sessionDataPayload?.session && ctx.context.options.session?.cookieCache?.enabled && !ctx.query?.disableCookieCache) {\n        const session2 = sessionDataPayload.session;\n        const hasExpired = sessionDataPayload.expiresAt < Date.now() || session2.session.expiresAt < /* @__PURE__ */ new Date();\n        if (!hasExpired) {\n          return ctx.json(\n            session2\n          );\n        } else {\n          const dataCookie = ctx.context.authCookies.sessionData.name;\n          ctx.setCookie(dataCookie, \"\", {\n            maxAge: 0\n          });\n        }\n      }\n      const session = await ctx.context.internalAdapter.findSession(sessionCookieToken);\n      ctx.context.session = session;\n      if (!session || session.session.expiresAt < /* @__PURE__ */ new Date()) {\n        deleteSessionCookie(ctx);\n        if (session) {\n          await ctx.context.internalAdapter.deleteSession(\n            session.session.token\n          );\n        }\n        return ctx.json(null);\n      }\n      if (dontRememberMe || ctx.query?.disableRefresh) {\n        return ctx.json(\n          session\n        );\n      }\n      const expiresIn = ctx.context.sessionConfig.expiresIn;\n      const updateAge = ctx.context.sessionConfig.updateAge;\n      const sessionIsDueToBeUpdatedDate = session.session.expiresAt.valueOf() - expiresIn * 1e3 + updateAge * 1e3;\n      const shouldBeUpdated = sessionIsDueToBeUpdatedDate <= Date.now();\n      if (shouldBeUpdated && (!ctx.query?.disableRefresh || !ctx.context.options.session?.disableSessionRefresh)) {\n        const updatedSession = await ctx.context.internalAdapter.updateSession(\n          session.session.token,\n          {\n            expiresAt: getDate(ctx.context.sessionConfig.expiresIn, \"sec\"),\n            updatedAt: /* @__PURE__ */ new Date()\n          }\n        );\n        if (!updatedSession) {\n          deleteSessionCookie(ctx);\n          return ctx.json(null, { status: 401 });\n        }\n        const maxAge = (updatedSession.expiresAt.valueOf() - Date.now()) / 1e3;\n        await setSessionCookie(\n          ctx,\n          {\n            session: updatedSession,\n            user: session.user\n          },\n          false,\n          {\n            maxAge\n          }\n        );\n        return ctx.json({\n          session: updatedSession,\n          user: session.user\n        });\n      }\n      await setCookieCache(ctx, session);\n      return ctx.json(\n        session\n      );\n    } catch (error) {\n      ctx.context.logger.error(\"INTERNAL_SERVER_ERROR\", error);\n      throw new APIError(\"INTERNAL_SERVER_ERROR\", {\n        message: BASE_ERROR_CODES.FAILED_TO_GET_SESSION\n      });\n    }\n  }\n);\nconst getSessionFromCtx = async (ctx, config) => {\n  if (ctx.context.session) {\n    return ctx.context.session;\n  }\n  const session = await getSession()({\n    ...ctx,\n    asResponse: false,\n    headers: ctx.headers,\n    returnHeaders: false,\n    query: {\n      ...config,\n      ...ctx.query\n    }\n  }).catch((e) => {\n    return null;\n  });\n  ctx.context.session = session;\n  return session;\n};\nconst sessionMiddleware = createAuthMiddleware(async (ctx) => {\n  const session = await getSessionFromCtx(ctx);\n  if (!session?.session) {\n    throw new APIError(\"UNAUTHORIZED\");\n  }\n  return {\n    session\n  };\n});\nconst requestOnlySessionMiddleware = createAuthMiddleware(\n  async (ctx) => {\n    const session = await getSessionFromCtx(ctx);\n    if (!session?.session && (ctx.request || ctx.headers)) {\n      throw new APIError(\"UNAUTHORIZED\");\n    }\n    return { session };\n  }\n);\nconst freshSessionMiddleware = createAuthMiddleware(async (ctx) => {\n  const session = await getSessionFromCtx(ctx);\n  if (!session?.session) {\n    throw new APIError(\"UNAUTHORIZED\");\n  }\n  if (ctx.context.sessionConfig.freshAge === 0) {\n    return {\n      session\n    };\n  }\n  const freshAge = ctx.context.sessionConfig.freshAge;\n  const lastUpdated = session.session.updatedAt?.valueOf() || session.session.createdAt.valueOf();\n  const now = Date.now();\n  const isFresh = now - lastUpdated < freshAge * 1e3;\n  if (!isFresh) {\n    throw new APIError(\"FORBIDDEN\", {\n      message: \"Session is not fresh\"\n    });\n  }\n  return {\n    session\n  };\n});\nconst listSessions = () => createAuthEndpoint(\n  \"/list-sessions\",\n  {\n    method: \"GET\",\n    use: [sessionMiddleware],\n    requireHeaders: true,\n    metadata: {\n      openapi: {\n        description: \"List all active sessions for the user\",\n        responses: {\n          \"200\": {\n            description: \"Success\",\n            content: {\n              \"application/json\": {\n                schema: {\n                  type: \"array\",\n                  items: {\n                    $ref: \"#/components/schemas/Session\"\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  async (ctx) => {\n    try {\n      const sessions = await ctx.context.internalAdapter.listSessions(\n        ctx.context.session.user.id\n      );\n      const activeSessions = sessions.filter((session) => {\n        return session.expiresAt > /* @__PURE__ */ new Date();\n      });\n      return ctx.json(\n        activeSessions\n      );\n    } catch (e) {\n      ctx.context.logger.error(e);\n      throw ctx.error(\"INTERNAL_SERVER_ERROR\");\n    }\n  }\n);\nconst revokeSession = createAuthEndpoint(\n  \"/revoke-session\",\n  {\n    method: \"POST\",\n    body: z.object({\n      token: z.string().meta({\n        description: \"The token to revoke\"\n      })\n    }),\n    use: [sessionMiddleware],\n    requireHeaders: true,\n    metadata: {\n      openapi: {\n        description: \"Revoke a single session\",\n        requestBody: {\n          content: {\n            \"application/json\": {\n              schema: {\n                type: \"object\",\n                properties: {\n                  token: {\n                    type: \"string\",\n                    description: \"The token to revoke\"\n                  }\n                },\n                required: [\"token\"]\n              }\n            }\n          }\n        },\n        responses: {\n          \"200\": {\n            description: \"Success\",\n            content: {\n              \"application/json\": {\n                schema: {\n                  type: \"object\",\n                  properties: {\n                    status: {\n                      type: \"boolean\",\n                      description: \"Indicates if the session was revoked successfully\"\n                    }\n                  },\n                  required: [\"status\"]\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  async (ctx) => {\n    const token = ctx.body.token;\n    const findSession = await ctx.context.internalAdapter.findSession(token);\n    if (!findSession) {\n      throw new APIError(\"BAD_REQUEST\", {\n        message: \"Session not found\"\n      });\n    }\n    if (findSession.session.userId !== ctx.context.session.user.id) {\n      throw new APIError(\"UNAUTHORIZED\");\n    }\n    try {\n      await ctx.context.internalAdapter.deleteSession(token);\n    } catch (error) {\n      ctx.context.logger.error(\n        error && typeof error === \"object\" && \"name\" in error ? error.name : \"\",\n        error\n      );\n      throw new APIError(\"INTERNAL_SERVER_ERROR\");\n    }\n    return ctx.json({\n      status: true\n    });\n  }\n);\nconst revokeSessions = createAuthEndpoint(\n  \"/revoke-sessions\",\n  {\n    method: \"POST\",\n    use: [sessionMiddleware],\n    requireHeaders: true,\n    metadata: {\n      openapi: {\n        description: \"Revoke all sessions for the user\",\n        responses: {\n          \"200\": {\n            description: \"Success\",\n            content: {\n              \"application/json\": {\n                schema: {\n                  type: \"object\",\n                  properties: {\n                    status: {\n                      type: \"boolean\",\n                      description: \"Indicates if all sessions were revoked successfully\"\n                    }\n                  },\n                  required: [\"status\"]\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  async (ctx) => {\n    try {\n      await ctx.context.internalAdapter.deleteSessions(\n        ctx.context.session.user.id\n      );\n    } catch (error) {\n      ctx.context.logger.error(\n        error && typeof error === \"object\" && \"name\" in error ? error.name : \"\",\n        error\n      );\n      throw new APIError(\"INTERNAL_SERVER_ERROR\");\n    }\n    return ctx.json({\n      status: true\n    });\n  }\n);\nconst revokeOtherSessions = createAuthEndpoint(\n  \"/revoke-other-sessions\",\n  {\n    method: \"POST\",\n    requireHeaders: true,\n    use: [sessionMiddleware],\n    metadata: {\n      openapi: {\n        description: \"Revoke all other sessions for the user except the current one\",\n        responses: {\n          \"200\": {\n            description: \"Success\",\n            content: {\n              \"application/json\": {\n                schema: {\n                  type: \"object\",\n                  properties: {\n                    status: {\n                      type: \"boolean\",\n                      description: \"Indicates if all other sessions were revoked successfully\"\n                    }\n                  },\n                  required: [\"status\"]\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  async (ctx) => {\n    const session = ctx.context.session;\n    if (!session.user) {\n      throw new APIError(\"UNAUTHORIZED\");\n    }\n    const sessions = await ctx.context.internalAdapter.listSessions(\n      session.user.id\n    );\n    const activeSessions = sessions.filter((session2) => {\n      return session2.expiresAt > /* @__PURE__ */ new Date();\n    });\n    const otherSessions = activeSessions.filter(\n      (session2) => session2.token !== ctx.context.session.session.token\n    );\n    await Promise.all(\n      otherSessions.map(\n        (session2) => ctx.context.internalAdapter.deleteSession(session2.token)\n      )\n    );\n    return ctx.json({\n      status: true\n    });\n  }\n);\n\nasync function createEmailVerificationToken(secret, email, updateTo, expiresIn = 3600) {\n  const token = await signJWT(\n    {\n      email: email.toLowerCase(),\n      updateTo\n    },\n    secret,\n    expiresIn\n  );\n  return token;\n}\nasync function sendVerificationEmailFn(ctx, user) {\n  if (!ctx.context.options.emailVerification?.sendVerificationEmail) {\n    ctx.context.logger.error(\"Verification email isn't enabled.\");\n    throw new APIError(\"BAD_REQUEST\", {\n      message: \"Verification email isn't enabled\"\n    });\n  }\n  const token = await createEmailVerificationToken(\n    ctx.context.secret,\n    user.email,\n    void 0,\n    ctx.context.options.emailVerification?.expiresIn\n  );\n  const url = `${ctx.context.baseURL}/verify-email?token=${token}&callbackURL=${ctx.body.callbackURL || \"/\"}`;\n  await ctx.context.options.emailVerification.sendVerificationEmail(\n    {\n      user,\n      url,\n      token\n    },\n    ctx.request\n  );\n}\nconst sendVerificationEmail = createAuthEndpoint(\n  \"/send-verification-email\",\n  {\n    method: \"POST\",\n    body: z.object({\n      email: z.email().meta({\n        description: \"The email to send the verification email to\"\n      }),\n      callbackURL: z.string().meta({\n        description: \"The URL to use for email verification callback\"\n      }).optional()\n    }),\n    metadata: {\n      openapi: {\n        description: \"Send a verification email to the user\",\n        requestBody: {\n          content: {\n            \"application/json\": {\n              schema: {\n                type: \"object\",\n                properties: {\n                  email: {\n                    type: \"string\",\n                    description: \"The email to send the verification email to\",\n                    example: \"user@example.com\"\n                  },\n                  callbackURL: {\n                    type: \"string\",\n                    description: \"The URL to use for email verification callback\",\n                    example: \"https://example.com/callback\",\n                    nullable: true\n                  }\n                },\n                required: [\"email\"]\n              }\n            }\n          }\n        },\n        responses: {\n          \"200\": {\n            description: \"Success\",\n            content: {\n              \"application/json\": {\n                schema: {\n                  type: \"object\",\n                  properties: {\n                    status: {\n                      type: \"boolean\",\n                      description: \"Indicates if the email was sent successfully\",\n                      example: true\n                    }\n                  }\n                }\n              }\n            }\n          },\n          \"400\": {\n            description: \"Bad Request\",\n            content: {\n              \"application/json\": {\n                schema: {\n                  type: \"object\",\n                  properties: {\n                    message: {\n                      type: \"string\",\n                      description: \"Error message\",\n                      example: \"Verification email isn't enabled\"\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  async (ctx) => {\n    if (!ctx.context.options.emailVerification?.sendVerificationEmail) {\n      ctx.context.logger.error(\"Verification email isn't enabled.\");\n      throw new APIError(\"BAD_REQUEST\", {\n        message: \"Verification email isn't enabled\"\n      });\n    }\n    const { email } = ctx.body;\n    const session = await getSessionFromCtx(ctx);\n    if (!session) {\n      const user = await ctx.context.internalAdapter.findUserByEmail(email);\n      if (!user) {\n        return ctx.json({\n          status: true\n        });\n      }\n      await sendVerificationEmailFn(ctx, user.user);\n      return ctx.json({\n        status: true\n      });\n    }\n    if (session?.user.emailVerified) {\n      throw new APIError(\"BAD_REQUEST\", {\n        message: \"You can only send a verification email to an unverified email\"\n      });\n    }\n    if (session?.user.email !== email) {\n      throw new APIError(\"BAD_REQUEST\", {\n        message: \"You can only send a verification email to your own email\"\n      });\n    }\n    await sendVerificationEmailFn(ctx, session.user);\n    return ctx.json({\n      status: true\n    });\n  }\n);\nconst verifyEmail = createAuthEndpoint(\n  \"/verify-email\",\n  {\n    method: \"GET\",\n    query: z.object({\n      token: z.string().meta({\n        description: \"The token to verify the email\"\n      }),\n      callbackURL: z.string().meta({\n        description: \"The URL to redirect to after email verification\"\n      }).optional()\n    }),\n    use: [originCheck((ctx) => ctx.query.callbackURL)],\n    metadata: {\n      openapi: {\n        description: \"Verify the email of the user\",\n        parameters: [\n          {\n            name: \"token\",\n            in: \"query\",\n            description: \"The token to verify the email\",\n            required: true,\n            schema: {\n              type: \"string\"\n            }\n          },\n          {\n            name: \"callbackURL\",\n            in: \"query\",\n            description: \"The URL to redirect to after email verification\",\n            required: false,\n            schema: {\n              type: \"string\"\n            }\n          }\n        ],\n        responses: {\n          \"200\": {\n            description: \"Success\",\n            content: {\n              \"application/json\": {\n                schema: {\n                  type: \"object\",\n                  properties: {\n                    user: {\n                      type: \"object\",\n                      properties: {\n                        id: {\n                          type: \"string\",\n                          description: \"User ID\"\n                        },\n                        email: {\n                          type: \"string\",\n                          description: \"User email\"\n                        },\n                        name: {\n                          type: \"string\",\n                          description: \"User name\"\n                        },\n                        image: {\n                          type: \"string\",\n                          description: \"User image URL\"\n                        },\n                        emailVerified: {\n                          type: \"boolean\",\n                          description: \"Indicates if the user email is verified\"\n                        },\n                        createdAt: {\n                          type: \"string\",\n                          description: \"User creation date\"\n                        },\n                        updatedAt: {\n                          type: \"string\",\n                          description: \"User update date\"\n                        }\n                      },\n                      required: [\n                        \"id\",\n                        \"email\",\n                        \"name\",\n                        \"image\",\n                        \"emailVerified\",\n                        \"createdAt\",\n                        \"updatedAt\"\n                      ]\n                    },\n                    status: {\n                      type: \"boolean\",\n                      description: \"Indicates if the email was verified successfully\"\n                    }\n                  },\n                  required: [\"user\", \"status\"]\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  async (ctx) => {\n    function redirectOnError(error) {\n      if (ctx.query.callbackURL) {\n        if (ctx.query.callbackURL.includes(\"?\")) {\n          throw ctx.redirect(`${ctx.query.callbackURL}&error=${error}`);\n        }\n        throw ctx.redirect(`${ctx.query.callbackURL}?error=${error}`);\n      }\n      throw new APIError(\"UNAUTHORIZED\", {\n        message: error\n      });\n    }\n    const { token } = ctx.query;\n    let jwt;\n    try {\n      jwt = await jwtVerify(\n        token,\n        new TextEncoder().encode(ctx.context.secret),\n        {\n          algorithms: [\"HS256\"]\n        }\n      );\n    } catch (e) {\n      if (e instanceof JWTExpired) {\n        return redirectOnError(\"token_expired\");\n      }\n      return redirectOnError(\"invalid_token\");\n    }\n    const schema = z.object({\n      email: z.string().email(),\n      updateTo: z.string().optional()\n    });\n    const parsed = schema.parse(jwt.payload);\n    const user = await ctx.context.internalAdapter.findUserByEmail(\n      parsed.email\n    );\n    if (!user) {\n      return redirectOnError(\"user_not_found\");\n    }\n    if (parsed.updateTo) {\n      const session = await getSessionFromCtx(ctx);\n      if (!session) {\n        if (ctx.query.callbackURL) {\n          throw ctx.redirect(`${ctx.query.callbackURL}?error=unauthorized`);\n        }\n        return redirectOnError(\"unauthorized\");\n      }\n      if (session.user.email !== parsed.email) {\n        if (ctx.query.callbackURL) {\n          throw ctx.redirect(`${ctx.query.callbackURL}?error=unauthorized`);\n        }\n        return redirectOnError(\"unauthorized\");\n      }\n      const updatedUser2 = await ctx.context.internalAdapter.updateUserByEmail(\n        parsed.email,\n        {\n          email: parsed.updateTo,\n          emailVerified: false\n        },\n        ctx\n      );\n      const newToken = await createEmailVerificationToken(\n        ctx.context.secret,\n        parsed.updateTo\n      );\n      await ctx.context.options.emailVerification?.sendVerificationEmail?.(\n        {\n          user: updatedUser2,\n          url: `${ctx.context.baseURL}/verify-email?token=${newToken}&callbackURL=${ctx.query.callbackURL || \"/\"}`,\n          token: newToken\n        },\n        ctx.request\n      );\n      await setSessionCookie(ctx, {\n        session: session.session,\n        user: {\n          ...session.user,\n          email: parsed.updateTo,\n          emailVerified: false\n        }\n      });\n      if (ctx.query.callbackURL) {\n        throw ctx.redirect(ctx.query.callbackURL);\n      }\n      return ctx.json({\n        status: true,\n        user: {\n          id: updatedUser2.id,\n          email: updatedUser2.email,\n          name: updatedUser2.name,\n          image: updatedUser2.image,\n          emailVerified: updatedUser2.emailVerified,\n          createdAt: updatedUser2.createdAt,\n          updatedAt: updatedUser2.updatedAt\n        }\n      });\n    }\n    if (ctx.context.options.emailVerification?.onEmailVerification) {\n      await ctx.context.options.emailVerification.onEmailVerification(\n        user.user,\n        ctx.request\n      );\n    }\n    const updatedUser = await ctx.context.internalAdapter.updateUserByEmail(\n      parsed.email,\n      {\n        emailVerified: true\n      },\n      ctx\n    );\n    if (ctx.context.options.emailVerification?.afterEmailVerification) {\n      await ctx.context.options.emailVerification.afterEmailVerification(\n        updatedUser,\n        ctx.request\n      );\n    }\n    if (ctx.context.options.emailVerification?.autoSignInAfterVerification) {\n      const currentSession = await getSessionFromCtx(ctx);\n      if (!currentSession || currentSession.user.email !== parsed.email) {\n        const session = await ctx.context.internalAdapter.createSession(\n          user.user.id,\n          ctx\n        );\n        if (!session) {\n          throw new APIError(\"INTERNAL_SERVER_ERROR\", {\n            message: \"Failed to create session\"\n          });\n        }\n        await setSessionCookie(ctx, {\n          session,\n          user: {\n            ...user.user,\n            emailVerified: true\n          }\n        });\n      } else {\n        await setSessionCookie(ctx, {\n          session: currentSession.session,\n          user: {\n            ...currentSession.user,\n            emailVerified: true\n          }\n        });\n      }\n    }\n    if (ctx.query.callbackURL) {\n      throw ctx.redirect(ctx.query.callbackURL);\n    }\n    return ctx.json({\n      status: true,\n      user: null\n    });\n  }\n);\n\nconst HIDE_METADATA = {\n  isAction: false\n};\n\nasync function generateState(c, link) {\n  const callbackURL = c.body?.callbackURL || c.context.options.baseURL;\n  if (!callbackURL) {\n    throw new APIError(\"BAD_REQUEST\", {\n      message: \"callbackURL is required\"\n    });\n  }\n  const codeVerifier = generateRandomString(128);\n  const state = generateRandomString(32);\n  const data = JSON.stringify({\n    callbackURL,\n    codeVerifier,\n    errorURL: c.body?.errorCallbackURL,\n    newUserURL: c.body?.newUserCallbackURL,\n    link,\n    /**\n     * This is the actual expiry time of the state\n     */\n    expiresAt: Date.now() + 10 * 60 * 1e3,\n    requestSignUp: c.body?.requestSignUp\n  });\n  const expiresAt = /* @__PURE__ */ new Date();\n  expiresAt.setMinutes(expiresAt.getMinutes() + 10);\n  const verification = await c.context.internalAdapter.createVerificationValue(\n    {\n      value: data,\n      identifier: state,\n      expiresAt\n    },\n    c\n  );\n  if (!verification) {\n    c.context.logger.error(\n      \"Unable to create verification. Make sure the database adapter is properly working and there is a verification table in the database\"\n    );\n    throw new APIError(\"INTERNAL_SERVER_ERROR\", {\n      message: \"Unable to create verification\"\n    });\n  }\n  return {\n    state: verification.identifier,\n    codeVerifier\n  };\n}\nasync function parseState(c) {\n  const state = c.query.state || c.body.state;\n  const data = await c.context.internalAdapter.findVerificationValue(state);\n  if (!data) {\n    c.context.logger.error(\"State Mismatch. Verification not found\", {\n      state\n    });\n    const errorURL = c.context.options.onAPIError?.errorURL || `${c.context.baseURL}/error`;\n    throw c.redirect(`${errorURL}?error=please_restart_the_process`);\n  }\n  const parsedData = z.object({\n    callbackURL: z.string(),\n    codeVerifier: z.string(),\n    errorURL: z.string().optional(),\n    newUserURL: z.string().optional(),\n    expiresAt: z.number(),\n    link: z.object({\n      email: z.string(),\n      userId: z.coerce.string()\n    }).optional(),\n    requestSignUp: z.boolean().optional()\n  }).parse(JSON.parse(data.value));\n  if (!parsedData.errorURL) {\n    parsedData.errorURL = `${c.context.baseURL}/error`;\n  }\n  if (parsedData.expiresAt < Date.now()) {\n    await c.context.internalAdapter.deleteVerificationValue(data.id);\n    const errorURL = c.context.options.onAPIError?.errorURL || `${c.context.baseURL}/error`;\n    throw c.redirect(`${errorURL}?error=please_restart_the_process`);\n  }\n  await c.context.internalAdapter.deleteVerificationValue(data.id);\n  return parsedData;\n}\n\nasync function generateCodeChallenge(codeVerifier) {\n  const codeChallengeBytes = await createHash(\"SHA-256\").digest(codeVerifier);\n  return base64Url.encode(new Uint8Array(codeChallengeBytes), {\n    padding: false\n  });\n}\nfunction getOAuth2Tokens(data) {\n  return {\n    tokenType: data.token_type,\n    accessToken: data.access_token,\n    refreshToken: data.refresh_token,\n    accessTokenExpiresAt: data.expires_in ? getDate(data.expires_in, \"sec\") : void 0,\n    refreshTokenExpiresAt: data.refresh_token_expires_in ? getDate(data.refresh_token_expires_in, \"sec\") : void 0,\n    scopes: data?.scope ? typeof data.scope === \"string\" ? data.scope.split(\" \") : data.scope : [],\n    idToken: data.id_token\n  };\n}\nconst encodeOAuthParameter = (value) => encodeURIComponent(value).replace(/%20/g, \"+\");\nfunction getAccessTokenUtil(token, ctx) {\n  if (ctx.options.account?.encryptOAuthTokens) {\n    return symmetricDecrypt({\n      key: ctx.secret,\n      data: token\n    });\n  }\n  return token;\n}\nfunction setTokenUtil(token, ctx) {\n  if (ctx.options.account?.encryptOAuthTokens && token) {\n    return symmetricEncrypt({\n      key: ctx.secret,\n      data: token\n    });\n  }\n  return token ?? null;\n}\n\nasync function handleOAuthUserInfo(c, {\n  userInfo,\n  account,\n  callbackURL,\n  disableSignUp,\n  overrideUserInfo\n}) {\n  const dbUser = await c.context.internalAdapter.findOAuthUser(\n    userInfo.email.toLowerCase(),\n    account.accountId,\n    account.providerId\n  ).catch((e) => {\n    logger.error(\n      \"Better auth was unable to query your database.\\nError: \",\n      e\n    );\n    const errorURL = c.context.options.onAPIError?.errorURL || `${c.context.baseURL}/error`;\n    throw c.redirect(`${errorURL}?error=internal_server_error`);\n  });\n  let user = dbUser?.user;\n  let isRegister = !user;\n  if (dbUser) {\n    const hasBeenLinked = dbUser.accounts.find(\n      (a) => a.providerId === account.providerId && a.accountId === account.accountId\n    );\n    if (!hasBeenLinked) {\n      const trustedProviders = c.context.options.account?.accountLinking?.trustedProviders;\n      const isTrustedProvider = trustedProviders?.includes(\n        account.providerId\n      );\n      if (!isTrustedProvider && !userInfo.emailVerified || c.context.options.account?.accountLinking?.enabled === false) {\n        if (isDevelopment) {\n          logger.warn(\n            `User already exist but account isn't linked to ${account.providerId}. To read more about how account linking works in Better Auth see https://www.better-auth.com/docs/concepts/users-accounts#account-linking.`\n          );\n        }\n        return {\n          error: \"account not linked\",\n          data: null\n        };\n      }\n      try {\n        await c.context.internalAdapter.linkAccount(\n          {\n            providerId: account.providerId,\n            accountId: userInfo.id.toString(),\n            userId: dbUser.user.id,\n            accessToken: await setTokenUtil(account.accessToken, c.context),\n            refreshToken: await setTokenUtil(account.refreshToken, c.context),\n            idToken: account.idToken,\n            accessTokenExpiresAt: account.accessTokenExpiresAt,\n            refreshTokenExpiresAt: account.refreshTokenExpiresAt,\n            scope: account.scope\n          },\n          c\n        );\n      } catch (e) {\n        logger.error(\"Unable to link account\", e);\n        return {\n          error: \"unable to link account\",\n          data: null\n        };\n      }\n    } else {\n      if (c.context.options.account?.updateAccountOnSignIn !== false) {\n        const updateData = Object.fromEntries(\n          Object.entries({\n            idToken: account.idToken,\n            accessToken: await setTokenUtil(account.accessToken, c.context),\n            refreshToken: await setTokenUtil(account.refreshToken, c.context),\n            accessTokenExpiresAt: account.accessTokenExpiresAt,\n            refreshTokenExpiresAt: account.refreshTokenExpiresAt,\n            scope: account.scope\n          }).filter(([_, value]) => value !== void 0)\n        );\n        if (Object.keys(updateData).length > 0) {\n          await c.context.internalAdapter.updateAccount(\n            hasBeenLinked.id,\n            updateData,\n            c\n          );\n        }\n      }\n    }\n    if (overrideUserInfo) {\n      const { id: _, ...restUserInfo } = userInfo;\n      await c.context.internalAdapter.updateUser(dbUser.user.id, {\n        ...restUserInfo,\n        email: userInfo.email.toLowerCase(),\n        emailVerified: userInfo.email.toLowerCase() === dbUser.user.email ? dbUser.user.emailVerified || userInfo.emailVerified : userInfo.emailVerified\n      });\n    }\n  } else {\n    if (disableSignUp) {\n      return {\n        error: \"signup disabled\",\n        data: null,\n        isRegister: false\n      };\n    }\n    try {\n      const { id: _, ...restUserInfo } = userInfo;\n      user = await c.context.internalAdapter.createOAuthUser(\n        {\n          ...restUserInfo,\n          email: userInfo.email.toLowerCase()\n        },\n        {\n          accessToken: await setTokenUtil(account.accessToken, c.context),\n          refreshToken: await setTokenUtil(account.refreshToken, c.context),\n          idToken: account.idToken,\n          accessTokenExpiresAt: account.accessTokenExpiresAt,\n          refreshTokenExpiresAt: account.refreshTokenExpiresAt,\n          scope: account.scope,\n          providerId: account.providerId,\n          accountId: userInfo.id.toString()\n        },\n        c\n      ).then((res) => res?.user);\n      if (!userInfo.emailVerified && user && c.context.options.emailVerification?.sendOnSignUp) {\n        const token = await createEmailVerificationToken(\n          c.context.secret,\n          user.email,\n          void 0,\n          c.context.options.emailVerification?.expiresIn\n        );\n        const url = `${c.context.baseURL}/verify-email?token=${token}&callbackURL=${callbackURL}`;\n        await c.context.options.emailVerification?.sendVerificationEmail?.(\n          {\n            user,\n            url,\n            token\n          },\n          c.request\n        );\n      }\n    } catch (e) {\n      logger.error(e);\n      if (e instanceof APIError) {\n        return {\n          error: e.message,\n          data: null,\n          isRegister: false\n        };\n      }\n      return {\n        error: \"unable to create user\",\n        data: null,\n        isRegister: false\n      };\n    }\n  }\n  if (!user) {\n    return {\n      error: \"unable to create user\",\n      data: null,\n      isRegister: false\n    };\n  }\n  const session = await c.context.internalAdapter.createSession(user.id, c);\n  if (!session) {\n    return {\n      error: \"unable to create session\",\n      data: null,\n      isRegister: false\n    };\n  }\n  return {\n    data: {\n      session,\n      user\n    },\n    error: null,\n    isRegister\n  };\n}\n\nasync function createAuthorizationURL({\n  id,\n  options,\n  authorizationEndpoint,\n  state,\n  codeVerifier,\n  scopes,\n  claims,\n  redirectURI,\n  duration,\n  prompt,\n  accessType,\n  responseType,\n  display,\n  loginHint,\n  hd,\n  responseMode,\n  additionalParams,\n  scopeJoiner\n}) {\n  const url = new URL(authorizationEndpoint);\n  url.searchParams.set(\"response_type\", responseType || \"code\");\n  url.searchParams.set(\"client_id\", options.clientId);\n  url.searchParams.set(\"state\", state);\n  url.searchParams.set(\"scope\", scopes.join(scopeJoiner || \" \"));\n  url.searchParams.set(\"redirect_uri\", options.redirectURI || redirectURI);\n  duration && url.searchParams.set(\"duration\", duration);\n  display && url.searchParams.set(\"display\", display);\n  loginHint && url.searchParams.set(\"login_hint\", loginHint);\n  prompt && url.searchParams.set(\"prompt\", prompt);\n  hd && url.searchParams.set(\"hd\", hd);\n  accessType && url.searchParams.set(\"access_type\", accessType);\n  responseMode && url.searchParams.set(\"response_mode\", responseMode);\n  if (codeVerifier) {\n    const codeChallenge = await generateCodeChallenge(codeVerifier);\n    url.searchParams.set(\"code_challenge_method\", \"S256\");\n    url.searchParams.set(\"code_challenge\", codeChallenge);\n  }\n  if (claims) {\n    const claimsObj = claims.reduce(\n      (acc, claim) => {\n        acc[claim] = null;\n        return acc;\n      },\n      {}\n    );\n    url.searchParams.set(\n      \"claims\",\n      JSON.stringify({\n        id_token: { email: null, email_verified: null, ...claimsObj }\n      })\n    );\n  }\n  if (additionalParams) {\n    Object.entries(additionalParams).forEach(([key, value]) => {\n      url.searchParams.set(key, value);\n    });\n  }\n  return url;\n}\n\nasync function validateAuthorizationCode({\n  code,\n  codeVerifier,\n  redirectURI,\n  options,\n  tokenEndpoint,\n  authentication,\n  deviceId,\n  headers,\n  additionalParams = {}\n}) {\n  const body = new URLSearchParams();\n  const requestHeaders = {\n    \"content-type\": \"application/x-www-form-urlencoded\",\n    accept: \"application/json\",\n    \"user-agent\": \"better-auth\",\n    ...headers\n  };\n  body.set(\"grant_type\", \"authorization_code\");\n  body.set(\"code\", code);\n  codeVerifier && body.set(\"code_verifier\", codeVerifier);\n  options.clientKey && body.set(\"client_key\", options.clientKey);\n  deviceId && body.set(\"device_id\", deviceId);\n  body.set(\"redirect_uri\", options.redirectURI || redirectURI);\n  body.set(\"client_id\", options.clientId);\n  if (authentication === \"basic\") {\n    const encodedCredentials = base64.encode(\n      `${options.clientId}:${options.clientSecret}`\n    );\n    requestHeaders[\"authorization\"] = `Basic ${encodedCredentials}`;\n  } else {\n    body.set(\"client_secret\", options.clientSecret);\n  }\n  for (const [key, value] of Object.entries(additionalParams)) {\n    if (!body.has(key)) body.append(key, value);\n  }\n  const { data, error } = await betterFetch(tokenEndpoint, {\n    method: \"POST\",\n    body,\n    headers: requestHeaders\n  });\n  if (error) {\n    throw error;\n  }\n  const tokens = getOAuth2Tokens(data);\n  return tokens;\n}\nasync function validateToken(token, jwksEndpoint) {\n  const { data, error } = await betterFetch(jwksEndpoint, {\n    method: \"GET\",\n    headers: {\n      accept: \"application/json\",\n      \"user-agent\": \"better-auth\"\n    }\n  });\n  if (error) {\n    throw error;\n  }\n  const keys = data[\"keys\"];\n  const header = JSON.parse(atob(token.split(\".\")[0]));\n  const key = keys.find((key2) => key2.kid === header.kid);\n  if (!key) {\n    throw new Error(\"Key not found\");\n  }\n  const verified = await jwtVerify(token, key);\n  return verified;\n}\n\nasync function refreshAccessToken({\n  refreshToken,\n  options,\n  tokenEndpoint,\n  authentication,\n  extraParams,\n  grantType = \"refresh_token\"\n}) {\n  const body = new URLSearchParams();\n  const headers = {\n    \"content-type\": \"application/x-www-form-urlencoded\",\n    accept: \"application/json\"\n  };\n  body.set(\"grant_type\", grantType);\n  body.set(\"refresh_token\", refreshToken);\n  if (authentication === \"basic\") {\n    headers[\"authorization\"] = base64.encode(\n      `${options.clientId}:${options.clientSecret}`\n    );\n  } else {\n    body.set(\"client_id\", options.clientId);\n    body.set(\"client_secret\", options.clientSecret);\n  }\n  if (extraParams) {\n    for (const [key, value] of Object.entries(extraParams)) {\n      body.set(key, value);\n    }\n  }\n  const { data, error } = await betterFetch(tokenEndpoint, {\n    method: \"POST\",\n    body,\n    headers\n  });\n  if (error) {\n    throw error;\n  }\n  const tokens = {\n    accessToken: data.access_token,\n    refreshToken: data.refresh_token,\n    tokenType: data.token_type,\n    scopes: data.scope?.split(\" \"),\n    idToken: data.id_token\n  };\n  if (data.expires_in) {\n    const now = /* @__PURE__ */ new Date();\n    tokens.accessTokenExpiresAt = new Date(\n      now.getTime() + data.expires_in * 1e3\n    );\n  }\n  return tokens;\n}\n\nconst apple = (options) => {\n  const tokenEndpoint = \"https://appleid.apple.com/auth/token\";\n  return {\n    id: \"apple\",\n    name: \"Apple\",\n    async createAuthorizationURL({ state, scopes, redirectURI }) {\n      const _scope = options.disableDefaultScope ? [] : [\"email\", \"name\"];\n      options.scope && _scope.push(...options.scope);\n      scopes && _scope.push(...scopes);\n      const url = await createAuthorizationURL({\n        id: \"apple\",\n        options,\n        authorizationEndpoint: \"https://appleid.apple.com/auth/authorize\",\n        scopes: _scope,\n        state,\n        redirectURI,\n        responseMode: \"form_post\",\n        responseType: \"code id_token\"\n      });\n      return url;\n    },\n    validateAuthorizationCode: async ({ code, codeVerifier, redirectURI }) => {\n      return validateAuthorizationCode({\n        code,\n        codeVerifier,\n        redirectURI,\n        options,\n        tokenEndpoint\n      });\n    },\n    async verifyIdToken(token, nonce) {\n      if (options.disableIdTokenSignIn) {\n        return false;\n      }\n      if (options.verifyIdToken) {\n        return options.verifyIdToken(token, nonce);\n      }\n      const decodedHeader = decodeProtectedHeader(token);\n      const { kid, alg: jwtAlg } = decodedHeader;\n      if (!kid || !jwtAlg) return false;\n      const publicKey = await getApplePublicKey(kid);\n      const { payload: jwtClaims } = await jwtVerify(token, publicKey, {\n        algorithms: [jwtAlg],\n        issuer: \"https://appleid.apple.com\",\n        audience: options.appBundleIdentifier || options.clientId,\n        maxTokenAge: \"1h\"\n      });\n      [\"email_verified\", \"is_private_email\"].forEach((field) => {\n        if (jwtClaims[field] !== void 0) {\n          jwtClaims[field] = Boolean(jwtClaims[field]);\n        }\n      });\n      if (nonce && jwtClaims.nonce !== nonce) {\n        return false;\n      }\n      return !!jwtClaims;\n    },\n    refreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n      return refreshAccessToken({\n        refreshToken,\n        options: {\n          clientId: options.clientId,\n          clientKey: options.clientKey,\n          clientSecret: options.clientSecret\n        },\n        tokenEndpoint: \"https://appleid.apple.com/auth/token\"\n      });\n    },\n    async getUserInfo(token) {\n      if (options.getUserInfo) {\n        return options.getUserInfo(token);\n      }\n      if (!token.idToken) {\n        return null;\n      }\n      const profile = decodeJwt(token.idToken);\n      if (!profile) {\n        return null;\n      }\n      const name = token.user ? `${token.user.name?.firstName} ${token.user.name?.lastName}` : profile.name || profile.email;\n      const emailVerified = typeof profile.email_verified === \"boolean\" ? profile.email_verified : profile.email_verified === \"true\";\n      const userMap = await options.mapProfileToUser?.(profile);\n      return {\n        user: {\n          id: profile.sub,\n          name,\n          emailVerified,\n          email: profile.email,\n          ...userMap\n        },\n        data: profile\n      };\n    },\n    options\n  };\n};\nconst getApplePublicKey = async (kid) => {\n  const APPLE_BASE_URL = \"https://appleid.apple.com\";\n  const JWKS_APPLE_URI = \"/auth/keys\";\n  const { data } = await betterFetch(`${APPLE_BASE_URL}${JWKS_APPLE_URI}`);\n  if (!data?.keys) {\n    throw new APIError(\"BAD_REQUEST\", {\n      message: \"Keys not found\"\n    });\n  }\n  const jwk = data.keys.find((key) => key.kid === kid);\n  if (!jwk) {\n    throw new Error(`JWK with kid ${kid} not found`);\n  }\n  return await importJWK(jwk, jwk.alg);\n};\n\nconst discord = (options) => {\n  return {\n    id: \"discord\",\n    name: \"Discord\",\n    createAuthorizationURL({ state, scopes, redirectURI }) {\n      const _scopes = options.disableDefaultScope ? [] : [\"identify\", \"email\"];\n      scopes && _scopes.push(...scopes);\n      options.scope && _scopes.push(...options.scope);\n      return new URL(\n        `https://discord.com/api/oauth2/authorize?scope=${_scopes.join(\n          \"+\"\n        )}&response_type=code&client_id=${options.clientId}&redirect_uri=${encodeURIComponent(\n          options.redirectURI || redirectURI\n        )}&state=${state}&prompt=${options.prompt || \"none\"}`\n      );\n    },\n    validateAuthorizationCode: async ({ code, redirectURI }) => {\n      return validateAuthorizationCode({\n        code,\n        redirectURI,\n        options,\n        tokenEndpoint: \"https://discord.com/api/oauth2/token\"\n      });\n    },\n    refreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n      return refreshAccessToken({\n        refreshToken,\n        options: {\n          clientId: options.clientId,\n          clientKey: options.clientKey,\n          clientSecret: options.clientSecret\n        },\n        tokenEndpoint: \"https://discord.com/api/oauth2/token\"\n      });\n    },\n    async getUserInfo(token) {\n      if (options.getUserInfo) {\n        return options.getUserInfo(token);\n      }\n      const { data: profile, error } = await betterFetch(\n        \"https://discord.com/api/users/@me\",\n        {\n          headers: {\n            authorization: `Bearer ${token.accessToken}`\n          }\n        }\n      );\n      if (error) {\n        return null;\n      }\n      if (profile.avatar === null) {\n        const defaultAvatarNumber = profile.discriminator === \"0\" ? Number(BigInt(profile.id) >> BigInt(22)) % 6 : parseInt(profile.discriminator) % 5;\n        profile.image_url = `https://cdn.discordapp.com/embed/avatars/${defaultAvatarNumber}.png`;\n      } else {\n        const format = profile.avatar.startsWith(\"a_\") ? \"gif\" : \"png\";\n        profile.image_url = `https://cdn.discordapp.com/avatars/${profile.id}/${profile.avatar}.${format}`;\n      }\n      const userMap = await options.mapProfileToUser?.(profile);\n      return {\n        user: {\n          id: profile.id,\n          name: profile.global_name || profile.username || \"\",\n          email: profile.email,\n          emailVerified: profile.verified,\n          image: profile.image_url,\n          ...userMap\n        },\n        data: profile\n      };\n    },\n    options\n  };\n};\n\nconst facebook = (options) => {\n  return {\n    id: \"facebook\",\n    name: \"Facebook\",\n    async createAuthorizationURL({ state, scopes, redirectURI, loginHint }) {\n      const _scopes = options.disableDefaultScope ? [] : [\"email\", \"public_profile\"];\n      options.scope && _scopes.push(...options.scope);\n      scopes && _scopes.push(...scopes);\n      return await createAuthorizationURL({\n        id: \"facebook\",\n        options,\n        authorizationEndpoint: \"https://www.facebook.com/v21.0/dialog/oauth\",\n        scopes: _scopes,\n        state,\n        redirectURI,\n        loginHint,\n        additionalParams: options.configId ? {\n          config_id: options.configId\n        } : {}\n      });\n    },\n    validateAuthorizationCode: async ({ code, redirectURI }) => {\n      return validateAuthorizationCode({\n        code,\n        redirectURI,\n        options,\n        tokenEndpoint: \"https://graph.facebook.com/oauth/access_token\"\n      });\n    },\n    async verifyIdToken(token, nonce) {\n      if (options.disableIdTokenSignIn) {\n        return false;\n      }\n      if (options.verifyIdToken) {\n        return options.verifyIdToken(token, nonce);\n      }\n      if (token.split(\".\").length === 3) {\n        try {\n          const { payload: jwtClaims } = await jwtVerify(\n            token,\n            createRemoteJWKSet(\n              // https://developers.facebook.com/docs/facebook-login/limited-login/token/#jwks\n              new URL(\n                \"https://limited.facebook.com/.well-known/oauth/openid/jwks/\"\n              )\n            ),\n            {\n              algorithms: [\"RS256\"],\n              audience: options.clientId,\n              issuer: \"https://www.facebook.com\"\n            }\n          );\n          if (nonce && jwtClaims.nonce !== nonce) {\n            return false;\n          }\n          return !!jwtClaims;\n        } catch (error) {\n          return false;\n        }\n      }\n      return true;\n    },\n    refreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n      return refreshAccessToken({\n        refreshToken,\n        options: {\n          clientId: options.clientId,\n          clientKey: options.clientKey,\n          clientSecret: options.clientSecret\n        },\n        tokenEndpoint: \"https://graph.facebook.com/v18.0/oauth/access_token\"\n      });\n    },\n    async getUserInfo(token) {\n      if (options.getUserInfo) {\n        return options.getUserInfo(token);\n      }\n      if (token.idToken && token.idToken.split(\".\").length === 3) {\n        const profile2 = decodeJwt(token.idToken);\n        const user = {\n          id: profile2.sub,\n          name: profile2.name,\n          email: profile2.email,\n          picture: {\n            data: {\n              url: profile2.picture,\n              height: 100,\n              width: 100,\n              is_silhouette: false\n            }\n          }\n        };\n        const userMap2 = await options.mapProfileToUser?.({\n          ...user,\n          email_verified: true\n        });\n        return {\n          user: {\n            ...user,\n            emailVerified: true,\n            ...userMap2\n          },\n          data: profile2\n        };\n      }\n      const fields = [\n        \"id\",\n        \"name\",\n        \"email\",\n        \"picture\",\n        ...options?.fields || []\n      ];\n      const { data: profile, error } = await betterFetch(\n        \"https://graph.facebook.com/me?fields=\" + fields.join(\",\"),\n        {\n          auth: {\n            type: \"Bearer\",\n            token: token.accessToken\n          }\n        }\n      );\n      if (error) {\n        return null;\n      }\n      const userMap = await options.mapProfileToUser?.(profile);\n      return {\n        user: {\n          id: profile.id,\n          name: profile.name,\n          email: profile.email,\n          image: profile.picture.data.url,\n          emailVerified: profile.email_verified,\n          ...userMap\n        },\n        data: profile\n      };\n    },\n    options\n  };\n};\n\nconst github = (options) => {\n  const tokenEndpoint = \"https://github.com/login/oauth/access_token\";\n  return {\n    id: \"github\",\n    name: \"GitHub\",\n    createAuthorizationURL({ state, scopes, loginHint, redirectURI }) {\n      const _scopes = options.disableDefaultScope ? [] : [\"read:user\", \"user:email\"];\n      options.scope && _scopes.push(...options.scope);\n      scopes && _scopes.push(...scopes);\n      return createAuthorizationURL({\n        id: \"github\",\n        options,\n        authorizationEndpoint: \"https://github.com/login/oauth/authorize\",\n        scopes: _scopes,\n        state,\n        redirectURI,\n        loginHint,\n        prompt: options.prompt\n      });\n    },\n    validateAuthorizationCode: async ({ code, redirectURI }) => {\n      return validateAuthorizationCode({\n        code,\n        redirectURI,\n        options,\n        tokenEndpoint\n      });\n    },\n    refreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n      return refreshAccessToken({\n        refreshToken,\n        options: {\n          clientId: options.clientId,\n          clientKey: options.clientKey,\n          clientSecret: options.clientSecret\n        },\n        tokenEndpoint: \"https://github.com/login/oauth/access_token\"\n      });\n    },\n    async getUserInfo(token) {\n      if (options.getUserInfo) {\n        return options.getUserInfo(token);\n      }\n      const { data: profile, error } = await betterFetch(\n        \"https://api.github.com/user\",\n        {\n          headers: {\n            \"User-Agent\": \"better-auth\",\n            authorization: `Bearer ${token.accessToken}`\n          }\n        }\n      );\n      if (error) {\n        return null;\n      }\n      const { data: emails } = await betterFetch(\"https://api.github.com/user/emails\", {\n        headers: {\n          Authorization: `Bearer ${token.accessToken}`,\n          \"User-Agent\": \"better-auth\"\n        }\n      });\n      if (!profile.email && emails) {\n        profile.email = (emails.find((e) => e.primary) ?? emails[0])?.email;\n      }\n      const emailVerified = emails?.find((e) => e.email === profile.email)?.verified ?? false;\n      const userMap = await options.mapProfileToUser?.(profile);\n      return {\n        user: {\n          id: profile.id.toString(),\n          name: profile.name || profile.login,\n          email: profile.email,\n          image: profile.avatar_url,\n          emailVerified,\n          ...userMap\n        },\n        data: profile\n      };\n    },\n    options\n  };\n};\n\nconst google = (options) => {\n  return {\n    id: \"google\",\n    name: \"Google\",\n    async createAuthorizationURL({\n      state,\n      scopes,\n      codeVerifier,\n      redirectURI,\n      loginHint,\n      display\n    }) {\n      if (!options.clientId || !options.clientSecret) {\n        logger.error(\n          \"Client Id and Client Secret is required for Google. Make sure to provide them in the options.\"\n        );\n        throw new BetterAuthError(\"CLIENT_ID_AND_SECRET_REQUIRED\");\n      }\n      if (!codeVerifier) {\n        throw new BetterAuthError(\"codeVerifier is required for Google\");\n      }\n      const _scopes = options.disableDefaultScope ? [] : [\"email\", \"profile\", \"openid\"];\n      options.scope && _scopes.push(...options.scope);\n      scopes && _scopes.push(...scopes);\n      if (options.prompt === \"select_account+consent\")\n        options.prompt = \"select_account consent\";\n      const url = await createAuthorizationURL({\n        id: \"google\",\n        options,\n        authorizationEndpoint: \"https://accounts.google.com/o/oauth2/auth\",\n        scopes: _scopes,\n        state,\n        codeVerifier,\n        redirectURI,\n        prompt: options.prompt,\n        accessType: options.accessType,\n        display: display || options.display,\n        loginHint,\n        hd: options.hd,\n        additionalParams: {\n          include_granted_scopes: \"true\"\n        }\n      });\n      return url;\n    },\n    validateAuthorizationCode: async ({ code, codeVerifier, redirectURI }) => {\n      return validateAuthorizationCode({\n        code,\n        codeVerifier,\n        redirectURI,\n        options,\n        tokenEndpoint: \"https://oauth2.googleapis.com/token\"\n      });\n    },\n    refreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n      return refreshAccessToken({\n        refreshToken,\n        options: {\n          clientId: options.clientId,\n          clientKey: options.clientKey,\n          clientSecret: options.clientSecret\n        },\n        tokenEndpoint: \"https://www.googleapis.com/oauth2/v4/token\"\n      });\n    },\n    async verifyIdToken(token, nonce) {\n      if (options.disableIdTokenSignIn) {\n        return false;\n      }\n      if (options.verifyIdToken) {\n        return options.verifyIdToken(token, nonce);\n      }\n      const googlePublicKeyUrl = `https://www.googleapis.com/oauth2/v3/tokeninfo?id_token=${token}`;\n      const { data: tokenInfo } = await betterFetch(googlePublicKeyUrl);\n      if (!tokenInfo) {\n        return false;\n      }\n      const isValid = tokenInfo.aud === options.clientId && (tokenInfo.iss === \"https://accounts.google.com\" || tokenInfo.iss === \"accounts.google.com\");\n      return isValid;\n    },\n    async getUserInfo(token) {\n      if (options.getUserInfo) {\n        return options.getUserInfo(token);\n      }\n      if (!token.idToken) {\n        return null;\n      }\n      const user = decodeJwt(token.idToken);\n      const userMap = await options.mapProfileToUser?.(user);\n      return {\n        user: {\n          id: user.sub,\n          name: user.name,\n          email: user.email,\n          image: user.picture,\n          emailVerified: user.email_verified,\n          ...userMap\n        },\n        data: user\n      };\n    },\n    options\n  };\n};\n\nconst kick = (options) => {\n  return {\n    id: \"kick\",\n    name: \"Kick\",\n    createAuthorizationURL({ state, scopes, redirectURI, codeVerifier }) {\n      const _scopes = options.disableDefaultScope ? [] : [\"user:read\"];\n      options.scope && _scopes.push(...options.scope);\n      scopes && _scopes.push(...scopes);\n      return createAuthorizationURL({\n        id: \"kick\",\n        redirectURI,\n        options,\n        authorizationEndpoint: \"https://id.kick.com/oauth/authorize\",\n        scopes: _scopes,\n        codeVerifier,\n        state\n      });\n    },\n    async validateAuthorizationCode({ code, redirectURI, codeVerifier }) {\n      return validateAuthorizationCode({\n        code,\n        redirectURI,\n        options,\n        tokenEndpoint: \"https://id.kick.com/oauth/token\",\n        codeVerifier\n      });\n    },\n    async getUserInfo(token) {\n      if (options.getUserInfo) {\n        return options.getUserInfo(token);\n      }\n      const { data, error } = await betterFetch(\"https://api.kick.com/public/v1/users\", {\n        method: \"GET\",\n        headers: {\n          Authorization: `Bearer ${token.accessToken}`\n        }\n      });\n      if (error) {\n        return null;\n      }\n      const profile = data.data[0];\n      const userMap = await options.mapProfileToUser?.(profile);\n      return {\n        user: {\n          id: profile.user_id,\n          name: profile.name,\n          email: profile.email,\n          image: profile.profile_picture,\n          emailVerified: true,\n          ...userMap\n        },\n        data: profile\n      };\n    },\n    options\n  };\n};\n\nconst huggingface = (options) => {\n  return {\n    id: \"huggingface\",\n    name: \"Hugging Face\",\n    createAuthorizationURL({ state, scopes, codeVerifier, redirectURI }) {\n      const _scopes = options.disableDefaultScope ? [] : [\"openid\", \"profile\", \"email\"];\n      options.scope && _scopes.push(...options.scope);\n      scopes && _scopes.push(...scopes);\n      return createAuthorizationURL({\n        id: \"huggingface\",\n        options,\n        authorizationEndpoint: \"https://huggingface.co/oauth/authorize\",\n        scopes: _scopes,\n        state,\n        codeVerifier,\n        redirectURI\n      });\n    },\n    validateAuthorizationCode: async ({ code, codeVerifier, redirectURI }) => {\n      return validateAuthorizationCode({\n        code,\n        codeVerifier,\n        redirectURI,\n        options,\n        tokenEndpoint: \"https://huggingface.co/oauth/token\"\n      });\n    },\n    refreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n      return refreshAccessToken({\n        refreshToken,\n        options: {\n          clientId: options.clientId,\n          clientKey: options.clientKey,\n          clientSecret: options.clientSecret\n        },\n        tokenEndpoint: \"https://huggingface.co/oauth/token\"\n      });\n    },\n    async getUserInfo(token) {\n      if (options.getUserInfo) {\n        return options.getUserInfo(token);\n      }\n      const { data: profile, error } = await betterFetch(\n        \"https://huggingface.co/oauth/userinfo\",\n        {\n          method: \"GET\",\n          headers: {\n            Authorization: `Bearer ${token.accessToken}`\n          }\n        }\n      );\n      if (error) {\n        return null;\n      }\n      const userMap = await options.mapProfileToUser?.(profile);\n      return {\n        user: {\n          id: profile.sub,\n          name: profile.name || profile.preferred_username,\n          email: profile.email,\n          image: profile.picture,\n          emailVerified: profile.email_verified ?? false,\n          ...userMap\n        },\n        data: profile\n      };\n    },\n    options\n  };\n};\n\nconst microsoft = (options) => {\n  const tenant = options.tenantId || \"common\";\n  const authorizationEndpoint = `https://login.microsoftonline.com/${tenant}/oauth2/v2.0/authorize`;\n  const tokenEndpoint = `https://login.microsoftonline.com/${tenant}/oauth2/v2.0/token`;\n  return {\n    id: \"microsoft\",\n    name: \"Microsoft EntraID\",\n    createAuthorizationURL(data) {\n      const scopes = options.disableDefaultScope ? [] : [\"openid\", \"profile\", \"email\", \"User.Read\", \"offline_access\"];\n      options.scope && scopes.push(...options.scope);\n      data.scopes && scopes.push(...data.scopes);\n      return createAuthorizationURL({\n        id: \"microsoft\",\n        options,\n        authorizationEndpoint,\n        state: data.state,\n        codeVerifier: data.codeVerifier,\n        scopes,\n        redirectURI: data.redirectURI,\n        prompt: options.prompt\n      });\n    },\n    validateAuthorizationCode({ code, codeVerifier, redirectURI }) {\n      return validateAuthorizationCode({\n        code,\n        codeVerifier,\n        redirectURI,\n        options,\n        tokenEndpoint\n      });\n    },\n    async getUserInfo(token) {\n      if (options.getUserInfo) {\n        return options.getUserInfo(token);\n      }\n      if (!token.idToken) {\n        return null;\n      }\n      const user = decodeJwt(token.idToken);\n      const profilePhotoSize = options.profilePhotoSize || 48;\n      await betterFetch(\n        `https://graph.microsoft.com/v1.0/me/photos/${profilePhotoSize}x${profilePhotoSize}/$value`,\n        {\n          headers: {\n            Authorization: `Bearer ${token.accessToken}`\n          },\n          async onResponse(context) {\n            if (options.disableProfilePhoto || !context.response.ok) {\n              return;\n            }\n            try {\n              const response = context.response.clone();\n              const pictureBuffer = await response.arrayBuffer();\n              const pictureBase64 = base64.encode(pictureBuffer);\n              user.picture = `data:image/jpeg;base64, ${pictureBase64}`;\n            } catch (e) {\n              logger.error(\n                e && typeof e === \"object\" && \"name\" in e ? e.name : \"\",\n                e\n              );\n            }\n          }\n        }\n      );\n      const userMap = await options.mapProfileToUser?.(user);\n      return {\n        user: {\n          id: user.sub,\n          name: user.name,\n          email: user.email,\n          image: user.picture,\n          emailVerified: true,\n          ...userMap\n        },\n        data: user\n      };\n    },\n    refreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n      const scopes = options.disableDefaultScope ? [] : [\"openid\", \"profile\", \"email\", \"User.Read\", \"offline_access\"];\n      options.scope && scopes.push(...options.scope);\n      return refreshAccessToken({\n        refreshToken,\n        options: {\n          clientId: options.clientId,\n          clientSecret: options.clientSecret\n        },\n        extraParams: {\n          scope: scopes.join(\" \")\n          // Include the scopes in request to microsoft\n        },\n        tokenEndpoint\n      });\n    },\n    options\n  };\n};\n\nconst slack = (options) => {\n  return {\n    id: \"slack\",\n    name: \"Slack\",\n    createAuthorizationURL({ state, scopes, redirectURI }) {\n      const _scopes = options.disableDefaultScope ? [] : [\"openid\", \"profile\", \"email\"];\n      scopes && _scopes.push(...scopes);\n      options.scope && _scopes.push(...options.scope);\n      const url = new URL(\"https://slack.com/openid/connect/authorize\");\n      url.searchParams.set(\"scope\", _scopes.join(\" \"));\n      url.searchParams.set(\"response_type\", \"code\");\n      url.searchParams.set(\"client_id\", options.clientId);\n      url.searchParams.set(\"redirect_uri\", options.redirectURI || redirectURI);\n      url.searchParams.set(\"state\", state);\n      return url;\n    },\n    validateAuthorizationCode: async ({ code, redirectURI }) => {\n      return validateAuthorizationCode({\n        code,\n        redirectURI,\n        options,\n        tokenEndpoint: \"https://slack.com/api/openid.connect.token\"\n      });\n    },\n    refreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n      return refreshAccessToken({\n        refreshToken,\n        options: {\n          clientId: options.clientId,\n          clientKey: options.clientKey,\n          clientSecret: options.clientSecret\n        },\n        tokenEndpoint: \"https://slack.com/api/openid.connect.token\"\n      });\n    },\n    async getUserInfo(token) {\n      if (options.getUserInfo) {\n        return options.getUserInfo(token);\n      }\n      const { data: profile, error } = await betterFetch(\n        \"https://slack.com/api/openid.connect.userInfo\",\n        {\n          headers: {\n            authorization: `Bearer ${token.accessToken}`\n          }\n        }\n      );\n      if (error) {\n        return null;\n      }\n      const userMap = await options.mapProfileToUser?.(profile);\n      return {\n        user: {\n          id: profile[\"https://slack.com/user_id\"],\n          name: profile.name || \"\",\n          email: profile.email,\n          emailVerified: profile.email_verified,\n          image: profile.picture || profile[\"https://slack.com/user_image_512\"],\n          ...userMap\n        },\n        data: profile\n      };\n    },\n    options\n  };\n};\n\nconst notion = (options) => {\n  const tokenEndpoint = \"https://api.notion.com/v1/oauth/token\";\n  return {\n    id: \"notion\",\n    name: \"Notion\",\n    createAuthorizationURL({ state, scopes, loginHint, redirectURI }) {\n      const _scopes = options.disableDefaultScope ? [] : [];\n      options.scope && _scopes.push(...options.scope);\n      scopes && _scopes.push(...scopes);\n      return createAuthorizationURL({\n        id: \"notion\",\n        options,\n        authorizationEndpoint: \"https://api.notion.com/v1/oauth/authorize\",\n        scopes: _scopes,\n        state,\n        redirectURI,\n        loginHint,\n        additionalParams: {\n          owner: \"user\"\n        }\n      });\n    },\n    validateAuthorizationCode: async ({ code, redirectURI }) => {\n      return validateAuthorizationCode({\n        code,\n        redirectURI,\n        options,\n        tokenEndpoint\n      });\n    },\n    refreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n      return refreshAccessToken({\n        refreshToken,\n        options: {\n          clientId: options.clientId,\n          clientKey: options.clientKey,\n          clientSecret: options.clientSecret\n        },\n        tokenEndpoint\n      });\n    },\n    async getUserInfo(token) {\n      if (options.getUserInfo) {\n        return options.getUserInfo(token);\n      }\n      const { data: profile, error } = await betterFetch(\n        \"https://api.notion.com/v1/users/me\",\n        {\n          headers: {\n            Authorization: `Bearer ${token.accessToken}`,\n            \"Notion-Version\": \"2022-06-28\"\n          }\n        }\n      );\n      if (error) {\n        return null;\n      }\n      const userMap = await options.mapProfileToUser?.(profile);\n      return {\n        user: {\n          id: profile.id,\n          name: profile.name || \"Notion User\",\n          email: profile.person?.email || null,\n          image: profile.avatar_url,\n          emailVerified: !!profile.person?.email,\n          ...userMap\n        },\n        data: profile\n      };\n    },\n    options\n  };\n};\n\nconst spotify = (options) => {\n  return {\n    id: \"spotify\",\n    name: \"Spotify\",\n    createAuthorizationURL({ state, scopes, codeVerifier, redirectURI }) {\n      const _scopes = options.disableDefaultScope ? [] : [\"user-read-email\"];\n      options.scope && _scopes.push(...options.scope);\n      scopes && _scopes.push(...scopes);\n      return createAuthorizationURL({\n        id: \"spotify\",\n        options,\n        authorizationEndpoint: \"https://accounts.spotify.com/authorize\",\n        scopes: _scopes,\n        state,\n        codeVerifier,\n        redirectURI\n      });\n    },\n    validateAuthorizationCode: async ({ code, codeVerifier, redirectURI }) => {\n      return validateAuthorizationCode({\n        code,\n        codeVerifier,\n        redirectURI,\n        options,\n        tokenEndpoint: \"https://accounts.spotify.com/api/token\"\n      });\n    },\n    refreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n      return refreshAccessToken({\n        refreshToken,\n        options: {\n          clientId: options.clientId,\n          clientKey: options.clientKey,\n          clientSecret: options.clientSecret\n        },\n        tokenEndpoint: \"https://accounts.spotify.com/api/token\"\n      });\n    },\n    async getUserInfo(token) {\n      if (options.getUserInfo) {\n        return options.getUserInfo(token);\n      }\n      const { data: profile, error } = await betterFetch(\n        \"https://api.spotify.com/v1/me\",\n        {\n          method: \"GET\",\n          headers: {\n            Authorization: `Bearer ${token.accessToken}`\n          }\n        }\n      );\n      if (error) {\n        return null;\n      }\n      const userMap = await options.mapProfileToUser?.(profile);\n      return {\n        user: {\n          id: profile.id,\n          name: profile.display_name,\n          email: profile.email,\n          image: profile.images[0]?.url,\n          emailVerified: false,\n          ...userMap\n        },\n        data: profile\n      };\n    },\n    options\n  };\n};\n\nconst twitch = (options) => {\n  return {\n    id: \"twitch\",\n    name: \"Twitch\",\n    createAuthorizationURL({ state, scopes, redirectURI }) {\n      const _scopes = options.disableDefaultScope ? [] : [\"user:read:email\", \"openid\"];\n      options.scope && _scopes.push(...options.scope);\n      scopes && _scopes.push(...scopes);\n      return createAuthorizationURL({\n        id: \"twitch\",\n        redirectURI,\n        options,\n        authorizationEndpoint: \"https://id.twitch.tv/oauth2/authorize\",\n        scopes: _scopes,\n        state,\n        claims: options.claims || [\n          \"email\",\n          \"email_verified\",\n          \"preferred_username\",\n          \"picture\"\n        ]\n      });\n    },\n    validateAuthorizationCode: async ({ code, redirectURI }) => {\n      return validateAuthorizationCode({\n        code,\n        redirectURI,\n        options,\n        tokenEndpoint: \"https://id.twitch.tv/oauth2/token\"\n      });\n    },\n    refreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n      return refreshAccessToken({\n        refreshToken,\n        options: {\n          clientId: options.clientId,\n          clientKey: options.clientKey,\n          clientSecret: options.clientSecret\n        },\n        tokenEndpoint: \"https://id.twitch.tv/oauth2/token\"\n      });\n    },\n    async getUserInfo(token) {\n      if (options.getUserInfo) {\n        return options.getUserInfo(token);\n      }\n      const idToken = token.idToken;\n      if (!idToken) {\n        logger.error(\"No idToken found in token\");\n        return null;\n      }\n      const profile = decodeJwt(idToken);\n      const userMap = await options.mapProfileToUser?.(profile);\n      return {\n        user: {\n          id: profile.sub,\n          name: profile.preferred_username,\n          email: profile.email,\n          image: profile.picture,\n          emailVerified: profile.email_verified,\n          ...userMap\n        },\n        data: profile\n      };\n    },\n    options\n  };\n};\n\nconst twitter = (options) => {\n  return {\n    id: \"twitter\",\n    name: \"Twitter\",\n    createAuthorizationURL(data) {\n      const _scopes = options.disableDefaultScope ? [] : [\"users.read\", \"tweet.read\", \"offline.access\", \"users.email\"];\n      options.scope && _scopes.push(...options.scope);\n      data.scopes && _scopes.push(...data.scopes);\n      return createAuthorizationURL({\n        id: \"twitter\",\n        options,\n        authorizationEndpoint: \"https://x.com/i/oauth2/authorize\",\n        scopes: _scopes,\n        state: data.state,\n        codeVerifier: data.codeVerifier,\n        redirectURI: data.redirectURI\n      });\n    },\n    validateAuthorizationCode: async ({ code, codeVerifier, redirectURI }) => {\n      return validateAuthorizationCode({\n        code,\n        codeVerifier,\n        authentication: \"basic\",\n        redirectURI,\n        options,\n        tokenEndpoint: \"https://api.x.com/2/oauth2/token\"\n      });\n    },\n    refreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n      return refreshAccessToken({\n        refreshToken,\n        options: {\n          clientId: options.clientId,\n          clientKey: options.clientKey,\n          clientSecret: options.clientSecret\n        },\n        tokenEndpoint: \"https://api.x.com/2/oauth2/token\"\n      });\n    },\n    async getUserInfo(token) {\n      if (options.getUserInfo) {\n        return options.getUserInfo(token);\n      }\n      const { data: profile, error: profileError } = await betterFetch(\n        \"https://api.x.com/2/users/me?user.fields=profile_image_url\",\n        {\n          method: \"GET\",\n          headers: {\n            Authorization: `Bearer ${token.accessToken}`\n          }\n        }\n      );\n      if (profileError) {\n        return null;\n      }\n      const { data: emailData, error: emailError } = await betterFetch(\"https://api.x.com/2/users/me?user.fields=confirmed_email\", {\n        method: \"GET\",\n        headers: {\n          Authorization: `Bearer ${token.accessToken}`\n        }\n      });\n      let emailVerified = false;\n      if (!emailError && emailData?.data?.confirmed_email) {\n        profile.data.email = emailData.data.confirmed_email;\n        emailVerified = true;\n      }\n      const userMap = await options.mapProfileToUser?.(profile);\n      return {\n        user: {\n          id: profile.data.id,\n          name: profile.data.name,\n          email: profile.data.email || profile.data.username || null,\n          image: profile.data.profile_image_url,\n          emailVerified,\n          ...userMap\n        },\n        data: profile\n      };\n    },\n    options\n  };\n};\n\nconst dropbox = (options) => {\n  const tokenEndpoint = \"https://api.dropboxapi.com/oauth2/token\";\n  return {\n    id: \"dropbox\",\n    name: \"Dropbox\",\n    createAuthorizationURL: async ({\n      state,\n      scopes,\n      codeVerifier,\n      redirectURI\n    }) => {\n      const _scopes = options.disableDefaultScope ? [] : [\"account_info.read\"];\n      options.scope && _scopes.push(...options.scope);\n      scopes && _scopes.push(...scopes);\n      const additionalParams = {};\n      if (options.accessType) {\n        additionalParams.token_access_type = options.accessType;\n      }\n      return await createAuthorizationURL({\n        id: \"dropbox\",\n        options,\n        authorizationEndpoint: \"https://www.dropbox.com/oauth2/authorize\",\n        scopes: _scopes,\n        state,\n        redirectURI,\n        codeVerifier,\n        additionalParams\n      });\n    },\n    validateAuthorizationCode: async ({ code, codeVerifier, redirectURI }) => {\n      return await validateAuthorizationCode({\n        code,\n        codeVerifier,\n        redirectURI,\n        options,\n        tokenEndpoint\n      });\n    },\n    refreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n      return refreshAccessToken({\n        refreshToken,\n        options: {\n          clientId: options.clientId,\n          clientKey: options.clientKey,\n          clientSecret: options.clientSecret\n        },\n        tokenEndpoint: \"https://api.dropbox.com/oauth2/token\"\n      });\n    },\n    async getUserInfo(token) {\n      if (options.getUserInfo) {\n        return options.getUserInfo(token);\n      }\n      const { data: profile, error } = await betterFetch(\n        \"https://api.dropboxapi.com/2/users/get_current_account\",\n        {\n          method: \"POST\",\n          headers: {\n            Authorization: `Bearer ${token.accessToken}`\n          }\n        }\n      );\n      if (error) {\n        return null;\n      }\n      const userMap = await options.mapProfileToUser?.(profile);\n      return {\n        user: {\n          id: profile.account_id,\n          name: profile.name?.display_name,\n          email: profile.email,\n          emailVerified: profile.email_verified || false,\n          image: profile.profile_photo_url,\n          ...userMap\n        },\n        data: profile\n      };\n    },\n    options\n  };\n};\n\nconst linear = (options) => {\n  const tokenEndpoint = \"https://api.linear.app/oauth/token\";\n  return {\n    id: \"linear\",\n    name: \"Linear\",\n    createAuthorizationURL({ state, scopes, loginHint, redirectURI }) {\n      const _scopes = options.disableDefaultScope ? [] : [\"read\"];\n      options.scope && _scopes.push(...options.scope);\n      scopes && _scopes.push(...scopes);\n      return createAuthorizationURL({\n        id: \"linear\",\n        options,\n        authorizationEndpoint: \"https://linear.app/oauth/authorize\",\n        scopes: _scopes,\n        state,\n        redirectURI,\n        loginHint\n      });\n    },\n    validateAuthorizationCode: async ({ code, redirectURI }) => {\n      return validateAuthorizationCode({\n        code,\n        redirectURI,\n        options,\n        tokenEndpoint\n      });\n    },\n    refreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n      return refreshAccessToken({\n        refreshToken,\n        options: {\n          clientId: options.clientId,\n          clientKey: options.clientKey,\n          clientSecret: options.clientSecret\n        },\n        tokenEndpoint\n      });\n    },\n    async getUserInfo(token) {\n      if (options.getUserInfo) {\n        return options.getUserInfo(token);\n      }\n      const { data: profile, error } = await betterFetch(\n        \"https://api.linear.app/graphql\",\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token.accessToken}`\n          },\n          body: JSON.stringify({\n            query: `\n\t\t\t\t\t\t\tquery {\n\t\t\t\t\t\t\t\tviewer {\n\t\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t\t\temail\n\t\t\t\t\t\t\t\t\tavatarUrl\n\t\t\t\t\t\t\t\t\tactive\n\t\t\t\t\t\t\t\t\tcreatedAt\n\t\t\t\t\t\t\t\t\tupdatedAt\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t`\n          })\n        }\n      );\n      if (error || !profile?.data?.viewer) {\n        return null;\n      }\n      const userData = profile.data.viewer;\n      const userMap = await options.mapProfileToUser?.(userData);\n      return {\n        user: {\n          id: profile.data.viewer.id,\n          name: profile.data.viewer.name,\n          email: profile.data.viewer.email,\n          image: profile.data.viewer.avatarUrl,\n          emailVerified: true,\n          ...userMap\n        },\n        data: userData\n      };\n    },\n    options\n  };\n};\n\nconst linkedin = (options) => {\n  const authorizationEndpoint = \"https://www.linkedin.com/oauth/v2/authorization\";\n  const tokenEndpoint = \"https://www.linkedin.com/oauth/v2/accessToken\";\n  return {\n    id: \"linkedin\",\n    name: \"Linkedin\",\n    createAuthorizationURL: async ({\n      state,\n      scopes,\n      redirectURI,\n      loginHint\n    }) => {\n      const _scopes = options.disableDefaultScope ? [] : [\"profile\", \"email\", \"openid\"];\n      options.scope && _scopes.push(...options.scope);\n      scopes && _scopes.push(...scopes);\n      return await createAuthorizationURL({\n        id: \"linkedin\",\n        options,\n        authorizationEndpoint,\n        scopes: _scopes,\n        state,\n        loginHint,\n        redirectURI\n      });\n    },\n    validateAuthorizationCode: async ({ code, redirectURI }) => {\n      return await validateAuthorizationCode({\n        code,\n        redirectURI,\n        options,\n        tokenEndpoint\n      });\n    },\n    refreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n      return refreshAccessToken({\n        refreshToken,\n        options: {\n          clientId: options.clientId,\n          clientKey: options.clientKey,\n          clientSecret: options.clientSecret\n        },\n        tokenEndpoint\n      });\n    },\n    async getUserInfo(token) {\n      if (options.getUserInfo) {\n        return options.getUserInfo(token);\n      }\n      const { data: profile, error } = await betterFetch(\n        \"https://api.linkedin.com/v2/userinfo\",\n        {\n          method: \"GET\",\n          headers: {\n            Authorization: `Bearer ${token.accessToken}`\n          }\n        }\n      );\n      if (error) {\n        return null;\n      }\n      const userMap = await options.mapProfileToUser?.(profile);\n      return {\n        user: {\n          id: profile.sub,\n          name: profile.name,\n          email: profile.email,\n          emailVerified: profile.email_verified || false,\n          image: profile.picture,\n          ...userMap\n        },\n        data: profile\n      };\n    },\n    options\n  };\n};\n\nconst cleanDoubleSlashes = (input = \"\") => {\n  return input.split(\"://\").map((str) => str.replace(/\\/{2,}/g, \"/\")).join(\"://\");\n};\nconst issuerToEndpoints = (issuer) => {\n  let baseUrl = issuer || \"https://gitlab.com\";\n  return {\n    authorizationEndpoint: cleanDoubleSlashes(`${baseUrl}/oauth/authorize`),\n    tokenEndpoint: cleanDoubleSlashes(`${baseUrl}/oauth/token`),\n    userinfoEndpoint: cleanDoubleSlashes(`${baseUrl}/api/v4/user`)\n  };\n};\nconst gitlab = (options) => {\n  const { authorizationEndpoint, tokenEndpoint, userinfoEndpoint } = issuerToEndpoints(options.issuer);\n  const issuerId = \"gitlab\";\n  const issuerName = \"Gitlab\";\n  return {\n    id: issuerId,\n    name: issuerName,\n    createAuthorizationURL: async ({\n      state,\n      scopes,\n      codeVerifier,\n      loginHint,\n      redirectURI\n    }) => {\n      const _scopes = options.disableDefaultScope ? [] : [\"read_user\"];\n      options.scope && _scopes.push(...options.scope);\n      scopes && _scopes.push(...scopes);\n      return await createAuthorizationURL({\n        id: issuerId,\n        options,\n        authorizationEndpoint,\n        scopes: _scopes,\n        state,\n        redirectURI,\n        codeVerifier,\n        loginHint\n      });\n    },\n    validateAuthorizationCode: async ({ code, redirectURI, codeVerifier }) => {\n      return validateAuthorizationCode({\n        code,\n        redirectURI,\n        options,\n        codeVerifier,\n        tokenEndpoint\n      });\n    },\n    refreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n      return refreshAccessToken({\n        refreshToken,\n        options: {\n          clientId: options.clientId,\n          clientKey: options.clientKey,\n          clientSecret: options.clientSecret\n        },\n        tokenEndpoint: \"https://gitlab.com/oauth/token\"\n      });\n    },\n    async getUserInfo(token) {\n      if (options.getUserInfo) {\n        return options.getUserInfo(token);\n      }\n      const { data: profile, error } = await betterFetch(\n        userinfoEndpoint,\n        { headers: { authorization: `Bearer ${token.accessToken}` } }\n      );\n      if (error || profile.state !== \"active\" || profile.locked) {\n        return null;\n      }\n      const userMap = await options.mapProfileToUser?.(profile);\n      return {\n        user: {\n          id: profile.id.toString(),\n          name: profile.name ?? profile.username,\n          email: profile.email,\n          image: profile.avatar_url,\n          emailVerified: true,\n          ...userMap\n        },\n        data: profile\n      };\n    },\n    options\n  };\n};\n\nconst tiktok = (options) => {\n  return {\n    id: \"tiktok\",\n    name: \"TikTok\",\n    createAuthorizationURL({ state, scopes, redirectURI }) {\n      const _scopes = options.disableDefaultScope ? [] : [\"user.info.profile\"];\n      options.scope && _scopes.push(...options.scope);\n      scopes && _scopes.push(...scopes);\n      return new URL(\n        `https://www.tiktok.com/v2/auth/authorize?scope=${_scopes.join(\n          \",\"\n        )}&response_type=code&client_key=${options.clientKey}&client_secret=${options.clientSecret}&redirect_uri=${encodeURIComponent(\n          options.redirectURI || redirectURI\n        )}&state=${state}`\n      );\n    },\n    validateAuthorizationCode: async ({ code, redirectURI }) => {\n      return validateAuthorizationCode({\n        code,\n        redirectURI: options.redirectURI || redirectURI,\n        options,\n        tokenEndpoint: \"https://open.tiktokapis.com/v2/oauth/token/\"\n      });\n    },\n    refreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n      return refreshAccessToken({\n        refreshToken,\n        options: {\n          clientId: options.clientId,\n          clientKey: options.clientKey,\n          clientSecret: options.clientSecret\n        },\n        tokenEndpoint: \"https://open.tiktokapis.com/v2/oauth/token/\"\n      });\n    },\n    async getUserInfo(token) {\n      if (options.getUserInfo) {\n        return options.getUserInfo(token);\n      }\n      const fields = [\n        \"open_id\",\n        \"avatar_large_url\",\n        \"display_name\",\n        \"username\"\n      ];\n      const { data: profile, error } = await betterFetch(\n        `https://open.tiktokapis.com/v2/user/info/?fields=${fields.join(\",\")}`,\n        {\n          headers: {\n            authorization: `Bearer ${token.accessToken}`\n          }\n        }\n      );\n      if (error) {\n        return null;\n      }\n      return {\n        user: {\n          email: profile.data.user.email || profile.data.user.username,\n          id: profile.data.user.open_id,\n          name: profile.data.user.display_name || profile.data.user.username,\n          image: profile.data.user.avatar_large_url,\n          /** @note Tiktok does not provide emailVerified or even email*/\n          emailVerified: profile.data.user.email ? true : false\n        },\n        data: profile\n      };\n    },\n    options\n  };\n};\n\nconst reddit = (options) => {\n  return {\n    id: \"reddit\",\n    name: \"Reddit\",\n    createAuthorizationURL({ state, scopes, redirectURI }) {\n      const _scopes = options.disableDefaultScope ? [] : [\"identity\"];\n      options.scope && _scopes.push(...options.scope);\n      scopes && _scopes.push(...scopes);\n      return createAuthorizationURL({\n        id: \"reddit\",\n        options,\n        authorizationEndpoint: \"https://www.reddit.com/api/v1/authorize\",\n        scopes: _scopes,\n        state,\n        redirectURI,\n        duration: options.duration\n      });\n    },\n    validateAuthorizationCode: async ({ code, redirectURI }) => {\n      const body = new URLSearchParams({\n        grant_type: \"authorization_code\",\n        code,\n        redirect_uri: options.redirectURI || redirectURI\n      });\n      const headers = {\n        \"content-type\": \"application/x-www-form-urlencoded\",\n        accept: \"text/plain\",\n        \"user-agent\": \"better-auth\",\n        Authorization: `Basic ${base64.encode(\n          `${options.clientId}:${options.clientSecret}`\n        )}`\n      };\n      const { data, error } = await betterFetch(\n        \"https://www.reddit.com/api/v1/access_token\",\n        {\n          method: \"POST\",\n          headers,\n          body: body.toString()\n        }\n      );\n      if (error) {\n        throw error;\n      }\n      return getOAuth2Tokens(data);\n    },\n    refreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n      return refreshAccessToken({\n        refreshToken,\n        options: {\n          clientId: options.clientId,\n          clientKey: options.clientKey,\n          clientSecret: options.clientSecret\n        },\n        tokenEndpoint: \"https://www.reddit.com/api/v1/access_token\"\n      });\n    },\n    async getUserInfo(token) {\n      if (options.getUserInfo) {\n        return options.getUserInfo(token);\n      }\n      const { data: profile, error } = await betterFetch(\n        \"https://oauth.reddit.com/api/v1/me\",\n        {\n          headers: {\n            Authorization: `Bearer ${token.accessToken}`,\n            \"User-Agent\": \"better-auth\"\n          }\n        }\n      );\n      if (error) {\n        return null;\n      }\n      const userMap = await options.mapProfileToUser?.(profile);\n      return {\n        user: {\n          id: profile.id,\n          name: profile.name,\n          email: profile.oauth_client_id,\n          emailVerified: profile.has_verified_email,\n          image: profile.icon_img?.split(\"?\")[0],\n          ...userMap\n        },\n        data: profile\n      };\n    },\n    options\n  };\n};\n\nconst roblox = (options) => {\n  return {\n    id: \"roblox\",\n    name: \"Roblox\",\n    createAuthorizationURL({ state, scopes, redirectURI }) {\n      const _scopes = options.disableDefaultScope ? [] : [\"openid\", \"profile\"];\n      options.scope && _scopes.push(...options.scope);\n      scopes && _scopes.push(...scopes);\n      return new URL(\n        `https://apis.roblox.com/oauth/v1/authorize?scope=${_scopes.join(\n          \"+\"\n        )}&response_type=code&client_id=${options.clientId}&redirect_uri=${encodeURIComponent(\n          options.redirectURI || redirectURI\n        )}&state=${state}&prompt=${options.prompt || \"select_account+consent\"}`\n      );\n    },\n    validateAuthorizationCode: async ({ code, redirectURI }) => {\n      return validateAuthorizationCode({\n        code,\n        redirectURI: options.redirectURI || redirectURI,\n        options,\n        tokenEndpoint: \"https://apis.roblox.com/oauth/v1/token\",\n        authentication: \"post\"\n      });\n    },\n    refreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n      return refreshAccessToken({\n        refreshToken,\n        options: {\n          clientId: options.clientId,\n          clientKey: options.clientKey,\n          clientSecret: options.clientSecret\n        },\n        tokenEndpoint: \"https://apis.roblox.com/oauth/v1/token\"\n      });\n    },\n    async getUserInfo(token) {\n      if (options.getUserInfo) {\n        return options.getUserInfo(token);\n      }\n      const { data: profile, error } = await betterFetch(\n        \"https://apis.roblox.com/oauth/v1/userinfo\",\n        {\n          headers: {\n            authorization: `Bearer ${token.accessToken}`\n          }\n        }\n      );\n      if (error) {\n        return null;\n      }\n      const userMap = await options.mapProfileToUser?.(profile);\n      return {\n        user: {\n          id: profile.sub,\n          name: profile.nickname || profile.preferred_username || \"\",\n          image: profile.picture,\n          email: profile.preferred_username || null,\n          // Roblox does not provide email\n          emailVerified: true,\n          ...userMap\n        },\n        data: {\n          ...profile\n        }\n      };\n    },\n    options\n  };\n};\n\nvar LANG = /* @__PURE__ */ ((LANG2) => {\n  LANG2[LANG2[\"RUS\"] = 0] = \"RUS\";\n  LANG2[LANG2[\"UKR\"] = 1] = \"UKR\";\n  LANG2[LANG2[\"ENG\"] = 3] = \"ENG\";\n  LANG2[LANG2[\"SPA\"] = 4] = \"SPA\";\n  LANG2[LANG2[\"GERMAN\"] = 6] = \"GERMAN\";\n  LANG2[LANG2[\"POL\"] = 15] = \"POL\";\n  LANG2[LANG2[\"FRA\"] = 16] = \"FRA\";\n  LANG2[LANG2[\"TURKEY\"] = 82] = \"TURKEY\";\n  return LANG2;\n})(LANG || {});\nconst vk = (options) => {\n  return {\n    id: \"vk\",\n    name: \"VK\",\n    async createAuthorizationURL({ state, scopes, codeVerifier, redirectURI }) {\n      const _scopes = options.disableDefaultScope ? [] : [\"email\", \"phone\"];\n      options.scope && _scopes.push(...options.scope);\n      scopes && _scopes.push(...scopes);\n      const authorizationEndpoint = \"https://id.vk.com/authorize\";\n      return createAuthorizationURL({\n        id: \"vk\",\n        options,\n        authorizationEndpoint,\n        scopes: _scopes,\n        state,\n        redirectURI,\n        codeVerifier\n      });\n    },\n    validateAuthorizationCode: async ({\n      code,\n      codeVerifier,\n      redirectURI,\n      deviceId\n    }) => {\n      return validateAuthorizationCode({\n        code,\n        codeVerifier,\n        redirectURI: options.redirectURI || redirectURI,\n        options,\n        deviceId,\n        tokenEndpoint: \"https://id.vk.com/oauth2/auth\"\n      });\n    },\n    refreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n      return refreshAccessToken({\n        refreshToken,\n        options: {\n          clientId: options.clientId,\n          clientKey: options.clientKey,\n          clientSecret: options.clientSecret\n        },\n        tokenEndpoint: \"https://id.vk.com/oauth2/auth\"\n      });\n    },\n    async getUserInfo(data) {\n      if (options.getUserInfo) {\n        return options.getUserInfo(data);\n      }\n      if (!data.accessToken) {\n        return null;\n      }\n      const formBody = new URLSearchParams({\n        access_token: data.accessToken,\n        client_id: options.clientId\n      }).toString();\n      const { data: profile, error } = await betterFetch(\n        \"https://id.vk.com/oauth2/user_info\",\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded\"\n          },\n          body: formBody\n        }\n      );\n      if (error) {\n        return null;\n      }\n      if (!profile.user.email) {\n        return null;\n      }\n      const userMap = await options.mapProfileToUser?.(profile);\n      return {\n        user: {\n          id: profile.user.user_id,\n          first_name: profile.user.first_name,\n          last_name: profile.user.last_name,\n          email: profile.user.email,\n          image: profile.user.avatar,\n          /** @note VK does not provide emailVerified*/\n          emailVerified: !!profile.user.email,\n          birthday: profile.user.birthday,\n          sex: profile.user.sex,\n          ...userMap\n        },\n        data: profile\n      };\n    },\n    options\n  };\n};\n\nconst zoom = (userOptions) => {\n  const options = {\n    pkce: true,\n    ...userOptions\n  };\n  return {\n    id: \"zoom\",\n    name: \"Zoom\",\n    createAuthorizationURL: async ({ state, redirectURI, codeVerifier }) => {\n      const params = new URLSearchParams({\n        response_type: \"code\",\n        redirect_uri: options.redirectURI ? options.redirectURI : redirectURI,\n        client_id: options.clientId,\n        state\n      });\n      if (options.pkce) {\n        const codeChallenge = await generateCodeChallenge(codeVerifier);\n        params.set(\"code_challenge_method\", \"S256\");\n        params.set(\"code_challenge\", codeChallenge);\n      }\n      const url = new URL(\"https://zoom.us/oauth/authorize\");\n      url.search = params.toString();\n      return url;\n    },\n    validateAuthorizationCode: async ({ code, redirectURI, codeVerifier }) => {\n      return validateAuthorizationCode({\n        code,\n        redirectURI: options.redirectURI || redirectURI,\n        codeVerifier,\n        options,\n        tokenEndpoint: \"https://zoom.us/oauth/token\",\n        authentication: \"post\"\n      });\n    },\n    async getUserInfo(token) {\n      if (options.getUserInfo) {\n        return options.getUserInfo(token);\n      }\n      const { data: profile, error } = await betterFetch(\n        \"https://api.zoom.us/v2/users/me\",\n        {\n          headers: {\n            authorization: `Bearer ${token.accessToken}`\n          }\n        }\n      );\n      if (error) {\n        return null;\n      }\n      const userMap = await options.mapProfileToUser?.(profile);\n      return {\n        user: {\n          id: profile.id,\n          name: profile.display_name,\n          image: profile.pic_url,\n          email: profile.email,\n          emailVerified: Boolean(profile.verified),\n          ...userMap\n        },\n        data: {\n          ...profile\n        }\n      };\n    }\n  };\n};\n\nconst socialProviders = {\n  apple,\n  discord,\n  facebook,\n  github,\n  microsoft,\n  google,\n  huggingface,\n  slack,\n  spotify,\n  twitch,\n  twitter,\n  dropbox,\n  kick,\n  linear,\n  linkedin,\n  gitlab,\n  tiktok,\n  reddit,\n  roblox,\n  vk,\n  zoom,\n  notion\n};\nconst socialProviderList = Object.keys(socialProviders);\nconst SocialProviderListEnum = z.enum(socialProviderList).or(z.string());\n\nconst signInSocial = createAuthEndpoint(\n  \"/sign-in/social\",\n  {\n    method: \"POST\",\n    body: z.object({\n      /**\n       * Callback URL to redirect to after the user\n       * has signed in.\n       */\n      callbackURL: z.string().meta({\n        description: \"Callback URL to redirect to after the user has signed in\"\n      }).optional(),\n      /**\n       * callback url to redirect if the user is newly registered.\n       *\n       * useful if you have different routes for existing users and new users\n       */\n      newUserCallbackURL: z.string().optional(),\n      /**\n       * Callback url to redirect to if an error happens\n       *\n       * If it's initiated from the client sdk this defaults to\n       * the current url.\n       */\n      errorCallbackURL: z.string().meta({\n        description: \"Callback URL to redirect to if an error happens\"\n      }).optional(),\n      /**\n       * OAuth2 provider to use`\n       */\n      provider: SocialProviderListEnum,\n      /**\n       * Disable automatic redirection to the provider\n       *\n       * This is useful if you want to handle the redirection\n       * yourself like in a popup or a different tab.\n       */\n      disableRedirect: z.boolean().meta({\n        description: \"Disable automatic redirection to the provider. Useful for handling the redirection yourself\"\n      }).optional(),\n      /**\n       * ID token from the provider\n       *\n       * This is used to sign in the user\n       * if the user is already signed in with the\n       * provider in the frontend.\n       *\n       * Only applicable if the provider supports\n       * it. Currently only `apple` and `google` is\n       * supported out of the box.\n       */\n      idToken: z.optional(\n        z.object({\n          /**\n           * ID token from the provider\n           */\n          token: z.string().meta({\n            description: \"ID token from the provider\"\n          }),\n          /**\n           * The nonce used to generate the token\n           */\n          nonce: z.string().meta({\n            description: \"Nonce used to generate the token\"\n          }).optional(),\n          /**\n           * Access token from the provider\n           */\n          accessToken: z.string().meta({\n            description: \"Access token from the provider\"\n          }).optional(),\n          /**\n           * Refresh token from the provider\n           */\n          refreshToken: z.string().meta({\n            description: \"Refresh token from the provider\"\n          }).optional(),\n          /**\n           * Expiry date of the token\n           */\n          expiresAt: z.number().meta({\n            description: \"Expiry date of the token\"\n          }).optional()\n        })\n      ),\n      scopes: z.array(z.string()).meta({\n        description: \"Array of scopes to request from the provider. This will override the default scopes passed.\"\n      }).optional(),\n      /**\n       * Explicitly request sign-up\n       *\n       * Should be used to allow sign up when\n       * disableImplicitSignUp for this provider is\n       * true\n       */\n      requestSignUp: z.boolean().meta({\n        description: \"Explicitly request sign-up. Useful when disableImplicitSignUp is true for this provider\"\n      }).optional(),\n      /**\n       * The login hint to use for the authorization code request\n       */\n      loginHint: z.string().meta({\n        description: \"The login hint to use for the authorization code request\"\n      }).optional()\n    }),\n    metadata: {\n      openapi: {\n        description: \"Sign in with a social provider\",\n        operationId: \"socialSignIn\",\n        responses: {\n          \"200\": {\n            description: \"Success - Returns either session details or redirect URL\",\n            content: {\n              \"application/json\": {\n                schema: {\n                  // todo: we need support for multiple schema\n                  type: \"object\",\n                  description: \"Session response when idToken is provided\",\n                  properties: {\n                    redirect: {\n                      type: \"boolean\",\n                      enum: [false]\n                    },\n                    token: {\n                      type: \"string\",\n                      description: \"Session token\",\n                      url: {\n                        type: \"null\",\n                        nullable: true\n                      },\n                      user: {\n                        type: \"object\",\n                        properties: {\n                          id: { type: \"string\" },\n                          email: { type: \"string\" },\n                          name: {\n                            type: \"string\",\n                            nullable: true\n                          },\n                          image: {\n                            type: \"string\",\n                            nullable: true\n                          },\n                          emailVerified: {\n                            type: \"boolean\"\n                          },\n                          createdAt: {\n                            type: \"string\",\n                            format: \"date-time\"\n                          },\n                          updatedAt: {\n                            type: \"string\",\n                            format: \"date-time\"\n                          }\n                        },\n                        required: [\n                          \"id\",\n                          \"email\",\n                          \"emailVerified\",\n                          \"createdAt\",\n                          \"updatedAt\"\n                        ]\n                      }\n                    }\n                  },\n                  required: [\"redirect\", \"token\", \"user\"]\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  async (c) => {\n    const provider = c.context.socialProviders.find(\n      (p) => p.id === c.body.provider\n    );\n    if (!provider) {\n      c.context.logger.error(\n        \"Provider not found. Make sure to add the provider in your auth config\",\n        {\n          provider: c.body.provider\n        }\n      );\n      throw new APIError(\"NOT_FOUND\", {\n        message: BASE_ERROR_CODES.PROVIDER_NOT_FOUND\n      });\n    }\n    if (c.body.idToken) {\n      if (!provider.verifyIdToken) {\n        c.context.logger.error(\n          \"Provider does not support id token verification\",\n          {\n            provider: c.body.provider\n          }\n        );\n        throw new APIError(\"NOT_FOUND\", {\n          message: BASE_ERROR_CODES.ID_TOKEN_NOT_SUPPORTED\n        });\n      }\n      const { token, nonce } = c.body.idToken;\n      const valid = await provider.verifyIdToken(token, nonce);\n      if (!valid) {\n        c.context.logger.error(\"Invalid id token\", {\n          provider: c.body.provider\n        });\n        throw new APIError(\"UNAUTHORIZED\", {\n          message: BASE_ERROR_CODES.INVALID_TOKEN\n        });\n      }\n      const userInfo = await provider.getUserInfo({\n        idToken: token,\n        accessToken: c.body.idToken.accessToken,\n        refreshToken: c.body.idToken.refreshToken\n      });\n      if (!userInfo || !userInfo?.user) {\n        c.context.logger.error(\"Failed to get user info\", {\n          provider: c.body.provider\n        });\n        throw new APIError(\"UNAUTHORIZED\", {\n          message: BASE_ERROR_CODES.FAILED_TO_GET_USER_INFO\n        });\n      }\n      if (!userInfo.user.email) {\n        c.context.logger.error(\"User email not found\", {\n          provider: c.body.provider\n        });\n        throw new APIError(\"UNAUTHORIZED\", {\n          message: BASE_ERROR_CODES.USER_EMAIL_NOT_FOUND\n        });\n      }\n      const data = await handleOAuthUserInfo(c, {\n        userInfo: {\n          ...userInfo.user,\n          email: userInfo.user.email,\n          id: userInfo.user.id,\n          name: userInfo.user.name || \"\",\n          image: userInfo.user.image,\n          emailVerified: userInfo.user.emailVerified || false\n        },\n        account: {\n          providerId: provider.id,\n          accountId: userInfo.user.id,\n          accessToken: c.body.idToken.accessToken\n        },\n        callbackURL: c.body.callbackURL,\n        disableSignUp: provider.disableImplicitSignUp && !c.body.requestSignUp || provider.disableSignUp\n      });\n      if (data.error) {\n        throw new APIError(\"UNAUTHORIZED\", {\n          message: data.error\n        });\n      }\n      await setSessionCookie(c, data.data);\n      return c.json({\n        redirect: false,\n        token: data.data.session.token,\n        url: void 0,\n        user: {\n          id: data.data.user.id,\n          email: data.data.user.email,\n          name: data.data.user.name,\n          image: data.data.user.image,\n          emailVerified: data.data.user.emailVerified,\n          createdAt: data.data.user.createdAt,\n          updatedAt: data.data.user.updatedAt\n        }\n      });\n    }\n    const { codeVerifier, state } = await generateState(c);\n    const url = await provider.createAuthorizationURL({\n      state,\n      codeVerifier,\n      redirectURI: `${c.context.baseURL}/callback/${provider.id}`,\n      scopes: c.body.scopes,\n      loginHint: c.body.loginHint\n    });\n    return c.json({\n      url: url.toString(),\n      redirect: !c.body.disableRedirect\n    });\n  }\n);\nconst signInEmail = createAuthEndpoint(\n  \"/sign-in/email\",\n  {\n    method: \"POST\",\n    body: z.object({\n      /**\n       * Email of the user\n       */\n      email: z.string().meta({\n        description: \"Email of the user\"\n      }),\n      /**\n       * Password of the user\n       */\n      password: z.string().meta({\n        description: \"Password of the user\"\n      }),\n      /**\n       * Callback URL to use as a redirect for email\n       * verification and for possible redirects\n       */\n      callbackURL: z.string().meta({\n        description: \"Callback URL to use as a redirect for email verification\"\n      }).optional(),\n      /**\n       * If this is false, the session will not be remembered\n       * @default true\n       */\n      rememberMe: z.boolean().meta({\n        description: \"If this is false, the session will not be remembered. Default is `true`.\"\n      }).default(true).optional()\n    }),\n    metadata: {\n      openapi: {\n        description: \"Sign in with email and password\",\n        responses: {\n          \"200\": {\n            description: \"Success - Returns either session details or redirect URL\",\n            content: {\n              \"application/json\": {\n                schema: {\n                  // todo: we need support for multiple schema\n                  type: \"object\",\n                  description: \"Session response when idToken is provided\",\n                  properties: {\n                    redirect: {\n                      type: \"boolean\",\n                      enum: [false]\n                    },\n                    token: {\n                      type: \"string\",\n                      description: \"Session token\"\n                    },\n                    url: {\n                      type: \"null\",\n                      nullable: true\n                    },\n                    user: {\n                      type: \"object\",\n                      properties: {\n                        id: { type: \"string\" },\n                        email: { type: \"string\" },\n                        name: {\n                          type: \"string\",\n                          nullable: true\n                        },\n                        image: {\n                          type: \"string\",\n                          nullable: true\n                        },\n                        emailVerified: {\n                          type: \"boolean\"\n                        },\n                        createdAt: {\n                          type: \"string\",\n                          format: \"date-time\"\n                        },\n                        updatedAt: {\n                          type: \"string\",\n                          format: \"date-time\"\n                        }\n                      },\n                      required: [\n                        \"id\",\n                        \"email\",\n                        \"emailVerified\",\n                        \"createdAt\",\n                        \"updatedAt\"\n                      ]\n                    }\n                  },\n                  required: [\"redirect\", \"token\", \"user\"]\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  async (ctx) => {\n    if (!ctx.context.options?.emailAndPassword?.enabled) {\n      ctx.context.logger.error(\n        \"Email and password is not enabled. Make sure to enable it in the options on you `auth.ts` file. Check `https://better-auth.com/docs/authentication/email-password` for more!\"\n      );\n      throw new APIError(\"BAD_REQUEST\", {\n        message: \"Email and password is not enabled\"\n      });\n    }\n    const { email, password } = ctx.body;\n    const isValidEmail = z.string().email().safeParse(email);\n    if (!isValidEmail.success) {\n      throw new APIError(\"BAD_REQUEST\", {\n        message: BASE_ERROR_CODES.INVALID_EMAIL\n      });\n    }\n    const user = await ctx.context.internalAdapter.findUserByEmail(email, {\n      includeAccounts: true\n    });\n    if (!user) {\n      await ctx.context.password.hash(password);\n      ctx.context.logger.error(\"User not found\", { email });\n      throw new APIError(\"UNAUTHORIZED\", {\n        message: BASE_ERROR_CODES.INVALID_EMAIL_OR_PASSWORD\n      });\n    }\n    const credentialAccount = user.accounts.find(\n      (a) => a.providerId === \"credential\"\n    );\n    if (!credentialAccount) {\n      ctx.context.logger.error(\"Credential account not found\", { email });\n      throw new APIError(\"UNAUTHORIZED\", {\n        message: BASE_ERROR_CODES.INVALID_EMAIL_OR_PASSWORD\n      });\n    }\n    const currentPassword = credentialAccount?.password;\n    if (!currentPassword) {\n      ctx.context.logger.error(\"Password not found\", { email });\n      throw new APIError(\"UNAUTHORIZED\", {\n        message: BASE_ERROR_CODES.INVALID_EMAIL_OR_PASSWORD\n      });\n    }\n    const validPassword = await ctx.context.password.verify({\n      hash: currentPassword,\n      password\n    });\n    if (!validPassword) {\n      ctx.context.logger.error(\"Invalid password\");\n      throw new APIError(\"UNAUTHORIZED\", {\n        message: BASE_ERROR_CODES.INVALID_EMAIL_OR_PASSWORD\n      });\n    }\n    if (ctx.context.options?.emailAndPassword?.requireEmailVerification && !user.user.emailVerified) {\n      if (!ctx.context.options?.emailVerification?.sendVerificationEmail) {\n        throw new APIError(\"FORBIDDEN\", {\n          message: BASE_ERROR_CODES.EMAIL_NOT_VERIFIED\n        });\n      }\n      if (ctx.context.options?.emailVerification?.sendOnSignIn) {\n        const token = await createEmailVerificationToken(\n          ctx.context.secret,\n          user.user.email,\n          void 0,\n          ctx.context.options.emailVerification?.expiresIn\n        );\n        const url = `${ctx.context.baseURL}/verify-email?token=${token}&callbackURL=${ctx.body.callbackURL || \"/\"}`;\n        await ctx.context.options.emailVerification.sendVerificationEmail(\n          {\n            user: user.user,\n            url,\n            token\n          },\n          ctx.request\n        );\n      }\n      throw new APIError(\"FORBIDDEN\", {\n        message: BASE_ERROR_CODES.EMAIL_NOT_VERIFIED\n      });\n    }\n    const session = await ctx.context.internalAdapter.createSession(\n      user.user.id,\n      ctx,\n      ctx.body.rememberMe === false\n    );\n    if (!session) {\n      ctx.context.logger.error(\"Failed to create session\");\n      throw new APIError(\"UNAUTHORIZED\", {\n        message: BASE_ERROR_CODES.FAILED_TO_CREATE_SESSION\n      });\n    }\n    await setSessionCookie(\n      ctx,\n      {\n        session,\n        user: user.user\n      },\n      ctx.body.rememberMe === false\n    );\n    return ctx.json({\n      redirect: !!ctx.body.callbackURL,\n      token: session.token,\n      url: ctx.body.callbackURL,\n      user: {\n        id: user.user.id,\n        email: user.user.email,\n        name: user.user.name,\n        image: user.user.image,\n        emailVerified: user.user.emailVerified,\n        createdAt: user.user.createdAt,\n        updatedAt: user.user.updatedAt\n      }\n    });\n  }\n);\n\nconst schema = z.object({\n  code: z.string().optional(),\n  error: z.string().optional(),\n  device_id: z.string().optional(),\n  error_description: z.string().optional(),\n  state: z.string().optional(),\n  user: z.string().optional()\n});\nconst callbackOAuth = createAuthEndpoint(\n  \"/callback/:id\",\n  {\n    method: [\"GET\", \"POST\"],\n    body: schema.optional(),\n    query: schema.optional(),\n    metadata: HIDE_METADATA\n  },\n  async (c) => {\n    let queryOrBody;\n    const defaultErrorURL = c.context.options.onAPIError?.errorURL || `${c.context.baseURL}/error`;\n    try {\n      if (c.method === \"GET\") {\n        queryOrBody = schema.parse(c.query);\n      } else if (c.method === \"POST\") {\n        queryOrBody = schema.parse(c.body);\n      } else {\n        throw new Error(\"Unsupported method\");\n      }\n    } catch (e) {\n      c.context.logger.error(\"INVALID_CALLBACK_REQUEST\", e);\n      throw c.redirect(`${defaultErrorURL}?error=invalid_callback_request`);\n    }\n    const { code, error, state, error_description, device_id } = queryOrBody;\n    if (error) {\n      throw c.redirect(\n        `${defaultErrorURL}?error=${error}&error_description=${error_description}`\n      );\n    }\n    if (!state) {\n      c.context.logger.error(\"State not found\", error);\n      throw c.redirect(`${defaultErrorURL}?error=state_not_found`);\n    }\n    const {\n      codeVerifier,\n      callbackURL,\n      link,\n      errorURL,\n      newUserURL,\n      requestSignUp\n    } = await parseState(c);\n    function redirectOnError(error2) {\n      let url = errorURL || defaultErrorURL;\n      if (url.includes(\"?\")) {\n        url = `${url}&error=${error2}`;\n      } else {\n        url = `${url}?error=${error2}`;\n      }\n      throw c.redirect(url);\n    }\n    if (!code) {\n      c.context.logger.error(\"Code not found\");\n      throw redirectOnError(\"no_code\");\n    }\n    const provider = c.context.socialProviders.find(\n      (p) => p.id === c.params.id\n    );\n    if (!provider) {\n      c.context.logger.error(\n        \"Oauth provider with id\",\n        c.params.id,\n        \"not found\"\n      );\n      throw redirectOnError(\"oauth_provider_not_found\");\n    }\n    let tokens;\n    try {\n      tokens = await provider.validateAuthorizationCode({\n        code,\n        codeVerifier,\n        deviceId: device_id,\n        redirectURI: `${c.context.baseURL}/callback/${provider.id}`\n      });\n    } catch (e) {\n      c.context.logger.error(\"\", e);\n      throw redirectOnError(\"invalid_code\");\n    }\n    const userInfo = await provider.getUserInfo({\n      ...tokens,\n      user: c.body?.user ? safeJSONParse(c.body.user) : void 0\n    }).then((res) => res?.user);\n    if (!userInfo) {\n      c.context.logger.error(\"Unable to get user info\");\n      return redirectOnError(\"unable_to_get_user_info\");\n    }\n    if (!callbackURL) {\n      c.context.logger.error(\"No callback URL found\");\n      throw redirectOnError(\"no_callback_url\");\n    }\n    if (link) {\n      const trustedProviders = c.context.options.account?.accountLinking?.trustedProviders;\n      const isTrustedProvider = trustedProviders?.includes(\n        provider.id\n      );\n      if (!isTrustedProvider && !userInfo.emailVerified || c.context.options.account?.accountLinking?.enabled === false) {\n        c.context.logger.error(\"Unable to link account - untrusted provider\");\n        return redirectOnError(\"unable_to_link_account\");\n      }\n      const existingAccount = await c.context.internalAdapter.findAccount(\n        userInfo.id\n      );\n      if (existingAccount) {\n        if (existingAccount.userId.toString() !== link.userId.toString()) {\n          return redirectOnError(\"account_already_linked_to_different_user\");\n        }\n        const updateData = Object.fromEntries(\n          Object.entries({\n            accessToken: await setTokenUtil(tokens.accessToken, c.context),\n            refreshToken: await setTokenUtil(tokens.refreshToken, c.context),\n            idToken: tokens.idToken,\n            accessTokenExpiresAt: tokens.accessTokenExpiresAt,\n            refreshTokenExpiresAt: tokens.refreshTokenExpiresAt,\n            scope: tokens.scopes?.join(\",\")\n          }).filter(([_, value]) => value !== void 0)\n        );\n        await c.context.internalAdapter.updateAccount(\n          existingAccount.id,\n          updateData\n        );\n      } else {\n        const newAccount = await c.context.internalAdapter.createAccount(\n          {\n            userId: link.userId,\n            providerId: provider.id,\n            accountId: userInfo.id,\n            ...tokens,\n            accessToken: await setTokenUtil(tokens.accessToken, c.context),\n            refreshToken: await setTokenUtil(tokens.refreshToken, c.context),\n            scope: tokens.scopes?.join(\",\")\n          },\n          c\n        );\n        if (!newAccount) {\n          return redirectOnError(\"unable_to_link_account\");\n        }\n      }\n      let toRedirectTo2;\n      try {\n        const url = callbackURL;\n        toRedirectTo2 = url.toString();\n      } catch {\n        toRedirectTo2 = callbackURL;\n      }\n      throw c.redirect(toRedirectTo2);\n    }\n    if (!userInfo.email) {\n      c.context.logger.error(\n        \"Provider did not return email. This could be due to misconfiguration in the provider settings.\"\n      );\n      return redirectOnError(\"email_not_found\");\n    }\n    const result = await handleOAuthUserInfo(c, {\n      userInfo: {\n        ...userInfo,\n        email: userInfo.email,\n        name: userInfo.name || userInfo.email\n      },\n      account: {\n        providerId: provider.id,\n        accountId: userInfo.id,\n        ...tokens,\n        scope: tokens.scopes?.join(\",\")\n      },\n      callbackURL,\n      disableSignUp: provider.disableImplicitSignUp && !requestSignUp || provider.options?.disableSignUp,\n      overrideUserInfo: provider.options?.overrideUserInfoOnSignIn\n    });\n    if (result.error) {\n      c.context.logger.error(result.error.split(\" \").join(\"_\"));\n      return redirectOnError(result.error.split(\" \").join(\"_\"));\n    }\n    const { session, user } = result.data;\n    await setSessionCookie(c, {\n      session,\n      user\n    });\n    let toRedirectTo;\n    try {\n      const url = result.isRegister ? newUserURL || callbackURL : callbackURL;\n      toRedirectTo = url.toString();\n    } catch {\n      toRedirectTo = result.isRegister ? newUserURL || callbackURL : callbackURL;\n    }\n    throw c.redirect(toRedirectTo);\n  }\n);\n\nconst signOut = createAuthEndpoint(\n  \"/sign-out\",\n  {\n    method: \"POST\",\n    requireHeaders: true,\n    metadata: {\n      openapi: {\n        description: \"Sign out the current user\",\n        responses: {\n          \"200\": {\n            description: \"Success\",\n            content: {\n              \"application/json\": {\n                schema: {\n                  type: \"object\",\n                  properties: {\n                    success: {\n                      type: \"boolean\"\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  async (ctx) => {\n    const sessionCookieToken = await ctx.getSignedCookie(\n      ctx.context.authCookies.sessionToken.name,\n      ctx.context.secret\n    );\n    if (!sessionCookieToken) {\n      deleteSessionCookie(ctx);\n      throw new APIError(\"BAD_REQUEST\", {\n        message: BASE_ERROR_CODES.FAILED_TO_GET_SESSION\n      });\n    }\n    await ctx.context.internalAdapter.deleteSession(sessionCookieToken);\n    deleteSessionCookie(ctx);\n    return ctx.json({\n      success: true\n    });\n  }\n);\n\nfunction redirectError(ctx, callbackURL, query) {\n  const url = callbackURL ? new URL(callbackURL, ctx.baseURL) : new URL(`${ctx.baseURL}/error`);\n  if (query)\n    Object.entries(query).forEach(([k, v]) => url.searchParams.set(k, v));\n  return url.href;\n}\nfunction redirectCallback(ctx, callbackURL, query) {\n  const url = new URL(callbackURL, ctx.baseURL);\n  if (query)\n    Object.entries(query).forEach(([k, v]) => url.searchParams.set(k, v));\n  return url.href;\n}\nconst requestPasswordReset = createAuthEndpoint(\n  \"/request-password-reset\",\n  {\n    method: \"POST\",\n    body: z.object({\n      /**\n       * The email address of the user to send a password reset email to.\n       */\n      email: z.email().meta({\n        description: \"The email address of the user to send a password reset email to\"\n      }),\n      /**\n       * The URL to redirect the user to reset their password.\n       * If the token isn't valid or expired, it'll be redirected with a query parameter `?\n       * error=INVALID_TOKEN`. If the token is valid, it'll be redirected with a query parameter `?\n       * token=VALID_TOKEN\n       */\n      redirectTo: z.string().meta({\n        description: \"The URL to redirect the user to reset their password. If the token isn't valid or expired, it'll be redirected with a query parameter `?error=INVALID_TOKEN`. If the token is valid, it'll be redirected with a query parameter `?token=VALID_TOKEN\"\n      }).optional()\n    }),\n    metadata: {\n      openapi: {\n        description: \"Send a password reset email to the user\",\n        responses: {\n          \"200\": {\n            description: \"Success\",\n            content: {\n              \"application/json\": {\n                schema: {\n                  type: \"object\",\n                  properties: {\n                    status: {\n                      type: \"boolean\"\n                    },\n                    message: {\n                      type: \"string\"\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  async (ctx) => {\n    if (!ctx.context.options.emailAndPassword?.sendResetPassword) {\n      ctx.context.logger.error(\n        \"Reset password isn't enabled.Please pass an emailAndPassword.sendResetPassword function in your auth config!\"\n      );\n      throw new APIError(\"BAD_REQUEST\", {\n        message: \"Reset password isn't enabled\"\n      });\n    }\n    const { email, redirectTo } = ctx.body;\n    const user = await ctx.context.internalAdapter.findUserByEmail(email, {\n      includeAccounts: true\n    });\n    if (!user) {\n      ctx.context.logger.error(\"Reset Password: User not found\", { email });\n      return ctx.json({\n        status: true,\n        message: \"If this email exists in our system, check your email for the reset link\"\n      });\n    }\n    const defaultExpiresIn = 60 * 60 * 1;\n    const expiresAt = getDate(\n      ctx.context.options.emailAndPassword.resetPasswordTokenExpiresIn || defaultExpiresIn,\n      \"sec\"\n    );\n    const verificationToken = generateId(24);\n    await ctx.context.internalAdapter.createVerificationValue(\n      {\n        value: user.user.id,\n        identifier: `reset-password:${verificationToken}`,\n        expiresAt\n      },\n      ctx\n    );\n    const callbackURL = redirectTo ? encodeURIComponent(redirectTo) : \"\";\n    const url = `${ctx.context.baseURL}/reset-password/${verificationToken}?callbackURL=${callbackURL}`;\n    await ctx.context.options.emailAndPassword.sendResetPassword(\n      {\n        user: user.user,\n        url,\n        token: verificationToken\n      },\n      ctx.request\n    );\n    return ctx.json({\n      status: true\n    });\n  }\n);\nconst forgetPassword = createAuthEndpoint(\n  \"/forget-password\",\n  {\n    method: \"POST\",\n    body: z.object({\n      /**\n       * The email address of the user to send a password reset email to.\n       */\n      email: z.string().email().meta({\n        description: \"The email address of the user to send a password reset email to\"\n      }),\n      /**\n       * The URL to redirect the user to reset their password.\n       * If the token isn't valid or expired, it'll be redirected with a query parameter `?\n       * error=INVALID_TOKEN`. If the token is valid, it'll be redirected with a query parameter `?\n       * token=VALID_TOKEN\n       */\n      redirectTo: z.string().meta({\n        description: \"The URL to redirect the user to reset their password. If the token isn't valid or expired, it'll be redirected with a query parameter `?error=INVALID_TOKEN`. If the token is valid, it'll be redirected with a query parameter `?token=VALID_TOKEN\"\n      }).optional()\n    }),\n    metadata: {\n      openapi: {\n        description: \"Send a password reset email to the user\",\n        responses: {\n          \"200\": {\n            description: \"Success\",\n            content: {\n              \"application/json\": {\n                schema: {\n                  type: \"object\",\n                  properties: {\n                    status: {\n                      type: \"boolean\"\n                    },\n                    message: {\n                      type: \"string\"\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  async (ctx) => {\n    if (!ctx.context.options.emailAndPassword?.sendResetPassword) {\n      ctx.context.logger.error(\n        \"Reset password isn't enabled.Please pass an emailAndPassword.sendResetPassword function in your auth config!\"\n      );\n      throw new APIError(\"BAD_REQUEST\", {\n        message: \"Reset password isn't enabled\"\n      });\n    }\n    const { email, redirectTo } = ctx.body;\n    const user = await ctx.context.internalAdapter.findUserByEmail(email, {\n      includeAccounts: true\n    });\n    if (!user) {\n      ctx.context.logger.error(\"Reset Password: User not found\", { email });\n      return ctx.json({\n        status: true,\n        message: \"If this email exists in our system, check your email for the reset link\"\n      });\n    }\n    const defaultExpiresIn = 60 * 60 * 1;\n    const expiresAt = getDate(\n      ctx.context.options.emailAndPassword.resetPasswordTokenExpiresIn || defaultExpiresIn,\n      \"sec\"\n    );\n    const verificationToken = generateId(24);\n    await ctx.context.internalAdapter.createVerificationValue(\n      {\n        value: user.user.id,\n        identifier: `reset-password:${verificationToken}`,\n        expiresAt\n      },\n      ctx\n    );\n    const callbackURL = redirectTo ? encodeURIComponent(redirectTo) : \"\";\n    const url = `${ctx.context.baseURL}/reset-password/${verificationToken}?callbackURL=${callbackURL}`;\n    await ctx.context.options.emailAndPassword.sendResetPassword(\n      {\n        user: user.user,\n        url,\n        token: verificationToken\n      },\n      ctx.request\n    );\n    return ctx.json({\n      status: true\n    });\n  }\n);\nconst requestPasswordResetCallback = createAuthEndpoint(\n  \"/reset-password/:token\",\n  {\n    method: \"GET\",\n    query: z.object({\n      callbackURL: z.string().meta({\n        description: \"The URL to redirect the user to reset their password\"\n      })\n    }),\n    use: [originCheck((ctx) => ctx.query.callbackURL)],\n    metadata: {\n      openapi: {\n        description: \"Redirects the user to the callback URL with the token\",\n        responses: {\n          \"200\": {\n            description: \"Success\",\n            content: {\n              \"application/json\": {\n                schema: {\n                  type: \"object\",\n                  properties: {\n                    token: {\n                      type: \"string\"\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  async (ctx) => {\n    const { token } = ctx.params;\n    const { callbackURL } = ctx.query;\n    if (!token || !callbackURL) {\n      throw ctx.redirect(\n        redirectError(ctx.context, callbackURL, { error: \"INVALID_TOKEN\" })\n      );\n    }\n    const verification = await ctx.context.internalAdapter.findVerificationValue(\n      `reset-password:${token}`\n    );\n    if (!verification || verification.expiresAt < /* @__PURE__ */ new Date()) {\n      throw ctx.redirect(\n        redirectError(ctx.context, callbackURL, { error: \"INVALID_TOKEN\" })\n      );\n    }\n    throw ctx.redirect(redirectCallback(ctx.context, callbackURL, { token }));\n  }\n);\nconst forgetPasswordCallback = requestPasswordResetCallback;\nconst resetPassword = createAuthEndpoint(\n  \"/reset-password\",\n  {\n    method: \"POST\",\n    query: z.object({\n      token: z.string().optional()\n    }).optional(),\n    body: z.object({\n      newPassword: z.string().meta({\n        description: \"The new password to set\"\n      }),\n      token: z.string().meta({\n        description: \"The token to reset the password\"\n      }).optional()\n    }),\n    metadata: {\n      openapi: {\n        description: \"Reset the password for a user\",\n        responses: {\n          \"200\": {\n            description: \"Success\",\n            content: {\n              \"application/json\": {\n                schema: {\n                  type: \"object\",\n                  properties: {\n                    status: {\n                      type: \"boolean\"\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  async (ctx) => {\n    const token = ctx.body.token || ctx.query?.token;\n    if (!token) {\n      throw new APIError(\"BAD_REQUEST\", {\n        message: BASE_ERROR_CODES.INVALID_TOKEN\n      });\n    }\n    const { newPassword } = ctx.body;\n    const minLength = ctx.context.password?.config.minPasswordLength;\n    const maxLength = ctx.context.password?.config.maxPasswordLength;\n    if (newPassword.length < minLength) {\n      throw new APIError(\"BAD_REQUEST\", {\n        message: BASE_ERROR_CODES.PASSWORD_TOO_SHORT\n      });\n    }\n    if (newPassword.length > maxLength) {\n      throw new APIError(\"BAD_REQUEST\", {\n        message: BASE_ERROR_CODES.PASSWORD_TOO_LONG\n      });\n    }\n    const id = `reset-password:${token}`;\n    const verification = await ctx.context.internalAdapter.findVerificationValue(id);\n    if (!verification || verification.expiresAt < /* @__PURE__ */ new Date()) {\n      throw new APIError(\"BAD_REQUEST\", {\n        message: BASE_ERROR_CODES.INVALID_TOKEN\n      });\n    }\n    const userId = verification.value;\n    const hashedPassword = await ctx.context.password.hash(newPassword);\n    const accounts = await ctx.context.internalAdapter.findAccounts(userId);\n    const account = accounts.find((ac) => ac.providerId === \"credential\");\n    if (!account) {\n      await ctx.context.internalAdapter.createAccount(\n        {\n          userId,\n          providerId: \"credential\",\n          password: hashedPassword,\n          accountId: userId\n        },\n        ctx\n      );\n    } else {\n      await ctx.context.internalAdapter.updatePassword(\n        userId,\n        hashedPassword,\n        ctx\n      );\n    }\n    await ctx.context.internalAdapter.deleteVerificationValue(verification.id);\n    if (ctx.context.options.emailAndPassword?.onPasswordReset) {\n      const user = await ctx.context.internalAdapter.findUserById(userId);\n      if (user) {\n        await ctx.context.options.emailAndPassword.onPasswordReset(\n          {\n            user\n          },\n          ctx.request\n        );\n      }\n    }\n    if (ctx.context.options.emailAndPassword?.revokeSessionsOnPasswordReset) {\n      await ctx.context.internalAdapter.deleteSessions(userId);\n    }\n    return ctx.json({\n      status: true\n    });\n  }\n);\n\nconst updateUser = () => createAuthEndpoint(\n  \"/update-user\",\n  {\n    method: \"POST\",\n    body: z.record(\n      z.string().meta({\n        description: \"Field name must be a string\"\n      }),\n      z.any()\n    ),\n    use: [sessionMiddleware],\n    metadata: {\n      $Infer: {\n        body: {}\n      },\n      openapi: {\n        description: \"Update the current user\",\n        requestBody: {\n          content: {\n            \"application/json\": {\n              schema: {\n                type: \"object\",\n                properties: {\n                  name: {\n                    type: \"string\",\n                    description: \"The name of the user\"\n                  },\n                  image: {\n                    type: \"string\",\n                    description: \"The image of the user\"\n                  }\n                }\n              }\n            }\n          }\n        },\n        responses: {\n          \"200\": {\n            description: \"Success\",\n            content: {\n              \"application/json\": {\n                schema: {\n                  type: \"object\",\n                  properties: {\n                    status: {\n                      type: \"boolean\",\n                      description: \"Indicates if the update was successful\"\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  async (ctx) => {\n    const body = ctx.body;\n    if (body.email) {\n      throw new APIError(\"BAD_REQUEST\", {\n        message: BASE_ERROR_CODES.EMAIL_CAN_NOT_BE_UPDATED\n      });\n    }\n    const { name, image, ...rest } = body;\n    const session = ctx.context.session;\n    if (image === void 0 && name === void 0 && Object.keys(rest).length === 0) {\n      return ctx.json({\n        status: true\n      });\n    }\n    const additionalFields = parseUserInput(\n      ctx.context.options,\n      rest,\n      \"update\"\n    );\n    const user = await ctx.context.internalAdapter.updateUser(\n      session.user.id,\n      {\n        name,\n        image,\n        ...additionalFields\n      },\n      ctx\n    );\n    await setSessionCookie(ctx, {\n      session: session.session,\n      user\n    });\n    return ctx.json({\n      status: true\n    });\n  }\n);\nconst changePassword = createAuthEndpoint(\n  \"/change-password\",\n  {\n    method: \"POST\",\n    body: z.object({\n      /**\n       * The new password to set\n       */\n      newPassword: z.string().meta({\n        description: \"The new password to set\"\n      }),\n      /**\n       * The current password of the user\n       */\n      currentPassword: z.string().meta({\n        description: \"The current password is required\"\n      }),\n      /**\n       * revoke all sessions that are not the\n       * current one logged in by the user\n       */\n      revokeOtherSessions: z.boolean().meta({\n        description: \"Must be a boolean value\"\n      }).optional()\n    }),\n    use: [sessionMiddleware],\n    metadata: {\n      openapi: {\n        description: \"Change the password of the user\",\n        responses: {\n          \"200\": {\n            description: \"Password successfully changed\",\n            content: {\n              \"application/json\": {\n                schema: {\n                  type: \"object\",\n                  properties: {\n                    token: {\n                      type: \"string\",\n                      nullable: true,\n                      // Only present if revokeOtherSessions is true\n                      description: \"New session token if other sessions were revoked\"\n                    },\n                    user: {\n                      type: \"object\",\n                      properties: {\n                        id: {\n                          type: \"string\",\n                          description: \"The unique identifier of the user\"\n                        },\n                        email: {\n                          type: \"string\",\n                          format: \"email\",\n                          description: \"The email address of the user\"\n                        },\n                        name: {\n                          type: \"string\",\n                          description: \"The name of the user\"\n                        },\n                        image: {\n                          type: \"string\",\n                          format: \"uri\",\n                          nullable: true,\n                          description: \"The profile image URL of the user\"\n                        },\n                        emailVerified: {\n                          type: \"boolean\",\n                          description: \"Whether the email has been verified\"\n                        },\n                        createdAt: {\n                          type: \"string\",\n                          format: \"date-time\",\n                          description: \"When the user was created\"\n                        },\n                        updatedAt: {\n                          type: \"string\",\n                          format: \"date-time\",\n                          description: \"When the user was last updated\"\n                        }\n                      },\n                      required: [\n                        \"id\",\n                        \"email\",\n                        \"name\",\n                        \"emailVerified\",\n                        \"createdAt\",\n                        \"updatedAt\"\n                      ]\n                    }\n                  },\n                  required: [\"user\"]\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  async (ctx) => {\n    const { newPassword, currentPassword, revokeOtherSessions } = ctx.body;\n    const session = ctx.context.session;\n    const minPasswordLength = ctx.context.password.config.minPasswordLength;\n    if (newPassword.length < minPasswordLength) {\n      ctx.context.logger.error(\"Password is too short\");\n      throw new APIError(\"BAD_REQUEST\", {\n        message: BASE_ERROR_CODES.PASSWORD_TOO_SHORT\n      });\n    }\n    const maxPasswordLength = ctx.context.password.config.maxPasswordLength;\n    if (newPassword.length > maxPasswordLength) {\n      ctx.context.logger.error(\"Password is too long\");\n      throw new APIError(\"BAD_REQUEST\", {\n        message: BASE_ERROR_CODES.PASSWORD_TOO_LONG\n      });\n    }\n    const accounts = await ctx.context.internalAdapter.findAccounts(\n      session.user.id\n    );\n    const account = accounts.find(\n      (account2) => account2.providerId === \"credential\" && account2.password\n    );\n    if (!account || !account.password) {\n      throw new APIError(\"BAD_REQUEST\", {\n        message: BASE_ERROR_CODES.CREDENTIAL_ACCOUNT_NOT_FOUND\n      });\n    }\n    const passwordHash = await ctx.context.password.hash(newPassword);\n    const verify = await ctx.context.password.verify({\n      hash: account.password,\n      password: currentPassword\n    });\n    if (!verify) {\n      throw new APIError(\"BAD_REQUEST\", {\n        message: BASE_ERROR_CODES.INVALID_PASSWORD\n      });\n    }\n    await ctx.context.internalAdapter.updateAccount(account.id, {\n      password: passwordHash\n    });\n    let token = null;\n    if (revokeOtherSessions) {\n      await ctx.context.internalAdapter.deleteSessions(session.user.id);\n      const newSession = await ctx.context.internalAdapter.createSession(\n        session.user.id,\n        ctx\n      );\n      if (!newSession) {\n        throw new APIError(\"INTERNAL_SERVER_ERROR\", {\n          message: BASE_ERROR_CODES.FAILED_TO_GET_SESSION\n        });\n      }\n      await setSessionCookie(ctx, {\n        session: newSession,\n        user: session.user\n      });\n      token = newSession.token;\n    }\n    return ctx.json({\n      token,\n      user: {\n        id: session.user.id,\n        email: session.user.email,\n        name: session.user.name,\n        image: session.user.image,\n        emailVerified: session.user.emailVerified,\n        createdAt: session.user.createdAt,\n        updatedAt: session.user.updatedAt\n      }\n    });\n  }\n);\nconst setPassword = createAuthEndpoint(\n  \"/set-password\",\n  {\n    method: \"POST\",\n    body: z.object({\n      /**\n       * The new password to set\n       */\n      newPassword: z.string().meta({\n        description: \"The new password to set is required\"\n      })\n    }),\n    metadata: {\n      SERVER_ONLY: true\n    },\n    use: [sessionMiddleware]\n  },\n  async (ctx) => {\n    const { newPassword } = ctx.body;\n    const session = ctx.context.session;\n    const minPasswordLength = ctx.context.password.config.minPasswordLength;\n    if (newPassword.length < minPasswordLength) {\n      ctx.context.logger.error(\"Password is too short\");\n      throw new APIError(\"BAD_REQUEST\", {\n        message: BASE_ERROR_CODES.PASSWORD_TOO_SHORT\n      });\n    }\n    const maxPasswordLength = ctx.context.password.config.maxPasswordLength;\n    if (newPassword.length > maxPasswordLength) {\n      ctx.context.logger.error(\"Password is too long\");\n      throw new APIError(\"BAD_REQUEST\", {\n        message: BASE_ERROR_CODES.PASSWORD_TOO_LONG\n      });\n    }\n    const accounts = await ctx.context.internalAdapter.findAccounts(\n      session.user.id\n    );\n    const account = accounts.find(\n      (account2) => account2.providerId === \"credential\" && account2.password\n    );\n    const passwordHash = await ctx.context.password.hash(newPassword);\n    if (!account) {\n      await ctx.context.internalAdapter.linkAccount(\n        {\n          userId: session.user.id,\n          providerId: \"credential\",\n          accountId: session.user.id,\n          password: passwordHash\n        },\n        ctx\n      );\n      return ctx.json({\n        status: true\n      });\n    }\n    throw new APIError(\"BAD_REQUEST\", {\n      message: \"user already has a password\"\n    });\n  }\n);\nconst deleteUser = createAuthEndpoint(\n  \"/delete-user\",\n  {\n    method: \"POST\",\n    use: [sessionMiddleware],\n    body: z.object({\n      /**\n       * The callback URL to redirect to after the user is deleted\n       * this is only used on delete user callback\n       */\n      callbackURL: z.string().meta({\n        description: \"The callback URL to redirect to after the user is deleted\"\n      }).optional(),\n      /**\n       * The password of the user. If the password isn't provided, session freshness\n       * will be checked.\n       */\n      password: z.string().meta({\n        description: \"The password of the user is required to delete the user\"\n      }).optional(),\n      /**\n       * The token to delete the user. If the token is provided, the user will be deleted\n       */\n      token: z.string().meta({\n        description: \"The token to delete the user is required\"\n      }).optional()\n    }),\n    metadata: {\n      openapi: {\n        description: \"Delete the user\",\n        responses: {\n          \"200\": {\n            description: \"User deletion processed successfully\",\n            content: {\n              \"application/json\": {\n                schema: {\n                  type: \"object\",\n                  properties: {\n                    success: {\n                      type: \"boolean\",\n                      description: \"Indicates if the operation was successful\"\n                    },\n                    message: {\n                      type: \"string\",\n                      enum: [\"User deleted\", \"Verification email sent\"],\n                      description: \"Status message of the deletion process\"\n                    }\n                  },\n                  required: [\"success\", \"message\"]\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  async (ctx) => {\n    if (!ctx.context.options.user?.deleteUser?.enabled) {\n      ctx.context.logger.error(\n        \"Delete user is disabled. Enable it in the options\",\n        {\n          session: ctx.context.session\n        }\n      );\n      throw new APIError(\"NOT_FOUND\");\n    }\n    const session = ctx.context.session;\n    if (ctx.body.password) {\n      const accounts = await ctx.context.internalAdapter.findAccounts(\n        session.user.id\n      );\n      const account = accounts.find(\n        (account2) => account2.providerId === \"credential\" && account2.password\n      );\n      if (!account || !account.password) {\n        throw new APIError(\"BAD_REQUEST\", {\n          message: BASE_ERROR_CODES.CREDENTIAL_ACCOUNT_NOT_FOUND\n        });\n      }\n      const verify = await ctx.context.password.verify({\n        hash: account.password,\n        password: ctx.body.password\n      });\n      if (!verify) {\n        throw new APIError(\"BAD_REQUEST\", {\n          message: BASE_ERROR_CODES.INVALID_PASSWORD\n        });\n      }\n    }\n    if (ctx.body.token) {\n      await deleteUserCallback({\n        ...ctx,\n        query: {\n          token: ctx.body.token\n        }\n      });\n      return ctx.json({\n        success: true,\n        message: \"User deleted\"\n      });\n    }\n    if (ctx.context.options.user.deleteUser?.sendDeleteAccountVerification) {\n      const token = generateRandomString(32, \"0-9\", \"a-z\");\n      await ctx.context.internalAdapter.createVerificationValue(\n        {\n          value: session.user.id,\n          identifier: `delete-account-${token}`,\n          expiresAt: new Date(\n            Date.now() + (ctx.context.options.user.deleteUser?.deleteTokenExpiresIn || 60 * 60 * 24) * 1e3\n          )\n        },\n        ctx\n      );\n      const url = `${ctx.context.baseURL}/delete-user/callback?token=${token}&callbackURL=${ctx.body.callbackURL || \"/\"}`;\n      await ctx.context.options.user.deleteUser.sendDeleteAccountVerification(\n        {\n          user: session.user,\n          url,\n          token\n        },\n        ctx.request\n      );\n      return ctx.json({\n        success: true,\n        message: \"Verification email sent\"\n      });\n    }\n    if (!ctx.body.password && ctx.context.sessionConfig.freshAge !== 0) {\n      const currentAge = session.session.createdAt.getTime();\n      const freshAge = ctx.context.sessionConfig.freshAge * 1e3;\n      const now = Date.now();\n      if (now - currentAge > freshAge * 1e3) {\n        throw new APIError(\"BAD_REQUEST\", {\n          message: BASE_ERROR_CODES.SESSION_EXPIRED\n        });\n      }\n    }\n    const beforeDelete = ctx.context.options.user.deleteUser?.beforeDelete;\n    if (beforeDelete) {\n      await beforeDelete(session.user, ctx.request);\n    }\n    await ctx.context.internalAdapter.deleteUser(session.user.id);\n    await ctx.context.internalAdapter.deleteSessions(session.user.id);\n    await ctx.context.internalAdapter.deleteAccounts(session.user.id);\n    deleteSessionCookie(ctx);\n    const afterDelete = ctx.context.options.user.deleteUser?.afterDelete;\n    if (afterDelete) {\n      await afterDelete(session.user, ctx.request);\n    }\n    return ctx.json({\n      success: true,\n      message: \"User deleted\"\n    });\n  }\n);\nconst deleteUserCallback = createAuthEndpoint(\n  \"/delete-user/callback\",\n  {\n    method: \"GET\",\n    query: z.object({\n      token: z.string().meta({\n        description: \"The token to verify the deletion request\"\n      }),\n      callbackURL: z.string().meta({\n        description: \"The URL to redirect to after deletion\"\n      }).optional()\n    }),\n    use: [originCheck((ctx) => ctx.query.callbackURL)],\n    metadata: {\n      openapi: {\n        description: \"Callback to complete user deletion with verification token\",\n        responses: {\n          \"200\": {\n            description: \"User successfully deleted\",\n            content: {\n              \"application/json\": {\n                schema: {\n                  type: \"object\",\n                  properties: {\n                    success: {\n                      type: \"boolean\",\n                      description: \"Indicates if the deletion was successful\"\n                    },\n                    message: {\n                      type: \"string\",\n                      enum: [\"User deleted\"],\n                      description: \"Confirmation message\"\n                    }\n                  },\n                  required: [\"success\", \"message\"]\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  async (ctx) => {\n    if (!ctx.context.options.user?.deleteUser?.enabled) {\n      ctx.context.logger.error(\n        \"Delete user is disabled. Enable it in the options\"\n      );\n      throw new APIError(\"NOT_FOUND\");\n    }\n    const session = await getSessionFromCtx(ctx);\n    if (!session) {\n      throw new APIError(\"NOT_FOUND\", {\n        message: BASE_ERROR_CODES.FAILED_TO_GET_USER_INFO\n      });\n    }\n    const token = await ctx.context.internalAdapter.findVerificationValue(\n      `delete-account-${ctx.query.token}`\n    );\n    if (!token || token.expiresAt < /* @__PURE__ */ new Date()) {\n      throw new APIError(\"NOT_FOUND\", {\n        message: BASE_ERROR_CODES.INVALID_TOKEN\n      });\n    }\n    if (token.value !== session.user.id) {\n      throw new APIError(\"NOT_FOUND\", {\n        message: BASE_ERROR_CODES.INVALID_TOKEN\n      });\n    }\n    const beforeDelete = ctx.context.options.user.deleteUser?.beforeDelete;\n    if (beforeDelete) {\n      await beforeDelete(session.user, ctx.request);\n    }\n    await ctx.context.internalAdapter.deleteUser(session.user.id);\n    await ctx.context.internalAdapter.deleteSessions(session.user.id);\n    await ctx.context.internalAdapter.deleteAccounts(session.user.id);\n    await ctx.context.internalAdapter.deleteVerificationValue(token.id);\n    deleteSessionCookie(ctx);\n    const afterDelete = ctx.context.options.user.deleteUser?.afterDelete;\n    if (afterDelete) {\n      await afterDelete(session.user, ctx.request);\n    }\n    if (ctx.query.callbackURL) {\n      throw ctx.redirect(ctx.query.callbackURL || \"/\");\n    }\n    return ctx.json({\n      success: true,\n      message: \"User deleted\"\n    });\n  }\n);\nconst changeEmail = createAuthEndpoint(\n  \"/change-email\",\n  {\n    method: \"POST\",\n    body: z.object({\n      newEmail: z.email().meta({\n        description: \"The new email address to set must be a valid email address\"\n      }),\n      callbackURL: z.string().meta({\n        description: \"The URL to redirect to after email verification\"\n      }).optional()\n    }),\n    use: [sessionMiddleware],\n    metadata: {\n      openapi: {\n        responses: {\n          \"200\": {\n            description: \"Email change request processed successfully\",\n            content: {\n              \"application/json\": {\n                schema: {\n                  type: \"object\",\n                  properties: {\n                    status: {\n                      type: \"boolean\",\n                      description: \"Indicates if the request was successful\"\n                    },\n                    message: {\n                      type: \"string\",\n                      enum: [\"Email updated\", \"Verification email sent\"],\n                      description: \"Status message of the email change process\",\n                      nullable: true\n                    }\n                  },\n                  required: [\"status\"]\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  async (ctx) => {\n    if (!ctx.context.options.user?.changeEmail?.enabled) {\n      ctx.context.logger.error(\"Change email is disabled.\");\n      throw new APIError(\"BAD_REQUEST\", {\n        message: \"Change email is disabled\"\n      });\n    }\n    const newEmail = ctx.body.newEmail.toLowerCase();\n    if (newEmail === ctx.context.session.user.email) {\n      ctx.context.logger.error(\"Email is the same\");\n      throw new APIError(\"BAD_REQUEST\", {\n        message: \"Email is the same\"\n      });\n    }\n    const existingUser = await ctx.context.internalAdapter.findUserByEmail(newEmail);\n    if (existingUser) {\n      ctx.context.logger.error(\"Email already exists\");\n      throw new APIError(\"BAD_REQUEST\", {\n        message: \"Couldn't update your email\"\n      });\n    }\n    if (ctx.context.session.user.emailVerified !== true) {\n      const existing = await ctx.context.internalAdapter.findUserByEmail(newEmail);\n      if (existing) {\n        throw new APIError(\"UNPROCESSABLE_ENTITY\", {\n          message: BASE_ERROR_CODES.USER_ALREADY_EXISTS\n        });\n      }\n      await ctx.context.internalAdapter.updateUserByEmail(\n        ctx.context.session.user.email,\n        {\n          email: newEmail\n        },\n        ctx\n      );\n      await setSessionCookie(ctx, {\n        session: ctx.context.session.session,\n        user: {\n          ...ctx.context.session.user,\n          email: newEmail\n        }\n      });\n      if (ctx.context.options.emailVerification?.sendVerificationEmail) {\n        const token2 = await createEmailVerificationToken(\n          ctx.context.secret,\n          newEmail,\n          void 0,\n          ctx.context.options.emailVerification?.expiresIn\n        );\n        const url2 = `${ctx.context.baseURL}/verify-email?token=${token2}&callbackURL=${ctx.body.callbackURL || \"/\"}`;\n        await ctx.context.options.emailVerification.sendVerificationEmail(\n          {\n            user: {\n              ...ctx.context.session.user,\n              email: newEmail\n            },\n            url: url2,\n            token: token2\n          },\n          ctx.request\n        );\n      }\n      return ctx.json({\n        status: true\n      });\n    }\n    if (!ctx.context.options.user.changeEmail.sendChangeEmailVerification) {\n      ctx.context.logger.error(\"Verification email isn't enabled.\");\n      throw new APIError(\"BAD_REQUEST\", {\n        message: \"Verification email isn't enabled\"\n      });\n    }\n    const token = await createEmailVerificationToken(\n      ctx.context.secret,\n      ctx.context.session.user.email,\n      newEmail,\n      ctx.context.options.emailVerification?.expiresIn\n    );\n    const url = `${ctx.context.baseURL}/verify-email?token=${token}&callbackURL=${ctx.body.callbackURL || \"/\"}`;\n    await ctx.context.options.user.changeEmail.sendChangeEmailVerification(\n      {\n        user: ctx.context.session.user,\n        newEmail,\n        url,\n        token\n      },\n      ctx.request\n    );\n    return ctx.json({\n      status: true\n    });\n  }\n);\n\nfunction sanitize(input) {\n  return input.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#39;\");\n}\nconst html = (errorCode = \"Unknown\") => `<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Authentication Error</title>\n    <style>\n        :root {\n            --bg-color: #f8f9fa;\n            --text-color: #212529;\n            --accent-color: #000000;\n            --error-color: #dc3545;\n            --border-color: #e9ecef;\n        }\n        body {\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\n            background-color: var(--bg-color);\n            color: var(--text-color);\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 100vh;\n            margin: 0;\n            line-height: 1.5;\n        }\n        .error-container {\n            background-color: #ffffff;\n            border-radius: 12px;\n            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);\n            padding: 2.5rem;\n            text-align: center;\n            max-width: 90%;\n            width: 400px;\n        }\n        h1 {\n            color: var(--error-color);\n            font-size: 1.75rem;\n            margin-bottom: 1rem;\n            font-weight: 600;\n        }\n        p {\n            margin-bottom: 1.5rem;\n            color: #495057;\n        }\n        .btn {\n            background-color: var(--accent-color);\n            color: #ffffff;\n            text-decoration: none;\n            padding: 0.75rem 1.5rem;\n            border-radius: 6px;\n            transition: all 0.3s ease;\n            display: inline-block;\n            font-weight: 500;\n            border: 2px solid var(--accent-color);\n        }\n        .btn:hover {\n            background-color: #131721;\n        }\n        .error-code {\n            font-size: 0.875rem;\n            color: #6c757d;\n            margin-top: 1.5rem;\n            padding-top: 1.5rem;\n            border-top: 1px solid var(--border-color);\n        }\n        .icon {\n            font-size: 3rem;\n            margin-bottom: 1rem;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"icon\">\\u26A0\\uFE0F</div>\n        <h1>Better Auth Error</h1>\n        <p>We encountered an issue while processing your request. Please try again or contact the application owner if the problem persists.</p>\n        <a href=\"/\" id=\"returnLink\" class=\"btn\">Return to Application</a>\n        <div class=\"error-code\">Error Code: <span id=\"errorCode\">${sanitize(\n  errorCode\n)}</span></div>\n    </div>\n</body>\n</html>`;\nconst error = createAuthEndpoint(\n  \"/error\",\n  {\n    method: \"GET\",\n    metadata: {\n      ...HIDE_METADATA,\n      openapi: {\n        description: \"Displays an error page\",\n        responses: {\n          \"200\": {\n            description: \"Success\",\n            content: {\n              \"text/html\": {\n                schema: {\n                  type: \"string\",\n                  description: \"The HTML content of the error page\"\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  async (c) => {\n    const query = new URL(c.request?.url || \"\").searchParams.get(\"error\") || \"Unknown\";\n    return new Response(html(query), {\n      headers: {\n        \"Content-Type\": \"text/html\"\n      }\n    });\n  }\n);\n\nconst ok = createAuthEndpoint(\n  \"/ok\",\n  {\n    method: \"GET\",\n    metadata: {\n      ...HIDE_METADATA,\n      openapi: {\n        description: \"Check if the API is working\",\n        responses: {\n          \"200\": {\n            description: \"API is working\",\n            content: {\n              \"application/json\": {\n                schema: {\n                  type: \"object\",\n                  properties: {\n                    ok: {\n                      type: \"boolean\",\n                      description: \"Indicates if the API is working\"\n                    }\n                  },\n                  required: [\"ok\"]\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  async (ctx) => {\n    return ctx.json({\n      ok: true\n    });\n  }\n);\n\nconst listUserAccounts = createAuthEndpoint(\n  \"/list-accounts\",\n  {\n    method: \"GET\",\n    use: [sessionMiddleware],\n    metadata: {\n      openapi: {\n        description: \"List all accounts linked to the user\",\n        responses: {\n          \"200\": {\n            description: \"Success\",\n            content: {\n              \"application/json\": {\n                schema: {\n                  type: \"array\",\n                  items: {\n                    type: \"object\",\n                    properties: {\n                      id: {\n                        type: \"string\"\n                      },\n                      provider: {\n                        type: \"string\"\n                      },\n                      createdAt: {\n                        type: \"string\",\n                        format: \"date-time\"\n                      },\n                      updatedAt: {\n                        type: \"string\",\n                        format: \"date-time\"\n                      }\n                    },\n                    accountId: {\n                      type: \"string\"\n                    },\n                    scopes: {\n                      type: \"array\",\n                      items: {\n                        type: \"string\"\n                      }\n                    }\n                  },\n                  required: [\n                    \"id\",\n                    \"provider\",\n                    \"createdAt\",\n                    \"updatedAt\",\n                    \"accountId\",\n                    \"scopes\"\n                  ]\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  async (c) => {\n    const session = c.context.session;\n    const accounts = await c.context.internalAdapter.findAccounts(\n      session.user.id\n    );\n    return c.json(\n      accounts.map((a) => ({\n        id: a.id,\n        provider: a.providerId,\n        createdAt: a.createdAt,\n        updatedAt: a.updatedAt,\n        accountId: a.accountId,\n        scopes: a.scope?.split(\",\") || []\n      }))\n    );\n  }\n);\nconst linkSocialAccount = createAuthEndpoint(\n  \"/link-social\",\n  {\n    method: \"POST\",\n    requireHeaders: true,\n    body: z.object({\n      /**\n       * Callback URL to redirect to after the user has signed in.\n       */\n      callbackURL: z.string().meta({\n        description: \"The URL to redirect to after the user has signed in\"\n      }).optional(),\n      /**\n       * OAuth2 provider to use\n       */\n      provider: SocialProviderListEnum,\n      /**\n       * ID Token for direct authentication without redirect\n       */\n      idToken: z.object({\n        token: z.string(),\n        nonce: z.string().optional(),\n        accessToken: z.string().optional(),\n        refreshToken: z.string().optional(),\n        scopes: z.array(z.string()).optional()\n      }).optional(),\n      /**\n       * Whether to allow sign up for new users\n       */\n      requestSignUp: z.boolean().optional(),\n      /**\n       * Additional scopes to request when linking the account.\n       * This is useful for requesting additional permissions when\n       * linking a social account compared to the initial authentication.\n       */\n      scopes: z.array(z.string()).meta({\n        description: \"Additional scopes to request from the provider\"\n      }).optional(),\n      /**\n       * The URL to redirect to if there is an error during the link process.\n       */\n      errorCallbackURL: z.string().meta({\n        description: \"The URL to redirect to if there is an error during the link process\"\n      }).optional()\n    }),\n    use: [sessionMiddleware],\n    metadata: {\n      openapi: {\n        description: \"Link a social account to the user\",\n        responses: {\n          \"200\": {\n            description: \"Success\",\n            content: {\n              \"application/json\": {\n                schema: {\n                  type: \"object\",\n                  properties: {\n                    url: {\n                      type: \"string\",\n                      description: \"The authorization URL to redirect the user to\"\n                    },\n                    redirect: {\n                      type: \"boolean\",\n                      description: \"Indicates if the user should be redirected to the authorization URL\"\n                    },\n                    status: {\n                      type: \"boolean\"\n                    }\n                  },\n                  required: [\"redirect\"]\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  async (c) => {\n    const session = c.context.session;\n    const provider = c.context.socialProviders.find(\n      (p) => p.id === c.body.provider\n    );\n    if (!provider) {\n      c.context.logger.error(\n        \"Provider not found. Make sure to add the provider in your auth config\",\n        {\n          provider: c.body.provider\n        }\n      );\n      throw new APIError(\"NOT_FOUND\", {\n        message: BASE_ERROR_CODES.PROVIDER_NOT_FOUND\n      });\n    }\n    if (c.body.idToken) {\n      if (!provider.verifyIdToken) {\n        c.context.logger.error(\n          \"Provider does not support id token verification\",\n          {\n            provider: c.body.provider\n          }\n        );\n        throw new APIError(\"NOT_FOUND\", {\n          message: BASE_ERROR_CODES.ID_TOKEN_NOT_SUPPORTED\n        });\n      }\n      const { token, nonce } = c.body.idToken;\n      const valid = await provider.verifyIdToken(token, nonce);\n      if (!valid) {\n        c.context.logger.error(\"Invalid id token\", {\n          provider: c.body.provider\n        });\n        throw new APIError(\"UNAUTHORIZED\", {\n          message: BASE_ERROR_CODES.INVALID_TOKEN\n        });\n      }\n      const linkingUserInfo = await provider.getUserInfo({\n        idToken: token,\n        accessToken: c.body.idToken.accessToken,\n        refreshToken: c.body.idToken.refreshToken\n      });\n      if (!linkingUserInfo || !linkingUserInfo?.user) {\n        c.context.logger.error(\"Failed to get user info\", {\n          provider: c.body.provider\n        });\n        throw new APIError(\"UNAUTHORIZED\", {\n          message: BASE_ERROR_CODES.FAILED_TO_GET_USER_INFO\n        });\n      }\n      if (!linkingUserInfo.user.email) {\n        c.context.logger.error(\"User email not found\", {\n          provider: c.body.provider\n        });\n        throw new APIError(\"UNAUTHORIZED\", {\n          message: BASE_ERROR_CODES.USER_EMAIL_NOT_FOUND\n        });\n      }\n      const existingAccounts = await c.context.internalAdapter.findAccounts(\n        session.user.id\n      );\n      const hasBeenLinked = existingAccounts.find(\n        (a) => a.providerId === provider.id && a.accountId === linkingUserInfo.user.id\n      );\n      if (hasBeenLinked) {\n        return c.json({\n          redirect: false,\n          url: \"\",\n          // this is for type inference\n          status: true\n        });\n      }\n      const trustedProviders = c.context.options.account?.accountLinking?.trustedProviders;\n      const isTrustedProvider = trustedProviders?.includes(provider.id);\n      if (!isTrustedProvider && !linkingUserInfo.user.emailVerified || c.context.options.account?.accountLinking?.enabled === false) {\n        throw new APIError(\"UNAUTHORIZED\", {\n          message: \"Account not linked - linking not allowed\"\n        });\n      }\n      if (linkingUserInfo.user.email !== session.user.email && c.context.options.account?.accountLinking?.allowDifferentEmails !== true) {\n        throw new APIError(\"UNAUTHORIZED\", {\n          message: \"Account not linked - different emails not allowed\"\n        });\n      }\n      try {\n        await c.context.internalAdapter.createAccount(\n          {\n            userId: session.user.id,\n            providerId: provider.id,\n            accountId: linkingUserInfo.user.id.toString(),\n            accessToken: c.body.idToken.accessToken,\n            idToken: token,\n            refreshToken: c.body.idToken.refreshToken,\n            scope: c.body.idToken.scopes?.join(\",\")\n          },\n          c\n        );\n      } catch (e) {\n        throw new APIError(\"EXPECTATION_FAILED\", {\n          message: \"Account not linked - unable to create account\"\n        });\n      }\n      if (c.context.options.account?.accountLinking?.updateUserInfoOnLink === true) {\n        try {\n          await c.context.internalAdapter.updateUser(session.user.id, {\n            name: linkingUserInfo.user?.name,\n            image: linkingUserInfo.user?.image\n          });\n        } catch (e) {\n          console.warn(\"Could not update user - \" + e.toString());\n        }\n      }\n      return c.json({\n        redirect: false,\n        url: \"\",\n        // this is for type inference\n        status: true\n      });\n    }\n    const state = await generateState(c, {\n      userId: session.user.id,\n      email: session.user.email\n    });\n    const url = await provider.createAuthorizationURL({\n      state: state.state,\n      codeVerifier: state.codeVerifier,\n      redirectURI: `${c.context.baseURL}/callback/${provider.id}`,\n      scopes: c.body.scopes\n    });\n    return c.json({\n      url: url.toString(),\n      redirect: true\n    });\n  }\n);\nconst unlinkAccount = createAuthEndpoint(\n  \"/unlink-account\",\n  {\n    method: \"POST\",\n    body: z.object({\n      providerId: z.string(),\n      accountId: z.string().optional()\n    }),\n    use: [freshSessionMiddleware],\n    metadata: {\n      openapi: {\n        description: \"Unlink an account\",\n        responses: {\n          \"200\": {\n            description: \"Success\",\n            content: {\n              \"application/json\": {\n                schema: {\n                  type: \"object\",\n                  properties: {\n                    status: {\n                      type: \"boolean\"\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  async (ctx) => {\n    const { providerId, accountId } = ctx.body;\n    const accounts = await ctx.context.internalAdapter.findAccounts(\n      ctx.context.session.user.id\n    );\n    if (accounts.length === 1 && !ctx.context.options.account?.accountLinking?.allowUnlinkingAll) {\n      throw new APIError(\"BAD_REQUEST\", {\n        message: BASE_ERROR_CODES.FAILED_TO_UNLINK_LAST_ACCOUNT\n      });\n    }\n    const accountExist = accounts.find(\n      (account) => accountId ? account.accountId === accountId && account.providerId === providerId : account.providerId === providerId\n    );\n    if (!accountExist) {\n      throw new APIError(\"BAD_REQUEST\", {\n        message: BASE_ERROR_CODES.ACCOUNT_NOT_FOUND\n      });\n    }\n    await ctx.context.internalAdapter.deleteAccount(accountExist.id);\n    return ctx.json({\n      status: true\n    });\n  }\n);\nconst getAccessToken = createAuthEndpoint(\n  \"/get-access-token\",\n  {\n    method: \"POST\",\n    body: z.object({\n      providerId: z.string().meta({\n        description: \"The provider ID for the OAuth provider\"\n      }),\n      accountId: z.string().meta({\n        description: \"The account ID associated with the refresh token\"\n      }).optional(),\n      userId: z.string().meta({\n        description: \"The user ID associated with the account\"\n      }).optional()\n    }),\n    metadata: {\n      openapi: {\n        description: \"Get a valid access token, doing a refresh if needed\",\n        responses: {\n          200: {\n            description: \"A Valid access token\",\n            content: {\n              \"application/json\": {\n                schema: {\n                  type: \"object\",\n                  properties: {\n                    tokenType: {\n                      type: \"string\"\n                    },\n                    idToken: {\n                      type: \"string\"\n                    },\n                    accessToken: {\n                      type: \"string\"\n                    },\n                    refreshToken: {\n                      type: \"string\"\n                    },\n                    accessTokenExpiresAt: {\n                      type: \"string\",\n                      format: \"date-time\"\n                    },\n                    refreshTokenExpiresAt: {\n                      type: \"string\",\n                      format: \"date-time\"\n                    }\n                  }\n                }\n              }\n            }\n          },\n          400: {\n            description: \"Invalid refresh token or provider configuration\"\n          }\n        }\n      }\n    }\n  },\n  async (ctx) => {\n    const { providerId, accountId, userId } = ctx.body;\n    const req = ctx.request;\n    const session = await getSessionFromCtx(ctx);\n    if (req && !session) {\n      throw ctx.error(\"UNAUTHORIZED\");\n    }\n    let resolvedUserId = session?.user?.id || userId;\n    if (!resolvedUserId) {\n      throw new APIError(\"BAD_REQUEST\", {\n        message: `Either userId or session is required`\n      });\n    }\n    if (!ctx.context.socialProviders.find((p) => p.id === providerId)) {\n      throw new APIError(\"BAD_REQUEST\", {\n        message: `Provider ${providerId} is not supported.`\n      });\n    }\n    const accounts = await ctx.context.internalAdapter.findAccounts(resolvedUserId);\n    const account = accounts.find(\n      (acc) => accountId ? acc.id === accountId && acc.providerId === providerId : acc.providerId === providerId\n    );\n    if (!account) {\n      throw new APIError(\"BAD_REQUEST\", {\n        message: \"Account not found\"\n      });\n    }\n    const provider = ctx.context.socialProviders.find(\n      (p) => p.id === providerId\n    );\n    if (!provider) {\n      throw new APIError(\"BAD_REQUEST\", {\n        message: `Provider ${providerId} not found.`\n      });\n    }\n    try {\n      let newTokens = null;\n      if (account.refreshToken && (!account.accessTokenExpiresAt || account.accessTokenExpiresAt.getTime() - Date.now() < 5e3) && provider.refreshAccessToken) {\n        newTokens = await provider.refreshAccessToken(\n          account.refreshToken\n        );\n        await ctx.context.internalAdapter.updateAccount(account.id, {\n          accessToken: await setTokenUtil(newTokens.accessToken, ctx.context),\n          accessTokenExpiresAt: newTokens.accessTokenExpiresAt,\n          refreshToken: await setTokenUtil(newTokens.refreshToken, ctx.context),\n          refreshTokenExpiresAt: newTokens.refreshTokenExpiresAt\n        });\n      }\n      const tokens = {\n        accessToken: await getAccessTokenUtil(\n          newTokens?.accessToken ?? account.accessToken ?? \"\",\n          ctx.context\n        ),\n        accessTokenExpiresAt: newTokens?.accessTokenExpiresAt ?? account.accessTokenExpiresAt ?? void 0,\n        scopes: account.scope?.split(\",\") ?? [],\n        idToken: newTokens?.idToken ?? account.idToken ?? void 0\n      };\n      return ctx.json(tokens);\n    } catch (error) {\n      throw new APIError(\"BAD_REQUEST\", {\n        message: \"Failed to get a valid access token\",\n        cause: error\n      });\n    }\n  }\n);\nconst refreshToken = createAuthEndpoint(\n  \"/refresh-token\",\n  {\n    method: \"POST\",\n    body: z.object({\n      providerId: z.string().meta({\n        description: \"The provider ID for the OAuth provider\"\n      }),\n      accountId: z.string().meta({\n        description: \"The account ID associated with the refresh token\"\n      }).optional(),\n      userId: z.string().meta({\n        description: \"The user ID associated with the account\"\n      }).optional()\n    }),\n    metadata: {\n      openapi: {\n        description: \"Refresh the access token using a refresh token\",\n        responses: {\n          200: {\n            description: \"Access token refreshed successfully\",\n            content: {\n              \"application/json\": {\n                schema: {\n                  type: \"object\",\n                  properties: {\n                    tokenType: {\n                      type: \"string\"\n                    },\n                    idToken: {\n                      type: \"string\"\n                    },\n                    accessToken: {\n                      type: \"string\"\n                    },\n                    refreshToken: {\n                      type: \"string\"\n                    },\n                    accessTokenExpiresAt: {\n                      type: \"string\",\n                      format: \"date-time\"\n                    },\n                    refreshTokenExpiresAt: {\n                      type: \"string\",\n                      format: \"date-time\"\n                    }\n                  }\n                }\n              }\n            }\n          },\n          400: {\n            description: \"Invalid refresh token or provider configuration\"\n          }\n        }\n      }\n    }\n  },\n  async (ctx) => {\n    const { providerId, accountId, userId } = ctx.body;\n    const req = ctx.request;\n    const session = await getSessionFromCtx(ctx);\n    if (req && !session) {\n      throw ctx.error(\"UNAUTHORIZED\");\n    }\n    let resolvedUserId = session?.user?.id || userId;\n    if (!resolvedUserId) {\n      throw new APIError(\"BAD_REQUEST\", {\n        message: `Either userId or session is required`\n      });\n    }\n    const accounts = await ctx.context.internalAdapter.findAccounts(resolvedUserId);\n    const account = accounts.find(\n      (acc) => accountId ? acc.id === accountId && acc.providerId === providerId : acc.providerId === providerId\n    );\n    if (!account) {\n      throw new APIError(\"BAD_REQUEST\", {\n        message: \"Account not found\"\n      });\n    }\n    const provider = ctx.context.socialProviders.find(\n      (p) => p.id === providerId\n    );\n    if (!provider) {\n      throw new APIError(\"BAD_REQUEST\", {\n        message: `Provider ${providerId} not found.`\n      });\n    }\n    if (!provider.refreshAccessToken) {\n      throw new APIError(\"BAD_REQUEST\", {\n        message: `Provider ${providerId} does not support token refreshing.`\n      });\n    }\n    try {\n      const tokens = await provider.refreshAccessToken(\n        account.refreshToken\n      );\n      await ctx.context.internalAdapter.updateAccount(account.id, {\n        accessToken: await setTokenUtil(tokens.accessToken, ctx.context),\n        refreshToken: await setTokenUtil(tokens.refreshToken, ctx.context),\n        accessTokenExpiresAt: tokens.accessTokenExpiresAt,\n        refreshTokenExpiresAt: tokens.refreshTokenExpiresAt\n      });\n      return ctx.json(tokens);\n    } catch (error) {\n      throw new APIError(\"BAD_REQUEST\", {\n        message: \"Failed to refresh access token\",\n        cause: error\n      });\n    }\n  }\n);\nconst accountInfo = createAuthEndpoint(\n  \"/account-info\",\n  {\n    method: \"POST\",\n    use: [sessionMiddleware],\n    metadata: {\n      openapi: {\n        description: \"Get the account info provided by the provider\",\n        responses: {\n          \"200\": {\n            description: \"Success\",\n            content: {\n              \"application/json\": {\n                schema: {\n                  type: \"object\",\n                  properties: {\n                    user: {\n                      type: \"object\",\n                      properties: {\n                        id: {\n                          type: \"string\"\n                        },\n                        name: {\n                          type: \"string\"\n                        },\n                        email: {\n                          type: \"string\"\n                        },\n                        image: {\n                          type: \"string\"\n                        },\n                        emailVerified: {\n                          type: \"boolean\"\n                        }\n                      },\n                      required: [\"id\", \"emailVerified\"]\n                    },\n                    data: {\n                      type: \"object\",\n                      properties: {},\n                      additionalProperties: true\n                    }\n                  },\n                  required: [\"user\", \"data\"],\n                  additionalProperties: false\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    body: z.object({\n      accountId: z.string().meta({\n        description: \"The provider given account id for which to get the account info\"\n      })\n    })\n  },\n  async (ctx) => {\n    const account = await ctx.context.internalAdapter.findAccount(\n      ctx.body.accountId\n    );\n    if (!account || account.userId !== ctx.context.session.user.id) {\n      throw new APIError(\"BAD_REQUEST\", {\n        message: \"Account not found\"\n      });\n    }\n    const provider = ctx.context.socialProviders.find(\n      (p) => p.id === account.providerId\n    );\n    if (!provider) {\n      throw new APIError(\"INTERNAL_SERVER_ERROR\", {\n        message: `Provider account provider is ${account.providerId} but it is not configured`\n      });\n    }\n    const tokens = await getAccessToken({\n      ...ctx,\n      body: {\n        accountId: account.id,\n        providerId: account.providerId\n      },\n      returnHeaders: false\n    });\n    const info = await provider.getUserInfo(tokens);\n    return ctx.json(info);\n  }\n);\n\nexport { signOut as $, originCheckMiddleware as A, BASE_ERROR_CODES as B, error as C, ok as D, accountInfo as E, getAccessToken as F, refreshToken as G, HIDE_METADATA as H, unlinkAccount as I, deleteUserCallback as J, listUserAccounts as K, linkSocialAccount as L, revokeOtherSessions as M, revokeSessions as N, revokeSession as O, requestPasswordResetCallback as P, requestPasswordReset as Q, forgetPasswordCallback as R, deleteUser as S, setPassword as T, changePassword as U, changeEmail as V, sendVerificationEmail as W, verifyEmail as X, resetPassword as Y, forgetPassword as Z, signInEmail as _, validateToken as a, callbackOAuth as a0, signInSocial as a1, requestOnlySessionMiddleware as a2, socialProviderList as a3, SocialProviderListEnum as a4, apple as a5, getApplePublicKey as a6, discord as a7, dropbox as a8, facebook as a9, github as aa, linear as ab, linkedin as ac, gitlab as ad, google as ae, kick as af, microsoft as ag, notion as ah, reddit as ai, roblox as aj, spotify as ak, tiktok as al, twitch as am, twitter as an, LANG as ao, vk as ap, zoom as aq, huggingface as ar, slack as as, generateCodeChallenge as b, createAuthorizationURL as c, getOAuth2Tokens as d, encodeOAuthParameter as e, getAccessTokenUtil as f, generateState as g, handleOAuthUserInfo as h, createAuthMiddleware as i, createAuthEndpoint as j, getSessionFromCtx as k, sessionMiddleware as l, getSession as m, freshSessionMiddleware as n, originCheck as o, parseState as p, optionsMiddleware as q, refreshAccessToken as r, setTokenUtil as s, socialProviders as t, sendVerificationEmailFn as u, validateAuthorizationCode as v, createEmailVerificationToken as w, wildcardMatch as x, listSessions as y, updateUser as z };\n", "export * as core from \"../core/index.js\";\nexport * from \"./schemas.js\";\nexport * from \"./checks.js\";\nexport * from \"./errors.js\";\nexport * from \"./parse.js\";\nexport * from \"./compat.js\";\n// zod-specified\nimport { config } from \"../core/index.js\";\nimport en from \"../locales/en.js\";\nconfig(en());\nexport { globalRegistry, registry, config, function, $output, $input, $brand, clone, regexes, treeifyError, prettifyError, formatError, flattenError, toJSONSchema, TimePrecision, NEVER, } from \"../core/index.js\";\nexport * as locales from \"../locales/index.js\";\n// iso\n// must be exported from top-level\n// https://github.com/colinhacks/zod/issues/4491\nexport { ZodISODateTime, ZodISODate, ZodISOTime, ZodISODuration } from \"./iso.js\";\nexport * as iso from \"./iso.js\";\nexport * as coerce from \"./coerce.js\";\n", "export * from \"./core.js\";\nexport * from \"./parse.js\";\nexport * from \"./errors.js\";\nexport * from \"./schemas.js\";\nexport * from \"./checks.js\";\nexport * from \"./versions.js\";\nexport * as util from \"./util.js\";\nexport * as regexes from \"./regexes.js\";\nexport * as locales from \"../locales/index.js\";\nexport * from \"./registries.js\";\nexport * from \"./doc.js\";\nexport * from \"./function.js\";\nexport * from \"./api.js\";\nexport * from \"./to-json-schema.js\";\nexport * as JSONSchema from \"./json-schema.js\";\n", "/** A special constant with type `never` */\nexport const NEVER = Object.freeze({\n    status: \"aborted\",\n});\nexport /*@__NO_SIDE_EFFECTS__*/ function $constructor(name, initializer, params) {\n    function init(inst, def) {\n        var _a;\n        Object.defineProperty(inst, \"_zod\", {\n            value: inst._zod ?? {},\n            enumerable: false,\n        });\n        (_a = inst._zod).traits ?? (_a.traits = new Set());\n        inst._zod.traits.add(name);\n        initializer(inst, def);\n        // support prototype modifications\n        for (const k in _.prototype) {\n            if (!(k in inst))\n                Object.defineProperty(inst, k, { value: _.prototype[k].bind(inst) });\n        }\n        inst._zod.constr = _;\n        inst._zod.def = def;\n    }\n    // doesn't work if Parent has a constructor with arguments\n    const Parent = params?.Parent ?? Object;\n    class Definition extends Parent {\n    }\n    Object.defineProperty(Definition, \"name\", { value: name });\n    function _(def) {\n        var _a;\n        const inst = params?.Parent ? new Definition() : this;\n        init(inst, def);\n        (_a = inst._zod).deferred ?? (_a.deferred = []);\n        for (const fn of inst._zod.deferred) {\n            fn();\n        }\n        return inst;\n    }\n    Object.defineProperty(_, \"init\", { value: init });\n    Object.defineProperty(_, Symbol.hasInstance, {\n        value: (inst) => {\n            if (params?.Parent && inst instanceof params.Parent)\n                return true;\n            return inst?._zod?.traits?.has(name);\n        },\n    });\n    Object.defineProperty(_, \"name\", { value: name });\n    return _;\n}\n//////////////////////////////   UTILITIES   ///////////////////////////////////////\nexport const $brand = Symbol(\"zod_brand\");\nexport class $ZodAsyncError extends Error {\n    constructor() {\n        super(`Encountered Promise during synchronous parse. Use .parseAsync() instead.`);\n    }\n}\nexport const globalConfig = {};\nexport function config(newConfig) {\n    if (newConfig)\n        Object.assign(globalConfig, newConfig);\n    return globalConfig;\n}\n", "import * as core from \"./core.js\";\nimport * as errors from \"./errors.js\";\nimport * as util from \"./util.js\";\nexport const _parse = (_Err) => (schema, value, _ctx, _params) => {\n    const ctx = _ctx ? Object.assign(_ctx, { async: false }) : { async: false };\n    const result = schema._zod.run({ value, issues: [] }, ctx);\n    if (result instanceof Promise) {\n        throw new core.$ZodAsyncError();\n    }\n    if (result.issues.length) {\n        const e = new (_params?.Err ?? _Err)(result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())));\n        util.captureStackTrace(e, _params?.callee);\n        throw e;\n    }\n    return result.value;\n};\nexport const parse = /* @__PURE__*/ _parse(errors.$ZodRealError);\nexport const _parseAsync = (_Err) => async (schema, value, _ctx, params) => {\n    const ctx = _ctx ? Object.assign(_ctx, { async: true }) : { async: true };\n    let result = schema._zod.run({ value, issues: [] }, ctx);\n    if (result instanceof Promise)\n        result = await result;\n    if (result.issues.length) {\n        const e = new (params?.Err ?? _Err)(result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())));\n        util.captureStackTrace(e, params?.callee);\n        throw e;\n    }\n    return result.value;\n};\nexport const parseAsync = /* @__PURE__*/ _parseAsync(errors.$ZodRealError);\nexport const _safeParse = (_Err) => (schema, value, _ctx) => {\n    const ctx = _ctx ? { ..._ctx, async: false } : { async: false };\n    const result = schema._zod.run({ value, issues: [] }, ctx);\n    if (result instanceof Promise) {\n        throw new core.$ZodAsyncError();\n    }\n    return result.issues.length\n        ? {\n            success: false,\n            error: new (_Err ?? errors.$ZodError)(result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config()))),\n        }\n        : { success: true, data: result.value };\n};\nexport const safeParse = /* @__PURE__*/ _safeParse(errors.$ZodRealError);\nexport const _safeParseAsync = (_Err) => async (schema, value, _ctx) => {\n    const ctx = _ctx ? Object.assign(_ctx, { async: true }) : { async: true };\n    let result = schema._zod.run({ value, issues: [] }, ctx);\n    if (result instanceof Promise)\n        result = await result;\n    return result.issues.length\n        ? {\n            success: false,\n            error: new _Err(result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config()))),\n        }\n        : { success: true, data: result.value };\n};\nexport const safeParseAsync = /* @__PURE__*/ _safeParseAsync(errors.$ZodRealError);\n", "import { $constructor } from \"./core.js\";\nimport * as util from \"./util.js\";\nconst initializer = (inst, def) => {\n    inst.name = \"$ZodError\";\n    Object.defineProperty(inst, \"_zod\", {\n        value: inst._zod,\n        enumerable: false,\n    });\n    Object.defineProperty(inst, \"issues\", {\n        value: def,\n        enumerable: false,\n    });\n    inst.message = JSON.stringify(def, util.jsonStringifyReplacer, 2);\n    Object.defineProperty(inst, \"toString\", {\n        value: () => inst.message,\n        enumerable: false,\n    });\n};\nexport const $ZodError = $constructor(\"$ZodError\", initializer);\nexport const $ZodRealError = $constructor(\"$ZodError\", initializer, { Parent: Error });\nexport function flattenError(error, mapper = (issue) => issue.message) {\n    const fieldErrors = {};\n    const formErrors = [];\n    for (const sub of error.issues) {\n        if (sub.path.length > 0) {\n            fieldErrors[sub.path[0]] = fieldErrors[sub.path[0]] || [];\n            fieldErrors[sub.path[0]].push(mapper(sub));\n        }\n        else {\n            formErrors.push(mapper(sub));\n        }\n    }\n    return { formErrors, fieldErrors };\n}\nexport function formatError(error, _mapper) {\n    const mapper = _mapper ||\n        function (issue) {\n            return issue.message;\n        };\n    const fieldErrors = { _errors: [] };\n    const processError = (error) => {\n        for (const issue of error.issues) {\n            if (issue.code === \"invalid_union\" && issue.errors.length) {\n                issue.errors.map((issues) => processError({ issues }));\n            }\n            else if (issue.code === \"invalid_key\") {\n                processError({ issues: issue.issues });\n            }\n            else if (issue.code === \"invalid_element\") {\n                processError({ issues: issue.issues });\n            }\n            else if (issue.path.length === 0) {\n                fieldErrors._errors.push(mapper(issue));\n            }\n            else {\n                let curr = fieldErrors;\n                let i = 0;\n                while (i < issue.path.length) {\n                    const el = issue.path[i];\n                    const terminal = i === issue.path.length - 1;\n                    if (!terminal) {\n                        curr[el] = curr[el] || { _errors: [] };\n                    }\n                    else {\n                        curr[el] = curr[el] || { _errors: [] };\n                        curr[el]._errors.push(mapper(issue));\n                    }\n                    curr = curr[el];\n                    i++;\n                }\n            }\n        }\n    };\n    processError(error);\n    return fieldErrors;\n}\nexport function treeifyError(error, _mapper) {\n    const mapper = _mapper ||\n        function (issue) {\n            return issue.message;\n        };\n    const result = { errors: [] };\n    const processError = (error, path = []) => {\n        var _a, _b;\n        for (const issue of error.issues) {\n            if (issue.code === \"invalid_union\" && issue.errors.length) {\n                // regular union error\n                issue.errors.map((issues) => processError({ issues }, issue.path));\n            }\n            else if (issue.code === \"invalid_key\") {\n                processError({ issues: issue.issues }, issue.path);\n            }\n            else if (issue.code === \"invalid_element\") {\n                processError({ issues: issue.issues }, issue.path);\n            }\n            else {\n                const fullpath = [...path, ...issue.path];\n                if (fullpath.length === 0) {\n                    result.errors.push(mapper(issue));\n                    continue;\n                }\n                let curr = result;\n                let i = 0;\n                while (i < fullpath.length) {\n                    const el = fullpath[i];\n                    const terminal = i === fullpath.length - 1;\n                    if (typeof el === \"string\") {\n                        curr.properties ?? (curr.properties = {});\n                        (_a = curr.properties)[el] ?? (_a[el] = { errors: [] });\n                        curr = curr.properties[el];\n                    }\n                    else {\n                        curr.items ?? (curr.items = []);\n                        (_b = curr.items)[el] ?? (_b[el] = { errors: [] });\n                        curr = curr.items[el];\n                    }\n                    if (terminal) {\n                        curr.errors.push(mapper(issue));\n                    }\n                    i++;\n                }\n            }\n        }\n    };\n    processError(error);\n    return result;\n}\n/** Format a ZodError as a human-readable string in the following form.\n *\n * From\n *\n * ```ts\n * ZodError {\n *   issues: [\n *     {\n *       expected: 'string',\n *       code: 'invalid_type',\n *       path: [ 'username' ],\n *       message: 'Invalid input: expected string'\n *     },\n *     {\n *       expected: 'number',\n *       code: 'invalid_type',\n *       path: [ 'favoriteNumbers', 1 ],\n *       message: 'Invalid input: expected number'\n *     }\n *   ];\n * }\n * ```\n *\n * to\n *\n * ```\n * username\n *   \u2716 Expected number, received string at \"username\n * favoriteNumbers[0]\n *   \u2716 Invalid input: expected number\n * ```\n */\nexport function toDotPath(_path) {\n    const segs = [];\n    const path = _path.map((seg) => (typeof seg === \"object\" ? seg.key : seg));\n    for (const seg of path) {\n        if (typeof seg === \"number\")\n            segs.push(`[${seg}]`);\n        else if (typeof seg === \"symbol\")\n            segs.push(`[${JSON.stringify(String(seg))}]`);\n        else if (/[^\\w$]/.test(seg))\n            segs.push(`[${JSON.stringify(seg)}]`);\n        else {\n            if (segs.length)\n                segs.push(\".\");\n            segs.push(seg);\n        }\n    }\n    return segs.join(\"\");\n}\nexport function prettifyError(error) {\n    const lines = [];\n    // sort by path length\n    const issues = [...error.issues].sort((a, b) => (a.path ?? []).length - (b.path ?? []).length);\n    // Process each issue\n    for (const issue of issues) {\n        lines.push(`\u2716 ${issue.message}`);\n        if (issue.path?.length)\n            lines.push(`  \u2192 at ${toDotPath(issue.path)}`);\n    }\n    // Convert Map to formatted string\n    return lines.join(\"\\n\");\n}\n", "// functions\nexport function assertEqual(val) {\n    return val;\n}\nexport function assertNotEqual(val) {\n    return val;\n}\nexport function assertIs(_arg) { }\nexport function assertNever(_x) {\n    throw new Error();\n}\nexport function assert(_) { }\nexport function getEnumValues(entries) {\n    const numericValues = Object.values(entries).filter((v) => typeof v === \"number\");\n    const values = Object.entries(entries)\n        .filter(([k, _]) => numericValues.indexOf(+k) === -1)\n        .map(([_, v]) => v);\n    return values;\n}\nexport function joinValues(array, separator = \"|\") {\n    return array.map((val) => stringifyPrimitive(val)).join(separator);\n}\nexport function jsonStringifyReplacer(_, value) {\n    if (typeof value === \"bigint\")\n        return value.toString();\n    return value;\n}\nexport function cached(getter) {\n    const set = false;\n    return {\n        get value() {\n            if (!set) {\n                const value = getter();\n                Object.defineProperty(this, \"value\", { value });\n                return value;\n            }\n            throw new Error(\"cached value already set\");\n        },\n    };\n}\nexport function nullish(input) {\n    return input === null || input === undefined;\n}\nexport function cleanRegex(source) {\n    const start = source.startsWith(\"^\") ? 1 : 0;\n    const end = source.endsWith(\"$\") ? source.length - 1 : source.length;\n    return source.slice(start, end);\n}\nexport function floatSafeRemainder(val, step) {\n    const valDecCount = (val.toString().split(\".\")[1] || \"\").length;\n    const stepDecCount = (step.toString().split(\".\")[1] || \"\").length;\n    const decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;\n    const valInt = Number.parseInt(val.toFixed(decCount).replace(\".\", \"\"));\n    const stepInt = Number.parseInt(step.toFixed(decCount).replace(\".\", \"\"));\n    return (valInt % stepInt) / 10 ** decCount;\n}\nexport function defineLazy(object, key, getter) {\n    const set = false;\n    Object.defineProperty(object, key, {\n        get() {\n            if (!set) {\n                const value = getter();\n                object[key] = value;\n                return value;\n            }\n            throw new Error(\"cached value already set\");\n        },\n        set(v) {\n            Object.defineProperty(object, key, {\n                value: v,\n                // configurable: true,\n            });\n            // object[key] = v;\n        },\n        configurable: true,\n    });\n}\nexport function assignProp(target, prop, value) {\n    Object.defineProperty(target, prop, {\n        value,\n        writable: true,\n        enumerable: true,\n        configurable: true,\n    });\n}\nexport function mergeDefs(...defs) {\n    const mergedDescriptors = {};\n    for (const def of defs) {\n        const descriptors = Object.getOwnPropertyDescriptors(def);\n        Object.assign(mergedDescriptors, descriptors);\n    }\n    return Object.defineProperties({}, mergedDescriptors);\n}\nexport function cloneDef(schema) {\n    return mergeDefs(schema._zod.def);\n}\nexport function getElementAtPath(obj, path) {\n    if (!path)\n        return obj;\n    return path.reduce((acc, key) => acc?.[key], obj);\n}\nexport function promiseAllObject(promisesObj) {\n    const keys = Object.keys(promisesObj);\n    const promises = keys.map((key) => promisesObj[key]);\n    return Promise.all(promises).then((results) => {\n        const resolvedObj = {};\n        for (let i = 0; i < keys.length; i++) {\n            resolvedObj[keys[i]] = results[i];\n        }\n        return resolvedObj;\n    });\n}\nexport function randomString(length = 10) {\n    const chars = \"abcdefghijklmnopqrstuvwxyz\";\n    let str = \"\";\n    for (let i = 0; i < length; i++) {\n        str += chars[Math.floor(Math.random() * chars.length)];\n    }\n    return str;\n}\nexport function esc(str) {\n    return JSON.stringify(str);\n}\nexport const captureStackTrace = (\"captureStackTrace\" in Error ? Error.captureStackTrace : (..._args) => { });\nexport function isObject(data) {\n    return typeof data === \"object\" && data !== null && !Array.isArray(data);\n}\nexport const allowsEval = cached(() => {\n    // @ts-ignore\n    if (typeof navigator !== \"undefined\" && navigator?.userAgent?.includes(\"Cloudflare\")) {\n        return false;\n    }\n    try {\n        const F = Function;\n        new F(\"\");\n        return true;\n    }\n    catch (_) {\n        return false;\n    }\n});\nexport function isPlainObject(o) {\n    if (isObject(o) === false)\n        return false;\n    // modified constructor\n    const ctor = o.constructor;\n    if (ctor === undefined)\n        return true;\n    // modified prototype\n    const prot = ctor.prototype;\n    if (isObject(prot) === false)\n        return false;\n    // ctor doesn't have static `isPrototypeOf`\n    if (Object.prototype.hasOwnProperty.call(prot, \"isPrototypeOf\") === false) {\n        return false;\n    }\n    return true;\n}\nexport function numKeys(data) {\n    let keyCount = 0;\n    for (const key in data) {\n        if (Object.prototype.hasOwnProperty.call(data, key)) {\n            keyCount++;\n        }\n    }\n    return keyCount;\n}\nexport const getParsedType = (data) => {\n    const t = typeof data;\n    switch (t) {\n        case \"undefined\":\n            return \"undefined\";\n        case \"string\":\n            return \"string\";\n        case \"number\":\n            return Number.isNaN(data) ? \"nan\" : \"number\";\n        case \"boolean\":\n            return \"boolean\";\n        case \"function\":\n            return \"function\";\n        case \"bigint\":\n            return \"bigint\";\n        case \"symbol\":\n            return \"symbol\";\n        case \"object\":\n            if (Array.isArray(data)) {\n                return \"array\";\n            }\n            if (data === null) {\n                return \"null\";\n            }\n            if (data.then && typeof data.then === \"function\" && data.catch && typeof data.catch === \"function\") {\n                return \"promise\";\n            }\n            if (typeof Map !== \"undefined\" && data instanceof Map) {\n                return \"map\";\n            }\n            if (typeof Set !== \"undefined\" && data instanceof Set) {\n                return \"set\";\n            }\n            if (typeof Date !== \"undefined\" && data instanceof Date) {\n                return \"date\";\n            }\n            // @ts-ignore\n            if (typeof File !== \"undefined\" && data instanceof File) {\n                return \"file\";\n            }\n            return \"object\";\n        default:\n            throw new Error(`Unknown data type: ${t}`);\n    }\n};\nexport const propertyKeyTypes = new Set([\"string\", \"number\", \"symbol\"]);\nexport const primitiveTypes = new Set([\"string\", \"number\", \"bigint\", \"boolean\", \"symbol\", \"undefined\"]);\nexport function escapeRegex(str) {\n    return str.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n}\n// zod-specific utils\nexport function clone(inst, def, params) {\n    const cl = new inst._zod.constr(def ?? inst._zod.def);\n    if (!def || params?.parent)\n        cl._zod.parent = inst;\n    return cl;\n}\nexport function normalizeParams(_params) {\n    const params = _params;\n    if (!params)\n        return {};\n    if (typeof params === \"string\")\n        return { error: () => params };\n    if (params?.message !== undefined) {\n        if (params?.error !== undefined)\n            throw new Error(\"Cannot specify both `message` and `error` params\");\n        params.error = params.message;\n    }\n    delete params.message;\n    if (typeof params.error === \"string\")\n        return { ...params, error: () => params.error };\n    return params;\n}\nexport function createTransparentProxy(getter) {\n    let target;\n    return new Proxy({}, {\n        get(_, prop, receiver) {\n            target ?? (target = getter());\n            return Reflect.get(target, prop, receiver);\n        },\n        set(_, prop, value, receiver) {\n            target ?? (target = getter());\n            return Reflect.set(target, prop, value, receiver);\n        },\n        has(_, prop) {\n            target ?? (target = getter());\n            return Reflect.has(target, prop);\n        },\n        deleteProperty(_, prop) {\n            target ?? (target = getter());\n            return Reflect.deleteProperty(target, prop);\n        },\n        ownKeys(_) {\n            target ?? (target = getter());\n            return Reflect.ownKeys(target);\n        },\n        getOwnPropertyDescriptor(_, prop) {\n            target ?? (target = getter());\n            return Reflect.getOwnPropertyDescriptor(target, prop);\n        },\n        defineProperty(_, prop, descriptor) {\n            target ?? (target = getter());\n            return Reflect.defineProperty(target, prop, descriptor);\n        },\n    });\n}\nexport function stringifyPrimitive(value) {\n    if (typeof value === \"bigint\")\n        return value.toString() + \"n\";\n    if (typeof value === \"string\")\n        return `\"${value}\"`;\n    return `${value}`;\n}\nexport function optionalKeys(shape) {\n    return Object.keys(shape).filter((k) => {\n        return shape[k]._zod.optin === \"optional\" && shape[k]._zod.optout === \"optional\";\n    });\n}\nexport const NUMBER_FORMAT_RANGES = {\n    safeint: [Number.MIN_SAFE_INTEGER, Number.MAX_SAFE_INTEGER],\n    int32: [-2147483648, 2147483647],\n    uint32: [0, 4294967295],\n    float32: [-3.4028234663852886e38, 3.4028234663852886e38],\n    float64: [-Number.MAX_VALUE, Number.MAX_VALUE],\n};\nexport const BIGINT_FORMAT_RANGES = {\n    int64: [/* @__PURE__*/ BigInt(\"-9223372036854775808\"), /* @__PURE__*/ BigInt(\"9223372036854775807\")],\n    uint64: [/* @__PURE__*/ BigInt(0), /* @__PURE__*/ BigInt(\"18446744073709551615\")],\n};\nexport function pick(schema, mask) {\n    const currDef = schema._zod.def;\n    const def = mergeDefs(schema._zod.def, {\n        get shape() {\n            const newShape = {};\n            for (const key in mask) {\n                if (!(key in currDef.shape)) {\n                    throw new Error(`Unrecognized key: \"${key}\"`);\n                }\n                if (!mask[key])\n                    continue;\n                newShape[key] = currDef.shape[key];\n            }\n            assignProp(this, \"shape\", newShape); // self-caching\n            return newShape;\n        },\n        checks: [],\n    });\n    return clone(schema, def);\n}\nexport function omit(schema, mask) {\n    const currDef = schema._zod.def;\n    const def = mergeDefs(schema._zod.def, {\n        get shape() {\n            const newShape = { ...schema._zod.def.shape };\n            for (const key in mask) {\n                if (!(key in currDef.shape)) {\n                    throw new Error(`Unrecognized key: \"${key}\"`);\n                }\n                if (!mask[key])\n                    continue;\n                delete newShape[key];\n            }\n            assignProp(this, \"shape\", newShape); // self-caching\n            return newShape;\n        },\n        checks: [],\n    });\n    return clone(schema, def);\n}\nexport function extend(schema, shape) {\n    if (!isPlainObject(shape)) {\n        throw new Error(\"Invalid input to extend: expected a plain object\");\n    }\n    const def = mergeDefs(schema._zod.def, {\n        get shape() {\n            const _shape = { ...schema._zod.def.shape, ...shape };\n            assignProp(this, \"shape\", _shape); // self-caching\n            return _shape;\n        },\n        checks: [],\n    });\n    return clone(schema, def);\n}\nexport function merge(a, b) {\n    const def = mergeDefs(a._zod.def, {\n        get shape() {\n            const _shape = { ...a._zod.def.shape, ...b._zod.def.shape };\n            assignProp(this, \"shape\", _shape); // self-caching\n            return _shape;\n        },\n        get catchall() {\n            return b._zod.def.catchall;\n        },\n        checks: [], // delete existing checks\n    });\n    return clone(a, def);\n}\nexport function partial(Class, schema, mask) {\n    const def = mergeDefs(schema._zod.def, {\n        get shape() {\n            const oldShape = schema._zod.def.shape;\n            const shape = { ...oldShape };\n            if (mask) {\n                for (const key in mask) {\n                    if (!(key in oldShape)) {\n                        throw new Error(`Unrecognized key: \"${key}\"`);\n                    }\n                    if (!mask[key])\n                        continue;\n                    // if (oldShape[key]!._zod.optin === \"optional\") continue;\n                    shape[key] = Class\n                        ? new Class({\n                            type: \"optional\",\n                            innerType: oldShape[key],\n                        })\n                        : oldShape[key];\n                }\n            }\n            else {\n                for (const key in oldShape) {\n                    // if (oldShape[key]!._zod.optin === \"optional\") continue;\n                    shape[key] = Class\n                        ? new Class({\n                            type: \"optional\",\n                            innerType: oldShape[key],\n                        })\n                        : oldShape[key];\n                }\n            }\n            assignProp(this, \"shape\", shape); // self-caching\n            return shape;\n        },\n        checks: [],\n    });\n    return clone(schema, def);\n}\nexport function required(Class, schema, mask) {\n    const def = mergeDefs(schema._zod.def, {\n        get shape() {\n            const oldShape = schema._zod.def.shape;\n            const shape = { ...oldShape };\n            if (mask) {\n                for (const key in mask) {\n                    if (!(key in shape)) {\n                        throw new Error(`Unrecognized key: \"${key}\"`);\n                    }\n                    if (!mask[key])\n                        continue;\n                    // overwrite with non-optional\n                    shape[key] = new Class({\n                        type: \"nonoptional\",\n                        innerType: oldShape[key],\n                    });\n                }\n            }\n            else {\n                for (const key in oldShape) {\n                    // overwrite with non-optional\n                    shape[key] = new Class({\n                        type: \"nonoptional\",\n                        innerType: oldShape[key],\n                    });\n                }\n            }\n            assignProp(this, \"shape\", shape); // self-caching\n            return shape;\n        },\n        checks: [],\n    });\n    return clone(schema, def);\n}\nexport function aborted(x, startIndex = 0) {\n    for (let i = startIndex; i < x.issues.length; i++) {\n        if (x.issues[i]?.continue !== true) {\n            return true;\n        }\n    }\n    return false;\n}\nexport function prefixIssues(path, issues) {\n    return issues.map((iss) => {\n        var _a;\n        (_a = iss).path ?? (_a.path = []);\n        iss.path.unshift(path);\n        return iss;\n    });\n}\nexport function unwrapMessage(message) {\n    return typeof message === \"string\" ? message : message?.message;\n}\nexport function finalizeIssue(iss, ctx, config) {\n    const full = { ...iss, path: iss.path ?? [] };\n    // for backwards compatibility\n    if (!iss.message) {\n        const message = unwrapMessage(iss.inst?._zod.def?.error?.(iss)) ??\n            unwrapMessage(ctx?.error?.(iss)) ??\n            unwrapMessage(config.customError?.(iss)) ??\n            unwrapMessage(config.localeError?.(iss)) ??\n            \"Invalid input\";\n        full.message = message;\n    }\n    // delete (full as any).def;\n    delete full.inst;\n    delete full.continue;\n    if (!ctx?.reportInput) {\n        delete full.input;\n    }\n    return full;\n}\nexport function getSizableOrigin(input) {\n    if (input instanceof Set)\n        return \"set\";\n    if (input instanceof Map)\n        return \"map\";\n    // @ts-ignore\n    if (input instanceof File)\n        return \"file\";\n    return \"unknown\";\n}\nexport function getLengthableOrigin(input) {\n    if (Array.isArray(input))\n        return \"array\";\n    if (typeof input === \"string\")\n        return \"string\";\n    return \"unknown\";\n}\nexport function issue(...args) {\n    const [iss, input, inst] = args;\n    if (typeof iss === \"string\") {\n        return {\n            message: iss,\n            code: \"custom\",\n            input,\n            inst,\n        };\n    }\n    return { ...iss };\n}\nexport function cleanEnum(obj) {\n    return Object.entries(obj)\n        .filter(([k, _]) => {\n        // return true if NaN, meaning it's not a number, thus a string key\n        return Number.isNaN(Number.parseInt(k, 10));\n    })\n        .map((el) => el[1]);\n}\n// instanceof\nexport class Class {\n    constructor(..._args) { }\n}\n", "import * as checks from \"./checks.js\";\nimport * as core from \"./core.js\";\nimport { Doc } from \"./doc.js\";\nimport { safeParse, safeParseAsync } from \"./parse.js\";\nimport * as regexes from \"./regexes.js\";\nimport * as util from \"./util.js\";\nimport { version } from \"./versions.js\";\nexport const $ZodType = /*@__PURE__*/ core.$constructor(\"$ZodType\", (inst, def) => {\n    var _a;\n    inst ?? (inst = {});\n    inst._zod.def = def; // set _def property\n    inst._zod.bag = inst._zod.bag || {}; // initialize _bag object\n    inst._zod.version = version;\n    const checks = [...(inst._zod.def.checks ?? [])];\n    // if inst is itself a checks.$ZodCheck, run it as a check\n    if (inst._zod.traits.has(\"$ZodCheck\")) {\n        checks.unshift(inst);\n    }\n    //\n    for (const ch of checks) {\n        for (const fn of ch._zod.onattach) {\n            fn(inst);\n        }\n    }\n    if (checks.length === 0) {\n        // deferred initializer\n        // inst._zod.parse is not yet defined\n        (_a = inst._zod).deferred ?? (_a.deferred = []);\n        inst._zod.deferred?.push(() => {\n            inst._zod.run = inst._zod.parse;\n        });\n    }\n    else {\n        const runChecks = (payload, checks, ctx) => {\n            let isAborted = util.aborted(payload);\n            let asyncResult;\n            for (const ch of checks) {\n                if (ch._zod.def.when) {\n                    const shouldRun = ch._zod.def.when(payload);\n                    if (!shouldRun)\n                        continue;\n                }\n                else if (isAborted) {\n                    continue;\n                }\n                const currLen = payload.issues.length;\n                const _ = ch._zod.check(payload);\n                if (_ instanceof Promise && ctx?.async === false) {\n                    throw new core.$ZodAsyncError();\n                }\n                if (asyncResult || _ instanceof Promise) {\n                    asyncResult = (asyncResult ?? Promise.resolve()).then(async () => {\n                        await _;\n                        const nextLen = payload.issues.length;\n                        if (nextLen === currLen)\n                            return;\n                        if (!isAborted)\n                            isAborted = util.aborted(payload, currLen);\n                    });\n                }\n                else {\n                    const nextLen = payload.issues.length;\n                    if (nextLen === currLen)\n                        continue;\n                    if (!isAborted)\n                        isAborted = util.aborted(payload, currLen);\n                }\n            }\n            if (asyncResult) {\n                return asyncResult.then(() => {\n                    return payload;\n                });\n            }\n            return payload;\n        };\n        inst._zod.run = (payload, ctx) => {\n            const result = inst._zod.parse(payload, ctx);\n            if (result instanceof Promise) {\n                if (ctx.async === false)\n                    throw new core.$ZodAsyncError();\n                return result.then((result) => runChecks(result, checks, ctx));\n            }\n            return runChecks(result, checks, ctx);\n        };\n    }\n    inst[\"~standard\"] = {\n        validate: (value) => {\n            try {\n                const r = safeParse(inst, value);\n                return r.success ? { value: r.data } : { issues: r.error?.issues };\n            }\n            catch (_) {\n                return safeParseAsync(inst, value).then((r) => (r.success ? { value: r.data } : { issues: r.error?.issues }));\n            }\n        },\n        vendor: \"zod\",\n        version: 1,\n    };\n});\nexport { clone } from \"./util.js\";\nexport const $ZodString = /*@__PURE__*/ core.$constructor(\"$ZodString\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.pattern = [...(inst?._zod.bag?.patterns ?? [])].pop() ?? regexes.string(inst._zod.bag);\n    inst._zod.parse = (payload, _) => {\n        if (def.coerce)\n            try {\n                payload.value = String(payload.value);\n            }\n            catch (_) { }\n        if (typeof payload.value === \"string\")\n            return payload;\n        payload.issues.push({\n            expected: \"string\",\n            code: \"invalid_type\",\n            input: payload.value,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodStringFormat = /*@__PURE__*/ core.$constructor(\"$ZodStringFormat\", (inst, def) => {\n    // check initialization must come first\n    checks.$ZodCheckStringFormat.init(inst, def);\n    $ZodString.init(inst, def);\n});\nexport const $ZodGUID = /*@__PURE__*/ core.$constructor(\"$ZodGUID\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.guid);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodUUID = /*@__PURE__*/ core.$constructor(\"$ZodUUID\", (inst, def) => {\n    if (def.version) {\n        const versionMap = {\n            v1: 1,\n            v2: 2,\n            v3: 3,\n            v4: 4,\n            v5: 5,\n            v6: 6,\n            v7: 7,\n            v8: 8,\n        };\n        const v = versionMap[def.version];\n        if (v === undefined)\n            throw new Error(`Invalid UUID version: \"${def.version}\"`);\n        def.pattern ?? (def.pattern = regexes.uuid(v));\n    }\n    else\n        def.pattern ?? (def.pattern = regexes.uuid());\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodEmail = /*@__PURE__*/ core.$constructor(\"$ZodEmail\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.email);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodURL = /*@__PURE__*/ core.$constructor(\"$ZodURL\", (inst, def) => {\n    $ZodStringFormat.init(inst, def);\n    inst._zod.check = (payload) => {\n        try {\n            // Trim whitespace from input\n            const trimmed = payload.value.trim();\n            // @ts-ignore\n            const url = new URL(trimmed);\n            if (def.hostname) {\n                def.hostname.lastIndex = 0;\n                if (!def.hostname.test(url.hostname)) {\n                    payload.issues.push({\n                        code: \"invalid_format\",\n                        format: \"url\",\n                        note: \"Invalid hostname\",\n                        pattern: regexes.hostname.source,\n                        input: payload.value,\n                        inst,\n                        continue: !def.abort,\n                    });\n                }\n            }\n            if (def.protocol) {\n                def.protocol.lastIndex = 0;\n                if (!def.protocol.test(url.protocol.endsWith(\":\") ? url.protocol.slice(0, -1) : url.protocol)) {\n                    payload.issues.push({\n                        code: \"invalid_format\",\n                        format: \"url\",\n                        note: \"Invalid protocol\",\n                        pattern: def.protocol.source,\n                        input: payload.value,\n                        inst,\n                        continue: !def.abort,\n                    });\n                }\n            }\n            // Set the output value based on normalize flag\n            if (def.normalize) {\n                // Use normalized URL\n                payload.value = url.href;\n            }\n            else {\n                // Preserve the original input (trimmed)\n                payload.value = trimmed;\n            }\n            return;\n        }\n        catch (_) {\n            payload.issues.push({\n                code: \"invalid_format\",\n                format: \"url\",\n                input: payload.value,\n                inst,\n                continue: !def.abort,\n            });\n        }\n    };\n});\nexport const $ZodEmoji = /*@__PURE__*/ core.$constructor(\"$ZodEmoji\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.emoji());\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodNanoID = /*@__PURE__*/ core.$constructor(\"$ZodNanoID\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.nanoid);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodCUID = /*@__PURE__*/ core.$constructor(\"$ZodCUID\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.cuid);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodCUID2 = /*@__PURE__*/ core.$constructor(\"$ZodCUID2\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.cuid2);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodULID = /*@__PURE__*/ core.$constructor(\"$ZodULID\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.ulid);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodXID = /*@__PURE__*/ core.$constructor(\"$ZodXID\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.xid);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodKSUID = /*@__PURE__*/ core.$constructor(\"$ZodKSUID\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.ksuid);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodISODateTime = /*@__PURE__*/ core.$constructor(\"$ZodISODateTime\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.datetime(def));\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodISODate = /*@__PURE__*/ core.$constructor(\"$ZodISODate\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.date);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodISOTime = /*@__PURE__*/ core.$constructor(\"$ZodISOTime\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.time(def));\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodISODuration = /*@__PURE__*/ core.$constructor(\"$ZodISODuration\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.duration);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodIPv4 = /*@__PURE__*/ core.$constructor(\"$ZodIPv4\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.ipv4);\n    $ZodStringFormat.init(inst, def);\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.format = `ipv4`;\n    });\n});\nexport const $ZodIPv6 = /*@__PURE__*/ core.$constructor(\"$ZodIPv6\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.ipv6);\n    $ZodStringFormat.init(inst, def);\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.format = `ipv6`;\n    });\n    inst._zod.check = (payload) => {\n        try {\n            // @ts-ignore\n            new URL(`http://[${payload.value}]`);\n            // return;\n        }\n        catch {\n            payload.issues.push({\n                code: \"invalid_format\",\n                format: \"ipv6\",\n                input: payload.value,\n                inst,\n                continue: !def.abort,\n            });\n        }\n    };\n});\nexport const $ZodCIDRv4 = /*@__PURE__*/ core.$constructor(\"$ZodCIDRv4\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.cidrv4);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodCIDRv6 = /*@__PURE__*/ core.$constructor(\"$ZodCIDRv6\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.cidrv6); // not used for validation\n    $ZodStringFormat.init(inst, def);\n    inst._zod.check = (payload) => {\n        const [address, prefix] = payload.value.split(\"/\");\n        try {\n            if (!prefix)\n                throw new Error();\n            const prefixNum = Number(prefix);\n            if (`${prefixNum}` !== prefix)\n                throw new Error();\n            if (prefixNum < 0 || prefixNum > 128)\n                throw new Error();\n            // @ts-ignore\n            new URL(`http://[${address}]`);\n        }\n        catch {\n            payload.issues.push({\n                code: \"invalid_format\",\n                format: \"cidrv6\",\n                input: payload.value,\n                inst,\n                continue: !def.abort,\n            });\n        }\n    };\n});\n//////////////////////////////   ZodBase64   //////////////////////////////\nexport function isValidBase64(data) {\n    if (data === \"\")\n        return true;\n    if (data.length % 4 !== 0)\n        return false;\n    try {\n        // @ts-ignore\n        atob(data);\n        return true;\n    }\n    catch {\n        return false;\n    }\n}\nexport const $ZodBase64 = /*@__PURE__*/ core.$constructor(\"$ZodBase64\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.base64);\n    $ZodStringFormat.init(inst, def);\n    inst._zod.onattach.push((inst) => {\n        inst._zod.bag.contentEncoding = \"base64\";\n    });\n    inst._zod.check = (payload) => {\n        if (isValidBase64(payload.value))\n            return;\n        payload.issues.push({\n            code: \"invalid_format\",\n            format: \"base64\",\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\n//////////////////////////////   ZodBase64   //////////////////////////////\nexport function isValidBase64URL(data) {\n    if (!regexes.base64url.test(data))\n        return false;\n    const base64 = data.replace(/[-_]/g, (c) => (c === \"-\" ? \"+\" : \"/\"));\n    const padded = base64.padEnd(Math.ceil(base64.length / 4) * 4, \"=\");\n    return isValidBase64(padded);\n}\nexport const $ZodBase64URL = /*@__PURE__*/ core.$constructor(\"$ZodBase64URL\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.base64url);\n    $ZodStringFormat.init(inst, def);\n    inst._zod.onattach.push((inst) => {\n        inst._zod.bag.contentEncoding = \"base64url\";\n    });\n    inst._zod.check = (payload) => {\n        if (isValidBase64URL(payload.value))\n            return;\n        payload.issues.push({\n            code: \"invalid_format\",\n            format: \"base64url\",\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodE164 = /*@__PURE__*/ core.$constructor(\"$ZodE164\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.e164);\n    $ZodStringFormat.init(inst, def);\n});\n//////////////////////////////   ZodJWT   //////////////////////////////\nexport function isValidJWT(token, algorithm = null) {\n    try {\n        const tokensParts = token.split(\".\");\n        if (tokensParts.length !== 3)\n            return false;\n        const [header] = tokensParts;\n        if (!header)\n            return false;\n        // @ts-ignore\n        const parsedHeader = JSON.parse(atob(header));\n        if (\"typ\" in parsedHeader && parsedHeader?.typ !== \"JWT\")\n            return false;\n        if (!parsedHeader.alg)\n            return false;\n        if (algorithm && (!(\"alg\" in parsedHeader) || parsedHeader.alg !== algorithm))\n            return false;\n        return true;\n    }\n    catch {\n        return false;\n    }\n}\nexport const $ZodJWT = /*@__PURE__*/ core.$constructor(\"$ZodJWT\", (inst, def) => {\n    $ZodStringFormat.init(inst, def);\n    inst._zod.check = (payload) => {\n        if (isValidJWT(payload.value, def.alg))\n            return;\n        payload.issues.push({\n            code: \"invalid_format\",\n            format: \"jwt\",\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCustomStringFormat = /*@__PURE__*/ core.$constructor(\"$ZodCustomStringFormat\", (inst, def) => {\n    $ZodStringFormat.init(inst, def);\n    inst._zod.check = (payload) => {\n        if (def.fn(payload.value))\n            return;\n        payload.issues.push({\n            code: \"invalid_format\",\n            format: def.format,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodNumber = /*@__PURE__*/ core.$constructor(\"$ZodNumber\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.pattern = inst._zod.bag.pattern ?? regexes.number;\n    inst._zod.parse = (payload, _ctx) => {\n        if (def.coerce)\n            try {\n                payload.value = Number(payload.value);\n            }\n            catch (_) { }\n        const input = payload.value;\n        if (typeof input === \"number\" && !Number.isNaN(input) && Number.isFinite(input)) {\n            return payload;\n        }\n        const received = typeof input === \"number\"\n            ? Number.isNaN(input)\n                ? \"NaN\"\n                : !Number.isFinite(input)\n                    ? \"Infinity\"\n                    : undefined\n            : undefined;\n        payload.issues.push({\n            expected: \"number\",\n            code: \"invalid_type\",\n            input,\n            inst,\n            ...(received ? { received } : {}),\n        });\n        return payload;\n    };\n});\nexport const $ZodNumberFormat = /*@__PURE__*/ core.$constructor(\"$ZodNumber\", (inst, def) => {\n    checks.$ZodCheckNumberFormat.init(inst, def);\n    $ZodNumber.init(inst, def); // no format checksp\n});\nexport const $ZodBoolean = /*@__PURE__*/ core.$constructor(\"$ZodBoolean\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.pattern = regexes.boolean;\n    inst._zod.parse = (payload, _ctx) => {\n        if (def.coerce)\n            try {\n                payload.value = Boolean(payload.value);\n            }\n            catch (_) { }\n        const input = payload.value;\n        if (typeof input === \"boolean\")\n            return payload;\n        payload.issues.push({\n            expected: \"boolean\",\n            code: \"invalid_type\",\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodBigInt = /*@__PURE__*/ core.$constructor(\"$ZodBigInt\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.pattern = regexes.bigint;\n    inst._zod.parse = (payload, _ctx) => {\n        if (def.coerce)\n            try {\n                payload.value = BigInt(payload.value);\n            }\n            catch (_) { }\n        if (typeof payload.value === \"bigint\")\n            return payload;\n        payload.issues.push({\n            expected: \"bigint\",\n            code: \"invalid_type\",\n            input: payload.value,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodBigIntFormat = /*@__PURE__*/ core.$constructor(\"$ZodBigInt\", (inst, def) => {\n    checks.$ZodCheckBigIntFormat.init(inst, def);\n    $ZodBigInt.init(inst, def); // no format checks\n});\nexport const $ZodSymbol = /*@__PURE__*/ core.$constructor(\"$ZodSymbol\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        if (typeof input === \"symbol\")\n            return payload;\n        payload.issues.push({\n            expected: \"symbol\",\n            code: \"invalid_type\",\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodUndefined = /*@__PURE__*/ core.$constructor(\"$ZodUndefined\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.pattern = regexes.undefined;\n    inst._zod.values = new Set([undefined]);\n    inst._zod.optin = \"optional\";\n    inst._zod.optout = \"optional\";\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        if (typeof input === \"undefined\")\n            return payload;\n        payload.issues.push({\n            expected: \"undefined\",\n            code: \"invalid_type\",\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodNull = /*@__PURE__*/ core.$constructor(\"$ZodNull\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.pattern = regexes.null;\n    inst._zod.values = new Set([null]);\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        if (input === null)\n            return payload;\n        payload.issues.push({\n            expected: \"null\",\n            code: \"invalid_type\",\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodAny = /*@__PURE__*/ core.$constructor(\"$ZodAny\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload) => payload;\n});\nexport const $ZodUnknown = /*@__PURE__*/ core.$constructor(\"$ZodUnknown\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload) => payload;\n});\nexport const $ZodNever = /*@__PURE__*/ core.$constructor(\"$ZodNever\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        payload.issues.push({\n            expected: \"never\",\n            code: \"invalid_type\",\n            input: payload.value,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodVoid = /*@__PURE__*/ core.$constructor(\"$ZodVoid\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        if (typeof input === \"undefined\")\n            return payload;\n        payload.issues.push({\n            expected: \"void\",\n            code: \"invalid_type\",\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodDate = /*@__PURE__*/ core.$constructor(\"$ZodDate\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        if (def.coerce) {\n            try {\n                payload.value = new Date(payload.value);\n            }\n            catch (_err) { }\n        }\n        const input = payload.value;\n        const isDate = input instanceof Date;\n        const isValidDate = isDate && !Number.isNaN(input.getTime());\n        if (isValidDate)\n            return payload;\n        payload.issues.push({\n            expected: \"date\",\n            code: \"invalid_type\",\n            input,\n            ...(isDate ? { received: \"Invalid Date\" } : {}),\n            inst,\n        });\n        return payload;\n    };\n});\nfunction handleArrayResult(result, final, index) {\n    if (result.issues.length) {\n        final.issues.push(...util.prefixIssues(index, result.issues));\n    }\n    final.value[index] = result.value;\n}\nexport const $ZodArray = /*@__PURE__*/ core.$constructor(\"$ZodArray\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        if (!Array.isArray(input)) {\n            payload.issues.push({\n                expected: \"array\",\n                code: \"invalid_type\",\n                input,\n                inst,\n            });\n            return payload;\n        }\n        payload.value = Array(input.length);\n        const proms = [];\n        for (let i = 0; i < input.length; i++) {\n            const item = input[i];\n            const result = def.element._zod.run({\n                value: item,\n                issues: [],\n            }, ctx);\n            if (result instanceof Promise) {\n                proms.push(result.then((result) => handleArrayResult(result, payload, i)));\n            }\n            else {\n                handleArrayResult(result, payload, i);\n            }\n        }\n        if (proms.length) {\n            return Promise.all(proms).then(() => payload);\n        }\n        return payload; //handleArrayResultsAsync(parseResults, final);\n    };\n});\nfunction handlePropertyResult(result, final, key, input) {\n    if (result.issues.length) {\n        final.issues.push(...util.prefixIssues(key, result.issues));\n    }\n    if (result.value === undefined) {\n        if (key in input) {\n            final.value[key] = undefined;\n        }\n    }\n    else {\n        final.value[key] = result.value;\n    }\n}\nexport const $ZodObject = /*@__PURE__*/ core.$constructor(\"$ZodObject\", (inst, def) => {\n    // requires cast because technically $ZodObject doesn't extend\n    $ZodType.init(inst, def);\n    const _normalized = util.cached(() => {\n        const keys = Object.keys(def.shape);\n        for (const k of keys) {\n            if (!(def.shape[k] instanceof $ZodType)) {\n                throw new Error(`Invalid element at key \"${k}\": expected a Zod schema`);\n            }\n        }\n        const okeys = util.optionalKeys(def.shape);\n        return {\n            shape: def.shape,\n            keys,\n            keySet: new Set(keys),\n            numKeys: keys.length,\n            optionalKeys: new Set(okeys),\n        };\n    });\n    util.defineLazy(inst._zod, \"propValues\", () => {\n        const shape = def.shape;\n        const propValues = {};\n        for (const key in shape) {\n            const field = shape[key]._zod;\n            if (field.values) {\n                propValues[key] ?? (propValues[key] = new Set());\n                for (const v of field.values)\n                    propValues[key].add(v);\n            }\n        }\n        return propValues;\n    });\n    const generateFastpass = (shape) => {\n        const doc = new Doc([\"shape\", \"payload\", \"ctx\"]);\n        const normalized = _normalized.value;\n        const parseStr = (key) => {\n            const k = util.esc(key);\n            return `shape[${k}]._zod.run({ value: input[${k}], issues: [] }, ctx)`;\n        };\n        doc.write(`const input = payload.value;`);\n        const ids = Object.create(null);\n        let counter = 0;\n        for (const key of normalized.keys) {\n            ids[key] = `key_${counter++}`;\n        }\n        // A: preserve key order {\n        doc.write(`const newResult = {}`);\n        for (const key of normalized.keys) {\n            const id = ids[key];\n            const k = util.esc(key);\n            doc.write(`const ${id} = ${parseStr(key)};`);\n            doc.write(`\n        if (${id}.issues.length) {\n          payload.issues = payload.issues.concat(${id}.issues.map(iss => ({\n            ...iss,\n            path: iss.path ? [${k}, ...iss.path] : [${k}]\n          })));\n        }\n        \n        if (${id}.value === undefined) {\n          if (${k} in input) {\n            newResult[${k}] = undefined;\n          }\n        } else {\n          newResult[${k}] = ${id}.value;\n        }\n      `);\n        }\n        doc.write(`payload.value = newResult;`);\n        doc.write(`return payload;`);\n        const fn = doc.compile();\n        return (payload, ctx) => fn(shape, payload, ctx);\n    };\n    let fastpass;\n    const isObject = util.isObject;\n    const jit = !core.globalConfig.jitless;\n    const allowsEval = util.allowsEval;\n    const fastEnabled = jit && allowsEval.value; // && !def.catchall;\n    const catchall = def.catchall;\n    let value;\n    inst._zod.parse = (payload, ctx) => {\n        value ?? (value = _normalized.value);\n        const input = payload.value;\n        if (!isObject(input)) {\n            payload.issues.push({\n                expected: \"object\",\n                code: \"invalid_type\",\n                input,\n                inst,\n            });\n            return payload;\n        }\n        const proms = [];\n        if (jit && fastEnabled && ctx?.async === false && ctx.jitless !== true) {\n            // always synchronous\n            if (!fastpass)\n                fastpass = generateFastpass(def.shape);\n            payload = fastpass(payload, ctx);\n        }\n        else {\n            payload.value = {};\n            const shape = value.shape;\n            for (const key of value.keys) {\n                const el = shape[key];\n                const r = el._zod.run({ value: input[key], issues: [] }, ctx);\n                if (r instanceof Promise) {\n                    proms.push(r.then((r) => handlePropertyResult(r, payload, key, input)));\n                }\n                else {\n                    handlePropertyResult(r, payload, key, input);\n                }\n            }\n        }\n        if (!catchall) {\n            return proms.length ? Promise.all(proms).then(() => payload) : payload;\n        }\n        const unrecognized = [];\n        // iterate over input keys\n        const keySet = value.keySet;\n        const _catchall = catchall._zod;\n        const t = _catchall.def.type;\n        for (const key of Object.keys(input)) {\n            if (keySet.has(key))\n                continue;\n            if (t === \"never\") {\n                unrecognized.push(key);\n                continue;\n            }\n            const r = _catchall.run({ value: input[key], issues: [] }, ctx);\n            if (r instanceof Promise) {\n                proms.push(r.then((r) => handlePropertyResult(r, payload, key, input)));\n            }\n            else {\n                handlePropertyResult(r, payload, key, input);\n            }\n        }\n        if (unrecognized.length) {\n            payload.issues.push({\n                code: \"unrecognized_keys\",\n                keys: unrecognized,\n                input,\n                inst,\n            });\n        }\n        if (!proms.length)\n            return payload;\n        return Promise.all(proms).then(() => {\n            return payload;\n        });\n    };\n});\nfunction handleUnionResults(results, final, inst, ctx) {\n    for (const result of results) {\n        if (result.issues.length === 0) {\n            final.value = result.value;\n            return final;\n        }\n    }\n    const nonaborted = results.filter((r) => !util.aborted(r));\n    if (nonaborted.length === 1) {\n        final.value = nonaborted[0].value;\n        return nonaborted[0];\n    }\n    final.issues.push({\n        code: \"invalid_union\",\n        input: final.value,\n        inst,\n        errors: results.map((result) => result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config()))),\n    });\n    return final;\n}\nexport const $ZodUnion = /*@__PURE__*/ core.$constructor(\"$ZodUnion\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"optin\", () => def.options.some((o) => o._zod.optin === \"optional\") ? \"optional\" : undefined);\n    util.defineLazy(inst._zod, \"optout\", () => def.options.some((o) => o._zod.optout === \"optional\") ? \"optional\" : undefined);\n    util.defineLazy(inst._zod, \"values\", () => {\n        if (def.options.every((o) => o._zod.values)) {\n            return new Set(def.options.flatMap((option) => Array.from(option._zod.values)));\n        }\n        return undefined;\n    });\n    util.defineLazy(inst._zod, \"pattern\", () => {\n        if (def.options.every((o) => o._zod.pattern)) {\n            const patterns = def.options.map((o) => o._zod.pattern);\n            return new RegExp(`^(${patterns.map((p) => util.cleanRegex(p.source)).join(\"|\")})$`);\n        }\n        return undefined;\n    });\n    inst._zod.parse = (payload, ctx) => {\n        let async = false;\n        const results = [];\n        for (const option of def.options) {\n            const result = option._zod.run({\n                value: payload.value,\n                issues: [],\n            }, ctx);\n            if (result instanceof Promise) {\n                results.push(result);\n                async = true;\n            }\n            else {\n                if (result.issues.length === 0)\n                    return result;\n                results.push(result);\n            }\n        }\n        if (!async)\n            return handleUnionResults(results, payload, inst, ctx);\n        return Promise.all(results).then((results) => {\n            return handleUnionResults(results, payload, inst, ctx);\n        });\n    };\n});\nexport const $ZodDiscriminatedUnion = \n/*@__PURE__*/\ncore.$constructor(\"$ZodDiscriminatedUnion\", (inst, def) => {\n    $ZodUnion.init(inst, def);\n    const _super = inst._zod.parse;\n    util.defineLazy(inst._zod, \"propValues\", () => {\n        const propValues = {};\n        for (const option of def.options) {\n            const pv = option._zod.propValues;\n            if (!pv || Object.keys(pv).length === 0)\n                throw new Error(`Invalid discriminated union option at index \"${def.options.indexOf(option)}\"`);\n            for (const [k, v] of Object.entries(pv)) {\n                if (!propValues[k])\n                    propValues[k] = new Set();\n                for (const val of v) {\n                    propValues[k].add(val);\n                }\n            }\n        }\n        return propValues;\n    });\n    const disc = util.cached(() => {\n        const opts = def.options;\n        const map = new Map();\n        for (const o of opts) {\n            const values = o._zod.propValues?.[def.discriminator];\n            if (!values || values.size === 0)\n                throw new Error(`Invalid discriminated union option at index \"${def.options.indexOf(o)}\"`);\n            for (const v of values) {\n                if (map.has(v)) {\n                    throw new Error(`Duplicate discriminator value \"${String(v)}\"`);\n                }\n                map.set(v, o);\n            }\n        }\n        return map;\n    });\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        if (!util.isObject(input)) {\n            payload.issues.push({\n                code: \"invalid_type\",\n                expected: \"object\",\n                input,\n                inst,\n            });\n            return payload;\n        }\n        const opt = disc.value.get(input?.[def.discriminator]);\n        if (opt) {\n            return opt._zod.run(payload, ctx);\n        }\n        if (def.unionFallback) {\n            return _super(payload, ctx);\n        }\n        // no matching discriminator\n        payload.issues.push({\n            code: \"invalid_union\",\n            errors: [],\n            note: \"No matching discriminator\",\n            discriminator: def.discriminator,\n            input,\n            path: [def.discriminator],\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodIntersection = /*@__PURE__*/ core.$constructor(\"$ZodIntersection\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        const left = def.left._zod.run({ value: input, issues: [] }, ctx);\n        const right = def.right._zod.run({ value: input, issues: [] }, ctx);\n        const async = left instanceof Promise || right instanceof Promise;\n        if (async) {\n            return Promise.all([left, right]).then(([left, right]) => {\n                return handleIntersectionResults(payload, left, right);\n            });\n        }\n        return handleIntersectionResults(payload, left, right);\n    };\n});\nfunction mergeValues(a, b) {\n    // const aType = parse.t(a);\n    // const bType = parse.t(b);\n    if (a === b) {\n        return { valid: true, data: a };\n    }\n    if (a instanceof Date && b instanceof Date && +a === +b) {\n        return { valid: true, data: a };\n    }\n    if (util.isPlainObject(a) && util.isPlainObject(b)) {\n        const bKeys = Object.keys(b);\n        const sharedKeys = Object.keys(a).filter((key) => bKeys.indexOf(key) !== -1);\n        const newObj = { ...a, ...b };\n        for (const key of sharedKeys) {\n            const sharedValue = mergeValues(a[key], b[key]);\n            if (!sharedValue.valid) {\n                return {\n                    valid: false,\n                    mergeErrorPath: [key, ...sharedValue.mergeErrorPath],\n                };\n            }\n            newObj[key] = sharedValue.data;\n        }\n        return { valid: true, data: newObj };\n    }\n    if (Array.isArray(a) && Array.isArray(b)) {\n        if (a.length !== b.length) {\n            return { valid: false, mergeErrorPath: [] };\n        }\n        const newArray = [];\n        for (let index = 0; index < a.length; index++) {\n            const itemA = a[index];\n            const itemB = b[index];\n            const sharedValue = mergeValues(itemA, itemB);\n            if (!sharedValue.valid) {\n                return {\n                    valid: false,\n                    mergeErrorPath: [index, ...sharedValue.mergeErrorPath],\n                };\n            }\n            newArray.push(sharedValue.data);\n        }\n        return { valid: true, data: newArray };\n    }\n    return { valid: false, mergeErrorPath: [] };\n}\nfunction handleIntersectionResults(result, left, right) {\n    if (left.issues.length) {\n        result.issues.push(...left.issues);\n    }\n    if (right.issues.length) {\n        result.issues.push(...right.issues);\n    }\n    if (util.aborted(result))\n        return result;\n    const merged = mergeValues(left.value, right.value);\n    if (!merged.valid) {\n        throw new Error(`Unmergable intersection. Error path: ` + `${JSON.stringify(merged.mergeErrorPath)}`);\n    }\n    result.value = merged.data;\n    return result;\n}\nexport const $ZodTuple = /*@__PURE__*/ core.$constructor(\"$ZodTuple\", (inst, def) => {\n    $ZodType.init(inst, def);\n    const items = def.items;\n    const optStart = items.length - [...items].reverse().findIndex((item) => item._zod.optin !== \"optional\");\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        if (!Array.isArray(input)) {\n            payload.issues.push({\n                input,\n                inst,\n                expected: \"tuple\",\n                code: \"invalid_type\",\n            });\n            return payload;\n        }\n        payload.value = [];\n        const proms = [];\n        if (!def.rest) {\n            const tooBig = input.length > items.length;\n            const tooSmall = input.length < optStart - 1;\n            if (tooBig || tooSmall) {\n                payload.issues.push({\n                    input,\n                    inst,\n                    origin: \"array\",\n                    ...(tooBig ? { code: \"too_big\", maximum: items.length } : { code: \"too_small\", minimum: items.length }),\n                });\n                return payload;\n            }\n        }\n        let i = -1;\n        for (const item of items) {\n            i++;\n            if (i >= input.length)\n                if (i >= optStart)\n                    continue;\n            const result = item._zod.run({\n                value: input[i],\n                issues: [],\n            }, ctx);\n            if (result instanceof Promise) {\n                proms.push(result.then((result) => handleTupleResult(result, payload, i)));\n            }\n            else {\n                handleTupleResult(result, payload, i);\n            }\n        }\n        if (def.rest) {\n            const rest = input.slice(items.length);\n            for (const el of rest) {\n                i++;\n                const result = def.rest._zod.run({\n                    value: el,\n                    issues: [],\n                }, ctx);\n                if (result instanceof Promise) {\n                    proms.push(result.then((result) => handleTupleResult(result, payload, i)));\n                }\n                else {\n                    handleTupleResult(result, payload, i);\n                }\n            }\n        }\n        if (proms.length)\n            return Promise.all(proms).then(() => payload);\n        return payload;\n    };\n});\nfunction handleTupleResult(result, final, index) {\n    if (result.issues.length) {\n        final.issues.push(...util.prefixIssues(index, result.issues));\n    }\n    final.value[index] = result.value;\n}\nexport const $ZodRecord = /*@__PURE__*/ core.$constructor(\"$ZodRecord\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        if (!util.isPlainObject(input)) {\n            payload.issues.push({\n                expected: \"record\",\n                code: \"invalid_type\",\n                input,\n                inst,\n            });\n            return payload;\n        }\n        const proms = [];\n        if (def.keyType._zod.values) {\n            const values = def.keyType._zod.values;\n            payload.value = {};\n            for (const key of values) {\n                if (typeof key === \"string\" || typeof key === \"number\" || typeof key === \"symbol\") {\n                    const result = def.valueType._zod.run({ value: input[key], issues: [] }, ctx);\n                    if (result instanceof Promise) {\n                        proms.push(result.then((result) => {\n                            if (result.issues.length) {\n                                payload.issues.push(...util.prefixIssues(key, result.issues));\n                            }\n                            payload.value[key] = result.value;\n                        }));\n                    }\n                    else {\n                        if (result.issues.length) {\n                            payload.issues.push(...util.prefixIssues(key, result.issues));\n                        }\n                        payload.value[key] = result.value;\n                    }\n                }\n            }\n            let unrecognized;\n            for (const key in input) {\n                if (!values.has(key)) {\n                    unrecognized = unrecognized ?? [];\n                    unrecognized.push(key);\n                }\n            }\n            if (unrecognized && unrecognized.length > 0) {\n                payload.issues.push({\n                    code: \"unrecognized_keys\",\n                    input,\n                    inst,\n                    keys: unrecognized,\n                });\n            }\n        }\n        else {\n            payload.value = {};\n            for (const key of Reflect.ownKeys(input)) {\n                if (key === \"__proto__\")\n                    continue;\n                const keyResult = def.keyType._zod.run({ value: key, issues: [] }, ctx);\n                if (keyResult instanceof Promise) {\n                    throw new Error(\"Async schemas not supported in object keys currently\");\n                }\n                if (keyResult.issues.length) {\n                    payload.issues.push({\n                        origin: \"record\",\n                        code: \"invalid_key\",\n                        issues: keyResult.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())),\n                        input: key,\n                        path: [key],\n                        inst,\n                    });\n                    payload.value[keyResult.value] = keyResult.value;\n                    continue;\n                }\n                const result = def.valueType._zod.run({ value: input[key], issues: [] }, ctx);\n                if (result instanceof Promise) {\n                    proms.push(result.then((result) => {\n                        if (result.issues.length) {\n                            payload.issues.push(...util.prefixIssues(key, result.issues));\n                        }\n                        payload.value[keyResult.value] = result.value;\n                    }));\n                }\n                else {\n                    if (result.issues.length) {\n                        payload.issues.push(...util.prefixIssues(key, result.issues));\n                    }\n                    payload.value[keyResult.value] = result.value;\n                }\n            }\n        }\n        if (proms.length) {\n            return Promise.all(proms).then(() => payload);\n        }\n        return payload;\n    };\n});\nexport const $ZodMap = /*@__PURE__*/ core.$constructor(\"$ZodMap\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        if (!(input instanceof Map)) {\n            payload.issues.push({\n                expected: \"map\",\n                code: \"invalid_type\",\n                input,\n                inst,\n            });\n            return payload;\n        }\n        const proms = [];\n        payload.value = new Map();\n        for (const [key, value] of input) {\n            const keyResult = def.keyType._zod.run({ value: key, issues: [] }, ctx);\n            const valueResult = def.valueType._zod.run({ value: value, issues: [] }, ctx);\n            if (keyResult instanceof Promise || valueResult instanceof Promise) {\n                proms.push(Promise.all([keyResult, valueResult]).then(([keyResult, valueResult]) => {\n                    handleMapResult(keyResult, valueResult, payload, key, input, inst, ctx);\n                }));\n            }\n            else {\n                handleMapResult(keyResult, valueResult, payload, key, input, inst, ctx);\n            }\n        }\n        if (proms.length)\n            return Promise.all(proms).then(() => payload);\n        return payload;\n    };\n});\nfunction handleMapResult(keyResult, valueResult, final, key, input, inst, ctx) {\n    if (keyResult.issues.length) {\n        if (util.propertyKeyTypes.has(typeof key)) {\n            final.issues.push(...util.prefixIssues(key, keyResult.issues));\n        }\n        else {\n            final.issues.push({\n                origin: \"map\",\n                code: \"invalid_key\",\n                input,\n                inst,\n                issues: keyResult.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())),\n            });\n        }\n    }\n    if (valueResult.issues.length) {\n        if (util.propertyKeyTypes.has(typeof key)) {\n            final.issues.push(...util.prefixIssues(key, valueResult.issues));\n        }\n        else {\n            final.issues.push({\n                origin: \"map\",\n                code: \"invalid_element\",\n                input,\n                inst,\n                key: key,\n                issues: valueResult.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())),\n            });\n        }\n    }\n    final.value.set(keyResult.value, valueResult.value);\n}\nexport const $ZodSet = /*@__PURE__*/ core.$constructor(\"$ZodSet\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        if (!(input instanceof Set)) {\n            payload.issues.push({\n                input,\n                inst,\n                expected: \"set\",\n                code: \"invalid_type\",\n            });\n            return payload;\n        }\n        const proms = [];\n        payload.value = new Set();\n        for (const item of input) {\n            const result = def.valueType._zod.run({ value: item, issues: [] }, ctx);\n            if (result instanceof Promise) {\n                proms.push(result.then((result) => handleSetResult(result, payload)));\n            }\n            else\n                handleSetResult(result, payload);\n        }\n        if (proms.length)\n            return Promise.all(proms).then(() => payload);\n        return payload;\n    };\n});\nfunction handleSetResult(result, final) {\n    if (result.issues.length) {\n        final.issues.push(...result.issues);\n    }\n    final.value.add(result.value);\n}\nexport const $ZodEnum = /*@__PURE__*/ core.$constructor(\"$ZodEnum\", (inst, def) => {\n    $ZodType.init(inst, def);\n    const values = util.getEnumValues(def.entries);\n    const valuesSet = new Set(values);\n    inst._zod.values = valuesSet;\n    inst._zod.pattern = new RegExp(`^(${values\n        .filter((k) => util.propertyKeyTypes.has(typeof k))\n        .map((o) => (typeof o === \"string\" ? util.escapeRegex(o) : o.toString()))\n        .join(\"|\")})$`);\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        if (valuesSet.has(input)) {\n            return payload;\n        }\n        payload.issues.push({\n            code: \"invalid_value\",\n            values,\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodLiteral = /*@__PURE__*/ core.$constructor(\"$ZodLiteral\", (inst, def) => {\n    $ZodType.init(inst, def);\n    if (def.values.length === 0) {\n        throw new Error(\"Cannot create literal schema with no valid values\");\n    }\n    inst._zod.values = new Set(def.values);\n    inst._zod.pattern = new RegExp(`^(${def.values\n        .map((o) => (typeof o === \"string\" ? util.escapeRegex(o) : o ? util.escapeRegex(o.toString()) : String(o)))\n        .join(\"|\")})$`);\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        if (inst._zod.values.has(input)) {\n            return payload;\n        }\n        payload.issues.push({\n            code: \"invalid_value\",\n            values: def.values,\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodFile = /*@__PURE__*/ core.$constructor(\"$ZodFile\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        // @ts-ignore\n        if (input instanceof File)\n            return payload;\n        payload.issues.push({\n            expected: \"file\",\n            code: \"invalid_type\",\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodTransform = /*@__PURE__*/ core.$constructor(\"$ZodTransform\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        const _out = def.transform(payload.value, payload);\n        if (_ctx.async) {\n            const output = _out instanceof Promise ? _out : Promise.resolve(_out);\n            return output.then((output) => {\n                payload.value = output;\n                return payload;\n            });\n        }\n        if (_out instanceof Promise) {\n            throw new core.$ZodAsyncError();\n        }\n        payload.value = _out;\n        return payload;\n    };\n});\nexport const $ZodOptional = /*@__PURE__*/ core.$constructor(\"$ZodOptional\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.optin = \"optional\";\n    inst._zod.optout = \"optional\";\n    util.defineLazy(inst._zod, \"values\", () => {\n        return def.innerType._zod.values ? new Set([...def.innerType._zod.values, undefined]) : undefined;\n    });\n    util.defineLazy(inst._zod, \"pattern\", () => {\n        const pattern = def.innerType._zod.pattern;\n        return pattern ? new RegExp(`^(${util.cleanRegex(pattern.source)})?$`) : undefined;\n    });\n    inst._zod.parse = (payload, ctx) => {\n        if (def.innerType._zod.optin === \"optional\") {\n            return def.innerType._zod.run(payload, ctx);\n        }\n        if (payload.value === undefined) {\n            return payload;\n        }\n        return def.innerType._zod.run(payload, ctx);\n    };\n});\nexport const $ZodNullable = /*@__PURE__*/ core.$constructor(\"$ZodNullable\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"optin\", () => def.innerType._zod.optin);\n    util.defineLazy(inst._zod, \"optout\", () => def.innerType._zod.optout);\n    util.defineLazy(inst._zod, \"pattern\", () => {\n        const pattern = def.innerType._zod.pattern;\n        return pattern ? new RegExp(`^(${util.cleanRegex(pattern.source)}|null)$`) : undefined;\n    });\n    util.defineLazy(inst._zod, \"values\", () => {\n        return def.innerType._zod.values ? new Set([...def.innerType._zod.values, null]) : undefined;\n    });\n    inst._zod.parse = (payload, ctx) => {\n        if (payload.value === null)\n            return payload;\n        return def.innerType._zod.run(payload, ctx);\n    };\n});\nexport const $ZodDefault = /*@__PURE__*/ core.$constructor(\"$ZodDefault\", (inst, def) => {\n    $ZodType.init(inst, def);\n    // inst._zod.qin = \"true\";\n    inst._zod.optin = \"optional\";\n    util.defineLazy(inst._zod, \"values\", () => def.innerType._zod.values);\n    inst._zod.parse = (payload, ctx) => {\n        if (payload.value === undefined) {\n            payload.value = def.defaultValue;\n            /**\n             * $ZodDefault always returns the default value immediately.\n             * It doesn't pass the default value into the validator (\"prefault\"). There's no reason to pass the default value through validation. The validity of the default is enforced by TypeScript statically. Otherwise, it's the responsibility of the user to ensure the default is valid. In the case of pipes with divergent in/out types, you can specify the default on the `in` schema of your ZodPipe to set a \"prefault\" for the pipe.   */\n            return payload;\n        }\n        const result = def.innerType._zod.run(payload, ctx);\n        if (result instanceof Promise) {\n            return result.then((result) => handleDefaultResult(result, def));\n        }\n        return handleDefaultResult(result, def);\n    };\n});\nfunction handleDefaultResult(payload, def) {\n    if (payload.value === undefined) {\n        payload.value = def.defaultValue;\n    }\n    return payload;\n}\nexport const $ZodPrefault = /*@__PURE__*/ core.$constructor(\"$ZodPrefault\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.optin = \"optional\";\n    util.defineLazy(inst._zod, \"values\", () => def.innerType._zod.values);\n    inst._zod.parse = (payload, ctx) => {\n        if (payload.value === undefined) {\n            payload.value = def.defaultValue;\n        }\n        return def.innerType._zod.run(payload, ctx);\n    };\n});\nexport const $ZodNonOptional = /*@__PURE__*/ core.$constructor(\"$ZodNonOptional\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"values\", () => {\n        const v = def.innerType._zod.values;\n        return v ? new Set([...v].filter((x) => x !== undefined)) : undefined;\n    });\n    inst._zod.parse = (payload, ctx) => {\n        const result = def.innerType._zod.run(payload, ctx);\n        if (result instanceof Promise) {\n            return result.then((result) => handleNonOptionalResult(result, inst));\n        }\n        return handleNonOptionalResult(result, inst);\n    };\n});\nfunction handleNonOptionalResult(payload, inst) {\n    if (!payload.issues.length && payload.value === undefined) {\n        payload.issues.push({\n            code: \"invalid_type\",\n            expected: \"nonoptional\",\n            input: payload.value,\n            inst,\n        });\n    }\n    return payload;\n}\nexport const $ZodSuccess = /*@__PURE__*/ core.$constructor(\"$ZodSuccess\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        const result = def.innerType._zod.run(payload, ctx);\n        if (result instanceof Promise) {\n            return result.then((result) => {\n                payload.value = result.issues.length === 0;\n                return payload;\n            });\n        }\n        payload.value = result.issues.length === 0;\n        return payload;\n    };\n});\nexport const $ZodCatch = /*@__PURE__*/ core.$constructor(\"$ZodCatch\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"optin\", () => def.innerType._zod.optin);\n    util.defineLazy(inst._zod, \"optout\", () => def.innerType._zod.optout);\n    util.defineLazy(inst._zod, \"values\", () => def.innerType._zod.values);\n    inst._zod.parse = (payload, ctx) => {\n        const result = def.innerType._zod.run(payload, ctx);\n        if (result instanceof Promise) {\n            return result.then((result) => {\n                payload.value = result.value;\n                if (result.issues.length) {\n                    payload.value = def.catchValue({\n                        ...payload,\n                        error: {\n                            issues: result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())),\n                        },\n                        input: payload.value,\n                    });\n                    payload.issues = [];\n                }\n                return payload;\n            });\n        }\n        payload.value = result.value;\n        if (result.issues.length) {\n            payload.value = def.catchValue({\n                ...payload,\n                error: {\n                    issues: result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())),\n                },\n                input: payload.value,\n            });\n            payload.issues = [];\n        }\n        return payload;\n    };\n});\nexport const $ZodNaN = /*@__PURE__*/ core.$constructor(\"$ZodNaN\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        if (typeof payload.value !== \"number\" || !Number.isNaN(payload.value)) {\n            payload.issues.push({\n                input: payload.value,\n                inst,\n                expected: \"nan\",\n                code: \"invalid_type\",\n            });\n            return payload;\n        }\n        return payload;\n    };\n});\nexport const $ZodPipe = /*@__PURE__*/ core.$constructor(\"$ZodPipe\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"values\", () => def.in._zod.values);\n    util.defineLazy(inst._zod, \"optin\", () => def.in._zod.optin);\n    util.defineLazy(inst._zod, \"optout\", () => def.out._zod.optout);\n    util.defineLazy(inst._zod, \"propValues\", () => def.in._zod.propValues);\n    inst._zod.parse = (payload, ctx) => {\n        const left = def.in._zod.run(payload, ctx);\n        if (left instanceof Promise) {\n            return left.then((left) => handlePipeResult(left, def, ctx));\n        }\n        return handlePipeResult(left, def, ctx);\n    };\n});\nfunction handlePipeResult(left, def, ctx) {\n    if (left.issues.length) {\n        return left;\n    }\n    return def.out._zod.run({ value: left.value, issues: left.issues }, ctx);\n}\nexport const $ZodReadonly = /*@__PURE__*/ core.$constructor(\"$ZodReadonly\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"propValues\", () => def.innerType._zod.propValues);\n    util.defineLazy(inst._zod, \"values\", () => def.innerType._zod.values);\n    util.defineLazy(inst._zod, \"optin\", () => def.innerType._zod.optin);\n    util.defineLazy(inst._zod, \"optout\", () => def.innerType._zod.optout);\n    inst._zod.parse = (payload, ctx) => {\n        const result = def.innerType._zod.run(payload, ctx);\n        if (result instanceof Promise) {\n            return result.then(handleReadonlyResult);\n        }\n        return handleReadonlyResult(result);\n    };\n});\nfunction handleReadonlyResult(payload) {\n    payload.value = Object.freeze(payload.value);\n    return payload;\n}\nexport const $ZodTemplateLiteral = /*@__PURE__*/ core.$constructor(\"$ZodTemplateLiteral\", (inst, def) => {\n    $ZodType.init(inst, def);\n    const regexParts = [];\n    for (const part of def.parts) {\n        if (part instanceof $ZodType) {\n            if (!part._zod.pattern) {\n                // if (!source)\n                throw new Error(`Invalid template literal part, no pattern found: ${[...part._zod.traits].shift()}`);\n            }\n            const source = part._zod.pattern instanceof RegExp ? part._zod.pattern.source : part._zod.pattern;\n            if (!source)\n                throw new Error(`Invalid template literal part: ${part._zod.traits}`);\n            const start = source.startsWith(\"^\") ? 1 : 0;\n            const end = source.endsWith(\"$\") ? source.length - 1 : source.length;\n            regexParts.push(source.slice(start, end));\n        }\n        else if (part === null || util.primitiveTypes.has(typeof part)) {\n            regexParts.push(util.escapeRegex(`${part}`));\n        }\n        else {\n            throw new Error(`Invalid template literal part: ${part}`);\n        }\n    }\n    inst._zod.pattern = new RegExp(`^${regexParts.join(\"\")}$`);\n    inst._zod.parse = (payload, _ctx) => {\n        if (typeof payload.value !== \"string\") {\n            payload.issues.push({\n                input: payload.value,\n                inst,\n                expected: \"template_literal\",\n                code: \"invalid_type\",\n            });\n            return payload;\n        }\n        inst._zod.pattern.lastIndex = 0;\n        if (!inst._zod.pattern.test(payload.value)) {\n            payload.issues.push({\n                input: payload.value,\n                inst,\n                code: \"invalid_format\",\n                format: def.format ?? \"template_literal\",\n                pattern: inst._zod.pattern.source,\n            });\n            return payload;\n        }\n        return payload;\n    };\n});\nexport const $ZodPromise = /*@__PURE__*/ core.$constructor(\"$ZodPromise\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        return Promise.resolve(payload.value).then((inner) => def.innerType._zod.run({ value: inner, issues: [] }, ctx));\n    };\n});\nexport const $ZodLazy = /*@__PURE__*/ core.$constructor(\"$ZodLazy\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"innerType\", () => def.getter());\n    util.defineLazy(inst._zod, \"pattern\", () => inst._zod.innerType._zod.pattern);\n    util.defineLazy(inst._zod, \"propValues\", () => inst._zod.innerType._zod.propValues);\n    util.defineLazy(inst._zod, \"optin\", () => inst._zod.innerType._zod.optin);\n    util.defineLazy(inst._zod, \"optout\", () => inst._zod.innerType._zod.optout);\n    inst._zod.parse = (payload, ctx) => {\n        const inner = inst._zod.innerType;\n        return inner._zod.run(payload, ctx);\n    };\n});\nexport const $ZodCustom = /*@__PURE__*/ core.$constructor(\"$ZodCustom\", (inst, def) => {\n    checks.$ZodCheck.init(inst, def);\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _) => {\n        return payload;\n    };\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const r = def.fn(input);\n        if (r instanceof Promise) {\n            return r.then((r) => handleRefineResult(r, payload, input, inst));\n        }\n        handleRefineResult(r, payload, input, inst);\n        return;\n    };\n});\nfunction handleRefineResult(result, payload, input, inst) {\n    if (!result) {\n        const _iss = {\n            code: \"custom\",\n            input,\n            inst, // incorporates params.error into issue reporting\n            path: [...(inst._zod.def.path ?? [])], // incorporates params.error into issue reporting\n            continue: !inst._zod.def.abort,\n            // params: inst._zod.def.params,\n        };\n        if (inst._zod.def.params)\n            _iss.params = inst._zod.def.params;\n        payload.issues.push(util.issue(_iss));\n    }\n}\n", "// import { $ZodType } from \"./schemas.js\";\nimport * as core from \"./core.js\";\nimport * as regexes from \"./regexes.js\";\nimport * as util from \"./util.js\";\nexport const $ZodCheck = /*@__PURE__*/ core.$constructor(\"$ZodCheck\", (inst, def) => {\n    var _a;\n    inst._zod ?? (inst._zod = {});\n    inst._zod.def = def;\n    (_a = inst._zod).onattach ?? (_a.onattach = []);\n});\nconst numericOriginMap = {\n    number: \"number\",\n    bigint: \"bigint\",\n    object: \"date\",\n};\nexport const $ZodCheckLessThan = /*@__PURE__*/ core.$constructor(\"$ZodCheckLessThan\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    const origin = numericOriginMap[typeof def.value];\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        const curr = (def.inclusive ? bag.maximum : bag.exclusiveMaximum) ?? Number.POSITIVE_INFINITY;\n        if (def.value < curr) {\n            if (def.inclusive)\n                bag.maximum = def.value;\n            else\n                bag.exclusiveMaximum = def.value;\n        }\n    });\n    inst._zod.check = (payload) => {\n        if (def.inclusive ? payload.value <= def.value : payload.value < def.value) {\n            return;\n        }\n        payload.issues.push({\n            origin,\n            code: \"too_big\",\n            maximum: def.value,\n            input: payload.value,\n            inclusive: def.inclusive,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckGreaterThan = /*@__PURE__*/ core.$constructor(\"$ZodCheckGreaterThan\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    const origin = numericOriginMap[typeof def.value];\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        const curr = (def.inclusive ? bag.minimum : bag.exclusiveMinimum) ?? Number.NEGATIVE_INFINITY;\n        if (def.value > curr) {\n            if (def.inclusive)\n                bag.minimum = def.value;\n            else\n                bag.exclusiveMinimum = def.value;\n        }\n    });\n    inst._zod.check = (payload) => {\n        if (def.inclusive ? payload.value >= def.value : payload.value > def.value) {\n            return;\n        }\n        payload.issues.push({\n            origin,\n            code: \"too_small\",\n            minimum: def.value,\n            input: payload.value,\n            inclusive: def.inclusive,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckMultipleOf = \n/*@__PURE__*/ core.$constructor(\"$ZodCheckMultipleOf\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    inst._zod.onattach.push((inst) => {\n        var _a;\n        (_a = inst._zod.bag).multipleOf ?? (_a.multipleOf = def.value);\n    });\n    inst._zod.check = (payload) => {\n        if (typeof payload.value !== typeof def.value)\n            throw new Error(\"Cannot mix number and bigint in multiple_of check.\");\n        const isMultiple = typeof payload.value === \"bigint\"\n            ? payload.value % def.value === BigInt(0)\n            : util.floatSafeRemainder(payload.value, def.value) === 0;\n        if (isMultiple)\n            return;\n        payload.issues.push({\n            origin: typeof payload.value,\n            code: \"not_multiple_of\",\n            divisor: def.value,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckNumberFormat = /*@__PURE__*/ core.$constructor(\"$ZodCheckNumberFormat\", (inst, def) => {\n    $ZodCheck.init(inst, def); // no format checks\n    def.format = def.format || \"float64\";\n    const isInt = def.format?.includes(\"int\");\n    const origin = isInt ? \"int\" : \"number\";\n    const [minimum, maximum] = util.NUMBER_FORMAT_RANGES[def.format];\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.format = def.format;\n        bag.minimum = minimum;\n        bag.maximum = maximum;\n        if (isInt)\n            bag.pattern = regexes.integer;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        if (isInt) {\n            if (!Number.isInteger(input)) {\n                // invalid_format issue\n                // payload.issues.push({\n                //   expected: def.format,\n                //   format: def.format,\n                //   code: \"invalid_format\",\n                //   input,\n                //   inst,\n                // });\n                // invalid_type issue\n                payload.issues.push({\n                    expected: origin,\n                    format: def.format,\n                    code: \"invalid_type\",\n                    input,\n                    inst,\n                });\n                return;\n                // not_multiple_of issue\n                // payload.issues.push({\n                //   code: \"not_multiple_of\",\n                //   origin: \"number\",\n                //   input,\n                //   inst,\n                //   divisor: 1,\n                // });\n            }\n            if (!Number.isSafeInteger(input)) {\n                if (input > 0) {\n                    // too_big\n                    payload.issues.push({\n                        input,\n                        code: \"too_big\",\n                        maximum: Number.MAX_SAFE_INTEGER,\n                        note: \"Integers must be within the safe integer range.\",\n                        inst,\n                        origin,\n                        continue: !def.abort,\n                    });\n                }\n                else {\n                    // too_small\n                    payload.issues.push({\n                        input,\n                        code: \"too_small\",\n                        minimum: Number.MIN_SAFE_INTEGER,\n                        note: \"Integers must be within the safe integer range.\",\n                        inst,\n                        origin,\n                        continue: !def.abort,\n                    });\n                }\n                return;\n            }\n        }\n        if (input < minimum) {\n            payload.issues.push({\n                origin: \"number\",\n                input,\n                code: \"too_small\",\n                minimum,\n                inclusive: true,\n                inst,\n                continue: !def.abort,\n            });\n        }\n        if (input > maximum) {\n            payload.issues.push({\n                origin: \"number\",\n                input,\n                code: \"too_big\",\n                maximum,\n                inst,\n            });\n        }\n    };\n});\nexport const $ZodCheckBigIntFormat = /*@__PURE__*/ core.$constructor(\"$ZodCheckBigIntFormat\", (inst, def) => {\n    $ZodCheck.init(inst, def); // no format checks\n    const [minimum, maximum] = util.BIGINT_FORMAT_RANGES[def.format];\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.format = def.format;\n        bag.minimum = minimum;\n        bag.maximum = maximum;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        if (input < minimum) {\n            payload.issues.push({\n                origin: \"bigint\",\n                input,\n                code: \"too_small\",\n                minimum: minimum,\n                inclusive: true,\n                inst,\n                continue: !def.abort,\n            });\n        }\n        if (input > maximum) {\n            payload.issues.push({\n                origin: \"bigint\",\n                input,\n                code: \"too_big\",\n                maximum,\n                inst,\n            });\n        }\n    };\n});\nexport const $ZodCheckMaxSize = /*@__PURE__*/ core.$constructor(\"$ZodCheckMaxSize\", (inst, def) => {\n    var _a;\n    $ZodCheck.init(inst, def);\n    (_a = inst._zod.def).when ?? (_a.when = (payload) => {\n        const val = payload.value;\n        return !util.nullish(val) && val.size !== undefined;\n    });\n    inst._zod.onattach.push((inst) => {\n        const curr = (inst._zod.bag.maximum ?? Number.POSITIVE_INFINITY);\n        if (def.maximum < curr)\n            inst._zod.bag.maximum = def.maximum;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const size = input.size;\n        if (size <= def.maximum)\n            return;\n        payload.issues.push({\n            origin: util.getSizableOrigin(input),\n            code: \"too_big\",\n            maximum: def.maximum,\n            input,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckMinSize = /*@__PURE__*/ core.$constructor(\"$ZodCheckMinSize\", (inst, def) => {\n    var _a;\n    $ZodCheck.init(inst, def);\n    (_a = inst._zod.def).when ?? (_a.when = (payload) => {\n        const val = payload.value;\n        return !util.nullish(val) && val.size !== undefined;\n    });\n    inst._zod.onattach.push((inst) => {\n        const curr = (inst._zod.bag.minimum ?? Number.NEGATIVE_INFINITY);\n        if (def.minimum > curr)\n            inst._zod.bag.minimum = def.minimum;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const size = input.size;\n        if (size >= def.minimum)\n            return;\n        payload.issues.push({\n            origin: util.getSizableOrigin(input),\n            code: \"too_small\",\n            minimum: def.minimum,\n            input,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckSizeEquals = /*@__PURE__*/ core.$constructor(\"$ZodCheckSizeEquals\", (inst, def) => {\n    var _a;\n    $ZodCheck.init(inst, def);\n    (_a = inst._zod.def).when ?? (_a.when = (payload) => {\n        const val = payload.value;\n        return !util.nullish(val) && val.size !== undefined;\n    });\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.minimum = def.size;\n        bag.maximum = def.size;\n        bag.size = def.size;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const size = input.size;\n        if (size === def.size)\n            return;\n        const tooBig = size > def.size;\n        payload.issues.push({\n            origin: util.getSizableOrigin(input),\n            ...(tooBig ? { code: \"too_big\", maximum: def.size } : { code: \"too_small\", minimum: def.size }),\n            inclusive: true,\n            exact: true,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckMaxLength = /*@__PURE__*/ core.$constructor(\"$ZodCheckMaxLength\", (inst, def) => {\n    var _a;\n    $ZodCheck.init(inst, def);\n    (_a = inst._zod.def).when ?? (_a.when = (payload) => {\n        const val = payload.value;\n        return !util.nullish(val) && val.length !== undefined;\n    });\n    inst._zod.onattach.push((inst) => {\n        const curr = (inst._zod.bag.maximum ?? Number.POSITIVE_INFINITY);\n        if (def.maximum < curr)\n            inst._zod.bag.maximum = def.maximum;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const length = input.length;\n        if (length <= def.maximum)\n            return;\n        const origin = util.getLengthableOrigin(input);\n        payload.issues.push({\n            origin,\n            code: \"too_big\",\n            maximum: def.maximum,\n            inclusive: true,\n            input,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckMinLength = /*@__PURE__*/ core.$constructor(\"$ZodCheckMinLength\", (inst, def) => {\n    var _a;\n    $ZodCheck.init(inst, def);\n    (_a = inst._zod.def).when ?? (_a.when = (payload) => {\n        const val = payload.value;\n        return !util.nullish(val) && val.length !== undefined;\n    });\n    inst._zod.onattach.push((inst) => {\n        const curr = (inst._zod.bag.minimum ?? Number.NEGATIVE_INFINITY);\n        if (def.minimum > curr)\n            inst._zod.bag.minimum = def.minimum;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const length = input.length;\n        if (length >= def.minimum)\n            return;\n        const origin = util.getLengthableOrigin(input);\n        payload.issues.push({\n            origin,\n            code: \"too_small\",\n            minimum: def.minimum,\n            inclusive: true,\n            input,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckLengthEquals = /*@__PURE__*/ core.$constructor(\"$ZodCheckLengthEquals\", (inst, def) => {\n    var _a;\n    $ZodCheck.init(inst, def);\n    (_a = inst._zod.def).when ?? (_a.when = (payload) => {\n        const val = payload.value;\n        return !util.nullish(val) && val.length !== undefined;\n    });\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.minimum = def.length;\n        bag.maximum = def.length;\n        bag.length = def.length;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const length = input.length;\n        if (length === def.length)\n            return;\n        const origin = util.getLengthableOrigin(input);\n        const tooBig = length > def.length;\n        payload.issues.push({\n            origin,\n            ...(tooBig ? { code: \"too_big\", maximum: def.length } : { code: \"too_small\", minimum: def.length }),\n            inclusive: true,\n            exact: true,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckStringFormat = /*@__PURE__*/ core.$constructor(\"$ZodCheckStringFormat\", (inst, def) => {\n    var _a, _b;\n    $ZodCheck.init(inst, def);\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.format = def.format;\n        if (def.pattern) {\n            bag.patterns ?? (bag.patterns = new Set());\n            bag.patterns.add(def.pattern);\n        }\n    });\n    if (def.pattern)\n        (_a = inst._zod).check ?? (_a.check = (payload) => {\n            def.pattern.lastIndex = 0;\n            if (def.pattern.test(payload.value))\n                return;\n            payload.issues.push({\n                origin: \"string\",\n                code: \"invalid_format\",\n                format: def.format,\n                input: payload.value,\n                ...(def.pattern ? { pattern: def.pattern.toString() } : {}),\n                inst,\n                continue: !def.abort,\n            });\n        });\n    else\n        (_b = inst._zod).check ?? (_b.check = () => { });\n});\nexport const $ZodCheckRegex = /*@__PURE__*/ core.$constructor(\"$ZodCheckRegex\", (inst, def) => {\n    $ZodCheckStringFormat.init(inst, def);\n    inst._zod.check = (payload) => {\n        def.pattern.lastIndex = 0;\n        if (def.pattern.test(payload.value))\n            return;\n        payload.issues.push({\n            origin: \"string\",\n            code: \"invalid_format\",\n            format: \"regex\",\n            input: payload.value,\n            pattern: def.pattern.toString(),\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckLowerCase = /*@__PURE__*/ core.$constructor(\"$ZodCheckLowerCase\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.lowercase);\n    $ZodCheckStringFormat.init(inst, def);\n});\nexport const $ZodCheckUpperCase = /*@__PURE__*/ core.$constructor(\"$ZodCheckUpperCase\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.uppercase);\n    $ZodCheckStringFormat.init(inst, def);\n});\nexport const $ZodCheckIncludes = /*@__PURE__*/ core.$constructor(\"$ZodCheckIncludes\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    const escapedRegex = util.escapeRegex(def.includes);\n    const pattern = new RegExp(typeof def.position === \"number\" ? `^.{${def.position}}${escapedRegex}` : escapedRegex);\n    def.pattern = pattern;\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.patterns ?? (bag.patterns = new Set());\n        bag.patterns.add(pattern);\n    });\n    inst._zod.check = (payload) => {\n        if (payload.value.includes(def.includes, def.position))\n            return;\n        payload.issues.push({\n            origin: \"string\",\n            code: \"invalid_format\",\n            format: \"includes\",\n            includes: def.includes,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckStartsWith = /*@__PURE__*/ core.$constructor(\"$ZodCheckStartsWith\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    const pattern = new RegExp(`^${util.escapeRegex(def.prefix)}.*`);\n    def.pattern ?? (def.pattern = pattern);\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.patterns ?? (bag.patterns = new Set());\n        bag.patterns.add(pattern);\n    });\n    inst._zod.check = (payload) => {\n        if (payload.value.startsWith(def.prefix))\n            return;\n        payload.issues.push({\n            origin: \"string\",\n            code: \"invalid_format\",\n            format: \"starts_with\",\n            prefix: def.prefix,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckEndsWith = /*@__PURE__*/ core.$constructor(\"$ZodCheckEndsWith\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    const pattern = new RegExp(`.*${util.escapeRegex(def.suffix)}$`);\n    def.pattern ?? (def.pattern = pattern);\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.patterns ?? (bag.patterns = new Set());\n        bag.patterns.add(pattern);\n    });\n    inst._zod.check = (payload) => {\n        if (payload.value.endsWith(def.suffix))\n            return;\n        payload.issues.push({\n            origin: \"string\",\n            code: \"invalid_format\",\n            format: \"ends_with\",\n            suffix: def.suffix,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\n///////////////////////////////////\n/////    $ZodCheckProperty    /////\n///////////////////////////////////\nfunction handleCheckPropertyResult(result, payload, property) {\n    if (result.issues.length) {\n        payload.issues.push(...util.prefixIssues(property, result.issues));\n    }\n}\nexport const $ZodCheckProperty = /*@__PURE__*/ core.$constructor(\"$ZodCheckProperty\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    inst._zod.check = (payload) => {\n        const result = def.schema._zod.run({\n            value: payload.value[def.property],\n            issues: [],\n        }, {});\n        if (result instanceof Promise) {\n            return result.then((result) => handleCheckPropertyResult(result, payload, def.property));\n        }\n        handleCheckPropertyResult(result, payload, def.property);\n        return;\n    };\n});\nexport const $ZodCheckMimeType = /*@__PURE__*/ core.$constructor(\"$ZodCheckMimeType\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    const mimeSet = new Set(def.mime);\n    inst._zod.onattach.push((inst) => {\n        inst._zod.bag.mime = def.mime;\n    });\n    inst._zod.check = (payload) => {\n        if (mimeSet.has(payload.value.type))\n            return;\n        payload.issues.push({\n            code: \"invalid_value\",\n            values: def.mime,\n            input: payload.value.type,\n            inst,\n        });\n    };\n});\nexport const $ZodCheckOverwrite = /*@__PURE__*/ core.$constructor(\"$ZodCheckOverwrite\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    inst._zod.check = (payload) => {\n        payload.value = def.tx(payload.value);\n    };\n});\n", "export const cuid = /^[cC][^\\s-]{8,}$/;\nexport const cuid2 = /^[0-9a-z]+$/;\nexport const ulid = /^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/;\nexport const xid = /^[0-9a-vA-V]{20}$/;\nexport const ksuid = /^[A-Za-z0-9]{27}$/;\nexport const nanoid = /^[a-zA-Z0-9_-]{21}$/;\n/** ISO 8601-1 duration regex. Does not support the 8601-2 extensions like negative durations or fractional/negative components. */\nexport const duration = /^P(?:(\\d+W)|(?!.*W)(?=\\d|T\\d)(\\d+Y)?(\\d+M)?(\\d+D)?(T(?=\\d)(\\d+H)?(\\d+M)?(\\d+([.,]\\d+)?S)?)?)$/;\n/** Implements ISO 8601-2 extensions like explicit +- prefixes, mixing weeks with other units, and fractional/negative components. */\nexport const extendedDuration = /^[-+]?P(?!$)(?:(?:[-+]?\\d+Y)|(?:[-+]?\\d+[.,]\\d+Y$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:(?:[-+]?\\d+W)|(?:[-+]?\\d+[.,]\\d+W$))?(?:(?:[-+]?\\d+D)|(?:[-+]?\\d+[.,]\\d+D$))?(?:T(?=[\\d+-])(?:(?:[-+]?\\d+H)|(?:[-+]?\\d+[.,]\\d+H$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:[-+]?\\d+(?:[.,]\\d+)?S)?)??$/;\n/** A regex for any UUID-like identifier: 8-4-4-4-12 hex pattern */\nexport const guid = /^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/;\n/** Returns a regex for validating an RFC 9562/4122 UUID.\n *\n * @param version Optionally specify a version 1-8. If no version is specified, all versions are supported. */\nexport const uuid = (version) => {\n    if (!version)\n        return /^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/;\n    return new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${version}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`);\n};\nexport const uuid4 = /*@__PURE__*/ uuid(4);\nexport const uuid6 = /*@__PURE__*/ uuid(6);\nexport const uuid7 = /*@__PURE__*/ uuid(7);\n/** Practical email validation */\nexport const email = /^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$/;\n/** Equivalent to the HTML5 input[type=email] validation implemented by browsers. Source: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/email */\nexport const html5Email = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n/** The classic emailregex.com regex for RFC 5322-compliant emails */\nexport const rfc5322Email = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n/** A loose regex that allows Unicode characters, enforces length limits, and that's about it. */\nexport const unicodeEmail = /^[^\\s@\"]{1,64}@[^\\s@]{1,255}$/u;\nexport const browserEmail = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n// from https://thekevinscott.com/emojis-in-javascript/#writing-a-regular-expression\nconst _emoji = `^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$`;\nexport function emoji() {\n    return new RegExp(_emoji, \"u\");\n}\nexport const ipv4 = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/;\nexport const ipv6 = /^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/;\nexport const cidrv4 = /^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\/([0-9]|[1-2][0-9]|3[0-2])$/;\nexport const cidrv6 = /^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/;\n// https://stackoverflow.com/questions/7860392/determine-if-string-is-in-base64-using-javascript\nexport const base64 = /^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/;\nexport const base64url = /^[A-Za-z0-9_-]*$/;\n// based on https://stackoverflow.com/questions/106179/regular-expression-to-match-dns-hostname-or-ip-address\n// export const hostname: RegExp =\n//   /^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\\-]*[a-zA-Z0-9])\\.)+([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\\-]*[A-Za-z0-9])$/;\nexport const hostname = /^([a-zA-Z0-9-]+\\.)*[a-zA-Z0-9-]+$/;\nexport const domain = /^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\\.)+[a-zA-Z]{2,}$/;\n// https://blog.stevenlevithan.com/archives/validate-phone-number#r4-3 (regex sans spaces)\nexport const e164 = /^\\+(?:[0-9]){6,14}[0-9]$/;\n// const dateSource = `((\\\\d\\\\d[2468][048]|\\\\d\\\\d[13579][26]|\\\\d\\\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\\\d|30)|(02)-(0[1-9]|1\\\\d|2[0-8])))`;\nconst dateSource = `(?:(?:\\\\d\\\\d[2468][048]|\\\\d\\\\d[13579][26]|\\\\d\\\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\\\d|30)|(?:02)-(?:0[1-9]|1\\\\d|2[0-8])))`;\nexport const date = /*@__PURE__*/ new RegExp(`^${dateSource}$`);\nfunction timeSource(args) {\n    const hhmm = `(?:[01]\\\\d|2[0-3]):[0-5]\\\\d`;\n    const regex = typeof args.precision === \"number\"\n        ? args.precision === -1\n            ? `${hhmm}`\n            : args.precision === 0\n                ? `${hhmm}:[0-5]\\\\d`\n                : `${hhmm}:[0-5]\\\\d\\\\.\\\\d{${args.precision}}`\n        : `${hhmm}(?::[0-5]\\\\d(?:\\\\.\\\\d+)?)?`;\n    return regex;\n}\nexport function time(args) {\n    return new RegExp(`^${timeSource(args)}$`);\n}\n// Adapted from https://stackoverflow.com/a/3143231\nexport function datetime(args) {\n    const time = timeSource({ precision: args.precision });\n    const opts = [\"Z\"];\n    if (args.local)\n        opts.push(\"\");\n    if (args.offset)\n        opts.push(`([+-]\\\\d{2}:\\\\d{2})`);\n    const timeRegex = `${time}(?:${opts.join(\"|\")})`;\n    return new RegExp(`^${dateSource}T(?:${timeRegex})$`);\n}\nexport const string = (params) => {\n    const regex = params ? `[\\\\s\\\\S]{${params?.minimum ?? 0},${params?.maximum ?? \"\"}}` : `[\\\\s\\\\S]*`;\n    return new RegExp(`^${regex}$`);\n};\nexport const bigint = /^\\d+n?$/;\nexport const integer = /^\\d+$/;\nexport const number = /^-?\\d+(?:\\.\\d+)?/i;\nexport const boolean = /true|false/i;\nconst _null = /null/i;\nexport { _null as null };\nconst _undefined = /undefined/i;\nexport { _undefined as undefined };\n// regex for string with no uppercase letters\nexport const lowercase = /^[^A-Z]*$/;\n// regex for string with no lowercase letters\nexport const uppercase = /^[^a-z]*$/;\n", "export class Doc {\n    constructor(args = []) {\n        this.content = [];\n        this.indent = 0;\n        if (this)\n            this.args = args;\n    }\n    indented(fn) {\n        this.indent += 1;\n        fn(this);\n        this.indent -= 1;\n    }\n    write(arg) {\n        if (typeof arg === \"function\") {\n            arg(this, { execution: \"sync\" });\n            arg(this, { execution: \"async\" });\n            return;\n        }\n        const content = arg;\n        const lines = content.split(\"\\n\").filter((x) => x);\n        const minIndent = Math.min(...lines.map((x) => x.length - x.trimStart().length));\n        const dedented = lines.map((x) => x.slice(minIndent)).map((x) => \" \".repeat(this.indent * 2) + x);\n        for (const line of dedented) {\n            this.content.push(line);\n        }\n    }\n    compile() {\n        const F = Function;\n        const args = this?.args;\n        const content = this?.content ?? [``];\n        const lines = [...content.map((x) => `  ${x}`)];\n        // console.log(lines.join(\"\\n\"));\n        return new F(...args, lines.join(\"\\n\"));\n    }\n}\n", "export const version = {\n    major: 4,\n    minor: 0,\n    patch: 10,\n};\n", "import * as util from \"../core/util.js\";\nexport const parsedType = (data) => {\n    const t = typeof data;\n    switch (t) {\n        case \"number\": {\n            return Number.isNaN(data) ? \"NaN\" : \"number\";\n        }\n        case \"object\": {\n            if (Array.isArray(data)) {\n                return \"array\";\n            }\n            if (data === null) {\n                return \"null\";\n            }\n            if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                return data.constructor.name;\n            }\n        }\n    }\n    return t;\n};\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"characters\", verb: \"to have\" },\n        file: { unit: \"bytes\", verb: \"to have\" },\n        array: { unit: \"items\", verb: \"to have\" },\n        set: { unit: \"items\", verb: \"to have\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const Nouns = {\n        regex: \"input\",\n        email: \"email address\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO datetime\",\n        date: \"ISO date\",\n        time: \"ISO time\",\n        duration: \"ISO duration\",\n        ipv4: \"IPv4 address\",\n        ipv6: \"IPv6 address\",\n        cidrv4: \"IPv4 range\",\n        cidrv6: \"IPv6 range\",\n        base64: \"base64-encoded string\",\n        base64url: \"base64url-encoded string\",\n        json_string: \"JSON string\",\n        e164: \"E.164 number\",\n        jwt: \"JWT\",\n        template_literal: \"input\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Invalid input: expected ${issue.expected}, received ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Invalid input: expected ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Invalid option: expected one of ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Too big: expected ${issue.origin ?? \"value\"} to have ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"elements\"}`;\n                return `Too big: expected ${issue.origin ?? \"value\"} to be ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Too small: expected ${issue.origin} to have ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Too small: expected ${issue.origin} to be ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `Invalid string: must start with \"${_issue.prefix}\"`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `Invalid string: must end with \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Invalid string: must include \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Invalid string: must match pattern ${_issue.pattern}`;\n                return `Invalid ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Invalid number: must be a multiple of ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Unrecognized key${issue.keys.length > 1 ? \"s\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Invalid key in ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Invalid input\";\n            case \"invalid_element\":\n                return `Invalid value in ${issue.origin}`;\n            default:\n                return `Invalid input`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "export const $output = Symbol(\"ZodOutput\");\nexport const $input = Symbol(\"ZodInput\");\nexport class $ZodRegistry {\n    constructor() {\n        this._map = new Map();\n        this._idmap = new Map();\n    }\n    add(schema, ..._meta) {\n        const meta = _meta[0];\n        this._map.set(schema, meta);\n        if (meta && typeof meta === \"object\" && \"id\" in meta) {\n            if (this._idmap.has(meta.id)) {\n                throw new Error(`ID ${meta.id} already exists in the registry`);\n            }\n            this._idmap.set(meta.id, schema);\n        }\n        return this;\n    }\n    clear() {\n        this._map = new Map();\n        this._idmap = new Map();\n        return this;\n    }\n    remove(schema) {\n        const meta = this._map.get(schema);\n        if (meta && typeof meta === \"object\" && \"id\" in meta) {\n            this._idmap.delete(meta.id);\n        }\n        this._map.delete(schema);\n        return this;\n    }\n    get(schema) {\n        // return this._map.get(schema) as any;\n        // inherit metadata\n        const p = schema._zod.parent;\n        if (p) {\n            const pm = { ...(this.get(p) ?? {}) };\n            delete pm.id; // do not inherit id\n            const f = { ...pm, ...this._map.get(schema) };\n            return Object.keys(f).length ? f : undefined;\n        }\n        return this._map.get(schema);\n    }\n    has(schema) {\n        return this._map.has(schema);\n    }\n}\n// registries\nexport function registry() {\n    return new $ZodRegistry();\n}\nexport const globalRegistry = /*@__PURE__*/ registry();\n", "import * as checks from \"./checks.js\";\nimport * as schemas from \"./schemas.js\";\nimport * as util from \"./util.js\";\nexport function _string(Class, params) {\n    return new Class({\n        type: \"string\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _coercedString(Class, params) {\n    return new Class({\n        type: \"string\",\n        coerce: true,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _email(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"email\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _guid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"guid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _uuid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"uuid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _uuidv4(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"uuid\",\n        check: \"string_format\",\n        abort: false,\n        version: \"v4\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _uuidv6(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"uuid\",\n        check: \"string_format\",\n        abort: false,\n        version: \"v6\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _uuidv7(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"uuid\",\n        check: \"string_format\",\n        abort: false,\n        version: \"v7\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _url(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"url\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _emoji(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"emoji\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _nanoid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"nanoid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _cuid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"cuid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _cuid2(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"cuid2\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _ulid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"ulid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _xid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"xid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _ksuid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"ksuid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _ipv4(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"ipv4\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _ipv6(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"ipv6\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _cidrv4(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"cidrv4\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _cidrv6(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"cidrv6\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _base64(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"base64\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _base64url(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"base64url\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _e164(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"e164\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _jwt(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"jwt\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport const TimePrecision = {\n    Any: null,\n    Minute: -1,\n    Second: 0,\n    Millisecond: 3,\n    Microsecond: 6,\n};\nexport function _isoDateTime(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"datetime\",\n        check: \"string_format\",\n        offset: false,\n        local: false,\n        precision: null,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _isoDate(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"date\",\n        check: \"string_format\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _isoTime(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"time\",\n        check: \"string_format\",\n        precision: null,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _isoDuration(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"duration\",\n        check: \"string_format\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _number(Class, params) {\n    return new Class({\n        type: \"number\",\n        checks: [],\n        ...util.normalizeParams(params),\n    });\n}\nexport function _coercedNumber(Class, params) {\n    return new Class({\n        type: \"number\",\n        coerce: true,\n        checks: [],\n        ...util.normalizeParams(params),\n    });\n}\nexport function _int(Class, params) {\n    return new Class({\n        type: \"number\",\n        check: \"number_format\",\n        abort: false,\n        format: \"safeint\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _float32(Class, params) {\n    return new Class({\n        type: \"number\",\n        check: \"number_format\",\n        abort: false,\n        format: \"float32\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _float64(Class, params) {\n    return new Class({\n        type: \"number\",\n        check: \"number_format\",\n        abort: false,\n        format: \"float64\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _int32(Class, params) {\n    return new Class({\n        type: \"number\",\n        check: \"number_format\",\n        abort: false,\n        format: \"int32\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _uint32(Class, params) {\n    return new Class({\n        type: \"number\",\n        check: \"number_format\",\n        abort: false,\n        format: \"uint32\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _boolean(Class, params) {\n    return new Class({\n        type: \"boolean\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _coercedBoolean(Class, params) {\n    return new Class({\n        type: \"boolean\",\n        coerce: true,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _bigint(Class, params) {\n    return new Class({\n        type: \"bigint\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _coercedBigint(Class, params) {\n    return new Class({\n        type: \"bigint\",\n        coerce: true,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _int64(Class, params) {\n    return new Class({\n        type: \"bigint\",\n        check: \"bigint_format\",\n        abort: false,\n        format: \"int64\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _uint64(Class, params) {\n    return new Class({\n        type: \"bigint\",\n        check: \"bigint_format\",\n        abort: false,\n        format: \"uint64\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _symbol(Class, params) {\n    return new Class({\n        type: \"symbol\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _undefined(Class, params) {\n    return new Class({\n        type: \"undefined\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _null(Class, params) {\n    return new Class({\n        type: \"null\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _any(Class) {\n    return new Class({\n        type: \"any\",\n    });\n}\nexport function _unknown(Class) {\n    return new Class({\n        type: \"unknown\",\n    });\n}\nexport function _never(Class, params) {\n    return new Class({\n        type: \"never\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _void(Class, params) {\n    return new Class({\n        type: \"void\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _date(Class, params) {\n    return new Class({\n        type: \"date\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _coercedDate(Class, params) {\n    return new Class({\n        type: \"date\",\n        coerce: true,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _nan(Class, params) {\n    return new Class({\n        type: \"nan\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _lt(value, params) {\n    return new checks.$ZodCheckLessThan({\n        check: \"less_than\",\n        ...util.normalizeParams(params),\n        value,\n        inclusive: false,\n    });\n}\nexport function _lte(value, params) {\n    return new checks.$ZodCheckLessThan({\n        check: \"less_than\",\n        ...util.normalizeParams(params),\n        value,\n        inclusive: true,\n    });\n}\nexport { \n/** @deprecated Use `z.lte()` instead. */\n_lte as _max, };\nexport function _gt(value, params) {\n    return new checks.$ZodCheckGreaterThan({\n        check: \"greater_than\",\n        ...util.normalizeParams(params),\n        value,\n        inclusive: false,\n    });\n}\nexport function _gte(value, params) {\n    return new checks.$ZodCheckGreaterThan({\n        check: \"greater_than\",\n        ...util.normalizeParams(params),\n        value,\n        inclusive: true,\n    });\n}\nexport { \n/** @deprecated Use `z.gte()` instead. */\n_gte as _min, };\nexport function _positive(params) {\n    return _gt(0, params);\n}\n// negative\nexport function _negative(params) {\n    return _lt(0, params);\n}\n// nonpositive\nexport function _nonpositive(params) {\n    return _lte(0, params);\n}\n// nonnegative\nexport function _nonnegative(params) {\n    return _gte(0, params);\n}\nexport function _multipleOf(value, params) {\n    return new checks.$ZodCheckMultipleOf({\n        check: \"multiple_of\",\n        ...util.normalizeParams(params),\n        value,\n    });\n}\nexport function _maxSize(maximum, params) {\n    return new checks.$ZodCheckMaxSize({\n        check: \"max_size\",\n        ...util.normalizeParams(params),\n        maximum,\n    });\n}\nexport function _minSize(minimum, params) {\n    return new checks.$ZodCheckMinSize({\n        check: \"min_size\",\n        ...util.normalizeParams(params),\n        minimum,\n    });\n}\nexport function _size(size, params) {\n    return new checks.$ZodCheckSizeEquals({\n        check: \"size_equals\",\n        ...util.normalizeParams(params),\n        size,\n    });\n}\nexport function _maxLength(maximum, params) {\n    const ch = new checks.$ZodCheckMaxLength({\n        check: \"max_length\",\n        ...util.normalizeParams(params),\n        maximum,\n    });\n    return ch;\n}\nexport function _minLength(minimum, params) {\n    return new checks.$ZodCheckMinLength({\n        check: \"min_length\",\n        ...util.normalizeParams(params),\n        minimum,\n    });\n}\nexport function _length(length, params) {\n    return new checks.$ZodCheckLengthEquals({\n        check: \"length_equals\",\n        ...util.normalizeParams(params),\n        length,\n    });\n}\nexport function _regex(pattern, params) {\n    return new checks.$ZodCheckRegex({\n        check: \"string_format\",\n        format: \"regex\",\n        ...util.normalizeParams(params),\n        pattern,\n    });\n}\nexport function _lowercase(params) {\n    return new checks.$ZodCheckLowerCase({\n        check: \"string_format\",\n        format: \"lowercase\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _uppercase(params) {\n    return new checks.$ZodCheckUpperCase({\n        check: \"string_format\",\n        format: \"uppercase\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _includes(includes, params) {\n    return new checks.$ZodCheckIncludes({\n        check: \"string_format\",\n        format: \"includes\",\n        ...util.normalizeParams(params),\n        includes,\n    });\n}\nexport function _startsWith(prefix, params) {\n    return new checks.$ZodCheckStartsWith({\n        check: \"string_format\",\n        format: \"starts_with\",\n        ...util.normalizeParams(params),\n        prefix,\n    });\n}\nexport function _endsWith(suffix, params) {\n    return new checks.$ZodCheckEndsWith({\n        check: \"string_format\",\n        format: \"ends_with\",\n        ...util.normalizeParams(params),\n        suffix,\n    });\n}\nexport function _property(property, schema, params) {\n    return new checks.$ZodCheckProperty({\n        check: \"property\",\n        property,\n        schema,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _mime(types, params) {\n    return new checks.$ZodCheckMimeType({\n        check: \"mime_type\",\n        mime: types,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _overwrite(tx) {\n    return new checks.$ZodCheckOverwrite({\n        check: \"overwrite\",\n        tx,\n    });\n}\n// normalize\nexport function _normalize(form) {\n    return _overwrite((input) => input.normalize(form));\n}\n// trim\nexport function _trim() {\n    return _overwrite((input) => input.trim());\n}\n// toLowerCase\nexport function _toLowerCase() {\n    return _overwrite((input) => input.toLowerCase());\n}\n// toUpperCase\nexport function _toUpperCase() {\n    return _overwrite((input) => input.toUpperCase());\n}\nexport function _array(Class, element, params) {\n    return new Class({\n        type: \"array\",\n        element,\n        // get element() {\n        //   return element;\n        // },\n        ...util.normalizeParams(params),\n    });\n}\nexport function _union(Class, options, params) {\n    return new Class({\n        type: \"union\",\n        options,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _discriminatedUnion(Class, discriminator, options, params) {\n    return new Class({\n        type: \"union\",\n        options,\n        discriminator,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _intersection(Class, left, right) {\n    return new Class({\n        type: \"intersection\",\n        left,\n        right,\n    });\n}\n// export function _tuple(\n//   Class: util.SchemaClass<schemas.$ZodTuple>,\n//   items: [],\n//   params?: string | $ZodTupleParams\n// ): schemas.$ZodTuple<[], null>;\nexport function _tuple(Class, items, _paramsOrRest, _params) {\n    const hasRest = _paramsOrRest instanceof schemas.$ZodType;\n    const params = hasRest ? _params : _paramsOrRest;\n    const rest = hasRest ? _paramsOrRest : null;\n    return new Class({\n        type: \"tuple\",\n        items,\n        rest,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _record(Class, keyType, valueType, params) {\n    return new Class({\n        type: \"record\",\n        keyType,\n        valueType,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _map(Class, keyType, valueType, params) {\n    return new Class({\n        type: \"map\",\n        keyType,\n        valueType,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _set(Class, valueType, params) {\n    return new Class({\n        type: \"set\",\n        valueType,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _enum(Class, values, params) {\n    const entries = Array.isArray(values) ? Object.fromEntries(values.map((v) => [v, v])) : values;\n    // if (Array.isArray(values)) {\n    //   for (const value of values) {\n    //     entries[value] = value;\n    //   }\n    // } else {\n    //   Object.assign(entries, values);\n    // }\n    // const entries: util.EnumLike = {};\n    // for (const val of values) {\n    //   entries[val] = val;\n    // }\n    return new Class({\n        type: \"enum\",\n        entries,\n        ...util.normalizeParams(params),\n    });\n}\n/** @deprecated This API has been merged into `z.enum()`. Use `z.enum()` instead.\n *\n * ```ts\n * enum Colors { red, green, blue }\n * z.enum(Colors);\n * ```\n */\nexport function _nativeEnum(Class, entries, params) {\n    return new Class({\n        type: \"enum\",\n        entries,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _literal(Class, value, params) {\n    return new Class({\n        type: \"literal\",\n        values: Array.isArray(value) ? value : [value],\n        ...util.normalizeParams(params),\n    });\n}\nexport function _file(Class, params) {\n    return new Class({\n        type: \"file\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _transform(Class, fn) {\n    return new Class({\n        type: \"transform\",\n        transform: fn,\n    });\n}\nexport function _optional(Class, innerType) {\n    return new Class({\n        type: \"optional\",\n        innerType,\n    });\n}\nexport function _nullable(Class, innerType) {\n    return new Class({\n        type: \"nullable\",\n        innerType,\n    });\n}\nexport function _default(Class, innerType, defaultValue) {\n    return new Class({\n        type: \"default\",\n        innerType,\n        get defaultValue() {\n            return typeof defaultValue === \"function\" ? defaultValue() : defaultValue;\n        },\n    });\n}\nexport function _nonoptional(Class, innerType, params) {\n    return new Class({\n        type: \"nonoptional\",\n        innerType,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _success(Class, innerType) {\n    return new Class({\n        type: \"success\",\n        innerType,\n    });\n}\nexport function _catch(Class, innerType, catchValue) {\n    return new Class({\n        type: \"catch\",\n        innerType,\n        catchValue: (typeof catchValue === \"function\" ? catchValue : () => catchValue),\n    });\n}\nexport function _pipe(Class, in_, out) {\n    return new Class({\n        type: \"pipe\",\n        in: in_,\n        out,\n    });\n}\nexport function _readonly(Class, innerType) {\n    return new Class({\n        type: \"readonly\",\n        innerType,\n    });\n}\nexport function _templateLiteral(Class, parts, params) {\n    return new Class({\n        type: \"template_literal\",\n        parts,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _lazy(Class, getter) {\n    return new Class({\n        type: \"lazy\",\n        getter,\n    });\n}\nexport function _promise(Class, innerType) {\n    return new Class({\n        type: \"promise\",\n        innerType,\n    });\n}\nexport function _custom(Class, fn, _params) {\n    const norm = util.normalizeParams(_params);\n    norm.abort ?? (norm.abort = true); // default to abort:false\n    const schema = new Class({\n        type: \"custom\",\n        check: \"custom\",\n        fn: fn,\n        ...norm,\n    });\n    return schema;\n}\n// export function _refine<T>(\n//   Class: util.SchemaClass<schemas.$ZodCustom>,\n//   fn: (arg: NoInfer<T>) => util.MaybeAsync<unknown>,\n//   _params: string | $ZodCustomParams = {}\n// ): checks.$ZodCheck<T> {\n//   return _custom(Class, fn, _params);\n// }\n// same as _custom but defaults to abort:false\nexport function _refine(Class, fn, _params) {\n    const schema = new Class({\n        type: \"custom\",\n        check: \"custom\",\n        fn: fn,\n        ...util.normalizeParams(_params),\n    });\n    return schema;\n}\nexport function _stringbool(Classes, _params) {\n    const params = util.normalizeParams(_params);\n    let truthyArray = params.truthy ?? [\"true\", \"1\", \"yes\", \"on\", \"y\", \"enabled\"];\n    let falsyArray = params.falsy ?? [\"false\", \"0\", \"no\", \"off\", \"n\", \"disabled\"];\n    if (params.case !== \"sensitive\") {\n        truthyArray = truthyArray.map((v) => (typeof v === \"string\" ? v.toLowerCase() : v));\n        falsyArray = falsyArray.map((v) => (typeof v === \"string\" ? v.toLowerCase() : v));\n    }\n    const truthySet = new Set(truthyArray);\n    const falsySet = new Set(falsyArray);\n    const _Pipe = Classes.Pipe ?? schemas.$ZodPipe;\n    const _Boolean = Classes.Boolean ?? schemas.$ZodBoolean;\n    const _String = Classes.String ?? schemas.$ZodString;\n    const _Transform = Classes.Transform ?? schemas.$ZodTransform;\n    const tx = new _Transform({\n        type: \"transform\",\n        transform: (input, payload) => {\n            let data = input;\n            if (params.case !== \"sensitive\")\n                data = data.toLowerCase();\n            if (truthySet.has(data)) {\n                return true;\n            }\n            else if (falsySet.has(data)) {\n                return false;\n            }\n            else {\n                payload.issues.push({\n                    code: \"invalid_value\",\n                    expected: \"stringbool\",\n                    values: [...truthySet, ...falsySet],\n                    input: payload.value,\n                    inst: tx,\n                });\n                return {};\n            }\n        },\n        error: params.error,\n    });\n    // params.error;\n    const innerPipe = new _Pipe({\n        type: \"pipe\",\n        in: new _String({ type: \"string\", error: params.error }),\n        out: tx,\n        error: params.error,\n    });\n    const outerPipe = new _Pipe({\n        type: \"pipe\",\n        in: innerPipe,\n        out: new _Boolean({\n            type: \"boolean\",\n            error: params.error,\n        }),\n        error: params.error,\n    });\n    return outerPipe;\n}\nexport function _stringFormat(Class, format, fnOrRegex, _params = {}) {\n    const params = util.normalizeParams(_params);\n    const def = {\n        ...util.normalizeParams(_params),\n        check: \"string_format\",\n        type: \"string\",\n        format,\n        fn: typeof fnOrRegex === \"function\" ? fnOrRegex : (val) => fnOrRegex.test(val),\n        ...params,\n    };\n    if (fnOrRegex instanceof RegExp) {\n        def.pattern = fnOrRegex;\n    }\n    const inst = new Class(def);\n    return inst;\n}\n", "import * as core from \"../core/index.js\";\nimport { util } from \"../core/index.js\";\nimport * as checks from \"./checks.js\";\nimport * as iso from \"./iso.js\";\nimport * as parse from \"./parse.js\";\nexport const ZodType = /*@__PURE__*/ core.$constructor(\"ZodType\", (inst, def) => {\n    core.$ZodType.init(inst, def);\n    inst.def = def;\n    Object.defineProperty(inst, \"_def\", { value: def });\n    // base methods\n    inst.check = (...checks) => {\n        return inst.clone({\n            ...def,\n            checks: [\n                ...(def.checks ?? []),\n                ...checks.map((ch) => typeof ch === \"function\" ? { _zod: { check: ch, def: { check: \"custom\" }, onattach: [] } } : ch),\n            ],\n        }\n        // { parent: true }\n        );\n    };\n    inst.clone = (def, params) => core.clone(inst, def, params);\n    inst.brand = () => inst;\n    inst.register = ((reg, meta) => {\n        reg.add(inst, meta);\n        return inst;\n    });\n    // parsing\n    inst.parse = (data, params) => parse.parse(inst, data, params, { callee: inst.parse });\n    inst.safeParse = (data, params) => parse.safeParse(inst, data, params);\n    inst.parseAsync = async (data, params) => parse.parseAsync(inst, data, params, { callee: inst.parseAsync });\n    inst.safeParseAsync = async (data, params) => parse.safeParseAsync(inst, data, params);\n    inst.spa = inst.safeParseAsync;\n    // refinements\n    inst.refine = (check, params) => inst.check(refine(check, params));\n    inst.superRefine = (refinement) => inst.check(superRefine(refinement));\n    inst.overwrite = (fn) => inst.check(checks.overwrite(fn));\n    // wrappers\n    inst.optional = () => optional(inst);\n    inst.nullable = () => nullable(inst);\n    inst.nullish = () => optional(nullable(inst));\n    inst.nonoptional = (params) => nonoptional(inst, params);\n    inst.array = () => array(inst);\n    inst.or = (arg) => union([inst, arg]);\n    inst.and = (arg) => intersection(inst, arg);\n    inst.transform = (tx) => pipe(inst, transform(tx));\n    inst.default = (def) => _default(inst, def);\n    inst.prefault = (def) => prefault(inst, def);\n    // inst.coalesce = (def, params) => coalesce(inst, def, params);\n    inst.catch = (params) => _catch(inst, params);\n    inst.pipe = (target) => pipe(inst, target);\n    inst.readonly = () => readonly(inst);\n    // meta\n    inst.describe = (description) => {\n        const cl = inst.clone();\n        core.globalRegistry.add(cl, { description });\n        return cl;\n    };\n    Object.defineProperty(inst, \"description\", {\n        get() {\n            return core.globalRegistry.get(inst)?.description;\n        },\n        configurable: true,\n    });\n    inst.meta = (...args) => {\n        if (args.length === 0) {\n            return core.globalRegistry.get(inst);\n        }\n        const cl = inst.clone();\n        core.globalRegistry.add(cl, args[0]);\n        return cl;\n    };\n    // helpers\n    inst.isOptional = () => inst.safeParse(undefined).success;\n    inst.isNullable = () => inst.safeParse(null).success;\n    return inst;\n});\n/** @internal */\nexport const _ZodString = /*@__PURE__*/ core.$constructor(\"_ZodString\", (inst, def) => {\n    core.$ZodString.init(inst, def);\n    ZodType.init(inst, def);\n    const bag = inst._zod.bag;\n    inst.format = bag.format ?? null;\n    inst.minLength = bag.minimum ?? null;\n    inst.maxLength = bag.maximum ?? null;\n    // validations\n    inst.regex = (...args) => inst.check(checks.regex(...args));\n    inst.includes = (...args) => inst.check(checks.includes(...args));\n    inst.startsWith = (...args) => inst.check(checks.startsWith(...args));\n    inst.endsWith = (...args) => inst.check(checks.endsWith(...args));\n    inst.min = (...args) => inst.check(checks.minLength(...args));\n    inst.max = (...args) => inst.check(checks.maxLength(...args));\n    inst.length = (...args) => inst.check(checks.length(...args));\n    inst.nonempty = (...args) => inst.check(checks.minLength(1, ...args));\n    inst.lowercase = (params) => inst.check(checks.lowercase(params));\n    inst.uppercase = (params) => inst.check(checks.uppercase(params));\n    // transforms\n    inst.trim = () => inst.check(checks.trim());\n    inst.normalize = (...args) => inst.check(checks.normalize(...args));\n    inst.toLowerCase = () => inst.check(checks.toLowerCase());\n    inst.toUpperCase = () => inst.check(checks.toUpperCase());\n});\nexport const ZodString = /*@__PURE__*/ core.$constructor(\"ZodString\", (inst, def) => {\n    core.$ZodString.init(inst, def);\n    _ZodString.init(inst, def);\n    inst.email = (params) => inst.check(core._email(ZodEmail, params));\n    inst.url = (params) => inst.check(core._url(ZodURL, params));\n    inst.jwt = (params) => inst.check(core._jwt(ZodJWT, params));\n    inst.emoji = (params) => inst.check(core._emoji(ZodEmoji, params));\n    inst.guid = (params) => inst.check(core._guid(ZodGUID, params));\n    inst.uuid = (params) => inst.check(core._uuid(ZodUUID, params));\n    inst.uuidv4 = (params) => inst.check(core._uuidv4(ZodUUID, params));\n    inst.uuidv6 = (params) => inst.check(core._uuidv6(ZodUUID, params));\n    inst.uuidv7 = (params) => inst.check(core._uuidv7(ZodUUID, params));\n    inst.nanoid = (params) => inst.check(core._nanoid(ZodNanoID, params));\n    inst.guid = (params) => inst.check(core._guid(ZodGUID, params));\n    inst.cuid = (params) => inst.check(core._cuid(ZodCUID, params));\n    inst.cuid2 = (params) => inst.check(core._cuid2(ZodCUID2, params));\n    inst.ulid = (params) => inst.check(core._ulid(ZodULID, params));\n    inst.base64 = (params) => inst.check(core._base64(ZodBase64, params));\n    inst.base64url = (params) => inst.check(core._base64url(ZodBase64URL, params));\n    inst.xid = (params) => inst.check(core._xid(ZodXID, params));\n    inst.ksuid = (params) => inst.check(core._ksuid(ZodKSUID, params));\n    inst.ipv4 = (params) => inst.check(core._ipv4(ZodIPv4, params));\n    inst.ipv6 = (params) => inst.check(core._ipv6(ZodIPv6, params));\n    inst.cidrv4 = (params) => inst.check(core._cidrv4(ZodCIDRv4, params));\n    inst.cidrv6 = (params) => inst.check(core._cidrv6(ZodCIDRv6, params));\n    inst.e164 = (params) => inst.check(core._e164(ZodE164, params));\n    // iso\n    inst.datetime = (params) => inst.check(iso.datetime(params));\n    inst.date = (params) => inst.check(iso.date(params));\n    inst.time = (params) => inst.check(iso.time(params));\n    inst.duration = (params) => inst.check(iso.duration(params));\n});\nexport function string(params) {\n    return core._string(ZodString, params);\n}\nexport const ZodStringFormat = /*@__PURE__*/ core.$constructor(\"ZodStringFormat\", (inst, def) => {\n    core.$ZodStringFormat.init(inst, def);\n    _ZodString.init(inst, def);\n});\nexport const ZodEmail = /*@__PURE__*/ core.$constructor(\"ZodEmail\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodEmail.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function email(params) {\n    return core._email(ZodEmail, params);\n}\nexport const ZodGUID = /*@__PURE__*/ core.$constructor(\"ZodGUID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodGUID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function guid(params) {\n    return core._guid(ZodGUID, params);\n}\nexport const ZodUUID = /*@__PURE__*/ core.$constructor(\"ZodUUID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodUUID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function uuid(params) {\n    return core._uuid(ZodUUID, params);\n}\nexport function uuidv4(params) {\n    return core._uuidv4(ZodUUID, params);\n}\n// ZodUUIDv6\nexport function uuidv6(params) {\n    return core._uuidv6(ZodUUID, params);\n}\n// ZodUUIDv7\nexport function uuidv7(params) {\n    return core._uuidv7(ZodUUID, params);\n}\nexport const ZodURL = /*@__PURE__*/ core.$constructor(\"ZodURL\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodURL.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function url(params) {\n    return core._url(ZodURL, params);\n}\nexport const ZodEmoji = /*@__PURE__*/ core.$constructor(\"ZodEmoji\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodEmoji.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function emoji(params) {\n    return core._emoji(ZodEmoji, params);\n}\nexport const ZodNanoID = /*@__PURE__*/ core.$constructor(\"ZodNanoID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodNanoID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function nanoid(params) {\n    return core._nanoid(ZodNanoID, params);\n}\nexport const ZodCUID = /*@__PURE__*/ core.$constructor(\"ZodCUID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodCUID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function cuid(params) {\n    return core._cuid(ZodCUID, params);\n}\nexport const ZodCUID2 = /*@__PURE__*/ core.$constructor(\"ZodCUID2\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodCUID2.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function cuid2(params) {\n    return core._cuid2(ZodCUID2, params);\n}\nexport const ZodULID = /*@__PURE__*/ core.$constructor(\"ZodULID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodULID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function ulid(params) {\n    return core._ulid(ZodULID, params);\n}\nexport const ZodXID = /*@__PURE__*/ core.$constructor(\"ZodXID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodXID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function xid(params) {\n    return core._xid(ZodXID, params);\n}\nexport const ZodKSUID = /*@__PURE__*/ core.$constructor(\"ZodKSUID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodKSUID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function ksuid(params) {\n    return core._ksuid(ZodKSUID, params);\n}\nexport const ZodIPv4 = /*@__PURE__*/ core.$constructor(\"ZodIPv4\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodIPv4.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function ipv4(params) {\n    return core._ipv4(ZodIPv4, params);\n}\nexport const ZodIPv6 = /*@__PURE__*/ core.$constructor(\"ZodIPv6\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodIPv6.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function ipv6(params) {\n    return core._ipv6(ZodIPv6, params);\n}\nexport const ZodCIDRv4 = /*@__PURE__*/ core.$constructor(\"ZodCIDRv4\", (inst, def) => {\n    core.$ZodCIDRv4.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function cidrv4(params) {\n    return core._cidrv4(ZodCIDRv4, params);\n}\nexport const ZodCIDRv6 = /*@__PURE__*/ core.$constructor(\"ZodCIDRv6\", (inst, def) => {\n    core.$ZodCIDRv6.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function cidrv6(params) {\n    return core._cidrv6(ZodCIDRv6, params);\n}\nexport const ZodBase64 = /*@__PURE__*/ core.$constructor(\"ZodBase64\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodBase64.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function base64(params) {\n    return core._base64(ZodBase64, params);\n}\nexport const ZodBase64URL = /*@__PURE__*/ core.$constructor(\"ZodBase64URL\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodBase64URL.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function base64url(params) {\n    return core._base64url(ZodBase64URL, params);\n}\nexport const ZodE164 = /*@__PURE__*/ core.$constructor(\"ZodE164\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodE164.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function e164(params) {\n    return core._e164(ZodE164, params);\n}\nexport const ZodJWT = /*@__PURE__*/ core.$constructor(\"ZodJWT\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodJWT.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function jwt(params) {\n    return core._jwt(ZodJWT, params);\n}\nexport const ZodCustomStringFormat = /*@__PURE__*/ core.$constructor(\"ZodCustomStringFormat\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodCustomStringFormat.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function stringFormat(format, fnOrRegex, _params = {}) {\n    return core._stringFormat(ZodCustomStringFormat, format, fnOrRegex, _params);\n}\nexport const ZodNumber = /*@__PURE__*/ core.$constructor(\"ZodNumber\", (inst, def) => {\n    core.$ZodNumber.init(inst, def);\n    ZodType.init(inst, def);\n    inst.gt = (value, params) => inst.check(checks.gt(value, params));\n    inst.gte = (value, params) => inst.check(checks.gte(value, params));\n    inst.min = (value, params) => inst.check(checks.gte(value, params));\n    inst.lt = (value, params) => inst.check(checks.lt(value, params));\n    inst.lte = (value, params) => inst.check(checks.lte(value, params));\n    inst.max = (value, params) => inst.check(checks.lte(value, params));\n    inst.int = (params) => inst.check(int(params));\n    inst.safe = (params) => inst.check(int(params));\n    inst.positive = (params) => inst.check(checks.gt(0, params));\n    inst.nonnegative = (params) => inst.check(checks.gte(0, params));\n    inst.negative = (params) => inst.check(checks.lt(0, params));\n    inst.nonpositive = (params) => inst.check(checks.lte(0, params));\n    inst.multipleOf = (value, params) => inst.check(checks.multipleOf(value, params));\n    inst.step = (value, params) => inst.check(checks.multipleOf(value, params));\n    // inst.finite = (params) => inst.check(core.finite(params));\n    inst.finite = () => inst;\n    const bag = inst._zod.bag;\n    inst.minValue =\n        Math.max(bag.minimum ?? Number.NEGATIVE_INFINITY, bag.exclusiveMinimum ?? Number.NEGATIVE_INFINITY) ?? null;\n    inst.maxValue =\n        Math.min(bag.maximum ?? Number.POSITIVE_INFINITY, bag.exclusiveMaximum ?? Number.POSITIVE_INFINITY) ?? null;\n    inst.isInt = (bag.format ?? \"\").includes(\"int\") || Number.isSafeInteger(bag.multipleOf ?? 0.5);\n    inst.isFinite = true;\n    inst.format = bag.format ?? null;\n});\nexport function number(params) {\n    return core._number(ZodNumber, params);\n}\nexport const ZodNumberFormat = /*@__PURE__*/ core.$constructor(\"ZodNumberFormat\", (inst, def) => {\n    core.$ZodNumberFormat.init(inst, def);\n    ZodNumber.init(inst, def);\n});\nexport function int(params) {\n    return core._int(ZodNumberFormat, params);\n}\nexport function float32(params) {\n    return core._float32(ZodNumberFormat, params);\n}\nexport function float64(params) {\n    return core._float64(ZodNumberFormat, params);\n}\nexport function int32(params) {\n    return core._int32(ZodNumberFormat, params);\n}\nexport function uint32(params) {\n    return core._uint32(ZodNumberFormat, params);\n}\nexport const ZodBoolean = /*@__PURE__*/ core.$constructor(\"ZodBoolean\", (inst, def) => {\n    core.$ZodBoolean.init(inst, def);\n    ZodType.init(inst, def);\n});\nexport function boolean(params) {\n    return core._boolean(ZodBoolean, params);\n}\nexport const ZodBigInt = /*@__PURE__*/ core.$constructor(\"ZodBigInt\", (inst, def) => {\n    core.$ZodBigInt.init(inst, def);\n    ZodType.init(inst, def);\n    inst.gte = (value, params) => inst.check(checks.gte(value, params));\n    inst.min = (value, params) => inst.check(checks.gte(value, params));\n    inst.gt = (value, params) => inst.check(checks.gt(value, params));\n    inst.gte = (value, params) => inst.check(checks.gte(value, params));\n    inst.min = (value, params) => inst.check(checks.gte(value, params));\n    inst.lt = (value, params) => inst.check(checks.lt(value, params));\n    inst.lte = (value, params) => inst.check(checks.lte(value, params));\n    inst.max = (value, params) => inst.check(checks.lte(value, params));\n    inst.positive = (params) => inst.check(checks.gt(BigInt(0), params));\n    inst.negative = (params) => inst.check(checks.lt(BigInt(0), params));\n    inst.nonpositive = (params) => inst.check(checks.lte(BigInt(0), params));\n    inst.nonnegative = (params) => inst.check(checks.gte(BigInt(0), params));\n    inst.multipleOf = (value, params) => inst.check(checks.multipleOf(value, params));\n    const bag = inst._zod.bag;\n    inst.minValue = bag.minimum ?? null;\n    inst.maxValue = bag.maximum ?? null;\n    inst.format = bag.format ?? null;\n});\nexport function bigint(params) {\n    return core._bigint(ZodBigInt, params);\n}\nexport const ZodBigIntFormat = /*@__PURE__*/ core.$constructor(\"ZodBigIntFormat\", (inst, def) => {\n    core.$ZodBigIntFormat.init(inst, def);\n    ZodBigInt.init(inst, def);\n});\n// int64\nexport function int64(params) {\n    return core._int64(ZodBigIntFormat, params);\n}\n// uint64\nexport function uint64(params) {\n    return core._uint64(ZodBigIntFormat, params);\n}\nexport const ZodSymbol = /*@__PURE__*/ core.$constructor(\"ZodSymbol\", (inst, def) => {\n    core.$ZodSymbol.init(inst, def);\n    ZodType.init(inst, def);\n});\nexport function symbol(params) {\n    return core._symbol(ZodSymbol, params);\n}\nexport const ZodUndefined = /*@__PURE__*/ core.$constructor(\"ZodUndefined\", (inst, def) => {\n    core.$ZodUndefined.init(inst, def);\n    ZodType.init(inst, def);\n});\nfunction _undefined(params) {\n    return core._undefined(ZodUndefined, params);\n}\nexport { _undefined as undefined };\nexport const ZodNull = /*@__PURE__*/ core.$constructor(\"ZodNull\", (inst, def) => {\n    core.$ZodNull.init(inst, def);\n    ZodType.init(inst, def);\n});\nfunction _null(params) {\n    return core._null(ZodNull, params);\n}\nexport { _null as null };\nexport const ZodAny = /*@__PURE__*/ core.$constructor(\"ZodAny\", (inst, def) => {\n    core.$ZodAny.init(inst, def);\n    ZodType.init(inst, def);\n});\nexport function any() {\n    return core._any(ZodAny);\n}\nexport const ZodUnknown = /*@__PURE__*/ core.$constructor(\"ZodUnknown\", (inst, def) => {\n    core.$ZodUnknown.init(inst, def);\n    ZodType.init(inst, def);\n});\nexport function unknown() {\n    return core._unknown(ZodUnknown);\n}\nexport const ZodNever = /*@__PURE__*/ core.$constructor(\"ZodNever\", (inst, def) => {\n    core.$ZodNever.init(inst, def);\n    ZodType.init(inst, def);\n});\nexport function never(params) {\n    return core._never(ZodNever, params);\n}\nexport const ZodVoid = /*@__PURE__*/ core.$constructor(\"ZodVoid\", (inst, def) => {\n    core.$ZodVoid.init(inst, def);\n    ZodType.init(inst, def);\n});\nfunction _void(params) {\n    return core._void(ZodVoid, params);\n}\nexport { _void as void };\nexport const ZodDate = /*@__PURE__*/ core.$constructor(\"ZodDate\", (inst, def) => {\n    core.$ZodDate.init(inst, def);\n    ZodType.init(inst, def);\n    inst.min = (value, params) => inst.check(checks.gte(value, params));\n    inst.max = (value, params) => inst.check(checks.lte(value, params));\n    const c = inst._zod.bag;\n    inst.minDate = c.minimum ? new Date(c.minimum) : null;\n    inst.maxDate = c.maximum ? new Date(c.maximum) : null;\n});\nexport function date(params) {\n    return core._date(ZodDate, params);\n}\nexport const ZodArray = /*@__PURE__*/ core.$constructor(\"ZodArray\", (inst, def) => {\n    core.$ZodArray.init(inst, def);\n    ZodType.init(inst, def);\n    inst.element = def.element;\n    inst.min = (minLength, params) => inst.check(checks.minLength(minLength, params));\n    inst.nonempty = (params) => inst.check(checks.minLength(1, params));\n    inst.max = (maxLength, params) => inst.check(checks.maxLength(maxLength, params));\n    inst.length = (len, params) => inst.check(checks.length(len, params));\n    inst.unwrap = () => inst.element;\n});\nexport function array(element, params) {\n    return core._array(ZodArray, element, params);\n}\n// .keyof\nexport function keyof(schema) {\n    const shape = schema._zod.def.shape;\n    return literal(Object.keys(shape));\n}\nexport const ZodObject = /*@__PURE__*/ core.$constructor(\"ZodObject\", (inst, def) => {\n    core.$ZodObject.init(inst, def);\n    ZodType.init(inst, def);\n    util.defineLazy(inst, \"shape\", () => def.shape);\n    inst.keyof = () => _enum(Object.keys(inst._zod.def.shape));\n    inst.catchall = (catchall) => inst.clone({ ...inst._zod.def, catchall: catchall });\n    inst.passthrough = () => inst.clone({ ...inst._zod.def, catchall: unknown() });\n    inst.loose = () => inst.clone({ ...inst._zod.def, catchall: unknown() });\n    inst.strict = () => inst.clone({ ...inst._zod.def, catchall: never() });\n    inst.strip = () => inst.clone({ ...inst._zod.def, catchall: undefined });\n    inst.extend = (incoming) => {\n        return util.extend(inst, incoming);\n    };\n    inst.merge = (other) => util.merge(inst, other);\n    inst.pick = (mask) => util.pick(inst, mask);\n    inst.omit = (mask) => util.omit(inst, mask);\n    inst.partial = (...args) => util.partial(ZodOptional, inst, args[0]);\n    inst.required = (...args) => util.required(ZodNonOptional, inst, args[0]);\n});\nexport function object(shape, params) {\n    const def = {\n        type: \"object\",\n        get shape() {\n            util.assignProp(this, \"shape\", { ...shape });\n            return this.shape;\n        },\n        ...util.normalizeParams(params),\n    };\n    return new ZodObject(def);\n}\n// strictObject\nexport function strictObject(shape, params) {\n    return new ZodObject({\n        type: \"object\",\n        get shape() {\n            util.assignProp(this, \"shape\", { ...shape });\n            return this.shape;\n        },\n        catchall: never(),\n        ...util.normalizeParams(params),\n    });\n}\n// looseObject\nexport function looseObject(shape, params) {\n    return new ZodObject({\n        type: \"object\",\n        get shape() {\n            util.assignProp(this, \"shape\", { ...shape });\n            return this.shape;\n        },\n        catchall: unknown(),\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodUnion = /*@__PURE__*/ core.$constructor(\"ZodUnion\", (inst, def) => {\n    core.$ZodUnion.init(inst, def);\n    ZodType.init(inst, def);\n    inst.options = def.options;\n});\nexport function union(options, params) {\n    return new ZodUnion({\n        type: \"union\",\n        options: options,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodDiscriminatedUnion = /*@__PURE__*/ core.$constructor(\"ZodDiscriminatedUnion\", (inst, def) => {\n    ZodUnion.init(inst, def);\n    core.$ZodDiscriminatedUnion.init(inst, def);\n});\nexport function discriminatedUnion(discriminator, options, params) {\n    // const [options, params] = args;\n    return new ZodDiscriminatedUnion({\n        type: \"union\",\n        options,\n        discriminator,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodIntersection = /*@__PURE__*/ core.$constructor(\"ZodIntersection\", (inst, def) => {\n    core.$ZodIntersection.init(inst, def);\n    ZodType.init(inst, def);\n});\nexport function intersection(left, right) {\n    return new ZodIntersection({\n        type: \"intersection\",\n        left: left,\n        right: right,\n    });\n}\nexport const ZodTuple = /*@__PURE__*/ core.$constructor(\"ZodTuple\", (inst, def) => {\n    core.$ZodTuple.init(inst, def);\n    ZodType.init(inst, def);\n    inst.rest = (rest) => inst.clone({\n        ...inst._zod.def,\n        rest: rest,\n    });\n});\nexport function tuple(items, _paramsOrRest, _params) {\n    const hasRest = _paramsOrRest instanceof core.$ZodType;\n    const params = hasRest ? _params : _paramsOrRest;\n    const rest = hasRest ? _paramsOrRest : null;\n    return new ZodTuple({\n        type: \"tuple\",\n        items: items,\n        rest,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodRecord = /*@__PURE__*/ core.$constructor(\"ZodRecord\", (inst, def) => {\n    core.$ZodRecord.init(inst, def);\n    ZodType.init(inst, def);\n    inst.keyType = def.keyType;\n    inst.valueType = def.valueType;\n});\nexport function record(keyType, valueType, params) {\n    return new ZodRecord({\n        type: \"record\",\n        keyType,\n        valueType: valueType,\n        ...util.normalizeParams(params),\n    });\n}\n// type alksjf = core.output<core.$ZodRecordKey>;\nexport function partialRecord(keyType, valueType, params) {\n    const k = core.clone(keyType);\n    k._zod.values = undefined;\n    return new ZodRecord({\n        type: \"record\",\n        keyType: k,\n        valueType: valueType,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodMap = /*@__PURE__*/ core.$constructor(\"ZodMap\", (inst, def) => {\n    core.$ZodMap.init(inst, def);\n    ZodType.init(inst, def);\n    inst.keyType = def.keyType;\n    inst.valueType = def.valueType;\n});\nexport function map(keyType, valueType, params) {\n    return new ZodMap({\n        type: \"map\",\n        keyType: keyType,\n        valueType: valueType,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodSet = /*@__PURE__*/ core.$constructor(\"ZodSet\", (inst, def) => {\n    core.$ZodSet.init(inst, def);\n    ZodType.init(inst, def);\n    inst.min = (...args) => inst.check(core._minSize(...args));\n    inst.nonempty = (params) => inst.check(core._minSize(1, params));\n    inst.max = (...args) => inst.check(core._maxSize(...args));\n    inst.size = (...args) => inst.check(core._size(...args));\n});\nexport function set(valueType, params) {\n    return new ZodSet({\n        type: \"set\",\n        valueType: valueType,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodEnum = /*@__PURE__*/ core.$constructor(\"ZodEnum\", (inst, def) => {\n    core.$ZodEnum.init(inst, def);\n    ZodType.init(inst, def);\n    inst.enum = def.entries;\n    inst.options = Object.values(def.entries);\n    const keys = new Set(Object.keys(def.entries));\n    inst.extract = (values, params) => {\n        const newEntries = {};\n        for (const value of values) {\n            if (keys.has(value)) {\n                newEntries[value] = def.entries[value];\n            }\n            else\n                throw new Error(`Key ${value} not found in enum`);\n        }\n        return new ZodEnum({\n            ...def,\n            checks: [],\n            ...util.normalizeParams(params),\n            entries: newEntries,\n        });\n    };\n    inst.exclude = (values, params) => {\n        const newEntries = { ...def.entries };\n        for (const value of values) {\n            if (keys.has(value)) {\n                delete newEntries[value];\n            }\n            else\n                throw new Error(`Key ${value} not found in enum`);\n        }\n        return new ZodEnum({\n            ...def,\n            checks: [],\n            ...util.normalizeParams(params),\n            entries: newEntries,\n        });\n    };\n});\nfunction _enum(values, params) {\n    const entries = Array.isArray(values) ? Object.fromEntries(values.map((v) => [v, v])) : values;\n    return new ZodEnum({\n        type: \"enum\",\n        entries,\n        ...util.normalizeParams(params),\n    });\n}\nexport { _enum as enum };\n/** @deprecated This API has been merged into `z.enum()`. Use `z.enum()` instead.\n *\n * ```ts\n * enum Colors { red, green, blue }\n * z.enum(Colors);\n * ```\n */\nexport function nativeEnum(entries, params) {\n    return new ZodEnum({\n        type: \"enum\",\n        entries,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodLiteral = /*@__PURE__*/ core.$constructor(\"ZodLiteral\", (inst, def) => {\n    core.$ZodLiteral.init(inst, def);\n    ZodType.init(inst, def);\n    inst.values = new Set(def.values);\n    Object.defineProperty(inst, \"value\", {\n        get() {\n            if (def.values.length > 1) {\n                throw new Error(\"This schema contains multiple valid literal values. Use `.values` instead.\");\n            }\n            return def.values[0];\n        },\n    });\n});\nexport function literal(value, params) {\n    return new ZodLiteral({\n        type: \"literal\",\n        values: Array.isArray(value) ? value : [value],\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodFile = /*@__PURE__*/ core.$constructor(\"ZodFile\", (inst, def) => {\n    core.$ZodFile.init(inst, def);\n    ZodType.init(inst, def);\n    inst.min = (size, params) => inst.check(core._minSize(size, params));\n    inst.max = (size, params) => inst.check(core._maxSize(size, params));\n    inst.mime = (types, params) => inst.check(core._mime(Array.isArray(types) ? types : [types], params));\n});\nexport function file(params) {\n    return core._file(ZodFile, params);\n}\nexport const ZodTransform = /*@__PURE__*/ core.$constructor(\"ZodTransform\", (inst, def) => {\n    core.$ZodTransform.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        payload.addIssue = (issue) => {\n            if (typeof issue === \"string\") {\n                payload.issues.push(util.issue(issue, payload.value, def));\n            }\n            else {\n                // for Zod 3 backwards compatibility\n                const _issue = issue;\n                if (_issue.fatal)\n                    _issue.continue = false;\n                _issue.code ?? (_issue.code = \"custom\");\n                _issue.input ?? (_issue.input = payload.value);\n                _issue.inst ?? (_issue.inst = inst);\n                // _issue.continue ??= true;\n                payload.issues.push(util.issue(_issue));\n            }\n        };\n        const output = def.transform(payload.value, payload);\n        if (output instanceof Promise) {\n            return output.then((output) => {\n                payload.value = output;\n                return payload;\n            });\n        }\n        payload.value = output;\n        return payload;\n    };\n});\nexport function transform(fn) {\n    return new ZodTransform({\n        type: \"transform\",\n        transform: fn,\n    });\n}\nexport const ZodOptional = /*@__PURE__*/ core.$constructor(\"ZodOptional\", (inst, def) => {\n    core.$ZodOptional.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function optional(innerType) {\n    return new ZodOptional({\n        type: \"optional\",\n        innerType: innerType,\n    });\n}\nexport const ZodNullable = /*@__PURE__*/ core.$constructor(\"ZodNullable\", (inst, def) => {\n    core.$ZodNullable.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function nullable(innerType) {\n    return new ZodNullable({\n        type: \"nullable\",\n        innerType: innerType,\n    });\n}\n// nullish\nexport function nullish(innerType) {\n    return optional(nullable(innerType));\n}\nexport const ZodDefault = /*@__PURE__*/ core.$constructor(\"ZodDefault\", (inst, def) => {\n    core.$ZodDefault.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n    inst.removeDefault = inst.unwrap;\n});\nexport function _default(innerType, defaultValue) {\n    return new ZodDefault({\n        type: \"default\",\n        innerType: innerType,\n        get defaultValue() {\n            return typeof defaultValue === \"function\" ? defaultValue() : defaultValue;\n        },\n    });\n}\nexport const ZodPrefault = /*@__PURE__*/ core.$constructor(\"ZodPrefault\", (inst, def) => {\n    core.$ZodPrefault.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function prefault(innerType, defaultValue) {\n    return new ZodPrefault({\n        type: \"prefault\",\n        innerType: innerType,\n        get defaultValue() {\n            return typeof defaultValue === \"function\" ? defaultValue() : defaultValue;\n        },\n    });\n}\nexport const ZodNonOptional = /*@__PURE__*/ core.$constructor(\"ZodNonOptional\", (inst, def) => {\n    core.$ZodNonOptional.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function nonoptional(innerType, params) {\n    return new ZodNonOptional({\n        type: \"nonoptional\",\n        innerType: innerType,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodSuccess = /*@__PURE__*/ core.$constructor(\"ZodSuccess\", (inst, def) => {\n    core.$ZodSuccess.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function success(innerType) {\n    return new ZodSuccess({\n        type: \"success\",\n        innerType: innerType,\n    });\n}\nexport const ZodCatch = /*@__PURE__*/ core.$constructor(\"ZodCatch\", (inst, def) => {\n    core.$ZodCatch.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n    inst.removeCatch = inst.unwrap;\n});\nfunction _catch(innerType, catchValue) {\n    return new ZodCatch({\n        type: \"catch\",\n        innerType: innerType,\n        catchValue: (typeof catchValue === \"function\" ? catchValue : () => catchValue),\n    });\n}\nexport { _catch as catch };\nexport const ZodNaN = /*@__PURE__*/ core.$constructor(\"ZodNaN\", (inst, def) => {\n    core.$ZodNaN.init(inst, def);\n    ZodType.init(inst, def);\n});\nexport function nan(params) {\n    return core._nan(ZodNaN, params);\n}\nexport const ZodPipe = /*@__PURE__*/ core.$constructor(\"ZodPipe\", (inst, def) => {\n    core.$ZodPipe.init(inst, def);\n    ZodType.init(inst, def);\n    inst.in = def.in;\n    inst.out = def.out;\n});\nexport function pipe(in_, out) {\n    return new ZodPipe({\n        type: \"pipe\",\n        in: in_,\n        out: out,\n        // ...util.normalizeParams(params),\n    });\n}\nexport const ZodReadonly = /*@__PURE__*/ core.$constructor(\"ZodReadonly\", (inst, def) => {\n    core.$ZodReadonly.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function readonly(innerType) {\n    return new ZodReadonly({\n        type: \"readonly\",\n        innerType: innerType,\n    });\n}\nexport const ZodTemplateLiteral = /*@__PURE__*/ core.$constructor(\"ZodTemplateLiteral\", (inst, def) => {\n    core.$ZodTemplateLiteral.init(inst, def);\n    ZodType.init(inst, def);\n});\nexport function templateLiteral(parts, params) {\n    return new ZodTemplateLiteral({\n        type: \"template_literal\",\n        parts,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodLazy = /*@__PURE__*/ core.$constructor(\"ZodLazy\", (inst, def) => {\n    core.$ZodLazy.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.getter();\n});\nexport function lazy(getter) {\n    return new ZodLazy({\n        type: \"lazy\",\n        getter: getter,\n    });\n}\nexport const ZodPromise = /*@__PURE__*/ core.$constructor(\"ZodPromise\", (inst, def) => {\n    core.$ZodPromise.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function promise(innerType) {\n    return new ZodPromise({\n        type: \"promise\",\n        innerType: innerType,\n    });\n}\nexport const ZodCustom = /*@__PURE__*/ core.$constructor(\"ZodCustom\", (inst, def) => {\n    core.$ZodCustom.init(inst, def);\n    ZodType.init(inst, def);\n});\n// custom checks\nexport function check(fn) {\n    const ch = new core.$ZodCheck({\n        check: \"custom\",\n        // ...util.normalizeParams(params),\n    });\n    ch._zod.check = fn;\n    return ch;\n}\nexport function custom(fn, _params) {\n    return core._custom(ZodCustom, fn ?? (() => true), _params);\n}\nexport function refine(fn, _params = {}) {\n    return core._refine(ZodCustom, fn, _params);\n}\n// superRefine\nexport function superRefine(fn) {\n    const ch = check((payload) => {\n        payload.addIssue = (issue) => {\n            if (typeof issue === \"string\") {\n                payload.issues.push(util.issue(issue, payload.value, ch._zod.def));\n            }\n            else {\n                // for Zod 3 backwards compatibility\n                const _issue = issue;\n                if (_issue.fatal)\n                    _issue.continue = false;\n                _issue.code ?? (_issue.code = \"custom\");\n                _issue.input ?? (_issue.input = payload.value);\n                _issue.inst ?? (_issue.inst = ch);\n                _issue.continue ?? (_issue.continue = !ch._zod.def.abort);\n                payload.issues.push(util.issue(_issue));\n            }\n        };\n        return fn(payload.value, payload);\n    });\n    return ch;\n}\nfunction _instanceof(cls, params = {\n    error: `Input not instance of ${cls.name}`,\n}) {\n    const inst = new ZodCustom({\n        type: \"custom\",\n        check: \"custom\",\n        fn: (data) => data instanceof cls,\n        abort: true,\n        ...util.normalizeParams(params),\n    });\n    inst._zod.bag.Class = cls;\n    return inst;\n}\nexport { _instanceof as instanceof };\n// stringbool\nexport const stringbool = (...args) => core._stringbool({\n    Pipe: ZodPipe,\n    Boolean: ZodBoolean,\n    String: ZodString,\n    Transform: ZodTransform,\n}, ...args);\nexport function json(params) {\n    const jsonSchema = lazy(() => {\n        return union([string(params), number(), boolean(), _null(), array(jsonSchema), record(string(), jsonSchema)]);\n    });\n    return jsonSchema;\n}\n// preprocess\n// /** @deprecated Use `z.pipe()` and `z.transform()` instead. */\nexport function preprocess(fn, schema) {\n    return pipe(transform(fn), schema);\n}\n", "export { _lt as lt, _lte as lte, _gt as gt, _gte as gte, _positive as positive, _negative as negative, _nonpositive as nonpositive, _nonnegative as nonnegative, _multipleOf as multipleOf, _maxSize as maxSize, _minSize as minSize, _size as size, _maxLength as maxLength, _minLength as minLength, _length as length, _regex as regex, _lowercase as lowercase, _uppercase as uppercase, _includes as includes, _startsWith as startsWith, _endsWith as endsWith, _property as property, _mime as mime, _overwrite as overwrite, _normalize as normalize, _trim as trim, _toLowerCase as toLowerCase, _toUpperCase as toUpperCase, } from \"../core/index.js\";\n", "import * as core from \"../core/index.js\";\nimport * as schemas from \"./schemas.js\";\nexport const ZodISODateTime = /*@__PURE__*/ core.$constructor(\"ZodISODateTime\", (inst, def) => {\n    core.$ZodISODateTime.init(inst, def);\n    schemas.ZodStringFormat.init(inst, def);\n});\nexport function datetime(params) {\n    return core._isoDateTime(ZodISODateTime, params);\n}\nexport const ZodISODate = /*@__PURE__*/ core.$constructor(\"ZodISODate\", (inst, def) => {\n    core.$ZodISODate.init(inst, def);\n    schemas.ZodStringFormat.init(inst, def);\n});\nexport function date(params) {\n    return core._isoDate(ZodISODate, params);\n}\nexport const ZodISOTime = /*@__PURE__*/ core.$constructor(\"ZodISOTime\", (inst, def) => {\n    core.$ZodISOTime.init(inst, def);\n    schemas.ZodStringFormat.init(inst, def);\n});\nexport function time(params) {\n    return core._isoTime(ZodISOTime, params);\n}\nexport const ZodISODuration = /*@__PURE__*/ core.$constructor(\"ZodISODuration\", (inst, def) => {\n    core.$ZodISODuration.init(inst, def);\n    schemas.ZodStringFormat.init(inst, def);\n});\nexport function duration(params) {\n    return core._isoDuration(ZodISODuration, params);\n}\n", "import * as core from \"../core/index.js\";\nimport { ZodRealError } from \"./errors.js\";\nexport const parse = /* @__PURE__ */ core._parse(ZodRealError);\nexport const parseAsync = /* @__PURE__ */ core._parseAsync(ZodRealError);\nexport const safeParse = /* @__PURE__ */ core._safeParse(ZodRealError);\nexport const safeParseAsync = /* @__PURE__ */ core._safeParseAsync(ZodRealError);\n", "import * as core from \"../core/index.js\";\nimport { $ZodError } from \"../core/index.js\";\nimport * as util from \"../core/util.js\";\nconst initializer = (inst, issues) => {\n    $ZodError.init(inst, issues);\n    inst.name = \"ZodError\";\n    Object.defineProperties(inst, {\n        format: {\n            value: (mapper) => core.formatError(inst, mapper),\n            // enumerable: false,\n        },\n        flatten: {\n            value: (mapper) => core.flattenError(inst, mapper),\n            // enumerable: false,\n        },\n        addIssue: {\n            value: (issue) => {\n                inst.issues.push(issue);\n                inst.message = JSON.stringify(inst.issues, util.jsonStringifyReplacer, 2);\n            },\n            // enumerable: false,\n        },\n        addIssues: {\n            value: (issues) => {\n                inst.issues.push(...issues);\n                inst.message = JSON.stringify(inst.issues, util.jsonStringifyReplacer, 2);\n            },\n            // enumerable: false,\n        },\n        isEmpty: {\n            get() {\n                return inst.issues.length === 0;\n            },\n            // enumerable: false,\n        },\n    });\n    // Object.defineProperty(inst, \"isEmpty\", {\n    //   get() {\n    //     return inst.issues.length === 0;\n    //   },\n    // });\n};\nexport const ZodError = core.$constructor(\"ZodError\", initializer);\nexport const ZodRealError = core.$constructor(\"ZodError\", initializer, {\n    Parent: Error,\n});\n// /** @deprecated Use `z.core.$ZodErrorMapCtx` instead. */\n// export type ErrorMapCtx = core.$ZodErrorMapCtx;\n", "import * as core from \"../core/index.js\";\nimport * as schemas from \"./schemas.js\";\nexport function string(params) {\n    return core._coercedString(schemas.ZodString, params);\n}\nexport function number(params) {\n    return core._coercedNumber(schemas.ZodNumber, params);\n}\nexport function boolean(params) {\n    return core._coercedBoolean(schemas.ZodBoolean, params);\n}\nexport function bigint(params) {\n    return core._coercedBigint(schemas.ZodBigInt, params);\n}\nexport function date(params) {\n    return core._coercedDate(schemas.ZodDate, params);\n}\n", "const getDate = (span, unit = \"ms\") => {\n  return new Date(Date.now() + (unit === \"sec\" ? span * 1e3 : span));\n};\n\nexport { getDate as g };\n", "import { subtle } from 'uncrypto';\nimport { base64Url, base64 } from './base64.mjs';\n\nfunction createHash(algorithm, encoding) {\n  return {\n    digest: async (input) => {\n      const encoder = new TextEncoder();\n      const data = typeof input === \"string\" ? encoder.encode(input) : input;\n      const hashBuffer = await subtle.digest(algorithm, data);\n      if (encoding === \"hex\") {\n        const hashArray = Array.from(new Uint8Array(hashBuffer));\n        const hashHex = hashArray.map((b) => b.toString(16).padStart(2, \"0\")).join(\"\");\n        return hashHex;\n      }\n      if (encoding === \"base64\" || encoding === \"base64url\" || encoding === \"base64urlnopad\") {\n        if (encoding.includes(\"url\")) {\n          return base64Url.encode(hashBuffer, {\n            padding: encoding !== \"base64urlnopad\"\n          });\n        }\n        const hashBase64 = base64.encode(hashBuffer);\n        return hashBase64;\n      }\n      return hashBuffer;\n    }\n  };\n}\n\nexport { createHash };\n", "function getAlphabet(urlSafe) {\n  return urlSafe ? \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\" : \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n}\nfunction base64Encode(data, alphabet, padding) {\n  let result = \"\";\n  let buffer = 0;\n  let shift = 0;\n  for (const byte of data) {\n    buffer = buffer << 8 | byte;\n    shift += 8;\n    while (shift >= 6) {\n      shift -= 6;\n      result += alphabet[buffer >> shift & 63];\n    }\n  }\n  if (shift > 0) {\n    result += alphabet[buffer << 6 - shift & 63];\n  }\n  if (padding) {\n    const padCount = (4 - result.length % 4) % 4;\n    result += \"=\".repeat(padCount);\n  }\n  return result;\n}\nfunction base64Decode(data, alphabet) {\n  const decodeMap = /* @__PURE__ */ new Map();\n  for (let i = 0; i < alphabet.length; i++) {\n    decodeMap.set(alphabet[i], i);\n  }\n  const result = [];\n  let buffer = 0;\n  let bitsCollected = 0;\n  for (const char of data) {\n    if (char === \"=\")\n      break;\n    const value = decodeMap.get(char);\n    if (value === void 0) {\n      throw new Error(`Invalid Base64 character: ${char}`);\n    }\n    buffer = buffer << 6 | value;\n    bitsCollected += 6;\n    if (bitsCollected >= 8) {\n      bitsCollected -= 8;\n      result.push(buffer >> bitsCollected & 255);\n    }\n  }\n  return Uint8Array.from(result);\n}\nconst base64 = {\n  encode(data, options = {}) {\n    const alphabet = getAlphabet(false);\n    const buffer = typeof data === \"string\" ? new TextEncoder().encode(data) : new Uint8Array(data);\n    return base64Encode(buffer, alphabet, options.padding ?? true);\n  },\n  decode(data) {\n    if (typeof data !== \"string\") {\n      data = new TextDecoder().decode(data);\n    }\n    const urlSafe = data.includes(\"-\") || data.includes(\"_\");\n    const alphabet = getAlphabet(urlSafe);\n    return base64Decode(data, alphabet);\n  }\n};\nconst base64Url = {\n  encode(data, options = {}) {\n    const alphabet = getAlphabet(true);\n    const buffer = typeof data === \"string\" ? new TextEncoder().encode(data) : new Uint8Array(data);\n    return base64Encode(buffer, alphabet, options.padding ?? true);\n  },\n  decode(data) {\n    const urlSafe = data.includes(\"-\") || data.includes(\"_\");\n    const alphabet = getAlphabet(urlSafe);\n    return base64Decode(data, alphabet);\n  }\n};\n\nexport { base64, base64Url };\n", "import { createHash } from '@better-auth/utils/hash';\nimport { xchacha20poly1305 } from '@noble/ciphers/chacha';\nimport { utf8ToBytes, bytesToHex, hexToBytes as hexToBytes$1 } from '@noble/ciphers/utils';\nimport { managedNonce } from '@noble/ciphers/webcrypto';\nimport { base64 } from '@better-auth/utils/base64';\nimport { SignJWT } from 'jose';\nimport { scryptAsync } from '@noble/hashes/scrypt';\nimport { getRandomValues } from '@better-auth/utils';\nimport { hex } from '@better-auth/utils/hex';\nimport { hexToBytes } from '@noble/hashes/utils';\nexport { g as generateRandomString } from '../shared/better-auth.B4Qoxdgc.mjs';\nimport '@better-auth/utils/random';\n\nasync function signJWT(payload, secret, expiresIn = 3600) {\n  const jwt = await new SignJWT(payload).setProtectedHeader({ alg: \"HS256\" }).setIssuedAt().setExpirationTime(Math.floor(Date.now() / 1e3) + expiresIn).sign(new TextEncoder().encode(secret));\n  return jwt;\n}\n\nfunction constantTimeEqual(a, b) {\n  const aBuffer = new Uint8Array(a);\n  const bBuffer = new Uint8Array(b);\n  if (aBuffer.length !== bBuffer.length) {\n    return false;\n  }\n  let c = 0;\n  for (let i = 0; i < aBuffer.length; i++) {\n    c |= aBuffer[i] ^ bBuffer[i];\n  }\n  return c === 0;\n}\n\nasync function hashToBase64(data) {\n  const buffer = await createHash(\"SHA-256\").digest(data);\n  return base64.encode(buffer);\n}\nasync function compareHash(data, hash) {\n  const buffer = await createHash(\"SHA-256\").digest(\n    typeof data === \"string\" ? new TextEncoder().encode(data) : data\n  );\n  const hashBuffer = base64.decode(hash);\n  return constantTimeEqual(buffer, hashBuffer);\n}\n\nconst config = {\n  N: 16384,\n  r: 16,\n  p: 1,\n  dkLen: 64\n};\nasync function generateKey(password, salt) {\n  return await scryptAsync(password.normalize(\"NFKC\"), salt, {\n    N: config.N,\n    p: config.p,\n    r: config.r,\n    dkLen: config.dkLen,\n    maxmem: 128 * config.N * config.r * 2\n  });\n}\nconst hashPassword = async (password) => {\n  const salt = hex.encode(getRandomValues(new Uint8Array(16)));\n  const key = await generateKey(password, salt);\n  return `${salt}:${hex.encode(key)}`;\n};\nconst verifyPassword = async ({\n  hash,\n  password\n}) => {\n  const [salt, key] = hash.split(\":\");\n  const targetKey = await generateKey(password, salt);\n  return constantTimeEqual(targetKey, hexToBytes(key));\n};\n\nconst symmetricEncrypt = async ({\n  key,\n  data\n}) => {\n  const keyAsBytes = await createHash(\"SHA-256\").digest(key);\n  const dataAsBytes = utf8ToBytes(data);\n  const chacha = managedNonce(xchacha20poly1305)(new Uint8Array(keyAsBytes));\n  return bytesToHex(chacha.encrypt(dataAsBytes));\n};\nconst symmetricDecrypt = async ({\n  key,\n  data\n}) => {\n  const keyAsBytes = await createHash(\"SHA-256\").digest(key);\n  const dataAsBytes = hexToBytes$1(data);\n  const chacha = managedNonce(xchacha20poly1305)(new Uint8Array(keyAsBytes));\n  return new TextDecoder().decode(chacha.decrypt(dataAsBytes));\n};\n\nexport { compareHash, constantTimeEqual, hashPassword, hashToBase64, signJWT, symmetricDecrypt, symmetricEncrypt, verifyPassword };\n", "// prettier-ignore\nimport { createCipher, rotl } from './_arx.js';\nimport { bytes as abytes } from './_assert.js';\nimport { poly1305 } from './_poly1305.js';\nimport {\n  CipherWithOutput,\n  XorStream,\n  clean,\n  createView,\n  equalBytes,\n  setBigUint64,\n  wrapCipher,\n} from './utils.js';\n\n// ChaCha20 stream cipher was released in 2008. ChaCha aims to increase\n// the diffusion per round, but had slightly less cryptanalysis.\n// https://cr.yp.to/chacha.html, http://cr.yp.to/chacha/chacha-20080128.pdf\n\n/**\n * ChaCha core function.\n */\n// prettier-ignore\nfunction chachaCore(\n  s: Uint32Array, k: Uint32Array, n: Uint32Array, out: Uint32Array, cnt: number, rounds = 20\n): void {\n  let y00 = s[0], y01 = s[1], y02 = s[2], y03 = s[3], // \"expa\"   \"nd 3\"  \"2-by\"  \"te k\"\n    y04 = k[0], y05 = k[1], y06 = k[2], y07 = k[3],   // Key      Key     Key     Key\n    y08 = k[4], y09 = k[5], y10 = k[6], y11 = k[7],   // Key      Key     Key     Key\n    y12 = cnt, y13 = n[0], y14 = n[1], y15 = n[2];    // Counter  Counter\tNonce   Nonce\n  // Save state to temporary variables\n  let x00 = y00, x01 = y01, x02 = y02, x03 = y03,\n    x04 = y04, x05 = y05, x06 = y06, x07 = y07,\n    x08 = y08, x09 = y09, x10 = y10, x11 = y11,\n    x12 = y12, x13 = y13, x14 = y14, x15 = y15;\n  for (let r = 0; r < rounds; r += 2) {\n    x00 = (x00 + x04) | 0; x12 = rotl(x12 ^ x00, 16);\n    x08 = (x08 + x12) | 0; x04 = rotl(x04 ^ x08, 12);\n    x00 = (x00 + x04) | 0; x12 = rotl(x12 ^ x00, 8);\n    x08 = (x08 + x12) | 0; x04 = rotl(x04 ^ x08, 7);\n\n    x01 = (x01 + x05) | 0; x13 = rotl(x13 ^ x01, 16);\n    x09 = (x09 + x13) | 0; x05 = rotl(x05 ^ x09, 12);\n    x01 = (x01 + x05) | 0; x13 = rotl(x13 ^ x01, 8);\n    x09 = (x09 + x13) | 0; x05 = rotl(x05 ^ x09, 7);\n\n    x02 = (x02 + x06) | 0; x14 = rotl(x14 ^ x02, 16);\n    x10 = (x10 + x14) | 0; x06 = rotl(x06 ^ x10, 12);\n    x02 = (x02 + x06) | 0; x14 = rotl(x14 ^ x02, 8);\n    x10 = (x10 + x14) | 0; x06 = rotl(x06 ^ x10, 7);\n\n    x03 = (x03 + x07) | 0; x15 = rotl(x15 ^ x03, 16);\n    x11 = (x11 + x15) | 0; x07 = rotl(x07 ^ x11, 12);\n    x03 = (x03 + x07) | 0; x15 = rotl(x15 ^ x03, 8)\n    x11 = (x11 + x15) | 0; x07 = rotl(x07 ^ x11, 7);\n\n    x00 = (x00 + x05) | 0; x15 = rotl(x15 ^ x00, 16);\n    x10 = (x10 + x15) | 0; x05 = rotl(x05 ^ x10, 12);\n    x00 = (x00 + x05) | 0; x15 = rotl(x15 ^ x00, 8);\n    x10 = (x10 + x15) | 0; x05 = rotl(x05 ^ x10, 7);\n\n    x01 = (x01 + x06) | 0; x12 = rotl(x12 ^ x01, 16);\n    x11 = (x11 + x12) | 0; x06 = rotl(x06 ^ x11, 12);\n    x01 = (x01 + x06) | 0; x12 = rotl(x12 ^ x01, 8);\n    x11 = (x11 + x12) | 0; x06 = rotl(x06 ^ x11, 7);\n\n    x02 = (x02 + x07) | 0; x13 = rotl(x13 ^ x02, 16);\n    x08 = (x08 + x13) | 0; x07 = rotl(x07 ^ x08, 12);\n    x02 = (x02 + x07) | 0; x13 = rotl(x13 ^ x02, 8);\n    x08 = (x08 + x13) | 0; x07 = rotl(x07 ^ x08, 7);\n\n    x03 = (x03 + x04) | 0; x14 = rotl(x14 ^ x03, 16)\n    x09 = (x09 + x14) | 0; x04 = rotl(x04 ^ x09, 12);\n    x03 = (x03 + x04) | 0; x14 = rotl(x14 ^ x03, 8);\n    x09 = (x09 + x14) | 0; x04 = rotl(x04 ^ x09, 7);\n  }\n  // Write output\n  let oi = 0;\n  out[oi++] = (y00 + x00) | 0; out[oi++] = (y01 + x01) | 0;\n  out[oi++] = (y02 + x02) | 0; out[oi++] = (y03 + x03) | 0;\n  out[oi++] = (y04 + x04) | 0; out[oi++] = (y05 + x05) | 0;\n  out[oi++] = (y06 + x06) | 0; out[oi++] = (y07 + x07) | 0;\n  out[oi++] = (y08 + x08) | 0; out[oi++] = (y09 + x09) | 0;\n  out[oi++] = (y10 + x10) | 0; out[oi++] = (y11 + x11) | 0;\n  out[oi++] = (y12 + x12) | 0; out[oi++] = (y13 + x13) | 0;\n  out[oi++] = (y14 + x14) | 0; out[oi++] = (y15 + x15) | 0;\n}\n/**\n * hchacha helper method, used primarily in xchacha, to hash\n * key and nonce into key' and nonce'.\n * Same as chachaCore, but there doesn't seem to be a way to move the block\n * out without 25% performance hit.\n */\n// prettier-ignore\nexport function hchacha(\n  s: Uint32Array, k: Uint32Array, i: Uint32Array, o32: Uint32Array\n) {\n  let x00 = s[0], x01 = s[1], x02 = s[2], x03 = s[3],\n    x04 = k[0], x05 = k[1], x06 = k[2], x07 = k[3],\n    x08 = k[4], x09 = k[5], x10 = k[6], x11 = k[7],\n    x12 = i[0], x13 = i[1], x14 = i[2], x15 = i[3];\n  for (let r = 0; r < 20; r += 2) {\n    x00 = (x00 + x04) | 0; x12 = rotl(x12 ^ x00, 16);\n    x08 = (x08 + x12) | 0; x04 = rotl(x04 ^ x08, 12);\n    x00 = (x00 + x04) | 0; x12 = rotl(x12 ^ x00, 8);\n    x08 = (x08 + x12) | 0; x04 = rotl(x04 ^ x08, 7);\n\n    x01 = (x01 + x05) | 0; x13 = rotl(x13 ^ x01, 16);\n    x09 = (x09 + x13) | 0; x05 = rotl(x05 ^ x09, 12);\n    x01 = (x01 + x05) | 0; x13 = rotl(x13 ^ x01, 8);\n    x09 = (x09 + x13) | 0; x05 = rotl(x05 ^ x09, 7);\n\n    x02 = (x02 + x06) | 0; x14 = rotl(x14 ^ x02, 16);\n    x10 = (x10 + x14) | 0; x06 = rotl(x06 ^ x10, 12);\n    x02 = (x02 + x06) | 0; x14 = rotl(x14 ^ x02, 8);\n    x10 = (x10 + x14) | 0; x06 = rotl(x06 ^ x10, 7);\n\n    x03 = (x03 + x07) | 0; x15 = rotl(x15 ^ x03, 16);\n    x11 = (x11 + x15) | 0; x07 = rotl(x07 ^ x11, 12);\n    x03 = (x03 + x07) | 0; x15 = rotl(x15 ^ x03, 8)\n    x11 = (x11 + x15) | 0; x07 = rotl(x07 ^ x11, 7);\n\n    x00 = (x00 + x05) | 0; x15 = rotl(x15 ^ x00, 16);\n    x10 = (x10 + x15) | 0; x05 = rotl(x05 ^ x10, 12);\n    x00 = (x00 + x05) | 0; x15 = rotl(x15 ^ x00, 8);\n    x10 = (x10 + x15) | 0; x05 = rotl(x05 ^ x10, 7);\n\n    x01 = (x01 + x06) | 0; x12 = rotl(x12 ^ x01, 16);\n    x11 = (x11 + x12) | 0; x06 = rotl(x06 ^ x11, 12);\n    x01 = (x01 + x06) | 0; x12 = rotl(x12 ^ x01, 8);\n    x11 = (x11 + x12) | 0; x06 = rotl(x06 ^ x11, 7);\n\n    x02 = (x02 + x07) | 0; x13 = rotl(x13 ^ x02, 16);\n    x08 = (x08 + x13) | 0; x07 = rotl(x07 ^ x08, 12);\n    x02 = (x02 + x07) | 0; x13 = rotl(x13 ^ x02, 8);\n    x08 = (x08 + x13) | 0; x07 = rotl(x07 ^ x08, 7);\n\n    x03 = (x03 + x04) | 0; x14 = rotl(x14 ^ x03, 16)\n    x09 = (x09 + x14) | 0; x04 = rotl(x04 ^ x09, 12);\n    x03 = (x03 + x04) | 0; x14 = rotl(x14 ^ x03, 8);\n    x09 = (x09 + x14) | 0; x04 = rotl(x04 ^ x09, 7);\n  }\n  let oi = 0;\n  o32[oi++] = x00; o32[oi++] = x01;\n  o32[oi++] = x02; o32[oi++] = x03;\n  o32[oi++] = x12; o32[oi++] = x13;\n  o32[oi++] = x14; o32[oi++] = x15;\n}\n/**\n * Original, non-RFC chacha20 from DJB. 8-byte nonce, 8-byte counter.\n */\nexport const chacha20orig = /* @__PURE__ */ createCipher(chachaCore, {\n  counterRight: false,\n  counterLength: 8,\n  allowShortKeys: true,\n});\n/**\n * ChaCha stream cipher. Conforms to RFC 8439 (IETF, TLS). 12-byte nonce, 4-byte counter.\n * With 12-byte nonce, it's not safe to use fill it with random (CSPRNG), due to collision chance.\n */\nexport const chacha20 = /* @__PURE__ */ createCipher(chachaCore, {\n  counterRight: false,\n  counterLength: 4,\n  allowShortKeys: false,\n});\n\n/**\n * XChaCha eXtended-nonce ChaCha. 24-byte nonce.\n * With 24-byte nonce, it's safe to use fill it with random (CSPRNG).\n * https://datatracker.ietf.org/doc/html/draft-irtf-cfrg-xchacha\n */\nexport const xchacha20 = /* @__PURE__ */ createCipher(chachaCore, {\n  counterRight: false,\n  counterLength: 8,\n  extendNonceFn: hchacha,\n  allowShortKeys: false,\n});\n\n/**\n * Reduced 8-round chacha, described in original paper.\n */\nexport const chacha8 = /* @__PURE__ */ createCipher(chachaCore, {\n  counterRight: false,\n  counterLength: 4,\n  rounds: 8,\n});\n\n/**\n * Reduced 12-round chacha, described in original paper.\n */\nexport const chacha12 = /* @__PURE__ */ createCipher(chachaCore, {\n  counterRight: false,\n  counterLength: 4,\n  rounds: 12,\n});\n\nconst ZEROS16 = /* @__PURE__ */ new Uint8Array(16);\n// Pad to digest size with zeros\nconst updatePadded = (h: ReturnType<typeof poly1305.create>, msg: Uint8Array) => {\n  h.update(msg);\n  const left = msg.length % 16;\n  if (left) h.update(ZEROS16.subarray(left));\n};\n\nconst ZEROS32 = /* @__PURE__ */ new Uint8Array(32);\nfunction computeTag(\n  fn: XorStream,\n  key: Uint8Array,\n  nonce: Uint8Array,\n  data: Uint8Array,\n  AAD?: Uint8Array\n): Uint8Array {\n  const authKey = fn(key, nonce, ZEROS32);\n  const h = poly1305.create(authKey);\n  if (AAD) updatePadded(h, AAD);\n  updatePadded(h, data);\n  const num = new Uint8Array(16);\n  const view = createView(num);\n  setBigUint64(view, 0, BigInt(AAD ? AAD.length : 0), true);\n  setBigUint64(view, 8, BigInt(data.length), true);\n  h.update(num);\n  const res = h.digest();\n  clean(authKey, num);\n  return res;\n}\n\n/**\n * AEAD algorithm from RFC 8439.\n * Salsa20 and chacha (RFC 8439) use poly1305 differently.\n * We could have composed them similar to:\n * https://github.com/paulmillr/scure-base/blob/b266c73dde977b1dd7ef40ef7a23cc15aab526b3/index.ts#L250\n * But it's hard because of authKey:\n * In salsa20, authKey changes position in salsa stream.\n * In chacha, authKey can't be computed inside computeTag, it modifies the counter.\n */\nexport const _poly1305_aead =\n  (xorStream: XorStream) =>\n  (key: Uint8Array, nonce: Uint8Array, AAD?: Uint8Array): CipherWithOutput => {\n    const tagLength = 16;\n    abytes(key, 32);\n    abytes(nonce);\n    return {\n      encrypt(plaintext: Uint8Array, output?: Uint8Array) {\n        const plength = plaintext.length;\n        const clength = plength + tagLength;\n        if (output) {\n          abytes(output, clength);\n        } else {\n          output = new Uint8Array(clength);\n        }\n        xorStream(key, nonce, plaintext, output, 1);\n        const tag = computeTag(xorStream, key, nonce, output.subarray(0, -tagLength), AAD);\n        output.set(tag, plength); // append tag\n        clean(tag);\n        return output;\n      },\n      decrypt(ciphertext: Uint8Array, output?: Uint8Array) {\n        const clength = ciphertext.length;\n        const plength = clength - tagLength;\n        if (clength < tagLength)\n          throw new Error(`encrypted data must be at least ${tagLength} bytes`);\n        if (output) {\n          abytes(output, plength);\n        } else {\n          output = new Uint8Array(plength);\n        }\n        const data = ciphertext.subarray(0, -tagLength);\n        const passedTag = ciphertext.subarray(-tagLength);\n        const tag = computeTag(xorStream, key, nonce, data, AAD);\n        if (!equalBytes(passedTag, tag)) throw new Error('invalid tag');\n        xorStream(key, nonce, data, output, 1);\n        clean(tag);\n        return output;\n      },\n    };\n  };\n\n/**\n * ChaCha20-Poly1305 from RFC 8439.\n * With 12-byte nonce, it's not safe to use fill it with random (CSPRNG), due to collision chance.\n */\nexport const chacha20poly1305 = /* @__PURE__ */ wrapCipher(\n  { blockSize: 64, nonceLength: 12, tagLength: 16 },\n  _poly1305_aead(chacha20)\n);\n/**\n * XChaCha20-Poly1305 extended-nonce chacha.\n * https://datatracker.ietf.org/doc/html/draft-irtf-cfrg-xchacha\n * With 24-byte nonce, it's safe to use fill it with random (CSPRNG).\n */\nexport const xchacha20poly1305 = /* @__PURE__ */ wrapCipher(\n  { blockSize: 64, nonceLength: 24, tagLength: 16 },\n  _poly1305_aead(xchacha20)\n);\n", "// Basic utils for ARX (add-rotate-xor) salsa and chacha ciphers.\nimport { bool as abool, bytes as abytes, number as anumber } from './_assert.js';\nimport { XorStream, checkOpts, clean, copyBytes, u32 } from './utils.js';\n\n/*\nRFC8439 requires multi-step cipher stream, where\nauthKey starts with counter: 0, actual msg with counter: 1.\n\nFor this, we need a way to re-use nonce / counter:\n\n    const counter = new Uint8Array(4);\n    chacha(..., counter, ...); // counter is now 1\n    chacha(..., counter, ...); // counter is now 2\n\nThis is complicated:\n\n- 32-bit counters are enough, no need for 64-bit: max ArrayBuffer size in JS is 4GB\n- Original papers don't allow mutating counters\n- Counter overflow is undefined [^1]\n- Idea A: allow providing (nonce | counter) instead of just nonce, re-use it\n- Caveat: Cannot be re-used through all cases:\n- * chacha has (counter | nonce)\n- * xchacha has (nonce16 | counter | nonce16)\n- Idea B: separate nonce / counter and provide separate API for counter re-use\n- Caveat: there are different counter sizes depending on an algorithm.\n- salsa & chacha also differ in structures of key & sigma:\n  salsa20:      s[0] | k(4) | s[1] | nonce(2) | ctr(2) | s[2] | k(4) | s[3]\n  chacha:       s(4) | k(8) | ctr(1) | nonce(3)\n  chacha20orig: s(4) | k(8) | ctr(2) | nonce(2)\n- Idea C: helper method such as `setSalsaState(key, nonce, sigma, data)`\n- Caveat: we can't re-use counter array\n\nxchacha [^2] uses the subkey and remaining 8 byte nonce with ChaCha20 as normal\n(prefixed by 4 NUL bytes, since [RFC8439] specifies a 12-byte nonce).\n\n[^1]: https://mailarchive.ietf.org/arch/msg/cfrg/gsOnTJzcbgG6OqD8Sc0GO5aR_tU/\n[^2]: https://datatracker.ietf.org/doc/html/draft-irtf-cfrg-xchacha#appendix-A.2\n*/\n\n// We can't make top-level var depend on utils.utf8ToBytes\n// because it's not present in all envs. Creating a similar fn here\nconst _utf8ToBytes = (str: string) => Uint8Array.from(str.split('').map((c) => c.charCodeAt(0)));\nconst sigma16 = _utf8ToBytes('expand 16-byte k');\nconst sigma32 = _utf8ToBytes('expand 32-byte k');\nconst sigma16_32 = u32(sigma16);\nconst sigma32_32 = u32(sigma32);\nexport const sigma = sigma32_32.slice();\n\nexport function rotl(a: number, b: number): number {\n  return (a << b) | (a >>> (32 - b));\n}\n\nexport type CipherCoreFn = (\n  sigma: Uint32Array,\n  key: Uint32Array,\n  nonce: Uint32Array,\n  output: Uint32Array,\n  counter: number,\n  rounds?: number\n) => void;\n\nexport type ExtendNonceFn = (\n  sigma: Uint32Array,\n  key: Uint32Array,\n  input: Uint32Array,\n  output: Uint32Array\n) => void;\n\nexport type CipherOpts = {\n  allowShortKeys?: boolean; // Original salsa / chacha allow 16-byte keys\n  extendNonceFn?: ExtendNonceFn;\n  counterLength?: number;\n  counterRight?: boolean; // right: nonce|counter; left: counter|nonce\n  rounds?: number;\n};\n\n// Is byte array aligned to 4 byte offset (u32)?\nfunction isAligned32(b: Uint8Array) {\n  return b.byteOffset % 4 === 0;\n}\n\n// Salsa and Chacha block length is always 512-bit\nconst BLOCK_LEN = 64;\nconst BLOCK_LEN32 = 16;\n\n// new Uint32Array([2**32])   // => Uint32Array(1) [ 0 ]\n// new Uint32Array([2**32-1]) // => Uint32Array(1) [ 4294967295 ]\nconst MAX_COUNTER = 2 ** 32 - 1;\n\nconst U32_EMPTY = new Uint32Array();\nfunction runCipher(\n  core: CipherCoreFn,\n  sigma: Uint32Array,\n  key: Uint32Array,\n  nonce: Uint32Array,\n  data: Uint8Array,\n  output: Uint8Array,\n  counter: number,\n  rounds: number\n): void {\n  const len = data.length;\n  const block = new Uint8Array(BLOCK_LEN);\n  const b32 = u32(block);\n  // Make sure that buffers aligned to 4 bytes\n  const isAligned = isAligned32(data) && isAligned32(output);\n  const d32 = isAligned ? u32(data) : U32_EMPTY;\n  const o32 = isAligned ? u32(output) : U32_EMPTY;\n  for (let pos = 0; pos < len; counter++) {\n    core(sigma, key, nonce, b32, counter, rounds);\n    if (counter >= MAX_COUNTER) throw new Error('arx: counter overflow');\n    const take = Math.min(BLOCK_LEN, len - pos);\n    // aligned to 4 bytes\n    if (isAligned && take === BLOCK_LEN) {\n      const pos32 = pos / 4;\n      if (pos % 4 !== 0) throw new Error('arx: invalid block position');\n      for (let j = 0, posj: number; j < BLOCK_LEN32; j++) {\n        posj = pos32 + j;\n        o32[posj] = d32[posj] ^ b32[j];\n      }\n      pos += BLOCK_LEN;\n      continue;\n    }\n    for (let j = 0, posj; j < take; j++) {\n      posj = pos + j;\n      output[posj] = data[posj] ^ block[j];\n    }\n    pos += take;\n  }\n}\n\nexport function createCipher(core: CipherCoreFn, opts: CipherOpts): XorStream {\n  const { allowShortKeys, extendNonceFn, counterLength, counterRight, rounds } = checkOpts(\n    { allowShortKeys: false, counterLength: 8, counterRight: false, rounds: 20 },\n    opts\n  );\n  if (typeof core !== 'function') throw new Error('core must be a function');\n  anumber(counterLength);\n  anumber(rounds);\n  abool(counterRight);\n  abool(allowShortKeys);\n  return (\n    key: Uint8Array,\n    nonce: Uint8Array,\n    data: Uint8Array,\n    output?: Uint8Array,\n    counter = 0\n  ): Uint8Array => {\n    abytes(key);\n    abytes(nonce);\n    abytes(data);\n    const len = data.length;\n    if (output === undefined) output = new Uint8Array(len);\n    abytes(output);\n    anumber(counter);\n    if (counter < 0 || counter >= MAX_COUNTER) throw new Error('arx: counter overflow');\n    if (output.length < len)\n      throw new Error(`arx: output (${output.length}) is shorter than data (${len})`);\n    const toClean = [];\n\n    // Key & sigma\n    // key=16 -> sigma16, k=key|key\n    // key=32 -> sigma32, k=key\n    let l = key.length,\n      k: Uint8Array,\n      sigma: Uint32Array;\n    if (l === 32) {\n      toClean.push((k = copyBytes(key)));\n      sigma = sigma32_32;\n    } else if (l === 16 && allowShortKeys) {\n      k = new Uint8Array(32);\n      k.set(key);\n      k.set(key, 16);\n      sigma = sigma16_32;\n      toClean.push(k);\n    } else {\n      throw new Error(`arx: invalid 32-byte key, got length=${l}`);\n    }\n\n    // Nonce\n    // salsa20:      8   (8-byte counter)\n    // chacha20orig: 8   (8-byte counter)\n    // chacha20:     12  (4-byte counter)\n    // xsalsa20:     24  (16 -> hsalsa,  8 -> old nonce)\n    // xchacha20:    24  (16 -> hchacha, 8 -> old nonce)\n    // Align nonce to 4 bytes\n    if (!isAligned32(nonce)) toClean.push((nonce = copyBytes(nonce)));\n\n    const k32 = u32(k);\n    // hsalsa & hchacha: handle extended nonce\n    if (extendNonceFn) {\n      if (nonce.length !== 24) throw new Error(`arx: extended nonce must be 24 bytes`);\n      extendNonceFn(sigma, k32, u32(nonce.subarray(0, 16)), k32);\n      nonce = nonce.subarray(16);\n    }\n\n    // Handle nonce counter\n    const nonceNcLen = 16 - counterLength;\n    if (nonceNcLen !== nonce.length)\n      throw new Error(`arx: nonce must be ${nonceNcLen} or 16 bytes`);\n\n    // Pad counter when nonce is 64 bit\n    if (nonceNcLen !== 12) {\n      const nc = new Uint8Array(12);\n      nc.set(nonce, counterRight ? 0 : 12 - nonce.length);\n      nonce = nc;\n      toClean.push(nonce);\n    }\n    const n32 = u32(nonce);\n    runCipher(core, sigma, k32, n32, data, output, counter, rounds);\n    clean(...toClean);\n    return output;\n  };\n}\n", "function number(n: number) {\n  if (!Number.isSafeInteger(n) || n < 0) throw new Error(`positive integer expected, not ${n}`);\n}\n\nfunction bool(b: boolean) {\n  if (typeof b !== 'boolean') throw new Error(`boolean expected, not ${b}`);\n}\n\nexport function isBytes(a: unknown): a is Uint8Array {\n  return (\n    a instanceof Uint8Array ||\n    (a != null && typeof a === 'object' && a.constructor.name === 'Uint8Array')\n  );\n}\n\nfunction bytes(b: Uint8Array | undefined, ...lengths: number[]) {\n  if (!isBytes(b)) throw new Error('Uint8Array expected');\n  if (lengths.length > 0 && !lengths.includes(b.length))\n    throw new Error(`Uint8Array expected of length ${lengths}, not of length=${b.length}`);\n}\n\nexport type Hash = {\n  (data: Uint8Array): Uint8Array;\n  blockLen: number;\n  outputLen: number;\n  create: any;\n};\nfunction hash(hash: Hash) {\n  if (typeof hash !== 'function' || typeof hash.create !== 'function')\n    throw new Error('hash must be wrapped by utils.wrapConstructor');\n  number(hash.outputLen);\n  number(hash.blockLen);\n}\n\nfunction exists(instance: any, checkFinished = true) {\n  if (instance.destroyed) throw new Error('Hash instance has been destroyed');\n  if (checkFinished && instance.finished) throw new Error('Hash#digest() has already been called');\n}\n\nfunction output(out: any, instance: any) {\n  bytes(out);\n  const min = instance.outputLen;\n  if (out.length < min) {\n    throw new Error(`digestInto() expects output buffer of length at least ${min}`);\n  }\n}\n\nexport { number, bool, bytes, hash, exists, output };\nconst assert = { number, bool, bytes, hash, exists, output };\nexport default assert;\n", "/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */\nimport { bytes as abytes, isBytes } from './_assert.js';\n// prettier-ignore\nexport type TypedArray = Int8Array | Uint8ClampedArray | Uint8Array |\n  Uint16Array | Int16Array | Uint32Array | Int32Array;\n\n// Cast array to different type\nexport const u8 = (arr: TypedArray) => new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength);\nexport const u16 = (arr: TypedArray) =>\n  new Uint16Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 2));\nexport const u32 = (arr: TypedArray) =>\n  new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));\n\n// Cast array to view\nexport const createView = (arr: TypedArray) =>\n  new DataView(arr.buffer, arr.byteOffset, arr.byteLength);\n\n// big-endian hardware is rare. Just in case someone still decides to run ciphers:\n// early-throw an error because we don't support BE yet.\nexport const isLE = new Uint8Array(new Uint32Array([0x11223344]).buffer)[0] === 0x44;\nif (!isLE) throw new Error('Non little-endian hardware is not supported');\n\n// Array where index 0xf0 (240) is mapped to string 'f0'\nconst hexes = /* @__PURE__ */ Array.from({ length: 256 }, (_, i) =>\n  i.toString(16).padStart(2, '0')\n);\n/**\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nexport function bytesToHex(bytes: Uint8Array): string {\n  abytes(bytes);\n  // pre-caching improves the speed 6x\n  let hex = '';\n  for (let i = 0; i < bytes.length; i++) {\n    hex += hexes[bytes[i]];\n  }\n  return hex;\n}\n\n// We use optimized technique to convert hex string to byte array\nconst asciis = { _0: 48, _9: 57, _A: 65, _F: 70, _a: 97, _f: 102 } as const;\nfunction asciiToBase16(char: number): number | undefined {\n  if (char >= asciis._0 && char <= asciis._9) return char - asciis._0;\n  if (char >= asciis._A && char <= asciis._F) return char - (asciis._A - 10);\n  if (char >= asciis._a && char <= asciis._f) return char - (asciis._a - 10);\n  return;\n}\n\n/**\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nexport function hexToBytes(hex: string): Uint8Array {\n  if (typeof hex !== 'string') throw new Error('hex string expected, got ' + typeof hex);\n  const hl = hex.length;\n  const al = hl / 2;\n  if (hl % 2) throw new Error('padded hex string expected, got unpadded hex of length ' + hl);\n  const array = new Uint8Array(al);\n  for (let ai = 0, hi = 0; ai < al; ai++, hi += 2) {\n    const n1 = asciiToBase16(hex.charCodeAt(hi));\n    const n2 = asciiToBase16(hex.charCodeAt(hi + 1));\n    if (n1 === undefined || n2 === undefined) {\n      const char = hex[hi] + hex[hi + 1];\n      throw new Error('hex string expected, got non-hex character \"' + char + '\" at index ' + hi);\n    }\n    array[ai] = n1 * 16 + n2;\n  }\n  return array;\n}\n\nexport function hexToNumber(hex: string): bigint {\n  if (typeof hex !== 'string') throw new Error('hex string expected, got ' + typeof hex);\n  // Big Endian\n  return BigInt(hex === '' ? '0' : `0x${hex}`);\n}\n\n// BE: Big Endian, LE: Little Endian\nexport function bytesToNumberBE(bytes: Uint8Array): bigint {\n  return hexToNumber(bytesToHex(bytes));\n}\n\nexport function numberToBytesBE(n: number | bigint, len: number): Uint8Array {\n  return hexToBytes(n.toString(16).padStart(len * 2, '0'));\n}\n\n// There is no setImmediate in browser and setTimeout is slow.\n// call of async fn will return Promise, which will be fullfiled only on\n// next scheduler queue processing step and this is exactly what we need.\nexport const nextTick = async () => {};\n\n// Returns control to thread each 'tick' ms to avoid blocking\nexport async function asyncLoop(iters: number, tick: number, cb: (i: number) => void) {\n  let ts = Date.now();\n  for (let i = 0; i < iters; i++) {\n    cb(i);\n    // Date.now() is not monotonic, so in case if clock goes backwards we return return control too\n    const diff = Date.now() - ts;\n    if (diff >= 0 && diff < tick) continue;\n    await nextTick();\n    ts += diff;\n  }\n}\n\n// Global symbols in both browsers and Node.js since v11\n// See https://github.com/microsoft/TypeScript/issues/31535\ndeclare const TextEncoder: any;\ndeclare const TextDecoder: any;\n\n/**\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\nexport function utf8ToBytes(str: string): Uint8Array {\n  if (typeof str !== 'string') throw new Error(`string expected, got ${typeof str}`);\n  return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n\n/**\n * @example bytesToUtf8(new Uint8Array([97, 98, 99])) // 'abc'\n */\nexport function bytesToUtf8(bytes: Uint8Array): string {\n  return new TextDecoder().decode(bytes);\n}\n\nexport type Input = Uint8Array | string;\n/**\n * Normalizes (non-hex) string or Uint8Array to Uint8Array.\n * Warning: when Uint8Array is passed, it would NOT get copied.\n * Keep in mind for future mutable operations.\n */\nexport function toBytes(data: Input): Uint8Array {\n  if (typeof data === 'string') data = utf8ToBytes(data);\n  else if (isBytes(data)) data = copyBytes(data);\n  else throw new Error(`Uint8Array expected, got ${typeof data}`);\n  return data;\n}\n\n/**\n * Copies several Uint8Arrays into one.\n */\nexport function concatBytes(...arrays: Uint8Array[]): Uint8Array {\n  let sum = 0;\n  for (let i = 0; i < arrays.length; i++) {\n    const a = arrays[i];\n    abytes(a);\n    sum += a.length;\n  }\n  const res = new Uint8Array(sum);\n  for (let i = 0, pad = 0; i < arrays.length; i++) {\n    const a = arrays[i];\n    res.set(a, pad);\n    pad += a.length;\n  }\n  return res;\n}\n\ntype EmptyObj = {};\nexport function checkOpts<T1 extends EmptyObj, T2 extends EmptyObj>(\n  defaults: T1,\n  opts: T2\n): T1 & T2 {\n  if (opts == null || typeof opts !== 'object') throw new Error('options must be defined');\n  const merged = Object.assign(defaults, opts);\n  return merged as T1 & T2;\n}\n\n// Compares 2 u8a-s in kinda constant time\nexport function equalBytes(a: Uint8Array, b: Uint8Array) {\n  if (a.length !== b.length) return false;\n  let diff = 0;\n  for (let i = 0; i < a.length; i++) diff |= a[i] ^ b[i];\n  return diff === 0;\n}\n\n// For runtime check if class implements interface\nexport abstract class Hash<T extends Hash<T>> {\n  abstract blockLen: number; // Bytes per block\n  abstract outputLen: number; // Bytes in output\n  abstract update(buf: Input): this;\n  // Writes digest into buf\n  abstract digestInto(buf: Uint8Array): void;\n  abstract digest(): Uint8Array;\n  /**\n   * Resets internal state. Makes Hash instance unusable.\n   * Reset is impossible for keyed hashes if key is consumed into state. If digest is not consumed\n   * by user, they will need to manually call `destroy()` when zeroing is necessary.\n   */\n  abstract destroy(): void;\n}\n\n// This will allow to re-use with composable things like packed & base encoders\n// Also, we probably can make tags composable\nexport type Cipher = {\n  encrypt(plaintext: Uint8Array): Uint8Array;\n  decrypt(ciphertext: Uint8Array): Uint8Array;\n};\n\nexport type AsyncCipher = {\n  encrypt(plaintext: Uint8Array): Promise<Uint8Array>;\n  decrypt(ciphertext: Uint8Array): Promise<Uint8Array>;\n};\n\nexport type CipherWithOutput = Cipher & {\n  encrypt(plaintext: Uint8Array, output?: Uint8Array): Uint8Array;\n  decrypt(ciphertext: Uint8Array, output?: Uint8Array): Uint8Array;\n};\n\n// Params is outside return type, so it is accessible before calling constructor\n// If function support multiple nonceLength's, we return best one\nexport type CipherParams = { blockSize: number; nonceLength?: number; tagLength?: number };\nexport type CipherCons<T extends any[]> = (key: Uint8Array, ...args: T) => Cipher;\n/**\n * @__NO_SIDE_EFFECTS__\n */\nexport const wrapCipher = <C extends CipherCons<any>, P extends CipherParams>(\n  params: P,\n  c: C\n): C & P => {\n  Object.assign(c, params);\n  return c as C & P;\n};\n\nexport type XorStream = (\n  key: Uint8Array,\n  nonce: Uint8Array,\n  data: Uint8Array,\n  output?: Uint8Array,\n  counter?: number\n) => Uint8Array;\n\n// Polyfill for Safari 14\nexport function setBigUint64(\n  view: DataView,\n  byteOffset: number,\n  value: bigint,\n  isLE: boolean\n): void {\n  if (typeof view.setBigUint64 === 'function') return view.setBigUint64(byteOffset, value, isLE);\n  const _32n = BigInt(32);\n  const _u32_max = BigInt(0xffffffff);\n  const wh = Number((value >> _32n) & _u32_max);\n  const wl = Number(value & _u32_max);\n  const h = isLE ? 4 : 0;\n  const l = isLE ? 0 : 4;\n  view.setUint32(byteOffset + h, wh, isLE);\n  view.setUint32(byteOffset + l, wl, isLE);\n}\n\nexport function u64Lengths(ciphertext: Uint8Array, AAD?: Uint8Array) {\n  const num = new Uint8Array(16);\n  const view = createView(num);\n  setBigUint64(view, 0, BigInt(AAD ? AAD.length : 0), true);\n  setBigUint64(view, 8, BigInt(ciphertext.length), true);\n  return num;\n}\n\n// Is byte array aligned to 4 byte offset (u32)?\nexport function isAligned32(bytes: Uint8Array) {\n  return bytes.byteOffset % 4 === 0;\n}\n\n// copy bytes to new u8a (aligned). Because Buffer.slice is broken.\nexport function copyBytes(bytes: Uint8Array) {\n  return Uint8Array.from(bytes);\n}\n\nexport function clean(...arrays: TypedArray[]) {\n  for (let i = 0; i < arrays.length; i++) {\n    arrays[i].fill(0);\n  }\n}\n", "import { bytes as abytes, exists as aexists, output as aoutput } from './_assert.js';\nimport { Hash, Input, clean, toBytes } from './utils.js';\n\n// Poly1305 is a fast and parallel secret-key message-authentication code.\n// https://cr.yp.to/mac.html, https://cr.yp.to/mac/poly1305-20050329.pdf\n// https://datatracker.ietf.org/doc/html/rfc8439\n\n// Based on Public Domain poly1305-donna https://github.com/floodyberry/poly1305-donna\nconst u8to16 = (a: Uint8Array, i: number) => (a[i++] & 0xff) | ((a[i++] & 0xff) << 8);\nclass Poly1305 implements Hash<Poly1305> {\n  readonly blockLen = 16;\n  readonly outputLen = 16;\n  private buffer = new Uint8Array(16);\n  private r = new Uint16Array(10);\n  private h = new Uint16Array(10);\n  private pad = new Uint16Array(8);\n  private pos = 0;\n  protected finished = false;\n\n  constructor(key: Input) {\n    key = toBytes(key);\n    abytes(key, 32);\n    const t0 = u8to16(key, 0);\n    const t1 = u8to16(key, 2);\n    const t2 = u8to16(key, 4);\n    const t3 = u8to16(key, 6);\n    const t4 = u8to16(key, 8);\n    const t5 = u8to16(key, 10);\n    const t6 = u8to16(key, 12);\n    const t7 = u8to16(key, 14);\n\n    // https://github.com/floodyberry/poly1305-donna/blob/e6ad6e091d30d7f4ec2d4f978be1fcfcbce72781/poly1305-donna-16.h#L47\n    this.r[0] = t0 & 0x1fff;\n    this.r[1] = ((t0 >>> 13) | (t1 << 3)) & 0x1fff;\n    this.r[2] = ((t1 >>> 10) | (t2 << 6)) & 0x1f03;\n    this.r[3] = ((t2 >>> 7) | (t3 << 9)) & 0x1fff;\n    this.r[4] = ((t3 >>> 4) | (t4 << 12)) & 0x00ff;\n    this.r[5] = (t4 >>> 1) & 0x1ffe;\n    this.r[6] = ((t4 >>> 14) | (t5 << 2)) & 0x1fff;\n    this.r[7] = ((t5 >>> 11) | (t6 << 5)) & 0x1f81;\n    this.r[8] = ((t6 >>> 8) | (t7 << 8)) & 0x1fff;\n    this.r[9] = (t7 >>> 5) & 0x007f;\n    for (let i = 0; i < 8; i++) this.pad[i] = u8to16(key, 16 + 2 * i);\n  }\n\n  private process(data: Uint8Array, offset: number, isLast = false) {\n    const hibit = isLast ? 0 : 1 << 11;\n    const { h, r } = this;\n    const r0 = r[0];\n    const r1 = r[1];\n    const r2 = r[2];\n    const r3 = r[3];\n    const r4 = r[4];\n    const r5 = r[5];\n    const r6 = r[6];\n    const r7 = r[7];\n    const r8 = r[8];\n    const r9 = r[9];\n\n    const t0 = u8to16(data, offset + 0);\n    const t1 = u8to16(data, offset + 2);\n    const t2 = u8to16(data, offset + 4);\n    const t3 = u8to16(data, offset + 6);\n    const t4 = u8to16(data, offset + 8);\n    const t5 = u8to16(data, offset + 10);\n    const t6 = u8to16(data, offset + 12);\n    const t7 = u8to16(data, offset + 14);\n\n    let h0 = h[0] + (t0 & 0x1fff);\n    let h1 = h[1] + (((t0 >>> 13) | (t1 << 3)) & 0x1fff);\n    let h2 = h[2] + (((t1 >>> 10) | (t2 << 6)) & 0x1fff);\n    let h3 = h[3] + (((t2 >>> 7) | (t3 << 9)) & 0x1fff);\n    let h4 = h[4] + (((t3 >>> 4) | (t4 << 12)) & 0x1fff);\n    let h5 = h[5] + ((t4 >>> 1) & 0x1fff);\n    let h6 = h[6] + (((t4 >>> 14) | (t5 << 2)) & 0x1fff);\n    let h7 = h[7] + (((t5 >>> 11) | (t6 << 5)) & 0x1fff);\n    let h8 = h[8] + (((t6 >>> 8) | (t7 << 8)) & 0x1fff);\n    let h9 = h[9] + ((t7 >>> 5) | hibit);\n\n    let c = 0;\n\n    let d0 = c + h0 * r0 + h1 * (5 * r9) + h2 * (5 * r8) + h3 * (5 * r7) + h4 * (5 * r6);\n    c = d0 >>> 13;\n    d0 &= 0x1fff;\n    d0 += h5 * (5 * r5) + h6 * (5 * r4) + h7 * (5 * r3) + h8 * (5 * r2) + h9 * (5 * r1);\n    c += d0 >>> 13;\n    d0 &= 0x1fff;\n\n    let d1 = c + h0 * r1 + h1 * r0 + h2 * (5 * r9) + h3 * (5 * r8) + h4 * (5 * r7);\n    c = d1 >>> 13;\n    d1 &= 0x1fff;\n    d1 += h5 * (5 * r6) + h6 * (5 * r5) + h7 * (5 * r4) + h8 * (5 * r3) + h9 * (5 * r2);\n    c += d1 >>> 13;\n    d1 &= 0x1fff;\n\n    let d2 = c + h0 * r2 + h1 * r1 + h2 * r0 + h3 * (5 * r9) + h4 * (5 * r8);\n    c = d2 >>> 13;\n    d2 &= 0x1fff;\n    d2 += h5 * (5 * r7) + h6 * (5 * r6) + h7 * (5 * r5) + h8 * (5 * r4) + h9 * (5 * r3);\n    c += d2 >>> 13;\n    d2 &= 0x1fff;\n\n    let d3 = c + h0 * r3 + h1 * r2 + h2 * r1 + h3 * r0 + h4 * (5 * r9);\n    c = d3 >>> 13;\n    d3 &= 0x1fff;\n    d3 += h5 * (5 * r8) + h6 * (5 * r7) + h7 * (5 * r6) + h8 * (5 * r5) + h9 * (5 * r4);\n    c += d3 >>> 13;\n    d3 &= 0x1fff;\n\n    let d4 = c + h0 * r4 + h1 * r3 + h2 * r2 + h3 * r1 + h4 * r0;\n    c = d4 >>> 13;\n    d4 &= 0x1fff;\n    d4 += h5 * (5 * r9) + h6 * (5 * r8) + h7 * (5 * r7) + h8 * (5 * r6) + h9 * (5 * r5);\n    c += d4 >>> 13;\n    d4 &= 0x1fff;\n\n    let d5 = c + h0 * r5 + h1 * r4 + h2 * r3 + h3 * r2 + h4 * r1;\n    c = d5 >>> 13;\n    d5 &= 0x1fff;\n    d5 += h5 * r0 + h6 * (5 * r9) + h7 * (5 * r8) + h8 * (5 * r7) + h9 * (5 * r6);\n    c += d5 >>> 13;\n    d5 &= 0x1fff;\n\n    let d6 = c + h0 * r6 + h1 * r5 + h2 * r4 + h3 * r3 + h4 * r2;\n    c = d6 >>> 13;\n    d6 &= 0x1fff;\n    d6 += h5 * r1 + h6 * r0 + h7 * (5 * r9) + h8 * (5 * r8) + h9 * (5 * r7);\n    c += d6 >>> 13;\n    d6 &= 0x1fff;\n\n    let d7 = c + h0 * r7 + h1 * r6 + h2 * r5 + h3 * r4 + h4 * r3;\n    c = d7 >>> 13;\n    d7 &= 0x1fff;\n    d7 += h5 * r2 + h6 * r1 + h7 * r0 + h8 * (5 * r9) + h9 * (5 * r8);\n    c += d7 >>> 13;\n    d7 &= 0x1fff;\n\n    let d8 = c + h0 * r8 + h1 * r7 + h2 * r6 + h3 * r5 + h4 * r4;\n    c = d8 >>> 13;\n    d8 &= 0x1fff;\n    d8 += h5 * r3 + h6 * r2 + h7 * r1 + h8 * r0 + h9 * (5 * r9);\n    c += d8 >>> 13;\n    d8 &= 0x1fff;\n\n    let d9 = c + h0 * r9 + h1 * r8 + h2 * r7 + h3 * r6 + h4 * r5;\n    c = d9 >>> 13;\n    d9 &= 0x1fff;\n    d9 += h5 * r4 + h6 * r3 + h7 * r2 + h8 * r1 + h9 * r0;\n    c += d9 >>> 13;\n    d9 &= 0x1fff;\n\n    c = ((c << 2) + c) | 0;\n    c = (c + d0) | 0;\n    d0 = c & 0x1fff;\n    c = c >>> 13;\n    d1 += c;\n\n    h[0] = d0;\n    h[1] = d1;\n    h[2] = d2;\n    h[3] = d3;\n    h[4] = d4;\n    h[5] = d5;\n    h[6] = d6;\n    h[7] = d7;\n    h[8] = d8;\n    h[9] = d9;\n  }\n\n  private finalize() {\n    const { h, pad } = this;\n    const g = new Uint16Array(10);\n    let c = h[1] >>> 13;\n    h[1] &= 0x1fff;\n    for (let i = 2; i < 10; i++) {\n      h[i] += c;\n      c = h[i] >>> 13;\n      h[i] &= 0x1fff;\n    }\n    h[0] += c * 5;\n    c = h[0] >>> 13;\n    h[0] &= 0x1fff;\n    h[1] += c;\n    c = h[1] >>> 13;\n    h[1] &= 0x1fff;\n    h[2] += c;\n\n    g[0] = h[0] + 5;\n    c = g[0] >>> 13;\n    g[0] &= 0x1fff;\n    for (let i = 1; i < 10; i++) {\n      g[i] = h[i] + c;\n      c = g[i] >>> 13;\n      g[i] &= 0x1fff;\n    }\n    g[9] -= 1 << 13;\n\n    let mask = (c ^ 1) - 1;\n    for (let i = 0; i < 10; i++) g[i] &= mask;\n    mask = ~mask;\n    for (let i = 0; i < 10; i++) h[i] = (h[i] & mask) | g[i];\n    h[0] = (h[0] | (h[1] << 13)) & 0xffff;\n    h[1] = ((h[1] >>> 3) | (h[2] << 10)) & 0xffff;\n    h[2] = ((h[2] >>> 6) | (h[3] << 7)) & 0xffff;\n    h[3] = ((h[3] >>> 9) | (h[4] << 4)) & 0xffff;\n    h[4] = ((h[4] >>> 12) | (h[5] << 1) | (h[6] << 14)) & 0xffff;\n    h[5] = ((h[6] >>> 2) | (h[7] << 11)) & 0xffff;\n    h[6] = ((h[7] >>> 5) | (h[8] << 8)) & 0xffff;\n    h[7] = ((h[8] >>> 8) | (h[9] << 5)) & 0xffff;\n\n    let f = h[0] + pad[0];\n    h[0] = f & 0xffff;\n    for (let i = 1; i < 8; i++) {\n      f = (((h[i] + pad[i]) | 0) + (f >>> 16)) | 0;\n      h[i] = f & 0xffff;\n    }\n    clean(g);\n  }\n  update(data: Input): this {\n    aexists(this);\n    const { buffer, blockLen } = this;\n    data = toBytes(data);\n    const len = data.length;\n\n    for (let pos = 0; pos < len; ) {\n      const take = Math.min(blockLen - this.pos, len - pos);\n      // Fast path: we have at least one block in input\n      if (take === blockLen) {\n        for (; blockLen <= len - pos; pos += blockLen) this.process(data, pos);\n        continue;\n      }\n      buffer.set(data.subarray(pos, pos + take), this.pos);\n      this.pos += take;\n      pos += take;\n      if (this.pos === blockLen) {\n        this.process(buffer, 0, false);\n        this.pos = 0;\n      }\n    }\n    return this;\n  }\n  destroy() {\n    clean(this.h, this.r, this.buffer, this.pad);\n  }\n  digestInto(out: Uint8Array) {\n    aexists(this);\n    aoutput(out, this);\n    this.finished = true;\n    const { buffer, h } = this;\n    let { pos } = this;\n    if (pos) {\n      buffer[pos++] = 1;\n      for (; pos < 16; pos++) buffer[pos] = 0;\n      this.process(buffer, 0, true);\n    }\n    this.finalize();\n    let opos = 0;\n    for (let i = 0; i < 8; i++) {\n      out[opos++] = h[i] >>> 0;\n      out[opos++] = h[i] >>> 8;\n    }\n    return out;\n  }\n  digest(): Uint8Array {\n    const { buffer, outputLen } = this;\n    this.digestInto(buffer);\n    const res = buffer.slice(0, outputLen);\n    this.destroy();\n    return res;\n  }\n}\n\nexport type CHash = ReturnType<typeof wrapConstructorWithKey>;\nexport function wrapConstructorWithKey<H extends Hash<H>>(hashCons: (key: Input) => Hash<H>) {\n  const hashC = (msg: Input, key: Input): Uint8Array => hashCons(key).update(toBytes(msg)).digest();\n  const tmp = hashCons(new Uint8Array(32));\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = (key: Input) => hashCons(key);\n  return hashC;\n}\n\nexport const poly1305 = wrapConstructorWithKey((key) => new Poly1305(key));\n", "// We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.\n// node.js versions earlier than v19 don't declare it in global scope.\n// For node.js, package.js on#exports field mapping rewrites import\n// from `crypto` to `cryptoNode`, which imports native module.\n// Makes the utils un-importable in browsers without a bundler.\n// Once node.js 18 is deprecated, we can just drop the import.\n//\n// Use full path so that Node.js can rewrite it to `cryptoNode.js`.\nimport { crypto } from '@noble/ciphers/crypto';\nimport { bytes as abytes, number } from './_assert.js';\nimport { AsyncCipher, Cipher, concatBytes } from './utils.js';\n\n/**\n * Secure PRNG. Uses `crypto.getRandomValues`, which defers to OS.\n */\nexport function randomBytes(bytesLength = 32): Uint8Array {\n  if (crypto && typeof crypto.getRandomValues === 'function')\n    return crypto.getRandomValues(new Uint8Array(bytesLength));\n  throw new Error('crypto.getRandomValues must be defined');\n}\n\nexport function getWebcryptoSubtle() {\n  if (crypto && typeof crypto.subtle === 'object' && crypto.subtle != null) return crypto.subtle;\n  throw new Error('crypto.subtle must be defined');\n}\n\ntype RemoveNonceInner<T extends any[], Ret> = ((...args: T) => Ret) extends (\n  arg0: any,\n  arg1: any,\n  ...rest: infer R\n) => any\n  ? (key: Uint8Array, ...args: R) => Ret\n  : never;\n\ntype RemoveNonce<T extends (...args: any) => any> = RemoveNonceInner<Parameters<T>, ReturnType<T>>;\ntype CipherWithNonce = ((key: Uint8Array, nonce: Uint8Array, ...args: any[]) => Cipher) & {\n  nonceLength: number;\n};\n\n// Uses CSPRG for nonce, nonce injected in ciphertext\nexport function managedNonce<T extends CipherWithNonce>(fn: T): RemoveNonce<T> {\n  number(fn.nonceLength);\n  return ((key: Uint8Array, ...args: any[]): any => ({\n    encrypt(plaintext: Uint8Array, ...argsEnc: any[]) {\n      const { nonceLength } = fn;\n      const nonce = randomBytes(nonceLength);\n      const ciphertext = (fn(key, nonce, ...args).encrypt as any)(plaintext, ...argsEnc);\n      const out = concatBytes(nonce, ciphertext);\n      ciphertext.fill(0);\n      return out;\n    },\n    decrypt(ciphertext: Uint8Array, ...argsDec: any[]) {\n      const { nonceLength } = fn;\n      const nonce = ciphertext.subarray(0, nonceLength);\n      const data = ciphertext.subarray(nonceLength);\n      return (fn(key, nonce, ...args).decrypt as any)(data, ...argsDec);\n    },\n  })) as RemoveNonce<T>;\n}\n\n// Overridable\nexport const utils = {\n  async encrypt(key: Uint8Array, keyParams: any, cryptParams: any, plaintext: Uint8Array) {\n    const cr = getWebcryptoSubtle();\n    const iKey = await cr.importKey('raw', key, keyParams, true, ['encrypt']);\n    const ciphertext = await cr.encrypt(cryptParams, iKey, plaintext);\n    return new Uint8Array(ciphertext);\n  },\n  async decrypt(key: Uint8Array, keyParams: any, cryptParams: any, ciphertext: Uint8Array) {\n    const cr = getWebcryptoSubtle();\n    const iKey = await cr.importKey('raw', key, keyParams, true, ['decrypt']);\n    const plaintext = await cr.decrypt(cryptParams, iKey, ciphertext);\n    return new Uint8Array(plaintext);\n  },\n};\n\nconst mode = {\n  CBC: 'AES-CBC',\n  CTR: 'AES-CTR',\n  GCM: 'AES-GCM',\n} as const;\ntype BlockMode = (typeof mode)[keyof typeof mode];\n\nfunction getCryptParams(algo: BlockMode, nonce: Uint8Array, AAD?: Uint8Array) {\n  if (algo === mode.CBC) return { name: mode.CBC, iv: nonce };\n  if (algo === mode.CTR) return { name: mode.CTR, counter: nonce, length: 64 };\n  if (algo === mode.GCM) {\n    if (AAD) return { name: mode.GCM, iv: nonce, additionalData: AAD };\n    else return { name: mode.GCM, iv: nonce };\n  }\n\n  throw new Error('unknown aes block mode');\n}\n\nfunction generate(algo: BlockMode) {\n  return (key: Uint8Array, nonce: Uint8Array, AAD?: Uint8Array): AsyncCipher => {\n    abytes(key);\n    abytes(nonce);\n    const keyParams = { name: algo, length: key.length * 8 };\n    const cryptParams = getCryptParams(algo, nonce, AAD);\n    return {\n      // keyLength,\n      encrypt(plaintext: Uint8Array) {\n        abytes(plaintext);\n        return utils.encrypt(key, keyParams, cryptParams, plaintext);\n      },\n      decrypt(ciphertext: Uint8Array) {\n        abytes(ciphertext);\n        return utils.decrypt(key, keyParams, cryptParams, ciphertext);\n      },\n    };\n  };\n}\n\nexport const cbc = generate(mode.CBC);\nexport const ctr = generate(mode.CTR);\nexport const gcm = generate(mode.GCM);\n\n// // Type tests\n// import { siv, gcm, ctr, ecb, cbc } from '../aes.js';\n// import { xsalsa20poly1305 } from '../salsa.js';\n// import { chacha20poly1305, xchacha20poly1305 } from '../chacha.js';\n\n// const wsiv = managedNonce(siv);\n// const wgcm = managedNonce(gcm);\n// const wctr = managedNonce(ctr);\n// const wcbc = managedNonce(cbc);\n// const wsalsapoly = managedNonce(xsalsa20poly1305);\n// const wchacha = managedNonce(chacha20poly1305);\n// const wxchacha = managedNonce(xchacha20poly1305);\n\n// // should fail\n// const wcbc2 = managedNonce(managedNonce(cbc));\n// const wctr = managedNonce(ctr);\n", "// We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.\n// See utils.ts for details.\ndeclare const globalThis: Record<string, any> | undefined;\nexport const crypto =\n  typeof globalThis === 'object' && 'crypto' in globalThis ? globalThis.crypto : undefined;\n", "export { compactDecrypt } from './jwe/compact/decrypt.js';\nexport { flattenedDecrypt } from './jwe/flattened/decrypt.js';\nexport { generalDecrypt } from './jwe/general/decrypt.js';\nexport { GeneralEncrypt } from './jwe/general/encrypt.js';\nexport { compactVerify } from './jws/compact/verify.js';\nexport { flattenedVerify } from './jws/flattened/verify.js';\nexport { generalVerify } from './jws/general/verify.js';\nexport { jwtVerify } from './jwt/verify.js';\nexport { jwtDecrypt } from './jwt/decrypt.js';\nexport { CompactEncrypt } from './jwe/compact/encrypt.js';\nexport { FlattenedEncrypt } from './jwe/flattened/encrypt.js';\nexport { CompactSign } from './jws/compact/sign.js';\nexport { FlattenedSign } from './jws/flattened/sign.js';\nexport { GeneralSign } from './jws/general/sign.js';\nexport { SignJWT } from './jwt/sign.js';\nexport { EncryptJWT } from './jwt/encrypt.js';\nexport { calculateJwkThumbprint, calculateJwkThumbprintUri } from './jwk/thumbprint.js';\nexport { EmbeddedJWK } from './jwk/embedded.js';\nexport { createLocalJWKSet } from './jwks/local.js';\nexport { createRemoteJWKSet, jwksCache, experimental_jwksCache } from './jwks/remote.js';\nexport { UnsecuredJWT } from './jwt/unsecured.js';\nexport { exportPKCS8, exportSPKI, exportJWK } from './key/export.js';\nexport { importSPKI, importPKCS8, importX509, importJWK } from './key/import.js';\nexport { decodeProtectedHeader } from './util/decode_protected_header.js';\nexport { decodeJwt } from './util/decode_jwt.js';\nexport * as errors from './util/errors.js';\nexport { generateKeyPair } from './key/generate_key_pair.js';\nexport { generateSecret } from './key/generate_secret.js';\nexport * as base64url from './util/base64url.js';\nexport { default as cryptoRuntime } from './util/runtime.js';\n", "import { encoder, decoder } from '../lib/buffer_utils.js';\nexport const encodeBase64 = (input) => {\n    let unencoded = input;\n    if (typeof unencoded === 'string') {\n        unencoded = encoder.encode(unencoded);\n    }\n    const CHUNK_SIZE = 0x8000;\n    const arr = [];\n    for (let i = 0; i < unencoded.length; i += CHUNK_SIZE) {\n        arr.push(String.fromCharCode.apply(null, unencoded.subarray(i, i + CHUNK_SIZE)));\n    }\n    return btoa(arr.join(''));\n};\nexport const encode = (input) => {\n    return encodeBase64(input).replace(/=/g, '').replace(/\\+/g, '-').replace(/\\//g, '_');\n};\nexport const decodeBase64 = (encoded) => {\n    const binary = atob(encoded);\n    const bytes = new Uint8Array(binary.length);\n    for (let i = 0; i < binary.length; i++) {\n        bytes[i] = binary.charCodeAt(i);\n    }\n    return bytes;\n};\nexport const decode = (input) => {\n    let encoded = input;\n    if (encoded instanceof Uint8Array) {\n        encoded = decoder.decode(encoded);\n    }\n    encoded = encoded.replace(/-/g, '+').replace(/_/g, '/').replace(/\\s/g, '');\n    try {\n        return decodeBase64(encoded);\n    }\n    catch {\n        throw new TypeError('The input to be decoded is not correctly encoded.');\n    }\n};\n", "import digest from '../runtime/digest.js';\nexport const encoder = new TextEncoder();\nexport const decoder = new TextDecoder();\nconst MAX_INT32 = 2 ** 32;\nexport function concat(...buffers) {\n    const size = buffers.reduce((acc, { length }) => acc + length, 0);\n    const buf = new Uint8Array(size);\n    let i = 0;\n    for (const buffer of buffers) {\n        buf.set(buffer, i);\n        i += buffer.length;\n    }\n    return buf;\n}\nexport function p2s(alg, p2sInput) {\n    return concat(encoder.encode(alg), new Uint8Array([0]), p2sInput);\n}\nfunction writeUInt32BE(buf, value, offset) {\n    if (value < 0 || value >= MAX_INT32) {\n        throw new RangeError(`value must be >= 0 and <= ${MAX_INT32 - 1}. Received ${value}`);\n    }\n    buf.set([value >>> 24, value >>> 16, value >>> 8, value & 0xff], offset);\n}\nexport function uint64be(value) {\n    const high = Math.floor(value / MAX_INT32);\n    const low = value % MAX_INT32;\n    const buf = new Uint8Array(8);\n    writeUInt32BE(buf, high, 0);\n    writeUInt32BE(buf, low, 4);\n    return buf;\n}\nexport function uint32be(value) {\n    const buf = new Uint8Array(4);\n    writeUInt32BE(buf, value);\n    return buf;\n}\nexport function lengthAndInput(input) {\n    return concat(uint32be(input.length), input);\n}\nexport async function concatKdf(secret, bits, value) {\n    const iterations = Math.ceil((bits >> 3) / 32);\n    const res = new Uint8Array(iterations * 32);\n    for (let iter = 0; iter < iterations; iter++) {\n        const buf = new Uint8Array(4 + secret.length + value.length);\n        buf.set(uint32be(iter + 1));\n        buf.set(secret, 4);\n        buf.set(value, 4 + secret.length);\n        res.set(await digest('sha256', buf), iter * 32);\n    }\n    return res.slice(0, bits >> 3);\n}\n", "export default crypto;\nexport const isCryptoKey = (key) => key instanceof CryptoKey;\n", "export class JOSEError extends Error {\n    constructor(message, options) {\n        super(message, options);\n        this.code = 'ERR_JOSE_GENERIC';\n        this.name = this.constructor.name;\n        Error.captureStackTrace?.(this, this.constructor);\n    }\n}\nJOSEError.code = 'ERR_JOSE_GENERIC';\nexport class JWTClaimValidationFailed extends JOSEError {\n    constructor(message, payload, claim = 'unspecified', reason = 'unspecified') {\n        super(message, { cause: { claim, reason, payload } });\n        this.code = 'ERR_JWT_CLAIM_VALIDATION_FAILED';\n        this.claim = claim;\n        this.reason = reason;\n        this.payload = payload;\n    }\n}\nJWTClaimValidationFailed.code = 'ERR_JWT_CLAIM_VALIDATION_FAILED';\nexport class JWTExpired extends JOSEError {\n    constructor(message, payload, claim = 'unspecified', reason = 'unspecified') {\n        super(message, { cause: { claim, reason, payload } });\n        this.code = 'ERR_JWT_EXPIRED';\n        this.claim = claim;\n        this.reason = reason;\n        this.payload = payload;\n    }\n}\nJWTExpired.code = 'ERR_JWT_EXPIRED';\nexport class JOSEAlgNotAllowed extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JOSE_ALG_NOT_ALLOWED';\n    }\n}\nJOSEAlgNotAllowed.code = 'ERR_JOSE_ALG_NOT_ALLOWED';\nexport class JOSENotSupported extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JOSE_NOT_SUPPORTED';\n    }\n}\nJOSENotSupported.code = 'ERR_JOSE_NOT_SUPPORTED';\nexport class JWEDecryptionFailed extends JOSEError {\n    constructor(message = 'decryption operation failed', options) {\n        super(message, options);\n        this.code = 'ERR_JWE_DECRYPTION_FAILED';\n    }\n}\nJWEDecryptionFailed.code = 'ERR_JWE_DECRYPTION_FAILED';\nexport class JWEInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWE_INVALID';\n    }\n}\nJWEInvalid.code = 'ERR_JWE_INVALID';\nexport class JWSInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWS_INVALID';\n    }\n}\nJWSInvalid.code = 'ERR_JWS_INVALID';\nexport class JWTInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWT_INVALID';\n    }\n}\nJWTInvalid.code = 'ERR_JWT_INVALID';\nexport class JWKInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWK_INVALID';\n    }\n}\nJWKInvalid.code = 'ERR_JWK_INVALID';\nexport class JWKSInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWKS_INVALID';\n    }\n}\nJWKSInvalid.code = 'ERR_JWKS_INVALID';\nexport class JWKSNoMatchingKey extends JOSEError {\n    constructor(message = 'no applicable key found in the JSON Web Key Set', options) {\n        super(message, options);\n        this.code = 'ERR_JWKS_NO_MATCHING_KEY';\n    }\n}\nJWKSNoMatchingKey.code = 'ERR_JWKS_NO_MATCHING_KEY';\nexport class JWKSMultipleMatchingKeys extends JOSEError {\n    constructor(message = 'multiple matching keys found in the JSON Web Key Set', options) {\n        super(message, options);\n        this.code = 'ERR_JWKS_MULTIPLE_MATCHING_KEYS';\n    }\n}\nSymbol.asyncIterator;\nJWKSMultipleMatchingKeys.code = 'ERR_JWKS_MULTIPLE_MATCHING_KEYS';\nexport class JWKSTimeout extends JOSEError {\n    constructor(message = 'request timed out', options) {\n        super(message, options);\n        this.code = 'ERR_JWKS_TIMEOUT';\n    }\n}\nJWKSTimeout.code = 'ERR_JWKS_TIMEOUT';\nexport class JWSSignatureVerificationFailed extends JOSEError {\n    constructor(message = 'signature verification failed', options) {\n        super(message, options);\n        this.code = 'ERR_JWS_SIGNATURE_VERIFICATION_FAILED';\n    }\n}\nJWSSignatureVerificationFailed.code = 'ERR_JWS_SIGNATURE_VERIFICATION_FAILED';\n", "function unusable(name, prop = 'algorithm.name') {\n    return new TypeError(`CryptoKey does not support this operation, its ${prop} must be ${name}`);\n}\nfunction isAlgorithm(algorithm, name) {\n    return algorithm.name === name;\n}\nfunction getHashLength(hash) {\n    return parseInt(hash.name.slice(4), 10);\n}\nfunction getNamedCurve(alg) {\n    switch (alg) {\n        case 'ES256':\n            return 'P-256';\n        case 'ES384':\n            return 'P-384';\n        case 'ES512':\n            return 'P-521';\n        default:\n            throw new Error('unreachable');\n    }\n}\nfunction checkUsage(key, usages) {\n    if (usages.length && !usages.some((expected) => key.usages.includes(expected))) {\n        let msg = 'CryptoKey does not support this operation, its usages must include ';\n        if (usages.length > 2) {\n            const last = usages.pop();\n            msg += `one of ${usages.join(', ')}, or ${last}.`;\n        }\n        else if (usages.length === 2) {\n            msg += `one of ${usages[0]} or ${usages[1]}.`;\n        }\n        else {\n            msg += `${usages[0]}.`;\n        }\n        throw new TypeError(msg);\n    }\n}\nexport function checkSigCryptoKey(key, alg, ...usages) {\n    switch (alg) {\n        case 'HS256':\n        case 'HS384':\n        case 'HS512': {\n            if (!isAlgorithm(key.algorithm, 'HMAC'))\n                throw unusable('HMAC');\n            const expected = parseInt(alg.slice(2), 10);\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        case 'RS256':\n        case 'RS384':\n        case 'RS512': {\n            if (!isAlgorithm(key.algorithm, 'RSASSA-PKCS1-v1_5'))\n                throw unusable('RSASSA-PKCS1-v1_5');\n            const expected = parseInt(alg.slice(2), 10);\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        case 'PS256':\n        case 'PS384':\n        case 'PS512': {\n            if (!isAlgorithm(key.algorithm, 'RSA-PSS'))\n                throw unusable('RSA-PSS');\n            const expected = parseInt(alg.slice(2), 10);\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        case 'EdDSA': {\n            if (key.algorithm.name !== 'Ed25519' && key.algorithm.name !== 'Ed448') {\n                throw unusable('Ed25519 or Ed448');\n            }\n            break;\n        }\n        case 'Ed25519': {\n            if (!isAlgorithm(key.algorithm, 'Ed25519'))\n                throw unusable('Ed25519');\n            break;\n        }\n        case 'ES256':\n        case 'ES384':\n        case 'ES512': {\n            if (!isAlgorithm(key.algorithm, 'ECDSA'))\n                throw unusable('ECDSA');\n            const expected = getNamedCurve(alg);\n            const actual = key.algorithm.namedCurve;\n            if (actual !== expected)\n                throw unusable(expected, 'algorithm.namedCurve');\n            break;\n        }\n        default:\n            throw new TypeError('CryptoKey does not support this operation');\n    }\n    checkUsage(key, usages);\n}\nexport function checkEncCryptoKey(key, alg, ...usages) {\n    switch (alg) {\n        case 'A128GCM':\n        case 'A192GCM':\n        case 'A256GCM': {\n            if (!isAlgorithm(key.algorithm, 'AES-GCM'))\n                throw unusable('AES-GCM');\n            const expected = parseInt(alg.slice(1, 4), 10);\n            const actual = key.algorithm.length;\n            if (actual !== expected)\n                throw unusable(expected, 'algorithm.length');\n            break;\n        }\n        case 'A128KW':\n        case 'A192KW':\n        case 'A256KW': {\n            if (!isAlgorithm(key.algorithm, 'AES-KW'))\n                throw unusable('AES-KW');\n            const expected = parseInt(alg.slice(1, 4), 10);\n            const actual = key.algorithm.length;\n            if (actual !== expected)\n                throw unusable(expected, 'algorithm.length');\n            break;\n        }\n        case 'ECDH': {\n            switch (key.algorithm.name) {\n                case 'ECDH':\n                case 'X25519':\n                case 'X448':\n                    break;\n                default:\n                    throw unusable('ECDH, X25519, or X448');\n            }\n            break;\n        }\n        case 'PBES2-HS256+A128KW':\n        case 'PBES2-HS384+A192KW':\n        case 'PBES2-HS512+A256KW':\n            if (!isAlgorithm(key.algorithm, 'PBKDF2'))\n                throw unusable('PBKDF2');\n            break;\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512': {\n            if (!isAlgorithm(key.algorithm, 'RSA-OAEP'))\n                throw unusable('RSA-OAEP');\n            const expected = parseInt(alg.slice(9), 10) || 1;\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        default:\n            throw new TypeError('CryptoKey does not support this operation');\n    }\n    checkUsage(key, usages);\n}\n", "function message(msg, actual, ...types) {\n    types = types.filter(Boolean);\n    if (types.length > 2) {\n        const last = types.pop();\n        msg += `one of type ${types.join(', ')}, or ${last}.`;\n    }\n    else if (types.length === 2) {\n        msg += `one of type ${types[0]} or ${types[1]}.`;\n    }\n    else {\n        msg += `of type ${types[0]}.`;\n    }\n    if (actual == null) {\n        msg += ` Received ${actual}`;\n    }\n    else if (typeof actual === 'function' && actual.name) {\n        msg += ` Received function ${actual.name}`;\n    }\n    else if (typeof actual === 'object' && actual != null) {\n        if (actual.constructor?.name) {\n            msg += ` Received an instance of ${actual.constructor.name}`;\n        }\n    }\n    return msg;\n}\nexport default (actual, ...types) => {\n    return message('Key must be ', actual, ...types);\n};\nexport function withAlg(alg, actual, ...types) {\n    return message(`Key for the ${alg} algorithm must be `, actual, ...types);\n}\n", "import { isCryptoKey } from './webcrypto.js';\nexport default (key) => {\n    if (isCryptoKey(key)) {\n        return true;\n    }\n    return key?.[Symbol.toStringTag] === 'KeyObject';\n};\nexport const types = ['CryptoKey'];\n", "const isDisjoint = (...headers) => {\n    const sources = headers.filter(Boolean);\n    if (sources.length === 0 || sources.length === 1) {\n        return true;\n    }\n    let acc;\n    for (const header of sources) {\n        const parameters = Object.keys(header);\n        if (!acc || acc.size === 0) {\n            acc = new Set(parameters);\n            continue;\n        }\n        for (const parameter of parameters) {\n            if (acc.has(parameter)) {\n                return false;\n            }\n            acc.add(parameter);\n        }\n    }\n    return true;\n};\nexport default isDisjoint;\n", "function isObjectLike(value) {\n    return typeof value === 'object' && value !== null;\n}\nexport default function isObject(input) {\n    if (!isObjectLike(input) || Object.prototype.toString.call(input) !== '[object Object]') {\n        return false;\n    }\n    if (Object.getPrototypeOf(input) === null) {\n        return true;\n    }\n    let proto = input;\n    while (Object.getPrototypeOf(proto) !== null) {\n        proto = Object.getPrototypeOf(proto);\n    }\n    return Object.getPrototypeOf(input) === proto;\n}\n", "export default (alg, key) => {\n    if (alg.startsWith('RS') || alg.startsWith('PS')) {\n        const { modulusLength } = key.algorithm;\n        if (typeof modulusLength !== 'number' || modulusLength < 2048) {\n            throw new TypeError(`${alg} requires key modulusLength to be 2048 bits or larger`);\n        }\n    }\n};\n", "import { isJWK } from '../lib/is_jwk.js';\nimport { decode } from './base64url.js';\nimport importJWK from './jwk_to_key.js';\nconst exportKeyValue = (k) => decode(k);\nlet privCache;\nlet pubCache;\nconst isKeyObject = (key) => {\n    return key?.[Symbol.toStringTag] === 'KeyObject';\n};\nconst importAndCache = async (cache, key, jwk, alg, freeze = false) => {\n    let cached = cache.get(key);\n    if (cached?.[alg]) {\n        return cached[alg];\n    }\n    const cryptoKey = await importJWK({ ...jwk, alg });\n    if (freeze)\n        Object.freeze(key);\n    if (!cached) {\n        cache.set(key, { [alg]: cryptoKey });\n    }\n    else {\n        cached[alg] = cryptoKey;\n    }\n    return cryptoKey;\n};\nconst normalizePublicKey = (key, alg) => {\n    if (isKeyObject(key)) {\n        let jwk = key.export({ format: 'jwk' });\n        delete jwk.d;\n        delete jwk.dp;\n        delete jwk.dq;\n        delete jwk.p;\n        delete jwk.q;\n        delete jwk.qi;\n        if (jwk.k) {\n            return exportKeyValue(jwk.k);\n        }\n        pubCache || (pubCache = new WeakMap());\n        return importAndCache(pubCache, key, jwk, alg);\n    }\n    if (isJWK(key)) {\n        if (key.k)\n            return decode(key.k);\n        pubCache || (pubCache = new WeakMap());\n        const cryptoKey = importAndCache(pubCache, key, key, alg, true);\n        return cryptoKey;\n    }\n    return key;\n};\nconst normalizePrivateKey = (key, alg) => {\n    if (isKeyObject(key)) {\n        let jwk = key.export({ format: 'jwk' });\n        if (jwk.k) {\n            return exportKeyValue(jwk.k);\n        }\n        privCache || (privCache = new WeakMap());\n        return importAndCache(privCache, key, jwk, alg);\n    }\n    if (isJWK(key)) {\n        if (key.k)\n            return decode(key.k);\n        privCache || (privCache = new WeakMap());\n        const cryptoKey = importAndCache(privCache, key, key, alg, true);\n        return cryptoKey;\n    }\n    return key;\n};\nexport default { normalizePublicKey, normalizePrivateKey };\n", "import isObject from './is_object.js';\nexport function isJWK(key) {\n    return isObject(key) && typeof key.kty === 'string';\n}\nexport function isPrivateJWK(key) {\n    return key.kty !== 'oct' && typeof key.d === 'string';\n}\nexport function isPublicJWK(key) {\n    return key.kty !== 'oct' && typeof key.d === 'undefined';\n}\nexport function isSecretJWK(key) {\n    return isJWK(key) && key.kty === 'oct' && typeof key.k === 'string';\n}\n", "import crypto from './webcrypto.js';\nimport { JOSENotSupported } from '../util/errors.js';\nfunction subtleMapping(jwk) {\n    let algorithm;\n    let keyUsages;\n    switch (jwk.kty) {\n        case 'RSA': {\n            switch (jwk.alg) {\n                case 'PS256':\n                case 'PS384':\n                case 'PS512':\n                    algorithm = { name: 'RSA-PSS', hash: `SHA-${jwk.alg.slice(-3)}` };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'RS256':\n                case 'RS384':\n                case 'RS512':\n                    algorithm = { name: 'RSASSA-PKCS1-v1_5', hash: `SHA-${jwk.alg.slice(-3)}` };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'RSA-OAEP':\n                case 'RSA-OAEP-256':\n                case 'RSA-OAEP-384':\n                case 'RSA-OAEP-512':\n                    algorithm = {\n                        name: 'RSA-OAEP',\n                        hash: `SHA-${parseInt(jwk.alg.slice(-3), 10) || 1}`,\n                    };\n                    keyUsages = jwk.d ? ['decrypt', 'unwrapKey'] : ['encrypt', 'wrapKey'];\n                    break;\n                default:\n                    throw new JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n            }\n            break;\n        }\n        case 'EC': {\n            switch (jwk.alg) {\n                case 'ES256':\n                    algorithm = { name: 'ECDSA', namedCurve: 'P-256' };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'ES384':\n                    algorithm = { name: 'ECDSA', namedCurve: 'P-384' };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'ES512':\n                    algorithm = { name: 'ECDSA', namedCurve: 'P-521' };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'ECDH-ES':\n                case 'ECDH-ES+A128KW':\n                case 'ECDH-ES+A192KW':\n                case 'ECDH-ES+A256KW':\n                    algorithm = { name: 'ECDH', namedCurve: jwk.crv };\n                    keyUsages = jwk.d ? ['deriveBits'] : [];\n                    break;\n                default:\n                    throw new JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n            }\n            break;\n        }\n        case 'OKP': {\n            switch (jwk.alg) {\n                case 'Ed25519':\n                    algorithm = { name: 'Ed25519' };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'EdDSA':\n                    algorithm = { name: jwk.crv };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'ECDH-ES':\n                case 'ECDH-ES+A128KW':\n                case 'ECDH-ES+A192KW':\n                case 'ECDH-ES+A256KW':\n                    algorithm = { name: jwk.crv };\n                    keyUsages = jwk.d ? ['deriveBits'] : [];\n                    break;\n                default:\n                    throw new JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n            }\n            break;\n        }\n        default:\n            throw new JOSENotSupported('Invalid or unsupported JWK \"kty\" (Key Type) Parameter value');\n    }\n    return { algorithm, keyUsages };\n}\nconst parse = async (jwk) => {\n    if (!jwk.alg) {\n        throw new TypeError('\"alg\" argument is required when \"jwk.alg\" is not present');\n    }\n    const { algorithm, keyUsages } = subtleMapping(jwk);\n    const rest = [\n        algorithm,\n        jwk.ext ?? false,\n        jwk.key_ops ?? keyUsages,\n    ];\n    const keyData = { ...jwk };\n    delete keyData.alg;\n    delete keyData.use;\n    return crypto.subtle.importKey('jwk', keyData, ...rest);\n};\nexport default parse;\n", "import { decode as decodeBase64URL } from '../runtime/base64url.js';\nimport { fromSPKI, fromPKCS8, fromX509 } from '../runtime/asn1.js';\nimport asKeyObject from '../runtime/jwk_to_key.js';\nimport { JOSENotSupported } from '../util/errors.js';\nimport isObject from '../lib/is_object.js';\nexport async function importSPKI(spki, alg, options) {\n    if (typeof spki !== 'string' || spki.indexOf('-----BEGIN PUBLIC KEY-----') !== 0) {\n        throw new TypeError('\"spki\" must be SPKI formatted string');\n    }\n    return fromSPKI(spki, alg, options);\n}\nexport async function importX509(x509, alg, options) {\n    if (typeof x509 !== 'string' || x509.indexOf('-----BEGIN CERTIFICATE-----') !== 0) {\n        throw new TypeError('\"x509\" must be X.509 formatted string');\n    }\n    return fromX509(x509, alg, options);\n}\nexport async function importPKCS8(pkcs8, alg, options) {\n    if (typeof pkcs8 !== 'string' || pkcs8.indexOf('-----BEGIN PRIVATE KEY-----') !== 0) {\n        throw new TypeError('\"pkcs8\" must be PKCS#8 formatted string');\n    }\n    return fromPKCS8(pkcs8, alg, options);\n}\nexport async function importJWK(jwk, alg) {\n    if (!isObject(jwk)) {\n        throw new TypeError('JWK must be an object');\n    }\n    alg || (alg = jwk.alg);\n    switch (jwk.kty) {\n        case 'oct':\n            if (typeof jwk.k !== 'string' || !jwk.k) {\n                throw new TypeError('missing \"k\" (Key Value) Parameter value');\n            }\n            return decodeBase64URL(jwk.k);\n        case 'RSA':\n            if ('oth' in jwk && jwk.oth !== undefined) {\n                throw new JOSENotSupported('RSA JWK \"oth\" (Other Primes Info) Parameter value is not supported');\n            }\n        case 'EC':\n        case 'OKP':\n            return asKeyObject({ ...jwk, alg });\n        default:\n            throw new JOSENotSupported('Unsupported \"kty\" (Key Type) Parameter value');\n    }\n}\n", "import { withAlg as invalidKeyInput } from './invalid_key_input.js';\nimport isKeyLike, { types } from '../runtime/is_key_like.js';\nimport * as jwk from './is_jwk.js';\nconst tag = (key) => key?.[Symbol.toStringTag];\nconst jwkMatchesOp = (alg, key, usage) => {\n    if (key.use !== undefined && key.use !== 'sig') {\n        throw new TypeError('Invalid key for this operation, when present its use must be sig');\n    }\n    if (key.key_ops !== undefined && key.key_ops.includes?.(usage) !== true) {\n        throw new TypeError(`Invalid key for this operation, when present its key_ops must include ${usage}`);\n    }\n    if (key.alg !== undefined && key.alg !== alg) {\n        throw new TypeError(`Invalid key for this operation, when present its alg must be ${alg}`);\n    }\n    return true;\n};\nconst symmetricTypeCheck = (alg, key, usage, allowJwk) => {\n    if (key instanceof Uint8Array)\n        return;\n    if (allowJwk && jwk.isJWK(key)) {\n        if (jwk.isSecretJWK(key) && jwkMatchesOp(alg, key, usage))\n            return;\n        throw new TypeError(`JSON Web Key for symmetric algorithms must have JWK \"kty\" (Key Type) equal to \"oct\" and the JWK \"k\" (Key Value) present`);\n    }\n    if (!isKeyLike(key)) {\n        throw new TypeError(invalidKeyInput(alg, key, ...types, 'Uint8Array', allowJwk ? 'JSON Web Key' : null));\n    }\n    if (key.type !== 'secret') {\n        throw new TypeError(`${tag(key)} instances for symmetric algorithms must be of type \"secret\"`);\n    }\n};\nconst asymmetricTypeCheck = (alg, key, usage, allowJwk) => {\n    if (allowJwk && jwk.isJWK(key)) {\n        switch (usage) {\n            case 'sign':\n                if (jwk.isPrivateJWK(key) && jwkMatchesOp(alg, key, usage))\n                    return;\n                throw new TypeError(`JSON Web Key for this operation be a private JWK`);\n            case 'verify':\n                if (jwk.isPublicJWK(key) && jwkMatchesOp(alg, key, usage))\n                    return;\n                throw new TypeError(`JSON Web Key for this operation be a public JWK`);\n        }\n    }\n    if (!isKeyLike(key)) {\n        throw new TypeError(invalidKeyInput(alg, key, ...types, allowJwk ? 'JSON Web Key' : null));\n    }\n    if (key.type === 'secret') {\n        throw new TypeError(`${tag(key)} instances for asymmetric algorithms must not be of type \"secret\"`);\n    }\n    if (usage === 'sign' && key.type === 'public') {\n        throw new TypeError(`${tag(key)} instances for asymmetric algorithm signing must be of type \"private\"`);\n    }\n    if (usage === 'decrypt' && key.type === 'public') {\n        throw new TypeError(`${tag(key)} instances for asymmetric algorithm decryption must be of type \"private\"`);\n    }\n    if (key.algorithm && usage === 'verify' && key.type === 'private') {\n        throw new TypeError(`${tag(key)} instances for asymmetric algorithm verifying must be of type \"public\"`);\n    }\n    if (key.algorithm && usage === 'encrypt' && key.type === 'private') {\n        throw new TypeError(`${tag(key)} instances for asymmetric algorithm encryption must be of type \"public\"`);\n    }\n};\nfunction checkKeyType(allowJwk, alg, key, usage) {\n    const symmetric = alg.startsWith('HS') ||\n        alg === 'dir' ||\n        alg.startsWith('PBES2') ||\n        /^A\\d{3}(?:GCM)?KW$/.test(alg);\n    if (symmetric) {\n        symmetricTypeCheck(alg, key, usage, allowJwk);\n    }\n    else {\n        asymmetricTypeCheck(alg, key, usage, allowJwk);\n    }\n}\nexport default checkKeyType.bind(undefined, false);\nexport const checkKeyTypeWithJwk = checkKeyType.bind(undefined, true);\n", "import { JOSENotSupported } from '../util/errors.js';\nfunction validateCrit(Err, recognizedDefault, recognizedOption, protectedHeader, joseHeader) {\n    if (joseHeader.crit !== undefined && protectedHeader?.crit === undefined) {\n        throw new Err('\"crit\" (Critical) Header Parameter MUST be integrity protected');\n    }\n    if (!protectedHeader || protectedHeader.crit === undefined) {\n        return new Set();\n    }\n    if (!Array.isArray(protectedHeader.crit) ||\n        protectedHeader.crit.length === 0 ||\n        protectedHeader.crit.some((input) => typeof input !== 'string' || input.length === 0)) {\n        throw new Err('\"crit\" (Critical) Header Parameter MUST be an array of non-empty strings when present');\n    }\n    let recognized;\n    if (recognizedOption !== undefined) {\n        recognized = new Map([...Object.entries(recognizedOption), ...recognizedDefault.entries()]);\n    }\n    else {\n        recognized = recognizedDefault;\n    }\n    for (const parameter of protectedHeader.crit) {\n        if (!recognized.has(parameter)) {\n            throw new JOSENotSupported(`Extension Header Parameter \"${parameter}\" is not recognized`);\n        }\n        if (joseHeader[parameter] === undefined) {\n            throw new Err(`Extension Header Parameter \"${parameter}\" is missing`);\n        }\n        if (recognized.get(parameter) && protectedHeader[parameter] === undefined) {\n            throw new Err(`Extension Header Parameter \"${parameter}\" MUST be integrity protected`);\n        }\n    }\n    return new Set(protectedHeader.crit);\n}\nexport default validateCrit;\n", "const validateAlgorithms = (option, algorithms) => {\n    if (algorithms !== undefined &&\n        (!Array.isArray(algorithms) || algorithms.some((s) => typeof s !== 'string'))) {\n        throw new TypeError(`\"${option}\" option must be an array of strings`);\n    }\n    if (!algorithms) {\n        return undefined;\n    }\n    return new Set(algorithms);\n};\nexport default validateAlgorithms;\n", "import { flattenedVerify } from '../flattened/verify.js';\nimport { JWSInvalid } from '../../util/errors.js';\nimport { decoder } from '../../lib/buffer_utils.js';\nexport async function compactVerify(jws, key, options) {\n    if (jws instanceof Uint8Array) {\n        jws = decoder.decode(jws);\n    }\n    if (typeof jws !== 'string') {\n        throw new JWSInvalid('Compact JWS must be a string or Uint8Array');\n    }\n    const { 0: protectedHeader, 1: payload, 2: signature, length } = jws.split('.');\n    if (length !== 3) {\n        throw new JWSInvalid('Invalid Compact JWS');\n    }\n    const verified = await flattenedVerify({ payload, protected: protectedHeader, signature }, key, options);\n    const result = { payload: verified.payload, protectedHeader: verified.protectedHeader };\n    if (typeof key === 'function') {\n        return { ...result, key: verified.key };\n    }\n    return result;\n}\n", "import { decode as base64url } from '../../runtime/base64url.js';\nimport verify from '../../runtime/verify.js';\nimport { JOSEAlgNotAllowed, JWSInvalid, JWSSignatureVerificationFailed } from '../../util/errors.js';\nimport { concat, encoder, decoder } from '../../lib/buffer_utils.js';\nimport isDisjoint from '../../lib/is_disjoint.js';\nimport isObject from '../../lib/is_object.js';\nimport { checkKeyTypeWithJwk } from '../../lib/check_key_type.js';\nimport validateCrit from '../../lib/validate_crit.js';\nimport validateAlgorithms from '../../lib/validate_algorithms.js';\nimport { isJWK } from '../../lib/is_jwk.js';\nimport { importJWK } from '../../key/import.js';\nexport async function flattenedVerify(jws, key, options) {\n    if (!isObject(jws)) {\n        throw new JWSInvalid('Flattened JWS must be an object');\n    }\n    if (jws.protected === undefined && jws.header === undefined) {\n        throw new JWSInvalid('Flattened JWS must have either of the \"protected\" or \"header\" members');\n    }\n    if (jws.protected !== undefined && typeof jws.protected !== 'string') {\n        throw new JWSInvalid('JWS Protected Header incorrect type');\n    }\n    if (jws.payload === undefined) {\n        throw new JWSInvalid('JWS Payload missing');\n    }\n    if (typeof jws.signature !== 'string') {\n        throw new JWSInvalid('JWS Signature missing or incorrect type');\n    }\n    if (jws.header !== undefined && !isObject(jws.header)) {\n        throw new JWSInvalid('JWS Unprotected Header incorrect type');\n    }\n    let parsedProt = {};\n    if (jws.protected) {\n        try {\n            const protectedHeader = base64url(jws.protected);\n            parsedProt = JSON.parse(decoder.decode(protectedHeader));\n        }\n        catch {\n            throw new JWSInvalid('JWS Protected Header is invalid');\n        }\n    }\n    if (!isDisjoint(parsedProt, jws.header)) {\n        throw new JWSInvalid('JWS Protected and JWS Unprotected Header Parameter names must be disjoint');\n    }\n    const joseHeader = {\n        ...parsedProt,\n        ...jws.header,\n    };\n    const extensions = validateCrit(JWSInvalid, new Map([['b64', true]]), options?.crit, parsedProt, joseHeader);\n    let b64 = true;\n    if (extensions.has('b64')) {\n        b64 = parsedProt.b64;\n        if (typeof b64 !== 'boolean') {\n            throw new JWSInvalid('The \"b64\" (base64url-encode payload) Header Parameter must be a boolean');\n        }\n    }\n    const { alg } = joseHeader;\n    if (typeof alg !== 'string' || !alg) {\n        throw new JWSInvalid('JWS \"alg\" (Algorithm) Header Parameter missing or invalid');\n    }\n    const algorithms = options && validateAlgorithms('algorithms', options.algorithms);\n    if (algorithms && !algorithms.has(alg)) {\n        throw new JOSEAlgNotAllowed('\"alg\" (Algorithm) Header Parameter value not allowed');\n    }\n    if (b64) {\n        if (typeof jws.payload !== 'string') {\n            throw new JWSInvalid('JWS Payload must be a string');\n        }\n    }\n    else if (typeof jws.payload !== 'string' && !(jws.payload instanceof Uint8Array)) {\n        throw new JWSInvalid('JWS Payload must be a string or an Uint8Array instance');\n    }\n    let resolvedKey = false;\n    if (typeof key === 'function') {\n        key = await key(parsedProt, jws);\n        resolvedKey = true;\n        checkKeyTypeWithJwk(alg, key, 'verify');\n        if (isJWK(key)) {\n            key = await importJWK(key, alg);\n        }\n    }\n    else {\n        checkKeyTypeWithJwk(alg, key, 'verify');\n    }\n    const data = concat(encoder.encode(jws.protected ?? ''), encoder.encode('.'), typeof jws.payload === 'string' ? encoder.encode(jws.payload) : jws.payload);\n    let signature;\n    try {\n        signature = base64url(jws.signature);\n    }\n    catch {\n        throw new JWSInvalid('Failed to base64url decode the signature');\n    }\n    const verified = await verify(alg, key, signature, data);\n    if (!verified) {\n        throw new JWSSignatureVerificationFailed();\n    }\n    let payload;\n    if (b64) {\n        try {\n            payload = base64url(jws.payload);\n        }\n        catch {\n            throw new JWSInvalid('Failed to base64url decode the payload');\n        }\n    }\n    else if (typeof jws.payload === 'string') {\n        payload = encoder.encode(jws.payload);\n    }\n    else {\n        payload = jws.payload;\n    }\n    const result = { payload };\n    if (jws.protected !== undefined) {\n        result.protectedHeader = parsedProt;\n    }\n    if (jws.header !== undefined) {\n        result.unprotectedHeader = jws.header;\n    }\n    if (resolvedKey) {\n        return { ...result, key };\n    }\n    return result;\n}\n", "import subtleAlgorithm from './subtle_dsa.js';\nimport crypto from './webcrypto.js';\nimport checkKeyLength from './check_key_length.js';\nimport getVerifyKey from './get_sign_verify_key.js';\nconst verify = async (alg, key, signature, data) => {\n    const cryptoKey = await getVerifyKey(alg, key, 'verify');\n    checkKeyLength(alg, cryptoKey);\n    const algorithm = subtleAlgorithm(alg, cryptoKey.algorithm);\n    try {\n        return await crypto.subtle.verify(algorithm, cryptoKey, signature, data);\n    }\n    catch {\n        return false;\n    }\n};\nexport default verify;\n", "import { JOSENotSupported } from '../util/errors.js';\nexport default function subtleDsa(alg, algorithm) {\n    const hash = `SHA-${alg.slice(-3)}`;\n    switch (alg) {\n        case 'HS256':\n        case 'HS384':\n        case 'HS512':\n            return { hash, name: 'HMAC' };\n        case 'PS256':\n        case 'PS384':\n        case 'PS512':\n            return { hash, name: 'RSA-PSS', saltLength: alg.slice(-3) >> 3 };\n        case 'RS256':\n        case 'RS384':\n        case 'RS512':\n            return { hash, name: 'RSASSA-PKCS1-v1_5' };\n        case 'ES256':\n        case 'ES384':\n        case 'ES512':\n            return { hash, name: 'ECDSA', namedCurve: algorithm.namedCurve };\n        case 'Ed25519':\n            return { name: 'Ed25519' };\n        case 'EdDSA':\n            return { name: algorithm.name };\n        default:\n            throw new JOSENotSupported(`alg ${alg} is not supported either by JOSE or your javascript runtime`);\n    }\n}\n", "import crypto, { isCryptoKey } from './webcrypto.js';\nimport { checkSigCryptoKey } from '../lib/crypto_key.js';\nimport invalidKeyInput from '../lib/invalid_key_input.js';\nimport { types } from './is_key_like.js';\nimport normalize from './normalize_key.js';\nexport default async function getCryptoKey(alg, key, usage) {\n    if (usage === 'sign') {\n        key = await normalize.normalizePrivateKey(key, alg);\n    }\n    if (usage === 'verify') {\n        key = await normalize.normalizePublicKey(key, alg);\n    }\n    if (isCryptoKey(key)) {\n        checkSigCryptoKey(key, alg, usage);\n        return key;\n    }\n    if (key instanceof Uint8Array) {\n        if (!alg.startsWith('HS')) {\n            throw new TypeError(invalidKeyInput(key, ...types));\n        }\n        return crypto.subtle.importKey('raw', key, { hash: `SHA-${alg.slice(-3)}`, name: 'HMAC' }, false, [usage]);\n    }\n    throw new TypeError(invalidKeyInput(key, ...types, 'Uint8Array', 'JSON Web Key'));\n}\n", "import { compactVerify } from '../jws/compact/verify.js';\nimport jwtPayload from '../lib/jwt_claims_set.js';\nimport { JWTInvalid } from '../util/errors.js';\nexport async function jwtVerify(jwt, key, options) {\n    const verified = await compactVerify(jwt, key, options);\n    if (verified.protectedHeader.crit?.includes('b64') && verified.protectedHeader.b64 === false) {\n        throw new JWTInvalid('JWTs MUST NOT use unencoded payload');\n    }\n    const payload = jwtPayload(verified.protectedHeader, verified.payload, options);\n    const result = { payload, protectedHeader: verified.protectedHeader };\n    if (typeof key === 'function') {\n        return { ...result, key: verified.key };\n    }\n    return result;\n}\n", "import { JWTClaimValidationFailed, JWTExpired, JWTInvalid } from '../util/errors.js';\nimport { decoder } from './buffer_utils.js';\nimport epoch from './epoch.js';\nimport secs from './secs.js';\nimport isObject from './is_object.js';\nconst normalizeTyp = (value) => value.toLowerCase().replace(/^application\\//, '');\nconst checkAudiencePresence = (audPayload, audOption) => {\n    if (typeof audPayload === 'string') {\n        return audOption.includes(audPayload);\n    }\n    if (Array.isArray(audPayload)) {\n        return audOption.some(Set.prototype.has.bind(new Set(audPayload)));\n    }\n    return false;\n};\nexport default (protectedHeader, encodedPayload, options = {}) => {\n    let payload;\n    try {\n        payload = JSON.parse(decoder.decode(encodedPayload));\n    }\n    catch {\n    }\n    if (!isObject(payload)) {\n        throw new JWTInvalid('JWT Claims Set must be a top-level JSON object');\n    }\n    const { typ } = options;\n    if (typ &&\n        (typeof protectedHeader.typ !== 'string' ||\n            normalizeTyp(protectedHeader.typ) !== normalizeTyp(typ))) {\n        throw new JWTClaimValidationFailed('unexpected \"typ\" JWT header value', payload, 'typ', 'check_failed');\n    }\n    const { requiredClaims = [], issuer, subject, audience, maxTokenAge } = options;\n    const presenceCheck = [...requiredClaims];\n    if (maxTokenAge !== undefined)\n        presenceCheck.push('iat');\n    if (audience !== undefined)\n        presenceCheck.push('aud');\n    if (subject !== undefined)\n        presenceCheck.push('sub');\n    if (issuer !== undefined)\n        presenceCheck.push('iss');\n    for (const claim of new Set(presenceCheck.reverse())) {\n        if (!(claim in payload)) {\n            throw new JWTClaimValidationFailed(`missing required \"${claim}\" claim`, payload, claim, 'missing');\n        }\n    }\n    if (issuer &&\n        !(Array.isArray(issuer) ? issuer : [issuer]).includes(payload.iss)) {\n        throw new JWTClaimValidationFailed('unexpected \"iss\" claim value', payload, 'iss', 'check_failed');\n    }\n    if (subject && payload.sub !== subject) {\n        throw new JWTClaimValidationFailed('unexpected \"sub\" claim value', payload, 'sub', 'check_failed');\n    }\n    if (audience &&\n        !checkAudiencePresence(payload.aud, typeof audience === 'string' ? [audience] : audience)) {\n        throw new JWTClaimValidationFailed('unexpected \"aud\" claim value', payload, 'aud', 'check_failed');\n    }\n    let tolerance;\n    switch (typeof options.clockTolerance) {\n        case 'string':\n            tolerance = secs(options.clockTolerance);\n            break;\n        case 'number':\n            tolerance = options.clockTolerance;\n            break;\n        case 'undefined':\n            tolerance = 0;\n            break;\n        default:\n            throw new TypeError('Invalid clockTolerance option type');\n    }\n    const { currentDate } = options;\n    const now = epoch(currentDate || new Date());\n    if ((payload.iat !== undefined || maxTokenAge) && typeof payload.iat !== 'number') {\n        throw new JWTClaimValidationFailed('\"iat\" claim must be a number', payload, 'iat', 'invalid');\n    }\n    if (payload.nbf !== undefined) {\n        if (typeof payload.nbf !== 'number') {\n            throw new JWTClaimValidationFailed('\"nbf\" claim must be a number', payload, 'nbf', 'invalid');\n        }\n        if (payload.nbf > now + tolerance) {\n            throw new JWTClaimValidationFailed('\"nbf\" claim timestamp check failed', payload, 'nbf', 'check_failed');\n        }\n    }\n    if (payload.exp !== undefined) {\n        if (typeof payload.exp !== 'number') {\n            throw new JWTClaimValidationFailed('\"exp\" claim must be a number', payload, 'exp', 'invalid');\n        }\n        if (payload.exp <= now - tolerance) {\n            throw new JWTExpired('\"exp\" claim timestamp check failed', payload, 'exp', 'check_failed');\n        }\n    }\n    if (maxTokenAge) {\n        const age = now - payload.iat;\n        const max = typeof maxTokenAge === 'number' ? maxTokenAge : secs(maxTokenAge);\n        if (age - tolerance > max) {\n            throw new JWTExpired('\"iat\" claim timestamp check failed (too far in the past)', payload, 'iat', 'check_failed');\n        }\n        if (age < 0 - tolerance) {\n            throw new JWTClaimValidationFailed('\"iat\" claim timestamp check failed (it should be in the past)', payload, 'iat', 'check_failed');\n        }\n    }\n    return payload;\n};\n", "export default (date) => Math.floor(date.getTime() / 1000);\n", "const minute = 60;\nconst hour = minute * 60;\nconst day = hour * 24;\nconst week = day * 7;\nconst year = day * 365.25;\nconst REGEX = /^(\\+|\\-)? ?(\\d+|\\d+\\.\\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i;\nexport default (str) => {\n    const matched = REGEX.exec(str);\n    if (!matched || (matched[4] && matched[1])) {\n        throw new TypeError('Invalid time period format');\n    }\n    const value = parseFloat(matched[2]);\n    const unit = matched[3].toLowerCase();\n    let numericDate;\n    switch (unit) {\n        case 'sec':\n        case 'secs':\n        case 'second':\n        case 'seconds':\n        case 's':\n            numericDate = Math.round(value);\n            break;\n        case 'minute':\n        case 'minutes':\n        case 'min':\n        case 'mins':\n        case 'm':\n            numericDate = Math.round(value * minute);\n            break;\n        case 'hour':\n        case 'hours':\n        case 'hr':\n        case 'hrs':\n        case 'h':\n            numericDate = Math.round(value * hour);\n            break;\n        case 'day':\n        case 'days':\n        case 'd':\n            numericDate = Math.round(value * day);\n            break;\n        case 'week':\n        case 'weeks':\n        case 'w':\n            numericDate = Math.round(value * week);\n            break;\n        default:\n            numericDate = Math.round(value * year);\n            break;\n    }\n    if (matched[1] === '-' || matched[4] === 'ago') {\n        return -numericDate;\n    }\n    return numericDate;\n};\n", "import { FlattenedSign } from '../flattened/sign.js';\nexport class CompactSign {\n    constructor(payload) {\n        this._flattened = new FlattenedSign(payload);\n    }\n    setProtectedHeader(protectedHeader) {\n        this._flattened.setProtectedHeader(protectedHeader);\n        return this;\n    }\n    async sign(key, options) {\n        const jws = await this._flattened.sign(key, options);\n        if (jws.payload === undefined) {\n            throw new TypeError('use the flattened module for creating JWS with b64: false');\n        }\n        return `${jws.protected}.${jws.payload}.${jws.signature}`;\n    }\n}\n", "import { encode as base64url } from '../../runtime/base64url.js';\nimport sign from '../../runtime/sign.js';\nimport isDisjoint from '../../lib/is_disjoint.js';\nimport { JWSInvalid } from '../../util/errors.js';\nimport { encoder, decoder, concat } from '../../lib/buffer_utils.js';\nimport { checkKeyTypeWithJwk } from '../../lib/check_key_type.js';\nimport validateCrit from '../../lib/validate_crit.js';\nexport class FlattenedSign {\n    constructor(payload) {\n        if (!(payload instanceof Uint8Array)) {\n            throw new TypeError('payload must be an instance of Uint8Array');\n        }\n        this._payload = payload;\n    }\n    setProtectedHeader(protectedHeader) {\n        if (this._protectedHeader) {\n            throw new TypeError('setProtectedHeader can only be called once');\n        }\n        this._protectedHeader = protectedHeader;\n        return this;\n    }\n    setUnprotectedHeader(unprotectedHeader) {\n        if (this._unprotectedHeader) {\n            throw new TypeError('setUnprotectedHeader can only be called once');\n        }\n        this._unprotectedHeader = unprotectedHeader;\n        return this;\n    }\n    async sign(key, options) {\n        if (!this._protectedHeader && !this._unprotectedHeader) {\n            throw new JWSInvalid('either setProtectedHeader or setUnprotectedHeader must be called before #sign()');\n        }\n        if (!isDisjoint(this._protectedHeader, this._unprotectedHeader)) {\n            throw new JWSInvalid('JWS Protected and JWS Unprotected Header Parameter names must be disjoint');\n        }\n        const joseHeader = {\n            ...this._protectedHeader,\n            ...this._unprotectedHeader,\n        };\n        const extensions = validateCrit(JWSInvalid, new Map([['b64', true]]), options?.crit, this._protectedHeader, joseHeader);\n        let b64 = true;\n        if (extensions.has('b64')) {\n            b64 = this._protectedHeader.b64;\n            if (typeof b64 !== 'boolean') {\n                throw new JWSInvalid('The \"b64\" (base64url-encode payload) Header Parameter must be a boolean');\n            }\n        }\n        const { alg } = joseHeader;\n        if (typeof alg !== 'string' || !alg) {\n            throw new JWSInvalid('JWS \"alg\" (Algorithm) Header Parameter missing or invalid');\n        }\n        checkKeyTypeWithJwk(alg, key, 'sign');\n        let payload = this._payload;\n        if (b64) {\n            payload = encoder.encode(base64url(payload));\n        }\n        let protectedHeader;\n        if (this._protectedHeader) {\n            protectedHeader = encoder.encode(base64url(JSON.stringify(this._protectedHeader)));\n        }\n        else {\n            protectedHeader = encoder.encode('');\n        }\n        const data = concat(protectedHeader, encoder.encode('.'), payload);\n        const signature = await sign(alg, key, data);\n        const jws = {\n            signature: base64url(signature),\n            payload: '',\n        };\n        if (b64) {\n            jws.payload = decoder.decode(payload);\n        }\n        if (this._unprotectedHeader) {\n            jws.header = this._unprotectedHeader;\n        }\n        if (this._protectedHeader) {\n            jws.protected = decoder.decode(protectedHeader);\n        }\n        return jws;\n    }\n}\n", "import subtleAlgorithm from './subtle_dsa.js';\nimport crypto from './webcrypto.js';\nimport checkKeyLength from './check_key_length.js';\nimport getSignKey from './get_sign_verify_key.js';\nconst sign = async (alg, key, data) => {\n    const cryptoKey = await getSignKey(alg, key, 'sign');\n    checkKeyLength(alg, cryptoKey);\n    const signature = await crypto.subtle.sign(subtleAlgorithm(alg, cryptoKey.algorithm), cryptoKey, data);\n    return new Uint8Array(signature);\n};\nexport default sign;\n", "import { CompactSign } from '../jws/compact/sign.js';\nimport { JWTInvalid } from '../util/errors.js';\nimport { encoder } from '../lib/buffer_utils.js';\nimport { ProduceJWT } from './produce.js';\nexport class SignJWT extends ProduceJWT {\n    setProtectedHeader(protectedHeader) {\n        this._protectedHeader = protectedHeader;\n        return this;\n    }\n    async sign(key, options) {\n        const sig = new CompactSign(encoder.encode(JSON.stringify(this._payload)));\n        sig.setProtectedHeader(this._protectedHeader);\n        if (Array.isArray(this._protectedHeader?.crit) &&\n            this._protectedHeader.crit.includes('b64') &&\n            this._protectedHeader.b64 === false) {\n            throw new JWTInvalid('JWTs MUST NOT use unencoded payload');\n        }\n        return sig.sign(key, options);\n    }\n}\n", "import epoch from '../lib/epoch.js';\nimport isObject from '../lib/is_object.js';\nimport secs from '../lib/secs.js';\nfunction validateInput(label, input) {\n    if (!Number.isFinite(input)) {\n        throw new TypeError(`Invalid ${label} input`);\n    }\n    return input;\n}\nexport class ProduceJWT {\n    constructor(payload = {}) {\n        if (!isObject(payload)) {\n            throw new TypeError('JWT Claims Set MUST be an object');\n        }\n        this._payload = payload;\n    }\n    setIssuer(issuer) {\n        this._payload = { ...this._payload, iss: issuer };\n        return this;\n    }\n    setSubject(subject) {\n        this._payload = { ...this._payload, sub: subject };\n        return this;\n    }\n    setAudience(audience) {\n        this._payload = { ...this._payload, aud: audience };\n        return this;\n    }\n    setJti(jwtId) {\n        this._payload = { ...this._payload, jti: jwtId };\n        return this;\n    }\n    setNotBefore(input) {\n        if (typeof input === 'number') {\n            this._payload = { ...this._payload, nbf: validateInput('setNotBefore', input) };\n        }\n        else if (input instanceof Date) {\n            this._payload = { ...this._payload, nbf: validateInput('setNotBefore', epoch(input)) };\n        }\n        else {\n            this._payload = { ...this._payload, nbf: epoch(new Date()) + secs(input) };\n        }\n        return this;\n    }\n    setExpirationTime(input) {\n        if (typeof input === 'number') {\n            this._payload = { ...this._payload, exp: validateInput('setExpirationTime', input) };\n        }\n        else if (input instanceof Date) {\n            this._payload = { ...this._payload, exp: validateInput('setExpirationTime', epoch(input)) };\n        }\n        else {\n            this._payload = { ...this._payload, exp: epoch(new Date()) + secs(input) };\n        }\n        return this;\n    }\n    setIssuedAt(input) {\n        if (typeof input === 'undefined') {\n            this._payload = { ...this._payload, iat: epoch(new Date()) };\n        }\n        else if (input instanceof Date) {\n            this._payload = { ...this._payload, iat: validateInput('setIssuedAt', epoch(input)) };\n        }\n        else if (typeof input === 'string') {\n            this._payload = {\n                ...this._payload,\n                iat: validateInput('setIssuedAt', epoch(new Date()) + secs(input)),\n            };\n        }\n        else {\n            this._payload = { ...this._payload, iat: validateInput('setIssuedAt', input) };\n        }\n        return this;\n    }\n}\n", "import { importJWK } from '../key/import.js';\nimport { JWKSInvalid, JOSENotSupported, JWKSNoMatchingKey, JWKSMultipleMatchingKeys, } from '../util/errors.js';\nimport isObject from '../lib/is_object.js';\nfunction getKtyFromAlg(alg) {\n    switch (typeof alg === 'string' && alg.slice(0, 2)) {\n        case 'RS':\n        case 'PS':\n            return 'RSA';\n        case 'ES':\n            return 'EC';\n        case 'Ed':\n            return 'OKP';\n        default:\n            throw new JOSENotSupported('Unsupported \"alg\" value for a JSON Web Key Set');\n    }\n}\nfunction isJWKSLike(jwks) {\n    return (jwks &&\n        typeof jwks === 'object' &&\n        Array.isArray(jwks.keys) &&\n        jwks.keys.every(isJWKLike));\n}\nfunction isJWKLike(key) {\n    return isObject(key);\n}\nfunction clone(obj) {\n    if (typeof structuredClone === 'function') {\n        return structuredClone(obj);\n    }\n    return JSON.parse(JSON.stringify(obj));\n}\nclass LocalJWKSet {\n    constructor(jwks) {\n        this._cached = new WeakMap();\n        if (!isJWKSLike(jwks)) {\n            throw new JWKSInvalid('JSON Web Key Set malformed');\n        }\n        this._jwks = clone(jwks);\n    }\n    async getKey(protectedHeader, token) {\n        const { alg, kid } = { ...protectedHeader, ...token?.header };\n        const kty = getKtyFromAlg(alg);\n        const candidates = this._jwks.keys.filter((jwk) => {\n            let candidate = kty === jwk.kty;\n            if (candidate && typeof kid === 'string') {\n                candidate = kid === jwk.kid;\n            }\n            if (candidate && typeof jwk.alg === 'string') {\n                candidate = alg === jwk.alg;\n            }\n            if (candidate && typeof jwk.use === 'string') {\n                candidate = jwk.use === 'sig';\n            }\n            if (candidate && Array.isArray(jwk.key_ops)) {\n                candidate = jwk.key_ops.includes('verify');\n            }\n            if (candidate) {\n                switch (alg) {\n                    case 'ES256':\n                        candidate = jwk.crv === 'P-256';\n                        break;\n                    case 'ES256K':\n                        candidate = jwk.crv === 'secp256k1';\n                        break;\n                    case 'ES384':\n                        candidate = jwk.crv === 'P-384';\n                        break;\n                    case 'ES512':\n                        candidate = jwk.crv === 'P-521';\n                        break;\n                    case 'Ed25519':\n                        candidate = jwk.crv === 'Ed25519';\n                        break;\n                    case 'EdDSA':\n                        candidate = jwk.crv === 'Ed25519' || jwk.crv === 'Ed448';\n                        break;\n                }\n            }\n            return candidate;\n        });\n        const { 0: jwk, length } = candidates;\n        if (length === 0) {\n            throw new JWKSNoMatchingKey();\n        }\n        if (length !== 1) {\n            const error = new JWKSMultipleMatchingKeys();\n            const { _cached } = this;\n            error[Symbol.asyncIterator] = async function* () {\n                for (const jwk of candidates) {\n                    try {\n                        yield await importWithAlgCache(_cached, jwk, alg);\n                    }\n                    catch { }\n                }\n            };\n            throw error;\n        }\n        return importWithAlgCache(this._cached, jwk, alg);\n    }\n}\nasync function importWithAlgCache(cache, jwk, alg) {\n    const cached = cache.get(jwk) || cache.set(jwk, {}).get(jwk);\n    if (cached[alg] === undefined) {\n        const key = await importJWK({ ...jwk, ext: true }, alg);\n        if (key instanceof Uint8Array || key.type !== 'public') {\n            throw new JWKSInvalid('JSON Web Key Set members must be public keys');\n        }\n        cached[alg] = key;\n    }\n    return cached[alg];\n}\nexport function createLocalJWKSet(jwks) {\n    const set = new LocalJWKSet(jwks);\n    const localJWKSet = async (protectedHeader, token) => set.getKey(protectedHeader, token);\n    Object.defineProperties(localJWKSet, {\n        jwks: {\n            value: () => clone(set._jwks),\n            enumerable: true,\n            configurable: false,\n            writable: false,\n        },\n    });\n    return localJWKSet;\n}\n", "import fetchJwks from '../runtime/fetch_jwks.js';\nimport { JWKSNoMatchingKey } from '../util/errors.js';\nimport { createLocalJWKSet } from './local.js';\nimport isObject from '../lib/is_object.js';\nfunction isCloudflareWorkers() {\n    return (typeof WebSocketPair !== 'undefined' ||\n        (typeof navigator !== 'undefined' && navigator.userAgent === 'Cloudflare-Workers') ||\n        (typeof EdgeRuntime !== 'undefined' && EdgeRuntime === 'vercel'));\n}\nlet USER_AGENT;\nif (typeof navigator === 'undefined' || !navigator.userAgent?.startsWith?.('Mozilla/5.0 ')) {\n    const NAME = 'jose';\n    const VERSION = 'v5.10.0';\n    USER_AGENT = `${NAME}/${VERSION}`;\n}\nexport const jwksCache = Symbol();\nfunction isFreshJwksCache(input, cacheMaxAge) {\n    if (typeof input !== 'object' || input === null) {\n        return false;\n    }\n    if (!('uat' in input) || typeof input.uat !== 'number' || Date.now() - input.uat >= cacheMaxAge) {\n        return false;\n    }\n    if (!('jwks' in input) ||\n        !isObject(input.jwks) ||\n        !Array.isArray(input.jwks.keys) ||\n        !Array.prototype.every.call(input.jwks.keys, isObject)) {\n        return false;\n    }\n    return true;\n}\nclass RemoteJWKSet {\n    constructor(url, options) {\n        if (!(url instanceof URL)) {\n            throw new TypeError('url must be an instance of URL');\n        }\n        this._url = new URL(url.href);\n        this._options = { agent: options?.agent, headers: options?.headers };\n        this._timeoutDuration =\n            typeof options?.timeoutDuration === 'number' ? options?.timeoutDuration : 5000;\n        this._cooldownDuration =\n            typeof options?.cooldownDuration === 'number' ? options?.cooldownDuration : 30000;\n        this._cacheMaxAge = typeof options?.cacheMaxAge === 'number' ? options?.cacheMaxAge : 600000;\n        if (options?.[jwksCache] !== undefined) {\n            this._cache = options?.[jwksCache];\n            if (isFreshJwksCache(options?.[jwksCache], this._cacheMaxAge)) {\n                this._jwksTimestamp = this._cache.uat;\n                this._local = createLocalJWKSet(this._cache.jwks);\n            }\n        }\n    }\n    coolingDown() {\n        return typeof this._jwksTimestamp === 'number'\n            ? Date.now() < this._jwksTimestamp + this._cooldownDuration\n            : false;\n    }\n    fresh() {\n        return typeof this._jwksTimestamp === 'number'\n            ? Date.now() < this._jwksTimestamp + this._cacheMaxAge\n            : false;\n    }\n    async getKey(protectedHeader, token) {\n        if (!this._local || !this.fresh()) {\n            await this.reload();\n        }\n        try {\n            return await this._local(protectedHeader, token);\n        }\n        catch (err) {\n            if (err instanceof JWKSNoMatchingKey) {\n                if (this.coolingDown() === false) {\n                    await this.reload();\n                    return this._local(protectedHeader, token);\n                }\n            }\n            throw err;\n        }\n    }\n    async reload() {\n        if (this._pendingFetch && isCloudflareWorkers()) {\n            this._pendingFetch = undefined;\n        }\n        const headers = new Headers(this._options.headers);\n        if (USER_AGENT && !headers.has('User-Agent')) {\n            headers.set('User-Agent', USER_AGENT);\n            this._options.headers = Object.fromEntries(headers.entries());\n        }\n        this._pendingFetch || (this._pendingFetch = fetchJwks(this._url, this._timeoutDuration, this._options)\n            .then((json) => {\n            this._local = createLocalJWKSet(json);\n            if (this._cache) {\n                this._cache.uat = Date.now();\n                this._cache.jwks = json;\n            }\n            this._jwksTimestamp = Date.now();\n            this._pendingFetch = undefined;\n        })\n            .catch((err) => {\n            this._pendingFetch = undefined;\n            throw err;\n        }));\n        await this._pendingFetch;\n    }\n}\nexport function createRemoteJWKSet(url, options) {\n    const set = new RemoteJWKSet(url, options);\n    const remoteJWKSet = async (protectedHeader, token) => set.getKey(protectedHeader, token);\n    Object.defineProperties(remoteJWKSet, {\n        coolingDown: {\n            get: () => set.coolingDown(),\n            enumerable: true,\n            configurable: false,\n        },\n        fresh: {\n            get: () => set.fresh(),\n            enumerable: true,\n            configurable: false,\n        },\n        reload: {\n            value: () => set.reload(),\n            enumerable: true,\n            configurable: false,\n            writable: false,\n        },\n        reloading: {\n            get: () => !!set._pendingFetch,\n            enumerable: true,\n            configurable: false,\n        },\n        jwks: {\n            value: () => set._local?.jwks(),\n            enumerable: true,\n            configurable: false,\n            writable: false,\n        },\n    });\n    return remoteJWKSet;\n}\nexport const experimental_jwksCache = jwksCache;\n", "import { JOSEError, JWKSTimeout } from '../util/errors.js';\nconst fetchJwks = async (url, timeout, options) => {\n    let controller;\n    let id;\n    let timedOut = false;\n    if (typeof AbortController === 'function') {\n        controller = new AbortController();\n        id = setTimeout(() => {\n            timedOut = true;\n            controller.abort();\n        }, timeout);\n    }\n    const response = await fetch(url.href, {\n        signal: controller ? controller.signal : undefined,\n        redirect: 'manual',\n        headers: options.headers,\n    }).catch((err) => {\n        if (timedOut)\n            throw new JWKSTimeout();\n        throw err;\n    });\n    if (id !== undefined)\n        clearTimeout(id);\n    if (response.status !== 200) {\n        throw new JOSEError('Expected 200 OK from the JSON Web Key Set HTTP response');\n    }\n    try {\n        return await response.json();\n    }\n    catch {\n        throw new JOSEError('Failed to parse the JSON Web Key Set HTTP response as JSON');\n    }\n};\nexport default fetchJwks;\n", "import { decode as base64url } from './base64url.js';\nimport { decoder } from '../lib/buffer_utils.js';\nimport isObject from '../lib/is_object.js';\nexport function decodeProtectedHeader(token) {\n    let protectedB64u;\n    if (typeof token === 'string') {\n        const parts = token.split('.');\n        if (parts.length === 3 || parts.length === 5) {\n            ;\n            [protectedB64u] = parts;\n        }\n    }\n    else if (typeof token === 'object' && token) {\n        if ('protected' in token) {\n            protectedB64u = token.protected;\n        }\n        else {\n            throw new TypeError('Token does not contain a Protected Header');\n        }\n    }\n    try {\n        if (typeof protectedB64u !== 'string' || !protectedB64u) {\n            throw new Error();\n        }\n        const result = JSON.parse(decoder.decode(base64url(protectedB64u)));\n        if (!isObject(result)) {\n            throw new Error();\n        }\n        return result;\n    }\n    catch {\n        throw new TypeError('Invalid Token or Protected Header formatting');\n    }\n}\n", "import * as base64url from '../runtime/base64url.js';\nexport const encode = base64url.encode;\nexport const decode = base64url.decode;\n", "import { decode as base64url } from './base64url.js';\nimport { decoder } from '../lib/buffer_utils.js';\nimport isObject from '../lib/is_object.js';\nimport { JWTInvalid } from './errors.js';\nexport function decodeJwt(jwt) {\n    if (typeof jwt !== 'string')\n        throw new JWTInvalid('JWTs must use Compact JWS serialization, JWT must be a string');\n    const { 1: payload, length } = jwt.split('.');\n    if (length === 5)\n        throw new JWTInvalid('Only JWTs using Compact JWS serialization can be decoded');\n    if (length !== 3)\n        throw new JWTInvalid('Invalid JWT');\n    if (!payload)\n        throw new JWTInvalid('JWTs must contain a payload');\n    let decoded;\n    try {\n        decoded = base64url(payload);\n    }\n    catch {\n        throw new JWTInvalid('Failed to base64url decode the payload');\n    }\n    let result;\n    try {\n        result = JSON.parse(decoder.decode(decoded));\n    }\n    catch {\n        throw new JWTInvalid('Failed to parse the decoded payload as JSON');\n    }\n    if (!isObject(result))\n        throw new JWTInvalid('Invalid JWT Claims Set');\n    return result;\n}\n", "/**\n * RFC 7914 Scrypt KDF. Can be used to create a key from password and salt.\n * @module\n */\nimport { pbkdf2 } from './pbkdf2.ts';\nimport { sha256 } from './sha2.ts';\n// prettier-ignore\nimport {\n  anumber, asyncLoop,\n  checkOpts, clean,\n  type KDFInput, rotl,\n  swap32IfBE,\n  u32\n} from './utils.ts';\n\n// The main Scrypt loop: uses Salsa extensively.\n// Six versions of the function were tried, this is the fastest one.\n// prettier-ignore\nfunction XorAndSalsa(\n  prev: Uint32Array,\n  pi: number,\n  input: Uint32Array,\n  ii: number,\n  out: Uint32Array,\n  oi: number\n) {\n  // Based on https://cr.yp.to/salsa20.html\n  // Xor blocks\n  let y00 = prev[pi++] ^ input[ii++], y01 = prev[pi++] ^ input[ii++];\n  let y02 = prev[pi++] ^ input[ii++], y03 = prev[pi++] ^ input[ii++];\n  let y04 = prev[pi++] ^ input[ii++], y05 = prev[pi++] ^ input[ii++];\n  let y06 = prev[pi++] ^ input[ii++], y07 = prev[pi++] ^ input[ii++];\n  let y08 = prev[pi++] ^ input[ii++], y09 = prev[pi++] ^ input[ii++];\n  let y10 = prev[pi++] ^ input[ii++], y11 = prev[pi++] ^ input[ii++];\n  let y12 = prev[pi++] ^ input[ii++], y13 = prev[pi++] ^ input[ii++];\n  let y14 = prev[pi++] ^ input[ii++], y15 = prev[pi++] ^ input[ii++];\n  // Save state to temporary variables (salsa)\n  let x00 = y00, x01 = y01, x02 = y02, x03 = y03,\n      x04 = y04, x05 = y05, x06 = y06, x07 = y07,\n      x08 = y08, x09 = y09, x10 = y10, x11 = y11,\n      x12 = y12, x13 = y13, x14 = y14, x15 = y15;\n  // Main loop (salsa)\n  for (let i = 0; i < 8; i += 2) {\n    x04 ^= rotl(x00 + x12 | 0,  7); x08 ^= rotl(x04 + x00 | 0,  9);\n    x12 ^= rotl(x08 + x04 | 0, 13); x00 ^= rotl(x12 + x08 | 0, 18);\n    x09 ^= rotl(x05 + x01 | 0,  7); x13 ^= rotl(x09 + x05 | 0,  9);\n    x01 ^= rotl(x13 + x09 | 0, 13); x05 ^= rotl(x01 + x13 | 0, 18);\n    x14 ^= rotl(x10 + x06 | 0,  7); x02 ^= rotl(x14 + x10 | 0,  9);\n    x06 ^= rotl(x02 + x14 | 0, 13); x10 ^= rotl(x06 + x02 | 0, 18);\n    x03 ^= rotl(x15 + x11 | 0,  7); x07 ^= rotl(x03 + x15 | 0,  9);\n    x11 ^= rotl(x07 + x03 | 0, 13); x15 ^= rotl(x11 + x07 | 0, 18);\n    x01 ^= rotl(x00 + x03 | 0,  7); x02 ^= rotl(x01 + x00 | 0,  9);\n    x03 ^= rotl(x02 + x01 | 0, 13); x00 ^= rotl(x03 + x02 | 0, 18);\n    x06 ^= rotl(x05 + x04 | 0,  7); x07 ^= rotl(x06 + x05 | 0,  9);\n    x04 ^= rotl(x07 + x06 | 0, 13); x05 ^= rotl(x04 + x07 | 0, 18);\n    x11 ^= rotl(x10 + x09 | 0,  7); x08 ^= rotl(x11 + x10 | 0,  9);\n    x09 ^= rotl(x08 + x11 | 0, 13); x10 ^= rotl(x09 + x08 | 0, 18);\n    x12 ^= rotl(x15 + x14 | 0,  7); x13 ^= rotl(x12 + x15 | 0,  9);\n    x14 ^= rotl(x13 + x12 | 0, 13); x15 ^= rotl(x14 + x13 | 0, 18);\n  }\n  // Write output (salsa)\n  out[oi++] = (y00 + x00) | 0; out[oi++] = (y01 + x01) | 0;\n  out[oi++] = (y02 + x02) | 0; out[oi++] = (y03 + x03) | 0;\n  out[oi++] = (y04 + x04) | 0; out[oi++] = (y05 + x05) | 0;\n  out[oi++] = (y06 + x06) | 0; out[oi++] = (y07 + x07) | 0;\n  out[oi++] = (y08 + x08) | 0; out[oi++] = (y09 + x09) | 0;\n  out[oi++] = (y10 + x10) | 0; out[oi++] = (y11 + x11) | 0;\n  out[oi++] = (y12 + x12) | 0; out[oi++] = (y13 + x13) | 0;\n  out[oi++] = (y14 + x14) | 0; out[oi++] = (y15 + x15) | 0;\n}\n\nfunction BlockMix(input: Uint32Array, ii: number, out: Uint32Array, oi: number, r: number) {\n  // The block B is r 128-byte chunks (which is equivalent of 2r 64-byte chunks)\n  let head = oi + 0;\n  let tail = oi + 16 * r;\n  for (let i = 0; i < 16; i++) out[tail + i] = input[ii + (2 * r - 1) * 16 + i]; // X \u2190 B[2r\u22121]\n  for (let i = 0; i < r; i++, head += 16, ii += 16) {\n    // We write odd & even Yi at same time. Even: 0bXXXXX0 Odd:  0bXXXXX1\n    XorAndSalsa(out, tail, input, ii, out, head); // head[i] = Salsa(blockIn[2*i] ^ tail[i-1])\n    if (i > 0) tail += 16; // First iteration overwrites tmp value in tail\n    XorAndSalsa(out, head, input, (ii += 16), out, tail); // tail[i] = Salsa(blockIn[2*i+1] ^ head[i])\n  }\n}\n\nexport type ScryptOpts = {\n  N: number; // cost factor\n  r: number; // block size\n  p: number; // parallelization\n  dkLen?: number; // key length\n  asyncTick?: number; // block execution max time\n  maxmem?: number;\n  onProgress?: (progress: number) => void;\n};\n\n// Common prologue and epilogue for sync/async functions\nfunction scryptInit(password: KDFInput, salt: KDFInput, _opts?: ScryptOpts) {\n  // Maxmem - 1GB+1KB by default\n  const opts = checkOpts(\n    {\n      dkLen: 32,\n      asyncTick: 10,\n      maxmem: 1024 ** 3 + 1024,\n    },\n    _opts\n  );\n  const { N, r, p, dkLen, asyncTick, maxmem, onProgress } = opts;\n  anumber(N);\n  anumber(r);\n  anumber(p);\n  anumber(dkLen);\n  anumber(asyncTick);\n  anumber(maxmem);\n  if (onProgress !== undefined && typeof onProgress !== 'function')\n    throw new Error('progressCb should be function');\n  const blockSize = 128 * r;\n  const blockSize32 = blockSize / 4;\n\n  // Max N is 2^32 (Integrify is 32-bit). Real limit is 2^22: JS engines Uint8Array limit is 4GB in 2024.\n  // Spec check `N >= 2^(blockSize / 8)` is not done for compat with popular libs,\n  // which used incorrect r: 1, p: 8. Also, the check seems to be a spec error:\n  // https://www.rfc-editor.org/errata_search.php?rfc=7914\n  const pow32 = Math.pow(2, 32);\n  if (N <= 1 || (N & (N - 1)) !== 0 || N > pow32) {\n    throw new Error('Scrypt: N must be larger than 1, a power of 2, and less than 2^32');\n  }\n  if (p < 0 || p > ((pow32 - 1) * 32) / blockSize) {\n    throw new Error(\n      'Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)'\n    );\n  }\n  if (dkLen < 0 || dkLen > (pow32 - 1) * 32) {\n    throw new Error(\n      'Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32'\n    );\n  }\n  const memUsed = blockSize * (N + p);\n  if (memUsed > maxmem) {\n    throw new Error(\n      'Scrypt: memused is bigger than maxMem. Expected 128 * r * (N + p) > maxmem of ' + maxmem\n    );\n  }\n  // [B0...Bp\u22121] \u2190 PBKDF2HMAC-SHA256(Passphrase, Salt, 1, blockSize*ParallelizationFactor)\n  // Since it has only one iteration there is no reason to use async variant\n  const B = pbkdf2(sha256, password, salt, { c: 1, dkLen: blockSize * p });\n  const B32 = u32(B);\n  // Re-used between parallel iterations. Array(iterations) of B\n  const V = u32(new Uint8Array(blockSize * N));\n  const tmp = u32(new Uint8Array(blockSize));\n  let blockMixCb = () => {};\n  if (onProgress) {\n    const totalBlockMix = 2 * N * p;\n    // Invoke callback if progress changes from 10.01 to 10.02\n    // Allows to draw smooth progress bar on up to 8K screen\n    const callbackPer = Math.max(Math.floor(totalBlockMix / 10000), 1);\n    let blockMixCnt = 0;\n    blockMixCb = () => {\n      blockMixCnt++;\n      if (onProgress && (!(blockMixCnt % callbackPer) || blockMixCnt === totalBlockMix))\n        onProgress(blockMixCnt / totalBlockMix);\n    };\n  }\n  return { N, r, p, dkLen, blockSize32, V, B32, B, tmp, blockMixCb, asyncTick };\n}\n\nfunction scryptOutput(\n  password: KDFInput,\n  dkLen: number,\n  B: Uint8Array,\n  V: Uint32Array,\n  tmp: Uint32Array\n) {\n  const res = pbkdf2(sha256, password, B, { c: 1, dkLen });\n  clean(B, V, tmp);\n  return res;\n}\n\n/**\n * Scrypt KDF from RFC 7914.\n * @param password - pass\n * @param salt - salt\n * @param opts - parameters\n * - `N` is cpu/mem work factor (power of 2 e.g. 2**18)\n * - `r` is block size (8 is common), fine-tunes sequential memory read size and performance\n * - `p` is parallelization factor (1 is common)\n * - `dkLen` is output key length in bytes e.g. 32.\n * - `asyncTick` - (default: 10) max time in ms for which async function can block execution\n * - `maxmem` - (default: `1024 ** 3 + 1024` aka 1GB+1KB). A limit that the app could use for scrypt\n * - `onProgress` - callback function that would be executed for progress report\n * @returns Derived key\n * @example\n * scrypt('password', 'salt', { N: 2**18, r: 8, p: 1, dkLen: 32 });\n */\nexport function scrypt(password: KDFInput, salt: KDFInput, opts: ScryptOpts): Uint8Array {\n  const { N, r, p, dkLen, blockSize32, V, B32, B, tmp, blockMixCb } = scryptInit(\n    password,\n    salt,\n    opts\n  );\n  swap32IfBE(B32);\n  for (let pi = 0; pi < p; pi++) {\n    const Pi = blockSize32 * pi;\n    for (let i = 0; i < blockSize32; i++) V[i] = B32[Pi + i]; // V[0] = B[i]\n    for (let i = 0, pos = 0; i < N - 1; i++) {\n      BlockMix(V, pos, V, (pos += blockSize32), r); // V[i] = BlockMix(V[i-1]);\n      blockMixCb();\n    }\n    BlockMix(V, (N - 1) * blockSize32, B32, Pi, r); // Process last element\n    blockMixCb();\n    for (let i = 0; i < N; i++) {\n      // First u32 of the last 64-byte block (u32 is LE)\n      const j = B32[Pi + blockSize32 - 16] % N; // j = Integrify(X) % iterations\n      for (let k = 0; k < blockSize32; k++) tmp[k] = B32[Pi + k] ^ V[j * blockSize32 + k]; // tmp = B ^ V[j]\n      BlockMix(tmp, 0, B32, Pi, r); // B = BlockMix(B ^ V[j])\n      blockMixCb();\n    }\n  }\n  swap32IfBE(B32);\n  return scryptOutput(password, dkLen, B, V, tmp);\n}\n\n/**\n * Scrypt KDF from RFC 7914. Async version.\n * @example\n * await scryptAsync('password', 'salt', { N: 2**18, r: 8, p: 1, dkLen: 32 });\n */\nexport async function scryptAsync(\n  password: KDFInput,\n  salt: KDFInput,\n  opts: ScryptOpts\n): Promise<Uint8Array> {\n  const { N, r, p, dkLen, blockSize32, V, B32, B, tmp, blockMixCb, asyncTick } = scryptInit(\n    password,\n    salt,\n    opts\n  );\n  swap32IfBE(B32);\n  for (let pi = 0; pi < p; pi++) {\n    const Pi = blockSize32 * pi;\n    for (let i = 0; i < blockSize32; i++) V[i] = B32[Pi + i]; // V[0] = B[i]\n    let pos = 0;\n    await asyncLoop(N - 1, asyncTick, () => {\n      BlockMix(V, pos, V, (pos += blockSize32), r); // V[i] = BlockMix(V[i-1]);\n      blockMixCb();\n    });\n    BlockMix(V, (N - 1) * blockSize32, B32, Pi, r); // Process last element\n    blockMixCb();\n    await asyncLoop(N, asyncTick, () => {\n      // First u32 of the last 64-byte block (u32 is LE)\n      const j = B32[Pi + blockSize32 - 16] % N; // j = Integrify(X) % iterations\n      for (let k = 0; k < blockSize32; k++) tmp[k] = B32[Pi + k] ^ V[j * blockSize32 + k]; // tmp = B ^ V[j]\n      BlockMix(tmp, 0, B32, Pi, r); // B = BlockMix(B ^ V[j])\n      blockMixCb();\n    });\n  }\n  swap32IfBE(B32);\n  return scryptOutput(password, dkLen, B, V, tmp);\n}\n", "/**\n * PBKDF (RFC 2898). Can be used to create a key from password and salt.\n * @module\n */\nimport { hmac } from './hmac.ts';\n// prettier-ignore\nimport {\n  ahash, anumber,\n  asyncLoop, checkOpts, clean, createView, Hash, kdfInputToBytes,\n  type CHash,\n  type KDFInput\n} from './utils.ts';\n\nexport type Pbkdf2Opt = {\n  c: number; // Iterations\n  dkLen?: number; // Desired key length in bytes (Intended output length in octets of the derived key\n  asyncTick?: number; // Maximum time in ms for which async function can block execution\n};\n// Common prologue and epilogue for sync/async functions\nfunction pbkdf2Init(hash: CHash, _password: KDFInput, _salt: KDFInput, _opts: Pbkdf2Opt) {\n  ahash(hash);\n  const opts = checkOpts({ dkLen: 32, asyncTick: 10 }, _opts);\n  const { c, dkLen, asyncTick } = opts;\n  anumber(c);\n  anumber(dkLen);\n  anumber(asyncTick);\n  if (c < 1) throw new Error('iterations (c) should be >= 1');\n  const password = kdfInputToBytes(_password);\n  const salt = kdfInputToBytes(_salt);\n  // DK = PBKDF2(PRF, Password, Salt, c, dkLen);\n  const DK = new Uint8Array(dkLen);\n  // U1 = PRF(Password, Salt + INT_32_BE(i))\n  const PRF = hmac.create(hash, password);\n  const PRFSalt = PRF._cloneInto().update(salt);\n  return { c, dkLen, asyncTick, DK, PRF, PRFSalt };\n}\n\nfunction pbkdf2Output<T extends Hash<T>>(\n  PRF: Hash<T>,\n  PRFSalt: Hash<T>,\n  DK: Uint8Array,\n  prfW: Hash<T>,\n  u: Uint8Array\n) {\n  PRF.destroy();\n  PRFSalt.destroy();\n  if (prfW) prfW.destroy();\n  clean(u);\n  return DK;\n}\n\n/**\n * PBKDF2-HMAC: RFC 2898 key derivation function\n * @param hash - hash function that would be used e.g. sha256\n * @param password - password from which a derived key is generated\n * @param salt - cryptographic salt\n * @param opts - {c, dkLen} where c is work factor and dkLen is output message size\n * @example\n * const key = pbkdf2(sha256, 'password', 'salt', { dkLen: 32, c: Math.pow(2, 18) });\n */\nexport function pbkdf2(\n  hash: CHash,\n  password: KDFInput,\n  salt: KDFInput,\n  opts: Pbkdf2Opt\n): Uint8Array {\n  const { c, dkLen, DK, PRF, PRFSalt } = pbkdf2Init(hash, password, salt, opts);\n  let prfW: any; // Working copy\n  const arr = new Uint8Array(4);\n  const view = createView(arr);\n  const u = new Uint8Array(PRF.outputLen);\n  // DK = T1 + T2 + \u22EF + Tdklen/hlen\n  for (let ti = 1, pos = 0; pos < dkLen; ti++, pos += PRF.outputLen) {\n    // Ti = F(Password, Salt, c, i)\n    const Ti = DK.subarray(pos, pos + PRF.outputLen);\n    view.setInt32(0, ti, false);\n    // F(Password, Salt, c, i) = U1 ^ U2 ^ \u22EF ^ Uc\n    // U1 = PRF(Password, Salt + INT_32_BE(i))\n    (prfW = PRFSalt._cloneInto(prfW)).update(arr).digestInto(u);\n    Ti.set(u.subarray(0, Ti.length));\n    for (let ui = 1; ui < c; ui++) {\n      // Uc = PRF(Password, Uc\u22121)\n      PRF._cloneInto(prfW).update(u).digestInto(u);\n      for (let i = 0; i < Ti.length; i++) Ti[i] ^= u[i];\n    }\n  }\n  return pbkdf2Output(PRF, PRFSalt, DK, prfW, u);\n}\n\n/**\n * PBKDF2-HMAC: RFC 2898 key derivation function. Async version.\n * @example\n * await pbkdf2Async(sha256, 'password', 'salt', { dkLen: 32, c: 500_000 });\n */\nexport async function pbkdf2Async(\n  hash: CHash,\n  password: KDFInput,\n  salt: KDFInput,\n  opts: Pbkdf2Opt\n): Promise<Uint8Array> {\n  const { c, dkLen, asyncTick, DK, PRF, PRFSalt } = pbkdf2Init(hash, password, salt, opts);\n  let prfW: any; // Working copy\n  const arr = new Uint8Array(4);\n  const view = createView(arr);\n  const u = new Uint8Array(PRF.outputLen);\n  // DK = T1 + T2 + \u22EF + Tdklen/hlen\n  for (let ti = 1, pos = 0; pos < dkLen; ti++, pos += PRF.outputLen) {\n    // Ti = F(Password, Salt, c, i)\n    const Ti = DK.subarray(pos, pos + PRF.outputLen);\n    view.setInt32(0, ti, false);\n    // F(Password, Salt, c, i) = U1 ^ U2 ^ \u22EF ^ Uc\n    // U1 = PRF(Password, Salt + INT_32_BE(i))\n    (prfW = PRFSalt._cloneInto(prfW)).update(arr).digestInto(u);\n    Ti.set(u.subarray(0, Ti.length));\n    await asyncLoop(c - 1, asyncTick, () => {\n      // Uc = PRF(Password, Uc\u22121)\n      PRF._cloneInto(prfW).update(u).digestInto(u);\n      for (let i = 0; i < Ti.length; i++) Ti[i] ^= u[i];\n    });\n  }\n  return pbkdf2Output(PRF, PRFSalt, DK, prfW, u);\n}\n", "/**\n * HMAC: RFC2104 message authentication code.\n * @module\n */\nimport { abytes, aexists, ahash, clean, Hash, toBytes, type CHash, type Input } from './utils.ts';\n\nexport class HMAC<T extends Hash<T>> extends Hash<HMAC<T>> {\n  oHash: T;\n  iHash: T;\n  blockLen: number;\n  outputLen: number;\n  private finished = false;\n  private destroyed = false;\n\n  constructor(hash: CHash, _key: Input) {\n    super();\n    ahash(hash);\n    const key = toBytes(_key);\n    this.iHash = hash.create() as T;\n    if (typeof this.iHash.update !== 'function')\n      throw new Error('Expected instance of class which extends utils.Hash');\n    this.blockLen = this.iHash.blockLen;\n    this.outputLen = this.iHash.outputLen;\n    const blockLen = this.blockLen;\n    const pad = new Uint8Array(blockLen);\n    // blockLen can be bigger than outputLen\n    pad.set(key.length > blockLen ? hash.create().update(key).digest() : key);\n    for (let i = 0; i < pad.length; i++) pad[i] ^= 0x36;\n    this.iHash.update(pad);\n    // By doing update (processing of first block) of outer hash here we can re-use it between multiple calls via clone\n    this.oHash = hash.create() as T;\n    // Undo internal XOR && apply outer XOR\n    for (let i = 0; i < pad.length; i++) pad[i] ^= 0x36 ^ 0x5c;\n    this.oHash.update(pad);\n    clean(pad);\n  }\n  update(buf: Input): this {\n    aexists(this);\n    this.iHash.update(buf);\n    return this;\n  }\n  digestInto(out: Uint8Array): void {\n    aexists(this);\n    abytes(out, this.outputLen);\n    this.finished = true;\n    this.iHash.digestInto(out);\n    this.oHash.update(out);\n    this.oHash.digestInto(out);\n    this.destroy();\n  }\n  digest(): Uint8Array {\n    const out = new Uint8Array(this.oHash.outputLen);\n    this.digestInto(out);\n    return out;\n  }\n  _cloneInto(to?: HMAC<T>): HMAC<T> {\n    // Create new instance without calling constructor since key already in state and we don't know it.\n    to ||= Object.create(Object.getPrototypeOf(this), {});\n    const { oHash, iHash, finished, destroyed, blockLen, outputLen } = this;\n    to = to as this;\n    to.finished = finished;\n    to.destroyed = destroyed;\n    to.blockLen = blockLen;\n    to.outputLen = outputLen;\n    to.oHash = oHash._cloneInto(to.oHash);\n    to.iHash = iHash._cloneInto(to.iHash);\n    return to;\n  }\n  clone(): HMAC<T> {\n    return this._cloneInto();\n  }\n  destroy(): void {\n    this.destroyed = true;\n    this.oHash.destroy();\n    this.iHash.destroy();\n  }\n}\n\n/**\n * HMAC: RFC2104 message authentication code.\n * @param hash - function that would be used e.g. sha256\n * @param key - message key\n * @param message - message data\n * @example\n * import { hmac } from '@noble/hashes/hmac';\n * import { sha256 } from '@noble/hashes/sha2';\n * const mac1 = hmac(sha256, 'key', 'message');\n */\nexport const hmac: {\n  (hash: CHash, key: Input, message: Input): Uint8Array;\n  create(hash: CHash, key: Input): HMAC<any>;\n} = (hash: CHash, key: Input, message: Input): Uint8Array =>\n  new HMAC<any>(hash, key).update(message).digest();\nhmac.create = (hash: CHash, key: Input) => new HMAC<any>(hash, key);\n", "/**\n * Utilities for hex, bytes, CSPRNG.\n * @module\n */\n/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n\n// We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.\n// node.js versions earlier than v19 don't declare it in global scope.\n// For node.js, package.json#exports field mapping rewrites import\n// from `crypto` to `cryptoNode`, which imports native module.\n// Makes the utils un-importable in browsers without a bundler.\n// Once node.js 18 is deprecated (2025-04-30), we can just drop the import.\nimport { crypto } from '@noble/hashes/crypto';\n\n/** Checks if something is Uint8Array. Be careful: nodejs Buffer will return true. */\nexport function isBytes(a: unknown): a is Uint8Array {\n  return a instanceof Uint8Array || (ArrayBuffer.isView(a) && a.constructor.name === 'Uint8Array');\n}\n\n/** Asserts something is positive integer. */\nexport function anumber(n: number): void {\n  if (!Number.isSafeInteger(n) || n < 0) throw new Error('positive integer expected, got ' + n);\n}\n\n/** Asserts something is Uint8Array. */\nexport function abytes(b: Uint8Array | undefined, ...lengths: number[]): void {\n  if (!isBytes(b)) throw new Error('Uint8Array expected');\n  if (lengths.length > 0 && !lengths.includes(b.length))\n    throw new Error('Uint8Array expected of length ' + lengths + ', got length=' + b.length);\n}\n\n/** Asserts something is hash */\nexport function ahash(h: IHash): void {\n  if (typeof h !== 'function' || typeof h.create !== 'function')\n    throw new Error('Hash should be wrapped by utils.createHasher');\n  anumber(h.outputLen);\n  anumber(h.blockLen);\n}\n\n/** Asserts a hash instance has not been destroyed / finished */\nexport function aexists(instance: any, checkFinished = true): void {\n  if (instance.destroyed) throw new Error('Hash instance has been destroyed');\n  if (checkFinished && instance.finished) throw new Error('Hash#digest() has already been called');\n}\n\n/** Asserts output is properly-sized byte array */\nexport function aoutput(out: any, instance: any): void {\n  abytes(out);\n  const min = instance.outputLen;\n  if (out.length < min) {\n    throw new Error('digestInto() expects output buffer of length at least ' + min);\n  }\n}\n\n/** Generic type encompassing 8/16/32-byte arrays - but not 64-byte. */\n// prettier-ignore\nexport type TypedArray = Int8Array | Uint8ClampedArray | Uint8Array |\n  Uint16Array | Int16Array | Uint32Array | Int32Array;\n\n/** Cast u8 / u16 / u32 to u8. */\nexport function u8(arr: TypedArray): Uint8Array {\n  return new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength);\n}\n\n/** Cast u8 / u16 / u32 to u32. */\nexport function u32(arr: TypedArray): Uint32Array {\n  return new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));\n}\n\n/** Zeroize a byte array. Warning: JS provides no guarantees. */\nexport function clean(...arrays: TypedArray[]): void {\n  for (let i = 0; i < arrays.length; i++) {\n    arrays[i].fill(0);\n  }\n}\n\n/** Create DataView of an array for easy byte-level manipulation. */\nexport function createView(arr: TypedArray): DataView {\n  return new DataView(arr.buffer, arr.byteOffset, arr.byteLength);\n}\n\n/** The rotate right (circular right shift) operation for uint32 */\nexport function rotr(word: number, shift: number): number {\n  return (word << (32 - shift)) | (word >>> shift);\n}\n\n/** The rotate left (circular left shift) operation for uint32 */\nexport function rotl(word: number, shift: number): number {\n  return (word << shift) | ((word >>> (32 - shift)) >>> 0);\n}\n\n/** Is current platform little-endian? Most are. Big-Endian platform: IBM */\nexport const isLE: boolean = /* @__PURE__ */ (() =>\n  new Uint8Array(new Uint32Array([0x11223344]).buffer)[0] === 0x44)();\n\n/** The byte swap operation for uint32 */\nexport function byteSwap(word: number): number {\n  return (\n    ((word << 24) & 0xff000000) |\n    ((word << 8) & 0xff0000) |\n    ((word >>> 8) & 0xff00) |\n    ((word >>> 24) & 0xff)\n  );\n}\n/** Conditionally byte swap if on a big-endian platform */\nexport const swap8IfBE: (n: number) => number = isLE\n  ? (n: number) => n\n  : (n: number) => byteSwap(n);\n\n/** @deprecated */\nexport const byteSwapIfBE: typeof swap8IfBE = swap8IfBE;\n/** In place byte swap for Uint32Array */\nexport function byteSwap32(arr: Uint32Array): Uint32Array {\n  for (let i = 0; i < arr.length; i++) {\n    arr[i] = byteSwap(arr[i]);\n  }\n  return arr;\n}\n\nexport const swap32IfBE: (u: Uint32Array) => Uint32Array = isLE\n  ? (u: Uint32Array) => u\n  : byteSwap32;\n\n// Built-in hex conversion https://caniuse.com/mdn-javascript_builtins_uint8array_fromhex\nconst hasHexBuiltin: boolean = /* @__PURE__ */ (() =>\n  // @ts-ignore\n  typeof Uint8Array.from([]).toHex === 'function' && typeof Uint8Array.fromHex === 'function')();\n\n// Array where index 0xf0 (240) is mapped to string 'f0'\nconst hexes = /* @__PURE__ */ Array.from({ length: 256 }, (_, i) =>\n  i.toString(16).padStart(2, '0')\n);\n\n/**\n * Convert byte array to hex string. Uses built-in function, when available.\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nexport function bytesToHex(bytes: Uint8Array): string {\n  abytes(bytes);\n  // @ts-ignore\n  if (hasHexBuiltin) return bytes.toHex();\n  // pre-caching improves the speed 6x\n  let hex = '';\n  for (let i = 0; i < bytes.length; i++) {\n    hex += hexes[bytes[i]];\n  }\n  return hex;\n}\n\n// We use optimized technique to convert hex string to byte array\nconst asciis = { _0: 48, _9: 57, A: 65, F: 70, a: 97, f: 102 } as const;\nfunction asciiToBase16(ch: number): number | undefined {\n  if (ch >= asciis._0 && ch <= asciis._9) return ch - asciis._0; // '2' => 50-48\n  if (ch >= asciis.A && ch <= asciis.F) return ch - (asciis.A - 10); // 'B' => 66-(65-10)\n  if (ch >= asciis.a && ch <= asciis.f) return ch - (asciis.a - 10); // 'b' => 98-(97-10)\n  return;\n}\n\n/**\n * Convert hex string to byte array. Uses built-in function, when available.\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nexport function hexToBytes(hex: string): Uint8Array {\n  if (typeof hex !== 'string') throw new Error('hex string expected, got ' + typeof hex);\n  // @ts-ignore\n  if (hasHexBuiltin) return Uint8Array.fromHex(hex);\n  const hl = hex.length;\n  const al = hl / 2;\n  if (hl % 2) throw new Error('hex string expected, got unpadded hex of length ' + hl);\n  const array = new Uint8Array(al);\n  for (let ai = 0, hi = 0; ai < al; ai++, hi += 2) {\n    const n1 = asciiToBase16(hex.charCodeAt(hi));\n    const n2 = asciiToBase16(hex.charCodeAt(hi + 1));\n    if (n1 === undefined || n2 === undefined) {\n      const char = hex[hi] + hex[hi + 1];\n      throw new Error('hex string expected, got non-hex character \"' + char + '\" at index ' + hi);\n    }\n    array[ai] = n1 * 16 + n2; // multiply first octet, e.g. 'a3' => 10*16+3 => 160 + 3 => 163\n  }\n  return array;\n}\n\n/**\n * There is no setImmediate in browser and setTimeout is slow.\n * Call of async fn will return Promise, which will be fullfiled only on\n * next scheduler queue processing step and this is exactly what we need.\n */\nexport const nextTick = async (): Promise<void> => {};\n\n/** Returns control to thread each 'tick' ms to avoid blocking. */\nexport async function asyncLoop(\n  iters: number,\n  tick: number,\n  cb: (i: number) => void\n): Promise<void> {\n  let ts = Date.now();\n  for (let i = 0; i < iters; i++) {\n    cb(i);\n    // Date.now() is not monotonic, so in case if clock goes backwards we return return control too\n    const diff = Date.now() - ts;\n    if (diff >= 0 && diff < tick) continue;\n    await nextTick();\n    ts += diff;\n  }\n}\n\n// Global symbols, but ts doesn't see them: https://github.com/microsoft/TypeScript/issues/31535\ndeclare const TextEncoder: any;\ndeclare const TextDecoder: any;\n\n/**\n * Converts string to bytes using UTF8 encoding.\n * @example utf8ToBytes('abc') // Uint8Array.from([97, 98, 99])\n */\nexport function utf8ToBytes(str: string): Uint8Array {\n  if (typeof str !== 'string') throw new Error('string expected');\n  return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n\n/**\n * Converts bytes to string using UTF8 encoding.\n * @example bytesToUtf8(Uint8Array.from([97, 98, 99])) // 'abc'\n */\nexport function bytesToUtf8(bytes: Uint8Array): string {\n  return new TextDecoder().decode(bytes);\n}\n\n/** Accepted input of hash functions. Strings are converted to byte arrays. */\nexport type Input = string | Uint8Array;\n/**\n * Normalizes (non-hex) string or Uint8Array to Uint8Array.\n * Warning: when Uint8Array is passed, it would NOT get copied.\n * Keep in mind for future mutable operations.\n */\nexport function toBytes(data: Input): Uint8Array {\n  if (typeof data === 'string') data = utf8ToBytes(data);\n  abytes(data);\n  return data;\n}\n\n/** KDFs can accept string or Uint8Array for user convenience. */\nexport type KDFInput = string | Uint8Array;\n/**\n * Helper for KDFs: consumes uint8array or string.\n * When string is passed, does utf8 decoding, using TextDecoder.\n */\nexport function kdfInputToBytes(data: KDFInput): Uint8Array {\n  if (typeof data === 'string') data = utf8ToBytes(data);\n  abytes(data);\n  return data;\n}\n\n/** Copies several Uint8Arrays into one. */\nexport function concatBytes(...arrays: Uint8Array[]): Uint8Array {\n  let sum = 0;\n  for (let i = 0; i < arrays.length; i++) {\n    const a = arrays[i];\n    abytes(a);\n    sum += a.length;\n  }\n  const res = new Uint8Array(sum);\n  for (let i = 0, pad = 0; i < arrays.length; i++) {\n    const a = arrays[i];\n    res.set(a, pad);\n    pad += a.length;\n  }\n  return res;\n}\n\ntype EmptyObj = {};\nexport function checkOpts<T1 extends EmptyObj, T2 extends EmptyObj>(\n  defaults: T1,\n  opts?: T2\n): T1 & T2 {\n  if (opts !== undefined && {}.toString.call(opts) !== '[object Object]')\n    throw new Error('options should be object or undefined');\n  const merged = Object.assign(defaults, opts);\n  return merged as T1 & T2;\n}\n\n/** Hash interface. */\nexport type IHash = {\n  (data: Uint8Array): Uint8Array;\n  blockLen: number;\n  outputLen: number;\n  create: any;\n};\n\n/** For runtime check if class implements interface */\nexport abstract class Hash<T extends Hash<T>> {\n  abstract blockLen: number; // Bytes per block\n  abstract outputLen: number; // Bytes in output\n  abstract update(buf: Input): this;\n  // Writes digest into buf\n  abstract digestInto(buf: Uint8Array): void;\n  abstract digest(): Uint8Array;\n  /**\n   * Resets internal state. Makes Hash instance unusable.\n   * Reset is impossible for keyed hashes if key is consumed into state. If digest is not consumed\n   * by user, they will need to manually call `destroy()` when zeroing is necessary.\n   */\n  abstract destroy(): void;\n  /**\n   * Clones hash instance. Unsafe: doesn't check whether `to` is valid. Can be used as `clone()`\n   * when no options are passed.\n   * Reasons to use `_cloneInto` instead of clone: 1) performance 2) reuse instance => all internal\n   * buffers are overwritten => causes buffer overwrite which is used for digest in some cases.\n   * There are no guarantees for clean-up because it's impossible in JS.\n   */\n  abstract _cloneInto(to?: T): T;\n  // Safe version that clones internal state\n  abstract clone(): T;\n}\n\n/**\n * XOF: streaming API to read digest in chunks.\n * Same as 'squeeze' in keccak/k12 and 'seek' in blake3, but more generic name.\n * When hash used in XOF mode it is up to user to call '.destroy' afterwards, since we cannot\n * destroy state, next call can require more bytes.\n */\nexport type HashXOF<T extends Hash<T>> = Hash<T> & {\n  xof(bytes: number): Uint8Array; // Read 'bytes' bytes from digest stream\n  xofInto(buf: Uint8Array): Uint8Array; // read buf.length bytes from digest stream into buf\n};\n\n/** Hash function */\nexport type CHash = ReturnType<typeof createHasher>;\n/** Hash function with output */\nexport type CHashO = ReturnType<typeof createOptHasher>;\n/** XOF with output */\nexport type CHashXO = ReturnType<typeof createXOFer>;\n\n/** Wraps hash function, creating an interface on top of it */\nexport function createHasher<T extends Hash<T>>(\n  hashCons: () => Hash<T>\n): {\n  (msg: Input): Uint8Array;\n  outputLen: number;\n  blockLen: number;\n  create(): Hash<T>;\n} {\n  const hashC = (msg: Input): Uint8Array => hashCons().update(toBytes(msg)).digest();\n  const tmp = hashCons();\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = () => hashCons();\n  return hashC;\n}\n\nexport function createOptHasher<H extends Hash<H>, T extends Object>(\n  hashCons: (opts?: T) => Hash<H>\n): {\n  (msg: Input, opts?: T): Uint8Array;\n  outputLen: number;\n  blockLen: number;\n  create(opts?: T): Hash<H>;\n} {\n  const hashC = (msg: Input, opts?: T): Uint8Array => hashCons(opts).update(toBytes(msg)).digest();\n  const tmp = hashCons({} as T);\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = (opts?: T) => hashCons(opts);\n  return hashC;\n}\n\nexport function createXOFer<H extends HashXOF<H>, T extends Object>(\n  hashCons: (opts?: T) => HashXOF<H>\n): {\n  (msg: Input, opts?: T): Uint8Array;\n  outputLen: number;\n  blockLen: number;\n  create(opts?: T): HashXOF<H>;\n} {\n  const hashC = (msg: Input, opts?: T): Uint8Array => hashCons(opts).update(toBytes(msg)).digest();\n  const tmp = hashCons({} as T);\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = (opts?: T) => hashCons(opts);\n  return hashC;\n}\nexport const wrapConstructor: typeof createHasher = createHasher;\nexport const wrapConstructorWithOpts: typeof createOptHasher = createOptHasher;\nexport const wrapXOFConstructorWithOpts: typeof createXOFer = createXOFer;\n\n/** Cryptographically secure PRNG. Uses internal OS-level `crypto.getRandomValues`. */\nexport function randomBytes(bytesLength = 32): Uint8Array {\n  if (crypto && typeof crypto.getRandomValues === 'function') {\n    return crypto.getRandomValues(new Uint8Array(bytesLength));\n  }\n  // Legacy Node.js compatibility\n  if (crypto && typeof crypto.randomBytes === 'function') {\n    return Uint8Array.from(crypto.randomBytes(bytesLength));\n  }\n  throw new Error('crypto.getRandomValues must be defined');\n}\n", "/**\n * SHA2 hash function. A.k.a. sha256, sha384, sha512, sha512_224, sha512_256.\n * SHA256 is the fastest hash implementable in JS, even faster than Blake3.\n * Check out [RFC 4634](https://datatracker.ietf.org/doc/html/rfc4634) and\n * [FIPS 180-4](https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf).\n * @module\n */\nimport { Chi, HashMD, Maj, SHA224_IV, SHA256_IV, SHA384_IV, SHA512_IV } from './_md.ts';\nimport * as u64 from './_u64.ts';\nimport { type CHash, clean, createHasher, rotr } from './utils.ts';\n\n/**\n * Round constants:\n * First 32 bits of fractional parts of the cube roots of the first 64 primes 2..311)\n */\n// prettier-ignore\nconst SHA256_K = /* @__PURE__ */ Uint32Array.from([\n  0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n  0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n  0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n  0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n  0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n  0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n  0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n  0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n]);\n\n/** Reusable temporary buffer. \"W\" comes straight from spec. */\nconst SHA256_W = /* @__PURE__ */ new Uint32Array(64);\nexport class SHA256 extends HashMD<SHA256> {\n  // We cannot use array here since array allows indexing by variable\n  // which means optimizer/compiler cannot use registers.\n  protected A: number = SHA256_IV[0] | 0;\n  protected B: number = SHA256_IV[1] | 0;\n  protected C: number = SHA256_IV[2] | 0;\n  protected D: number = SHA256_IV[3] | 0;\n  protected E: number = SHA256_IV[4] | 0;\n  protected F: number = SHA256_IV[5] | 0;\n  protected G: number = SHA256_IV[6] | 0;\n  protected H: number = SHA256_IV[7] | 0;\n\n  constructor(outputLen: number = 32) {\n    super(64, outputLen, 8, false);\n  }\n  protected get(): [number, number, number, number, number, number, number, number] {\n    const { A, B, C, D, E, F, G, H } = this;\n    return [A, B, C, D, E, F, G, H];\n  }\n  // prettier-ignore\n  protected set(\n    A: number, B: number, C: number, D: number, E: number, F: number, G: number, H: number\n  ): void {\n    this.A = A | 0;\n    this.B = B | 0;\n    this.C = C | 0;\n    this.D = D | 0;\n    this.E = E | 0;\n    this.F = F | 0;\n    this.G = G | 0;\n    this.H = H | 0;\n  }\n  protected process(view: DataView, offset: number): void {\n    // Extend the first 16 words into the remaining 48 words w[16..63] of the message schedule array\n    for (let i = 0; i < 16; i++, offset += 4) SHA256_W[i] = view.getUint32(offset, false);\n    for (let i = 16; i < 64; i++) {\n      const W15 = SHA256_W[i - 15];\n      const W2 = SHA256_W[i - 2];\n      const s0 = rotr(W15, 7) ^ rotr(W15, 18) ^ (W15 >>> 3);\n      const s1 = rotr(W2, 17) ^ rotr(W2, 19) ^ (W2 >>> 10);\n      SHA256_W[i] = (s1 + SHA256_W[i - 7] + s0 + SHA256_W[i - 16]) | 0;\n    }\n    // Compression function main loop, 64 rounds\n    let { A, B, C, D, E, F, G, H } = this;\n    for (let i = 0; i < 64; i++) {\n      const sigma1 = rotr(E, 6) ^ rotr(E, 11) ^ rotr(E, 25);\n      const T1 = (H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i]) | 0;\n      const sigma0 = rotr(A, 2) ^ rotr(A, 13) ^ rotr(A, 22);\n      const T2 = (sigma0 + Maj(A, B, C)) | 0;\n      H = G;\n      G = F;\n      F = E;\n      E = (D + T1) | 0;\n      D = C;\n      C = B;\n      B = A;\n      A = (T1 + T2) | 0;\n    }\n    // Add the compressed chunk to the current hash value\n    A = (A + this.A) | 0;\n    B = (B + this.B) | 0;\n    C = (C + this.C) | 0;\n    D = (D + this.D) | 0;\n    E = (E + this.E) | 0;\n    F = (F + this.F) | 0;\n    G = (G + this.G) | 0;\n    H = (H + this.H) | 0;\n    this.set(A, B, C, D, E, F, G, H);\n  }\n  protected roundClean(): void {\n    clean(SHA256_W);\n  }\n  destroy(): void {\n    this.set(0, 0, 0, 0, 0, 0, 0, 0);\n    clean(this.buffer);\n  }\n}\n\nexport class SHA224 extends SHA256 {\n  protected A: number = SHA224_IV[0] | 0;\n  protected B: number = SHA224_IV[1] | 0;\n  protected C: number = SHA224_IV[2] | 0;\n  protected D: number = SHA224_IV[3] | 0;\n  protected E: number = SHA224_IV[4] | 0;\n  protected F: number = SHA224_IV[5] | 0;\n  protected G: number = SHA224_IV[6] | 0;\n  protected H: number = SHA224_IV[7] | 0;\n  constructor() {\n    super(28);\n  }\n}\n\n// SHA2-512 is slower than sha256 in js because u64 operations are slow.\n\n// Round contants\n// First 32 bits of the fractional parts of the cube roots of the first 80 primes 2..409\n// prettier-ignore\nconst K512 = /* @__PURE__ */ (() => u64.split([\n  '0x428a2f98d728ae22', '0x7137449123ef65cd', '0xb5c0fbcfec4d3b2f', '0xe9b5dba58189dbbc',\n  '0x3956c25bf348b538', '0x59f111f1b605d019', '0x923f82a4af194f9b', '0xab1c5ed5da6d8118',\n  '0xd807aa98a3030242', '0x12835b0145706fbe', '0x243185be4ee4b28c', '0x550c7dc3d5ffb4e2',\n  '0x72be5d74f27b896f', '0x80deb1fe3b1696b1', '0x9bdc06a725c71235', '0xc19bf174cf692694',\n  '0xe49b69c19ef14ad2', '0xefbe4786384f25e3', '0x0fc19dc68b8cd5b5', '0x240ca1cc77ac9c65',\n  '0x2de92c6f592b0275', '0x4a7484aa6ea6e483', '0x5cb0a9dcbd41fbd4', '0x76f988da831153b5',\n  '0x983e5152ee66dfab', '0xa831c66d2db43210', '0xb00327c898fb213f', '0xbf597fc7beef0ee4',\n  '0xc6e00bf33da88fc2', '0xd5a79147930aa725', '0x06ca6351e003826f', '0x142929670a0e6e70',\n  '0x27b70a8546d22ffc', '0x2e1b21385c26c926', '0x4d2c6dfc5ac42aed', '0x53380d139d95b3df',\n  '0x650a73548baf63de', '0x766a0abb3c77b2a8', '0x81c2c92e47edaee6', '0x92722c851482353b',\n  '0xa2bfe8a14cf10364', '0xa81a664bbc423001', '0xc24b8b70d0f89791', '0xc76c51a30654be30',\n  '0xd192e819d6ef5218', '0xd69906245565a910', '0xf40e35855771202a', '0x106aa07032bbd1b8',\n  '0x19a4c116b8d2d0c8', '0x1e376c085141ab53', '0x2748774cdf8eeb99', '0x34b0bcb5e19b48a8',\n  '0x391c0cb3c5c95a63', '0x4ed8aa4ae3418acb', '0x5b9cca4f7763e373', '0x682e6ff3d6b2b8a3',\n  '0x748f82ee5defb2fc', '0x78a5636f43172f60', '0x84c87814a1f0ab72', '0x8cc702081a6439ec',\n  '0x90befffa23631e28', '0xa4506cebde82bde9', '0xbef9a3f7b2c67915', '0xc67178f2e372532b',\n  '0xca273eceea26619c', '0xd186b8c721c0c207', '0xeada7dd6cde0eb1e', '0xf57d4f7fee6ed178',\n  '0x06f067aa72176fba', '0x0a637dc5a2c898a6', '0x113f9804bef90dae', '0x1b710b35131c471b',\n  '0x28db77f523047d84', '0x32caab7b40c72493', '0x3c9ebe0a15c9bebc', '0x431d67c49c100d4c',\n  '0x4cc5d4becb3e42b6', '0x597f299cfc657e2a', '0x5fcb6fab3ad6faec', '0x6c44198c4a475817'\n].map(n => BigInt(n))))();\nconst SHA512_Kh = /* @__PURE__ */ (() => K512[0])();\nconst SHA512_Kl = /* @__PURE__ */ (() => K512[1])();\n\n// Reusable temporary buffers\nconst SHA512_W_H = /* @__PURE__ */ new Uint32Array(80);\nconst SHA512_W_L = /* @__PURE__ */ new Uint32Array(80);\n\nexport class SHA512 extends HashMD<SHA512> {\n  // We cannot use array here since array allows indexing by variable\n  // which means optimizer/compiler cannot use registers.\n  // h -- high 32 bits, l -- low 32 bits\n  protected Ah: number = SHA512_IV[0] | 0;\n  protected Al: number = SHA512_IV[1] | 0;\n  protected Bh: number = SHA512_IV[2] | 0;\n  protected Bl: number = SHA512_IV[3] | 0;\n  protected Ch: number = SHA512_IV[4] | 0;\n  protected Cl: number = SHA512_IV[5] | 0;\n  protected Dh: number = SHA512_IV[6] | 0;\n  protected Dl: number = SHA512_IV[7] | 0;\n  protected Eh: number = SHA512_IV[8] | 0;\n  protected El: number = SHA512_IV[9] | 0;\n  protected Fh: number = SHA512_IV[10] | 0;\n  protected Fl: number = SHA512_IV[11] | 0;\n  protected Gh: number = SHA512_IV[12] | 0;\n  protected Gl: number = SHA512_IV[13] | 0;\n  protected Hh: number = SHA512_IV[14] | 0;\n  protected Hl: number = SHA512_IV[15] | 0;\n\n  constructor(outputLen: number = 64) {\n    super(128, outputLen, 16, false);\n  }\n  // prettier-ignore\n  protected get(): [\n    number, number, number, number, number, number, number, number,\n    number, number, number, number, number, number, number, number\n  ] {\n    const { Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl } = this;\n    return [Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl];\n  }\n  // prettier-ignore\n  protected set(\n    Ah: number, Al: number, Bh: number, Bl: number, Ch: number, Cl: number, Dh: number, Dl: number,\n    Eh: number, El: number, Fh: number, Fl: number, Gh: number, Gl: number, Hh: number, Hl: number\n  ): void {\n    this.Ah = Ah | 0;\n    this.Al = Al | 0;\n    this.Bh = Bh | 0;\n    this.Bl = Bl | 0;\n    this.Ch = Ch | 0;\n    this.Cl = Cl | 0;\n    this.Dh = Dh | 0;\n    this.Dl = Dl | 0;\n    this.Eh = Eh | 0;\n    this.El = El | 0;\n    this.Fh = Fh | 0;\n    this.Fl = Fl | 0;\n    this.Gh = Gh | 0;\n    this.Gl = Gl | 0;\n    this.Hh = Hh | 0;\n    this.Hl = Hl | 0;\n  }\n  protected process(view: DataView, offset: number): void {\n    // Extend the first 16 words into the remaining 64 words w[16..79] of the message schedule array\n    for (let i = 0; i < 16; i++, offset += 4) {\n      SHA512_W_H[i] = view.getUint32(offset);\n      SHA512_W_L[i] = view.getUint32((offset += 4));\n    }\n    for (let i = 16; i < 80; i++) {\n      // s0 := (w[i-15] rightrotate 1) xor (w[i-15] rightrotate 8) xor (w[i-15] rightshift 7)\n      const W15h = SHA512_W_H[i - 15] | 0;\n      const W15l = SHA512_W_L[i - 15] | 0;\n      const s0h = u64.rotrSH(W15h, W15l, 1) ^ u64.rotrSH(W15h, W15l, 8) ^ u64.shrSH(W15h, W15l, 7);\n      const s0l = u64.rotrSL(W15h, W15l, 1) ^ u64.rotrSL(W15h, W15l, 8) ^ u64.shrSL(W15h, W15l, 7);\n      // s1 := (w[i-2] rightrotate 19) xor (w[i-2] rightrotate 61) xor (w[i-2] rightshift 6)\n      const W2h = SHA512_W_H[i - 2] | 0;\n      const W2l = SHA512_W_L[i - 2] | 0;\n      const s1h = u64.rotrSH(W2h, W2l, 19) ^ u64.rotrBH(W2h, W2l, 61) ^ u64.shrSH(W2h, W2l, 6);\n      const s1l = u64.rotrSL(W2h, W2l, 19) ^ u64.rotrBL(W2h, W2l, 61) ^ u64.shrSL(W2h, W2l, 6);\n      // SHA256_W[i] = s0 + s1 + SHA256_W[i - 7] + SHA256_W[i - 16];\n      const SUMl = u64.add4L(s0l, s1l, SHA512_W_L[i - 7], SHA512_W_L[i - 16]);\n      const SUMh = u64.add4H(SUMl, s0h, s1h, SHA512_W_H[i - 7], SHA512_W_H[i - 16]);\n      SHA512_W_H[i] = SUMh | 0;\n      SHA512_W_L[i] = SUMl | 0;\n    }\n    let { Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl } = this;\n    // Compression function main loop, 80 rounds\n    for (let i = 0; i < 80; i++) {\n      // S1 := (e rightrotate 14) xor (e rightrotate 18) xor (e rightrotate 41)\n      const sigma1h = u64.rotrSH(Eh, El, 14) ^ u64.rotrSH(Eh, El, 18) ^ u64.rotrBH(Eh, El, 41);\n      const sigma1l = u64.rotrSL(Eh, El, 14) ^ u64.rotrSL(Eh, El, 18) ^ u64.rotrBL(Eh, El, 41);\n      //const T1 = (H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i]) | 0;\n      const CHIh = (Eh & Fh) ^ (~Eh & Gh);\n      const CHIl = (El & Fl) ^ (~El & Gl);\n      // T1 = H + sigma1 + Chi(E, F, G) + SHA512_K[i] + SHA512_W[i]\n      // prettier-ignore\n      const T1ll = u64.add5L(Hl, sigma1l, CHIl, SHA512_Kl[i], SHA512_W_L[i]);\n      const T1h = u64.add5H(T1ll, Hh, sigma1h, CHIh, SHA512_Kh[i], SHA512_W_H[i]);\n      const T1l = T1ll | 0;\n      // S0 := (a rightrotate 28) xor (a rightrotate 34) xor (a rightrotate 39)\n      const sigma0h = u64.rotrSH(Ah, Al, 28) ^ u64.rotrBH(Ah, Al, 34) ^ u64.rotrBH(Ah, Al, 39);\n      const sigma0l = u64.rotrSL(Ah, Al, 28) ^ u64.rotrBL(Ah, Al, 34) ^ u64.rotrBL(Ah, Al, 39);\n      const MAJh = (Ah & Bh) ^ (Ah & Ch) ^ (Bh & Ch);\n      const MAJl = (Al & Bl) ^ (Al & Cl) ^ (Bl & Cl);\n      Hh = Gh | 0;\n      Hl = Gl | 0;\n      Gh = Fh | 0;\n      Gl = Fl | 0;\n      Fh = Eh | 0;\n      Fl = El | 0;\n      ({ h: Eh, l: El } = u64.add(Dh | 0, Dl | 0, T1h | 0, T1l | 0));\n      Dh = Ch | 0;\n      Dl = Cl | 0;\n      Ch = Bh | 0;\n      Cl = Bl | 0;\n      Bh = Ah | 0;\n      Bl = Al | 0;\n      const All = u64.add3L(T1l, sigma0l, MAJl);\n      Ah = u64.add3H(All, T1h, sigma0h, MAJh);\n      Al = All | 0;\n    }\n    // Add the compressed chunk to the current hash value\n    ({ h: Ah, l: Al } = u64.add(this.Ah | 0, this.Al | 0, Ah | 0, Al | 0));\n    ({ h: Bh, l: Bl } = u64.add(this.Bh | 0, this.Bl | 0, Bh | 0, Bl | 0));\n    ({ h: Ch, l: Cl } = u64.add(this.Ch | 0, this.Cl | 0, Ch | 0, Cl | 0));\n    ({ h: Dh, l: Dl } = u64.add(this.Dh | 0, this.Dl | 0, Dh | 0, Dl | 0));\n    ({ h: Eh, l: El } = u64.add(this.Eh | 0, this.El | 0, Eh | 0, El | 0));\n    ({ h: Fh, l: Fl } = u64.add(this.Fh | 0, this.Fl | 0, Fh | 0, Fl | 0));\n    ({ h: Gh, l: Gl } = u64.add(this.Gh | 0, this.Gl | 0, Gh | 0, Gl | 0));\n    ({ h: Hh, l: Hl } = u64.add(this.Hh | 0, this.Hl | 0, Hh | 0, Hl | 0));\n    this.set(Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl);\n  }\n  protected roundClean(): void {\n    clean(SHA512_W_H, SHA512_W_L);\n  }\n  destroy(): void {\n    clean(this.buffer);\n    this.set(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\n  }\n}\n\nexport class SHA384 extends SHA512 {\n  protected Ah: number = SHA384_IV[0] | 0;\n  protected Al: number = SHA384_IV[1] | 0;\n  protected Bh: number = SHA384_IV[2] | 0;\n  protected Bl: number = SHA384_IV[3] | 0;\n  protected Ch: number = SHA384_IV[4] | 0;\n  protected Cl: number = SHA384_IV[5] | 0;\n  protected Dh: number = SHA384_IV[6] | 0;\n  protected Dl: number = SHA384_IV[7] | 0;\n  protected Eh: number = SHA384_IV[8] | 0;\n  protected El: number = SHA384_IV[9] | 0;\n  protected Fh: number = SHA384_IV[10] | 0;\n  protected Fl: number = SHA384_IV[11] | 0;\n  protected Gh: number = SHA384_IV[12] | 0;\n  protected Gl: number = SHA384_IV[13] | 0;\n  protected Hh: number = SHA384_IV[14] | 0;\n  protected Hl: number = SHA384_IV[15] | 0;\n\n  constructor() {\n    super(48);\n  }\n}\n\n/**\n * Truncated SHA512/256 and SHA512/224.\n * SHA512_IV is XORed with 0xa5a5a5a5a5a5a5a5, then used as \"intermediary\" IV of SHA512/t.\n * Then t hashes string to produce result IV.\n * See `test/misc/sha2-gen-iv.js`.\n */\n\n/** SHA512/224 IV */\nconst T224_IV = /* @__PURE__ */ Uint32Array.from([\n  0x8c3d37c8, 0x19544da2, 0x73e19966, 0x89dcd4d6, 0x1dfab7ae, 0x32ff9c82, 0x679dd514, 0x582f9fcf,\n  0x0f6d2b69, 0x7bd44da8, 0x77e36f73, 0x04c48942, 0x3f9d85a8, 0x6a1d36c8, 0x1112e6ad, 0x91d692a1,\n]);\n\n/** SHA512/256 IV */\nconst T256_IV = /* @__PURE__ */ Uint32Array.from([\n  0x22312194, 0xfc2bf72c, 0x9f555fa3, 0xc84c64c2, 0x2393b86b, 0x6f53b151, 0x96387719, 0x5940eabd,\n  0x96283ee2, 0xa88effe3, 0xbe5e1e25, 0x53863992, 0x2b0199fc, 0x2c85b8aa, 0x0eb72ddc, 0x81c52ca2,\n]);\n\nexport class SHA512_224 extends SHA512 {\n  protected Ah: number = T224_IV[0] | 0;\n  protected Al: number = T224_IV[1] | 0;\n  protected Bh: number = T224_IV[2] | 0;\n  protected Bl: number = T224_IV[3] | 0;\n  protected Ch: number = T224_IV[4] | 0;\n  protected Cl: number = T224_IV[5] | 0;\n  protected Dh: number = T224_IV[6] | 0;\n  protected Dl: number = T224_IV[7] | 0;\n  protected Eh: number = T224_IV[8] | 0;\n  protected El: number = T224_IV[9] | 0;\n  protected Fh: number = T224_IV[10] | 0;\n  protected Fl: number = T224_IV[11] | 0;\n  protected Gh: number = T224_IV[12] | 0;\n  protected Gl: number = T224_IV[13] | 0;\n  protected Hh: number = T224_IV[14] | 0;\n  protected Hl: number = T224_IV[15] | 0;\n\n  constructor() {\n    super(28);\n  }\n}\n\nexport class SHA512_256 extends SHA512 {\n  protected Ah: number = T256_IV[0] | 0;\n  protected Al: number = T256_IV[1] | 0;\n  protected Bh: number = T256_IV[2] | 0;\n  protected Bl: number = T256_IV[3] | 0;\n  protected Ch: number = T256_IV[4] | 0;\n  protected Cl: number = T256_IV[5] | 0;\n  protected Dh: number = T256_IV[6] | 0;\n  protected Dl: number = T256_IV[7] | 0;\n  protected Eh: number = T256_IV[8] | 0;\n  protected El: number = T256_IV[9] | 0;\n  protected Fh: number = T256_IV[10] | 0;\n  protected Fl: number = T256_IV[11] | 0;\n  protected Gh: number = T256_IV[12] | 0;\n  protected Gl: number = T256_IV[13] | 0;\n  protected Hh: number = T256_IV[14] | 0;\n  protected Hl: number = T256_IV[15] | 0;\n\n  constructor() {\n    super(32);\n  }\n}\n\n/**\n * SHA2-256 hash function from RFC 4634.\n *\n * It is the fastest JS hash, even faster than Blake3.\n * To break sha256 using birthday attack, attackers need to try 2^128 hashes.\n * BTC network is doing 2^70 hashes/sec (2^95 hashes/year) as per 2025.\n */\nexport const sha256: CHash = /* @__PURE__ */ createHasher(() => new SHA256());\n/** SHA2-224 hash function from RFC 4634 */\nexport const sha224: CHash = /* @__PURE__ */ createHasher(() => new SHA224());\n\n/** SHA2-512 hash function from RFC 4634. */\nexport const sha512: CHash = /* @__PURE__ */ createHasher(() => new SHA512());\n/** SHA2-384 hash function from RFC 4634. */\nexport const sha384: CHash = /* @__PURE__ */ createHasher(() => new SHA384());\n\n/**\n * SHA2-512/256 \"truncated\" hash function, with improved resistance to length extension attacks.\n * See the paper on [truncated SHA512](https://eprint.iacr.org/2010/548.pdf).\n */\nexport const sha512_256: CHash = /* @__PURE__ */ createHasher(() => new SHA512_256());\n/**\n * SHA2-512/224 \"truncated\" hash function, with improved resistance to length extension attacks.\n * See the paper on [truncated SHA512](https://eprint.iacr.org/2010/548.pdf).\n */\nexport const sha512_224: CHash = /* @__PURE__ */ createHasher(() => new SHA512_224());\n", "/**\n * Internal Merkle-Damgard hash utils.\n * @module\n */\nimport { type Input, Hash, abytes, aexists, aoutput, clean, createView, toBytes } from './utils.ts';\n\n/** Polyfill for Safari 14. https://caniuse.com/mdn-javascript_builtins_dataview_setbiguint64 */\nexport function setBigUint64(\n  view: DataView,\n  byteOffset: number,\n  value: bigint,\n  isLE: boolean\n): void {\n  if (typeof view.setBigUint64 === 'function') return view.setBigUint64(byteOffset, value, isLE);\n  const _32n = BigInt(32);\n  const _u32_max = BigInt(0xffffffff);\n  const wh = Number((value >> _32n) & _u32_max);\n  const wl = Number(value & _u32_max);\n  const h = isLE ? 4 : 0;\n  const l = isLE ? 0 : 4;\n  view.setUint32(byteOffset + h, wh, isLE);\n  view.setUint32(byteOffset + l, wl, isLE);\n}\n\n/** Choice: a ? b : c */\nexport function Chi(a: number, b: number, c: number): number {\n  return (a & b) ^ (~a & c);\n}\n\n/** Majority function, true if any two inputs is true. */\nexport function Maj(a: number, b: number, c: number): number {\n  return (a & b) ^ (a & c) ^ (b & c);\n}\n\n/**\n * Merkle-Damgard hash construction base class.\n * Could be used to create MD5, RIPEMD, SHA1, SHA2.\n */\nexport abstract class HashMD<T extends HashMD<T>> extends Hash<T> {\n  protected abstract process(buf: DataView, offset: number): void;\n  protected abstract get(): number[];\n  protected abstract set(...args: number[]): void;\n  abstract destroy(): void;\n  protected abstract roundClean(): void;\n\n  readonly blockLen: number;\n  readonly outputLen: number;\n  readonly padOffset: number;\n  readonly isLE: boolean;\n\n  // For partial updates less than block size\n  protected buffer: Uint8Array;\n  protected view: DataView;\n  protected finished = false;\n  protected length = 0;\n  protected pos = 0;\n  protected destroyed = false;\n\n  constructor(blockLen: number, outputLen: number, padOffset: number, isLE: boolean) {\n    super();\n    this.blockLen = blockLen;\n    this.outputLen = outputLen;\n    this.padOffset = padOffset;\n    this.isLE = isLE;\n    this.buffer = new Uint8Array(blockLen);\n    this.view = createView(this.buffer);\n  }\n  update(data: Input): this {\n    aexists(this);\n    data = toBytes(data);\n    abytes(data);\n    const { view, buffer, blockLen } = this;\n    const len = data.length;\n    for (let pos = 0; pos < len; ) {\n      const take = Math.min(blockLen - this.pos, len - pos);\n      // Fast path: we have at least one block in input, cast it to view and process\n      if (take === blockLen) {\n        const dataView = createView(data);\n        for (; blockLen <= len - pos; pos += blockLen) this.process(dataView, pos);\n        continue;\n      }\n      buffer.set(data.subarray(pos, pos + take), this.pos);\n      this.pos += take;\n      pos += take;\n      if (this.pos === blockLen) {\n        this.process(view, 0);\n        this.pos = 0;\n      }\n    }\n    this.length += data.length;\n    this.roundClean();\n    return this;\n  }\n  digestInto(out: Uint8Array): void {\n    aexists(this);\n    aoutput(out, this);\n    this.finished = true;\n    // Padding\n    // We can avoid allocation of buffer for padding completely if it\n    // was previously not allocated here. But it won't change performance.\n    const { buffer, view, blockLen, isLE } = this;\n    let { pos } = this;\n    // append the bit '1' to the message\n    buffer[pos++] = 0b10000000;\n    clean(this.buffer.subarray(pos));\n    // we have less than padOffset left in buffer, so we cannot put length in\n    // current block, need process it and pad again\n    if (this.padOffset > blockLen - pos) {\n      this.process(view, 0);\n      pos = 0;\n    }\n    // Pad until full block byte with zeros\n    for (let i = pos; i < blockLen; i++) buffer[i] = 0;\n    // Note: sha512 requires length to be 128bit integer, but length in JS will overflow before that\n    // You need to write around 2 exabytes (u64_max / 8 / (1024**6)) for this to happen.\n    // So we just write lowest 64 bits of that value.\n    setBigUint64(view, blockLen - 8, BigInt(this.length * 8), isLE);\n    this.process(view, 0);\n    const oview = createView(out);\n    const len = this.outputLen;\n    // NOTE: we do division by 4 later, which should be fused in single op with modulo by JIT\n    if (len % 4) throw new Error('_sha2: outputLen should be aligned to 32bit');\n    const outLen = len / 4;\n    const state = this.get();\n    if (outLen > state.length) throw new Error('_sha2: outputLen bigger than state');\n    for (let i = 0; i < outLen; i++) oview.setUint32(4 * i, state[i], isLE);\n  }\n  digest(): Uint8Array {\n    const { buffer, outputLen } = this;\n    this.digestInto(buffer);\n    const res = buffer.slice(0, outputLen);\n    this.destroy();\n    return res;\n  }\n  _cloneInto(to?: T): T {\n    to ||= new (this.constructor as any)() as T;\n    to.set(...this.get());\n    const { blockLen, buffer, length, finished, destroyed, pos } = this;\n    to.destroyed = destroyed;\n    to.finished = finished;\n    to.length = length;\n    to.pos = pos;\n    if (length % blockLen) to.buffer.set(buffer);\n    return to;\n  }\n  clone(): T {\n    return this._cloneInto();\n  }\n}\n\n/**\n * Initial SHA-2 state: fractional parts of square roots of first 16 primes 2..53.\n * Check out `test/misc/sha2-gen-iv.js` for recomputation guide.\n */\n\n/** Initial SHA256 state. Bits 0..32 of frac part of sqrt of primes 2..19 */\nexport const SHA256_IV: Uint32Array = /* @__PURE__ */ Uint32Array.from([\n  0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a, 0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19,\n]);\n\n/** Initial SHA224 state. Bits 32..64 of frac part of sqrt of primes 23..53 */\nexport const SHA224_IV: Uint32Array = /* @__PURE__ */ Uint32Array.from([\n  0xc1059ed8, 0x367cd507, 0x3070dd17, 0xf70e5939, 0xffc00b31, 0x68581511, 0x64f98fa7, 0xbefa4fa4,\n]);\n\n/** Initial SHA384 state. Bits 0..64 of frac part of sqrt of primes 23..53 */\nexport const SHA384_IV: Uint32Array = /* @__PURE__ */ Uint32Array.from([\n  0xcbbb9d5d, 0xc1059ed8, 0x629a292a, 0x367cd507, 0x9159015a, 0x3070dd17, 0x152fecd8, 0xf70e5939,\n  0x67332667, 0xffc00b31, 0x8eb44a87, 0x68581511, 0xdb0c2e0d, 0x64f98fa7, 0x47b5481d, 0xbefa4fa4,\n]);\n\n/** Initial SHA512 state. Bits 0..64 of frac part of sqrt of primes 2..19 */\nexport const SHA512_IV: Uint32Array = /* @__PURE__ */ Uint32Array.from([\n  0x6a09e667, 0xf3bcc908, 0xbb67ae85, 0x84caa73b, 0x3c6ef372, 0xfe94f82b, 0xa54ff53a, 0x5f1d36f1,\n  0x510e527f, 0xade682d1, 0x9b05688c, 0x2b3e6c1f, 0x1f83d9ab, 0xfb41bd6b, 0x5be0cd19, 0x137e2179,\n]);\n", "export * from 'uncrypto';\n", "const hexadecimal = \"0123456789abcdef\";\nconst hex = {\n  encode: (data) => {\n    if (typeof data === \"string\") {\n      data = new TextEncoder().encode(data);\n    }\n    if (data.byteLength === 0) {\n      return \"\";\n    }\n    const buffer = new Uint8Array(data);\n    let result = \"\";\n    for (const byte of buffer) {\n      result += byte.toString(16).padStart(2, \"0\");\n    }\n    return result;\n  },\n  decode: (data) => {\n    if (!data) {\n      return \"\";\n    }\n    if (typeof data === \"string\") {\n      if (data.length % 2 !== 0) {\n        throw new Error(\"Invalid hexadecimal string\");\n      }\n      if (!new RegExp(`^[${hexadecimal}]+$`).test(data)) {\n        throw new Error(\"Invalid hexadecimal string\");\n      }\n      const result = new Uint8Array(data.length / 2);\n      for (let i = 0; i < data.length; i += 2) {\n        result[i / 2] = parseInt(data.slice(i, i + 2), 16);\n      }\n      return new TextDecoder().decode(result);\n    }\n    return new TextDecoder().decode(data);\n  }\n};\n\nexport { hex };\n", "import { createRandomStringGenerator } from '@better-auth/utils/random';\n\nconst generateRandomString = createRandomStringGenerator(\n  \"a-z\",\n  \"0-9\",\n  \"A-Z\",\n  \"-_\"\n);\n\nexport { generateRandomString as g };\n", "import { getRandomValues } from 'uncrypto';\n\nfunction expandAlphabet(alphabet) {\n  switch (alphabet) {\n    case \"a-z\":\n      return \"abcdefghijklmnopqrstuvwxyz\";\n    case \"A-Z\":\n      return \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n    case \"0-9\":\n      return \"0123456789\";\n    case \"-_\":\n      return \"-_\";\n    default:\n      throw new Error(`Unsupported alphabet: ${alphabet}`);\n  }\n}\nfunction createRandomStringGenerator(...baseAlphabets) {\n  const baseCharSet = baseAlphabets.map(expandAlphabet).join(\"\");\n  if (baseCharSet.length === 0) {\n    throw new Error(\n      \"No valid characters provided for random string generation.\"\n    );\n  }\n  const baseCharSetLength = baseCharSet.length;\n  return (length, ...alphabets) => {\n    if (length <= 0) {\n      throw new Error(\"Length must be a positive integer.\");\n    }\n    let charSet = baseCharSet;\n    let charSetLength = baseCharSetLength;\n    if (alphabets.length > 0) {\n      charSet = alphabets.map(expandAlphabet).join(\"\");\n      charSetLength = charSet.length;\n    }\n    const maxValid = Math.floor(256 / charSetLength) * charSetLength;\n    const buf = new Uint8Array(length * 2);\n    const bufLength = buf.length;\n    let result = \"\";\n    let bufIndex = bufLength;\n    let rand;\n    while (result.length < length) {\n      if (bufIndex >= bufLength) {\n        getRandomValues(buf);\n        bufIndex = 0;\n      }\n      rand = buf[bufIndex++];\n      if (rand < maxValid) {\n        result += charSet[rand % charSetLength];\n      }\n    }\n    return result;\n  };\n}\n\nexport { createRandomStringGenerator };\n", "export class BetterFetchError extends Error {\n\tconstructor(\n\t\tpublic status: number,\n\t\tpublic statusText: string,\n\t\tpublic error: any,\n\t) {\n\t\tsuper(statusText || status.toString(), {\n\t\t\tcause: error,\n\t\t});\n\t}\n}\n", "import type { StandardSchemaV1 } from \"./standard-schema\";\nimport { Schema } from \"./create-fetch\";\nimport { BetterFetchError } from \"./error\";\nimport type { BetterFetchOption } from \"./types\";\n\nexport type RequestContext<T extends Record<string, any> = any> = {\n\turl: URL | string;\n\theaders: Headers;\n\tbody: any;\n\tmethod: string;\n\tsignal: AbortSignal;\n} & BetterFetchOption<any, any, any, T>;\nexport type ResponseContext = {\n\tresponse: Response;\n\trequest: RequestContext;\n};\nexport type SuccessContext<Res = any> = {\n\tdata: Res;\n\tresponse: Response;\n\trequest: RequestContext;\n};\nexport type ErrorContext = {\n\tresponse: Response;\n\trequest: RequestContext;\n\terror: BetterFetchError & Record<string, any>;\n};\nexport interface FetchHooks<Res = any> {\n\t/**\n\t * a callback function that will be called when a\n\t * request is made.\n\t *\n\t * The returned context object will be reassigned to\n\t * the original request context.\n\t */\n\tonRequest?: <T extends Record<string, any>>(\n\t\tcontext: RequestContext<T>,\n\t) => Promise<RequestContext | void> | RequestContext | void;\n\t/**\n\t * a callback function that will be called when\n\t * response is received. This will be called before\n\t * the response is parsed and returned.\n\t *\n\t * The returned response will be reassigned to the\n\t * original response if it's changed.\n\t */\n\tonResponse?: (\n\t\tcontext: ResponseContext,\n\t) =>\n\t\t| Promise<Response | void | ResponseContext>\n\t\t| Response\n\t\t| ResponseContext\n\t\t| void;\n\t/**\n\t * a callback function that will be called when a\n\t * response is successful.\n\t */\n\tonSuccess?: (context: SuccessContext<Res>) => Promise<void> | void;\n\t/**\n\t * a callback function that will be called when an\n\t * error occurs.\n\t */\n\tonError?: (context: ErrorContext) => Promise<void> | void;\n\t/**\n\t * a callback function that will be called when a\n\t * request is retried.\n\t */\n\tonRetry?: (response: ResponseContext) => Promise<void> | void;\n\t/**\n\t * Options for the hooks\n\t */\n\thookOptions?: {\n\t\t/**\n\t\t * Clone the response\n\t\t * @see https://developer.mozilla.org/en-US/docs/Web/API/Response/clone\n\t\t */\n\t\tcloneResponse?: boolean;\n\t};\n}\n\n/**\n * A plugin that returns an id and hooks\n */\nexport type BetterFetchPlugin = {\n\t/**\n\t * A unique id for the plugin\n\t */\n\tid: string;\n\t/**\n\t * A name for the plugin\n\t */\n\tname: string;\n\t/**\n\t * A description for the plugin\n\t */\n\tdescription?: string;\n\t/**\n\t * A version for the plugin\n\t */\n\tversion?: string;\n\t/**\n\t * Hooks for the plugin\n\t */\n\thooks?: FetchHooks;\n\t/**\n\t * A function that will be called when the plugin is\n\t * initialized. This will be called before the any\n\t * of the other internal functions.\n\t *\n\t * The returned options will be merged with the\n\t * original options.\n\t */\n\tinit?: (\n\t\turl: string,\n\t\toptions?: BetterFetchOption,\n\t) =>\n\t\t| Promise<{\n\t\t\t\turl: string;\n\t\t\t\toptions?: BetterFetchOption;\n\t\t  }>\n\t\t| {\n\t\t\t\turl: string;\n\t\t\t\toptions?: BetterFetchOption;\n\t\t  };\n\t/**\n\t * A schema for the plugin\n\t */\n\tschema?: Schema;\n\t/**\n\t * Additional options that can be passed to the plugin\n\t */\n\tgetOptions?: () => StandardSchemaV1;\n};\n\nexport const initializePlugins = async (\n\turl: string,\n\toptions?: BetterFetchOption,\n) => {\n\tlet opts = options || {};\n\tconst hooks: {\n\t\tonRequest: Array<FetchHooks[\"onRequest\"]>;\n\t\tonResponse: Array<FetchHooks[\"onResponse\"]>;\n\t\tonSuccess: Array<FetchHooks[\"onSuccess\"]>;\n\t\tonError: Array<FetchHooks[\"onError\"]>;\n\t\tonRetry: Array<FetchHooks[\"onRetry\"]>;\n\t} = {\n\t\tonRequest: [options?.onRequest],\n\t\tonResponse: [options?.onResponse],\n\t\tonSuccess: [options?.onSuccess],\n\t\tonError: [options?.onError],\n\t\tonRetry: [options?.onRetry],\n\t};\n\tif (!options || !options?.plugins) {\n\t\treturn {\n\t\t\turl,\n\t\t\toptions: opts,\n\t\t\thooks,\n\t\t};\n\t}\n\tfor (const plugin of options?.plugins || []) {\n\t\tif (plugin.init) {\n\t\t\tconst pluginRes = await plugin.init?.(url.toString(), options);\n\t\t\topts = pluginRes.options || opts;\n\t\t\turl = pluginRes.url;\n\t\t}\n\t\thooks.onRequest.push(plugin.hooks?.onRequest);\n\t\thooks.onResponse.push(plugin.hooks?.onResponse);\n\t\thooks.onSuccess.push(plugin.hooks?.onSuccess);\n\t\thooks.onError.push(plugin.hooks?.onError);\n\t\thooks.onRetry.push(plugin.hooks?.onRetry);\n\t}\n\n\treturn {\n\t\turl,\n\t\toptions: opts,\n\t\thooks,\n\t};\n};\n", "export type RetryCondition = (\n\tresponse: Response | null,\n) => boolean | Promise<boolean>;\n\nexport type LinearRetry = {\n\ttype: \"linear\";\n\tattempts: number;\n\tdelay: number;\n\tshouldRetry?: RetryCondition;\n};\n\nexport type ExponentialRetry = {\n\ttype: \"exponential\";\n\tattempts: number;\n\tbaseDelay: number;\n\tmaxDelay: number;\n\tshouldRetry?: RetryCondition;\n};\n\nexport type RetryOptions = LinearRetry | ExponentialRetry | number;\n\nexport interface RetryStrategy {\n\tshouldAttemptRetry(\n\t\tattempt: number,\n\t\tresponse: Response | null,\n\t): Promise<boolean>;\n\tgetDelay(attempt: number): number;\n}\n\nclass LinearRetryStrategy implements RetryStrategy {\n\tconstructor(private options: LinearRetry) {}\n\n\tshouldAttemptRetry(\n\t\tattempt: number,\n\t\tresponse: Response | null,\n\t): Promise<boolean> {\n\t\tif (this.options.shouldRetry) {\n\t\t\treturn Promise.resolve(\n\t\t\t\tattempt < this.options.attempts && this.options.shouldRetry(response),\n\t\t\t);\n\t\t}\n\t\treturn Promise.resolve(attempt < this.options.attempts);\n\t}\n\n\tgetDelay(): number {\n\t\treturn this.options.delay;\n\t}\n}\n\nclass ExponentialRetryStrategy implements RetryStrategy {\n\tconstructor(private options: ExponentialRetry) {}\n\n\tshouldAttemptRetry(\n\t\tattempt: number,\n\t\tresponse: Response | null,\n\t): Promise<boolean> {\n\t\tif (this.options.shouldRetry) {\n\t\t\treturn Promise.resolve(\n\t\t\t\tattempt < this.options.attempts && this.options.shouldRetry(response),\n\t\t\t);\n\t\t}\n\t\treturn Promise.resolve(attempt < this.options.attempts);\n\t}\n\n\tgetDelay(attempt: number): number {\n\t\tconst delay = Math.min(\n\t\t\tthis.options.maxDelay,\n\t\t\tthis.options.baseDelay * 2 ** attempt,\n\t\t);\n\t\treturn delay;\n\t}\n}\n\nexport function createRetryStrategy(options: RetryOptions): RetryStrategy {\n\tif (typeof options === \"number\") {\n\t\treturn new LinearRetryStrategy({\n\t\t\ttype: \"linear\",\n\t\t\tattempts: options,\n\t\t\tdelay: 1000,\n\t\t});\n\t}\n\n\tswitch (options.type) {\n\t\tcase \"linear\":\n\t\t\treturn new LinearRetryStrategy(options);\n\t\tcase \"exponential\":\n\t\t\treturn new ExponentialRetryStrategy(options);\n\t\tdefault:\n\t\t\tthrow new Error(\"Invalid retry strategy\");\n\t}\n}\n", "import type { BetterFetchOption } from \"./types\";\n\nexport type typeOrTypeReturning<T> = T | (() => T);\n/**\n * Bearer token authentication\n *\n * the value of `token` will be added to a header as\n * `auth: Bearer token`,\n */\nexport type Bearer = {\n\ttype: \"Bearer\";\n\ttoken: typeOrTypeReturning<string | undefined | Promise<string | undefined>>;\n};\n\n/**\n * Basic auth\n */\nexport type Basic = {\n\ttype: \"Basic\";\n\tusername: typeOrTypeReturning<string | undefined>;\n\tpassword: typeOrTypeReturning<string | undefined>;\n};\n\n/**\n * Custom auth\n *\n * @param prefix - prefix of the header\n * @param value - value of the header\n *\n * @example\n * ```ts\n * {\n *  type: \"Custom\",\n *  prefix: \"Token\",\n *  value: \"token\"\n * }\n * ```\n */\nexport type Custom = {\n\ttype: \"Custom\";\n\tprefix: typeOrTypeReturning<string | undefined>;\n\tvalue: typeOrTypeReturning<string | undefined>;\n};\n\nexport type Auth = Bearer | Basic | Custom;\n\nexport const getAuthHeader = async (options?: BetterFetchOption) => {\n\tconst headers: Record<string, string> = {};\n\tconst getValue = async (\n\t\tvalue: typeOrTypeReturning<\n\t\t\tstring | undefined | Promise<string | undefined>\n\t\t>,\n\t) => (typeof value === \"function\" ? await value() : value);\n\tif (options?.auth) {\n\t\tif (options.auth.type === \"Bearer\") {\n\t\t\tconst token = await getValue(options.auth.token);\n\t\t\tif (!token) {\n\t\t\t\treturn headers;\n\t\t\t}\n\t\t\theaders[\"authorization\"] = `Bearer ${token}`;\n\t\t} else if (options.auth.type === \"Basic\") {\n\t\t\tconst username = getValue(options.auth.username);\n\t\t\tconst password = getValue(options.auth.password);\n\t\t\tif (!username || !password) {\n\t\t\t\treturn headers;\n\t\t\t}\n\t\t\theaders[\"authorization\"] = `Basic ${btoa(`${username}:${password}`)}`;\n\t\t} else if (options.auth.type === \"Custom\") {\n\t\t\tconst value = getValue(options.auth.value);\n\t\t\tif (!value) {\n\t\t\t\treturn headers;\n\t\t\t}\n\t\t\theaders[\"authorization\"] = `${getValue(options.auth.prefix)} ${value}`;\n\t\t}\n\t}\n\treturn headers;\n};\n", "import type { StandardSchemaV1 } from \"./standard-schema\";\nimport { getAuthHeader } from \"./auth\";\nimport { methods } from \"./create-fetch\";\nimport type { BetterFetchOption, FetchEsque } from \"./types\";\n\nconst JSON_RE = /^application\\/(?:[\\w!#$%&*.^`~-]*\\+)?json(;.+)?$/i;\n\nexport type ResponseType = \"json\" | \"text\" | \"blob\";\nexport function detectResponseType(request: Response): ResponseType {\n\tconst _contentType = request.headers.get(\"content-type\");\n\tconst textTypes = new Set([\n\t\t\"image/svg\",\n\t\t\"application/xml\",\n\t\t\"application/xhtml\",\n\t\t\"application/html\",\n\t]);\n\tif (!_contentType) {\n\t\treturn \"json\";\n\t}\n\tconst contentType = _contentType.split(\";\").shift() || \"\";\n\tif (JSON_RE.test(contentType)) {\n\t\treturn \"json\";\n\t}\n\tif (textTypes.has(contentType) || contentType.startsWith(\"text/\")) {\n\t\treturn \"text\";\n\t}\n\treturn \"blob\";\n}\n\nexport function isJSONParsable(value: any) {\n\ttry {\n\t\tJSON.parse(value);\n\t\treturn true;\n\t} catch (error) {\n\t\treturn false;\n\t}\n}\n\n//https://github.com/unjs/ofetch/blob/main/src/utils.ts\nexport function isJSONSerializable(value: any) {\n\tif (value === undefined) {\n\t\treturn false;\n\t}\n\tconst t = typeof value;\n\tif (t === \"string\" || t === \"number\" || t === \"boolean\" || t === null) {\n\t\treturn true;\n\t}\n\tif (t !== \"object\") {\n\t\treturn false;\n\t}\n\tif (Array.isArray(value)) {\n\t\treturn true;\n\t}\n\tif (value.buffer) {\n\t\treturn false;\n\t}\n\treturn (\n\t\t(value.constructor && value.constructor.name === \"Object\") ||\n\t\ttypeof value.toJSON === \"function\"\n\t);\n}\n\nexport function jsonParse(text: string) {\n\ttry {\n\t\treturn JSON.parse(text);\n\t} catch (error) {\n\t\treturn text;\n\t}\n}\n\nexport function isFunction(value: any): value is () => any {\n\treturn typeof value === \"function\";\n}\n\nexport function getFetch(options?: BetterFetchOption): FetchEsque {\n\tif (options?.customFetchImpl) {\n\t\treturn options.customFetchImpl;\n\t}\n\tif (typeof globalThis !== \"undefined\" && isFunction(globalThis.fetch)) {\n\t\treturn globalThis.fetch;\n\t}\n\tif (typeof window !== \"undefined\" && isFunction(window.fetch)) {\n\t\treturn window.fetch;\n\t}\n\tthrow new Error(\"No fetch implementation found\");\n}\n\nexport function isPayloadMethod(method?: string) {\n\tif (!method) {\n\t\treturn false;\n\t}\n\tconst payloadMethod = [\"POST\", \"PUT\", \"PATCH\", \"DELETE\"];\n\treturn payloadMethod.includes(method.toUpperCase());\n}\n\nexport function isRouteMethod(method?: string) {\n\tconst routeMethod = [\"GET\", \"POST\", \"PUT\", \"PATCH\", \"DELETE\"];\n\tif (!method) {\n\t\treturn false;\n\t}\n\treturn routeMethod.includes(method.toUpperCase());\n}\n\nexport async function getHeaders(opts?: BetterFetchOption) {\n\tconst headers = new Headers(opts?.headers);\n\tconst authHeader = await getAuthHeader(opts);\n\tfor (const [key, value] of Object.entries(authHeader || {})) {\n\t\theaders.set(key, value);\n\t}\n\tif (!headers.has(\"content-type\")) {\n\t\tconst t = detectContentType(opts?.body);\n\t\tif (t) {\n\t\t\theaders.set(\"content-type\", t);\n\t\t}\n\t}\n\n\treturn headers;\n}\n\nexport function getURL(url: string, options?: BetterFetchOption) {\n\tif (url.startsWith(\"@\")) {\n\t\tconst m = url.toString().split(\"@\")[1].split(\"/\")[0];\n\t\tif (methods.includes(m)) {\n\t\t\turl = url.replace(`@${m}/`, \"/\");\n\t\t}\n\t}\n\tlet _url: string | URL;\n\ttry {\n\t\tif (url.startsWith(\"http\")) {\n\t\t\t_url = url;\n\t\t} else {\n\t\t\tlet baseURL = options?.baseURL;\n\t\t\tif (baseURL && !baseURL?.endsWith(\"/\")) {\n\t\t\t\tbaseURL = baseURL + \"/\";\n\t\t\t}\n\t\t\tif (url.startsWith(\"/\")) {\n\t\t\t\t_url = new URL(url.substring(1), baseURL);\n\t\t\t} else {\n\t\t\t\t_url = new URL(url, options?.baseURL);\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tif (e instanceof TypeError) {\n\t\t\tif (!options?.baseURL) {\n\t\t\t\tthrow TypeError(\n\t\t\t\t\t`Invalid URL ${url}. Are you passing in a relative url but not setting the baseURL?`,\n\t\t\t\t);\n\t\t\t}\n\t\t\tthrow TypeError(\n\t\t\t\t`Invalid URL ${url}. Please validate that you are passing the correct input.`,\n\t\t\t);\n\t\t}\n\t\tthrow e;\n\t}\n\n\t/**\n\t * Dynamic Parameters.\n\t */\n\tif (options?.params) {\n\t\tif (Array.isArray(options?.params)) {\n\t\t\tconst params = options?.params\n\t\t\t\t? Array.isArray(options.params)\n\t\t\t\t\t? `/${options.params.join(\"/\")}`\n\t\t\t\t\t: `/${Object.values(options.params).join(\"/\")}`\n\t\t\t\t: \"\";\n\t\t\t_url = _url.toString().split(\"/:\")[0];\n\t\t\t_url = `${_url.toString()}${params}`;\n\t\t} else {\n\t\t\tfor (const [key, value] of Object.entries(options?.params)) {\n\t\t\t\t_url = _url.toString().replace(`:${key}`, String(value));\n\t\t\t}\n\t\t}\n\t}\n\tconst __url = new URL(_url);\n\t/**\n\t * Query Parameters\n\t */\n\tconst queryParams = options?.query;\n\tif (queryParams) {\n\t\tfor (const [key, value] of Object.entries(queryParams)) {\n\t\t\t__url.searchParams.append(key, String(value));\n\t\t}\n\t}\n\treturn __url;\n}\n\nexport function detectContentType(body: any) {\n\tif (isJSONSerializable(body)) {\n\t\treturn \"application/json\";\n\t}\n\n\treturn null;\n}\n\nexport function getBody(options?: BetterFetchOption) {\n\tif (!options?.body) {\n\t\treturn null;\n\t}\n\tconst headers = new Headers(options?.headers);\n\tif (isJSONSerializable(options.body) && !headers.has(\"content-type\")) {\n\t\tfor (const [key, value] of Object.entries(options?.body)) {\n\t\t\tif (value instanceof Date) {\n\t\t\t\toptions.body[key] = value.toISOString();\n\t\t\t}\n\t\t}\n\t\treturn JSON.stringify(options.body);\n\t}\n\n\treturn options.body;\n}\n\nexport function getMethod(url: string, options?: BetterFetchOption) {\n\tif (options?.method) {\n\t\treturn options.method.toUpperCase();\n\t}\n\tif (url.startsWith(\"@\")) {\n\t\tconst pMethod = url.split(\"@\")[1]?.split(\"/\")[0];\n\t\tif (!methods.includes(pMethod)) {\n\t\t\treturn options?.body ? \"POST\" : \"GET\";\n\t\t}\n\t\treturn pMethod.toUpperCase();\n\t}\n\treturn options?.body ? \"POST\" : \"GET\";\n}\n\nexport function getTimeout(\n\toptions?: BetterFetchOption,\n\tcontroller?: AbortController,\n) {\n\tlet abortTimeout: ReturnType<typeof setTimeout> | undefined;\n\tif (!options?.signal && options?.timeout) {\n\t\tabortTimeout = setTimeout(() => controller?.abort(), options?.timeout);\n\t}\n\treturn {\n\t\tabortTimeout,\n\t\tclearTimeout: () => {\n\t\t\tif (abortTimeout) {\n\t\t\t\tclearTimeout(abortTimeout);\n\t\t\t}\n\t\t},\n\t};\n}\n\nexport function bodyParser(data: any, responseType: ResponseType) {\n\tif (responseType === \"json\") {\n\t\treturn JSON.parse(data);\n\t}\n\treturn data;\n}\n\nexport class ValidationError extends Error {\n\tpublic readonly issues: ReadonlyArray<StandardSchemaV1.Issue>;\n\n\tconstructor(issues: ReadonlyArray<StandardSchemaV1.Issue>, message?: string) {\n\t\t// Default message fallback in case one isn't supplied.\n\t\tsuper(message || JSON.stringify(issues, null, 2));\n\t\tthis.issues = issues;\n\n\t\t// Set the prototype explicitly to ensure that instanceof works correctly.\n\t\tObject.setPrototypeOf(this, ValidationError.prototype);\n\t}\n}\n\nexport async function parseStandardSchema<TSchema extends StandardSchemaV1>(\n\tschema: TSchema,\n\tinput: StandardSchemaV1.InferInput<TSchema>,\n): Promise<StandardSchemaV1.InferOutput<TSchema>> {\n\tlet result = await schema[\"~standard\"].validate(input);\n\n\tif (result.issues) {\n\t\tthrow new ValidationError(result.issues);\n\t}\n\treturn result.value;\n}\n", "import type { StandardSchemaV1 } from \"../standard-schema\";\nimport type { StringLiteralUnion } from \"../type-utils\";\n\nexport type FetchSchema = {\n\tinput?: StandardSchemaV1;\n\toutput?: StandardSchemaV1;\n\tquery?: StandardSchemaV1;\n\tparams?: StandardSchemaV1<Record<string, unknown>> | undefined;\n\tmethod?: Methods;\n};\n\nexport type Methods = \"get\" | \"post\" | \"put\" | \"patch\" | \"delete\";\n\nexport const methods = [\"get\", \"post\", \"put\", \"patch\", \"delete\"];\n\ntype RouteKey = StringLiteralUnion<`@${Methods}/`>;\n\nexport type FetchSchemaRoutes = {\n\t[key in RouteKey]?: FetchSchema;\n};\n\nexport const createSchema = <\n\tF extends FetchSchemaRoutes,\n\tS extends SchemaConfig,\n>(\n\tschema: F,\n\tconfig?: S,\n) => {\n\treturn {\n\t\tschema: schema as F,\n\t\tconfig: config as S,\n\t};\n};\n\nexport type SchemaConfig = {\n\tstrict?: boolean;\n\t/**\n\t * A prefix that will be prepended when it's\n\t * calling the schema.\n\t *\n\t * NOTE: Make sure to handle converting\n\t * the prefix to the baseURL in the init\n\t * function if you you are defining for a\n\t * plugin.\n\t */\n\tprefix?: \"\" | (string & Record<never, never>);\n\t/**\n\t * The base url of the schema. By default it's the baseURL of the fetch instance.\n\t */\n\tbaseURL?: \"\" | (string & Record<never, never>);\n};\n\nexport type Schema = {\n\tschema: FetchSchemaRoutes;\n\tconfig: SchemaConfig;\n};\n", "import { betterFetch } from \"../fetch\";\nimport { BetterFetchPlugin } from \"../plugins\";\nimport type { BetterFetchOption } from \"../types\";\nimport { parseStandardSchema } from \"../utils\";\nimport type { BetterFetch, CreateFetchOption } from \"./types\";\n\nexport const applySchemaPlugin = (config: CreateFetchOption) =>\n\t({\n\t\tid: \"apply-schema\",\n\t\tname: \"Apply Schema\",\n\t\tversion: \"1.0.0\",\n\t\tasync init(url, options) {\n\t\t\tconst schema =\n\t\t\t\tconfig.plugins?.find((plugin) =>\n\t\t\t\t\tplugin.schema?.config\n\t\t\t\t\t\t? url.startsWith(plugin.schema.config.baseURL || \"\") ||\n\t\t\t\t\t\t\turl.startsWith(plugin.schema.config.prefix || \"\")\n\t\t\t\t\t\t: false,\n\t\t\t\t)?.schema || config.schema;\n\t\t\tif (schema) {\n\t\t\t\tlet urlKey = url;\n\t\t\t\tif (schema.config?.prefix) {\n\t\t\t\t\tif (urlKey.startsWith(schema.config.prefix)) {\n\t\t\t\t\t\turlKey = urlKey.replace(schema.config.prefix, \"\");\n\t\t\t\t\t\tif (schema.config.baseURL) {\n\t\t\t\t\t\t\turl = url.replace(schema.config.prefix, schema.config.baseURL);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (schema.config?.baseURL) {\n\t\t\t\t\tif (urlKey.startsWith(schema.config.baseURL)) {\n\t\t\t\t\t\turlKey = urlKey.replace(schema.config.baseURL, \"\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconst keySchema = schema.schema[urlKey];\n\t\t\t\tif (keySchema) {\n\t\t\t\t\tlet opts = {\n\t\t\t\t\t\t...options,\n\t\t\t\t\t\tmethod: keySchema.method,\n\t\t\t\t\t\toutput: keySchema.output,\n\t\t\t\t\t};\n\t\t\t\t\tif (!options?.disableValidation) {\n\t\t\t\t\t\topts = {\n\t\t\t\t\t\t\t...opts,\n\t\t\t\t\t\t\tbody: keySchema.input\n\t\t\t\t\t\t\t\t? await parseStandardSchema(keySchema.input, options?.body)\n\t\t\t\t\t\t\t\t: options?.body,\n\t\t\t\t\t\t\tparams: keySchema.params\n\t\t\t\t\t\t\t\t? await parseStandardSchema(keySchema.params, options?.params)\n\t\t\t\t\t\t\t\t: options?.params,\n\t\t\t\t\t\t\tquery: keySchema.query\n\t\t\t\t\t\t\t\t? await parseStandardSchema(keySchema.query, options?.query)\n\t\t\t\t\t\t\t\t: options?.query,\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\treturn {\n\t\t\t\t\t\turl,\n\t\t\t\t\t\toptions: opts,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\turl,\n\t\t\t\toptions,\n\t\t\t};\n\t\t},\n\t}) satisfies BetterFetchPlugin;\n\nexport const createFetch = <Option extends CreateFetchOption>(\n\tconfig?: Option,\n) => {\n\tasync function $fetch(url: string, options?: BetterFetchOption) {\n\t\tconst opts = {\n\t\t\t...config,\n\t\t\t...options,\n\t\t\tplugins: [...(config?.plugins || []), applySchemaPlugin(config || {})],\n\t\t} as BetterFetchOption;\n\n\t\tif (config?.catchAllError) {\n\t\t\ttry {\n\t\t\t\treturn await betterFetch(url, opts);\n\t\t\t} catch (error) {\n\t\t\t\treturn {\n\t\t\t\t\tdata: null,\n\t\t\t\t\terror: {\n\t\t\t\t\t\tstatus: 500,\n\t\t\t\t\t\tstatusText: \"Fetch Error\",\n\t\t\t\t\t\tmessage:\n\t\t\t\t\t\t\t\"Fetch related error. Captured by catchAllError option. See error property for more details.\",\n\t\t\t\t\t\terror,\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\treturn await betterFetch(url, opts);\n\t}\n\treturn $fetch as BetterFetch<Option>;\n};\n\nexport * from \"./schema\";\nexport * from \"./types\";\n", "import { methods } from \"./create-fetch\";\nimport { BetterFetchOption } from \"./types\";\n\n/**\n * Normalize URL\n */\nexport function getURL(url: string, option?: BetterFetchOption) {\n\tlet { baseURL, params, query } = option || {\n\t\tquery: {},\n\t\tparams: {},\n\t\tbaseURL: \"\",\n\t};\n\tlet basePath = url.startsWith(\"http\")\n\t\t? url.split(\"/\").slice(0, 3).join(\"/\")\n\t\t: baseURL || \"\";\n\n\t/**\n\t * Remove method modifiers\n\t */\n\tif (url.startsWith(\"@\")) {\n\t\tconst m = url.toString().split(\"@\")[1].split(\"/\")[0];\n\t\tif (methods.includes(m)) {\n\t\t\turl = url.replace(`@${m}/`, \"/\");\n\t\t}\n\t}\n\n\tif (!basePath.endsWith(\"/\")) basePath += \"/\";\n\tlet [path, urlQuery] = url.replace(basePath, \"\").split(\"?\");\n\tconst queryParams = new URLSearchParams(urlQuery);\n\tfor (const [key, value] of Object.entries(query || {})) {\n\t\tif (value == null) continue;\n\t\tqueryParams.set(key, String(value));\n\t}\n\tif (params) {\n\t\tif (Array.isArray(params)) {\n\t\t\tconst paramPaths = path.split(\"/\").filter((p) => p.startsWith(\":\"));\n\t\t\tfor (const [index, key] of paramPaths.entries()) {\n\t\t\t\tconst value = params[index];\n\t\t\t\tpath = path.replace(key, value);\n\t\t\t}\n\t\t} else {\n\t\t\tfor (const [key, value] of Object.entries(params)) {\n\t\t\t\tpath = path.replace(`:${key}`, String(value));\n\t\t\t}\n\t\t}\n\t}\n\n\tpath = path.split(\"/\").map(encodeURIComponent).join(\"/\");\n\tif (path.startsWith(\"/\")) path = path.slice(1);\n\tlet queryParamString = queryParams.toString();\n\tqueryParamString =\n\t\tqueryParamString.length > 0 ? `?${queryParamString}`.replace(/\\+/g, \"%20\") : \"\";\n\tif (!basePath.startsWith(\"http\")) {\n\t\treturn `${basePath}${path}${queryParamString}`;\n\t}\n\tconst _url = new URL(`${path}${queryParamString}`, basePath);\n\treturn _url;\n}\n", "import type { StandardSchemaV1 } from \"./standard-schema\";\nimport { BetterFetchError } from \"./error\";\nimport { initializePlugins } from \"./plugins\";\nimport { createRetryStrategy } from \"./retry\";\nimport type { BetterFetchOption, BetterFetchResponse } from \"./types\";\nimport { getURL } from \"./url\";\nimport {\n\tdetectResponseType,\n\tgetBody,\n\tgetFetch,\n\tgetHeaders,\n\tgetMethod,\n\tgetTimeout,\n\tisJSONParsable,\n\tjsonParse,\n\tparseStandardSchema,\n} from \"./utils\";\n\nexport const betterFetch = async <\n\tTRes extends Option[\"output\"] extends StandardSchemaV1\n\t\t? StandardSchemaV1.InferOutput<Option[\"output\"]>\n\t\t: unknown,\n\tTErr = unknown,\n\tOption extends BetterFetchOption = BetterFetchOption<any, any, any, TRes>,\n>(\n\turl: string,\n\toptions?: Option,\n): Promise<\n\tBetterFetchResponse<\n\t\tTRes,\n\t\tTErr,\n\t\tOption[\"throw\"] extends true ? true : TErr extends false ? true : false\n\t>\n> => {\n\tconst {\n\t\thooks,\n\t\turl: __url,\n\t\toptions: opts,\n\t} = await initializePlugins(url, options);\n\tconst fetch = getFetch(opts);\n\tconst controller = new AbortController();\n\tconst signal = opts.signal ?? controller.signal;\n\tconst _url = getURL(__url, opts);\n\tconst body = getBody(opts);\n\tconst headers = await getHeaders(opts);\n\tconst method = getMethod(__url, opts);\n\tlet context = {\n\t\t...opts,\n\t\turl: _url,\n\t\theaders,\n\t\tbody,\n\t\tmethod,\n\t\tsignal,\n\t};\n\t/**\n\t * Run all on request hooks\n\t */\n\tfor (const onRequest of hooks.onRequest) {\n\t\tif (onRequest) {\n\t\t\tconst res = await onRequest(context);\n\t\t\tif (res instanceof Object) {\n\t\t\t\tcontext = res;\n\t\t\t}\n\t\t}\n\t}\n\tif (\n\t\t(\"pipeTo\" in (context as any) &&\n\t\t\ttypeof (context as any).pipeTo === \"function\") ||\n\t\ttypeof options?.body?.pipe === \"function\"\n\t) {\n\t\tif (!(\"duplex\" in context)) {\n\t\t\tcontext.duplex = \"half\";\n\t\t}\n\t}\n\n\tconst { clearTimeout } = getTimeout(opts, controller);\n\tlet response = await fetch(context.url, context);\n\tclearTimeout();\n\n\tconst responseContext = {\n\t\tresponse,\n\t\trequest: context,\n\t};\n\n\tfor (const onResponse of hooks.onResponse) {\n\t\tif (onResponse) {\n\t\t\tconst r = await onResponse({\n\t\t\t\t...responseContext,\n\t\t\t\tresponse: options?.hookOptions?.cloneResponse\n\t\t\t\t\t? response.clone()\n\t\t\t\t\t: response,\n\t\t\t});\n\t\t\tif (r instanceof Response) {\n\t\t\t\tresponse = r;\n\t\t\t} else if (r instanceof Object) {\n\t\t\t\tresponse = r.response;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * OK Branch\n\t */\n\tif (response.ok) {\n\t\tconst hasBody = context.method !== \"HEAD\";\n\t\tif (!hasBody) {\n\t\t\treturn {\n\t\t\t\tdata: \"\" as any,\n\t\t\t\terror: null,\n\t\t\t} as any;\n\t\t}\n\t\tconst responseType = detectResponseType(response);\n\t\tconst successContext = {\n\t\t\tdata: \"\" as any,\n\t\t\tresponse,\n\t\t\trequest: context,\n\t\t};\n\t\tif (responseType === \"json\" || responseType === \"text\") {\n\t\t\tconst text = await response.text();\n\t\t\tconst parser = context.jsonParser ?? jsonParse;\n\t\t\tconst data = await parser(text);\n\t\t\tsuccessContext.data = data;\n\t\t} else {\n\t\t\tsuccessContext.data = await response[responseType]();\n\t\t}\n\n\t\t/**\n\t\t * Parse the data if the output schema is defined\n\t\t */\n\t\tif (context?.output) {\n\t\t\tif (context.output && !context.disableValidation) {\n\t\t\t\tsuccessContext.data = await parseStandardSchema(\n\t\t\t\t\tcontext.output as StandardSchemaV1,\n\t\t\t\t\tsuccessContext.data,\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tfor (const onSuccess of hooks.onSuccess) {\n\t\t\tif (onSuccess) {\n\t\t\t\tawait onSuccess({\n\t\t\t\t\t...successContext,\n\t\t\t\t\tresponse: options?.hookOptions?.cloneResponse\n\t\t\t\t\t\t? response.clone()\n\t\t\t\t\t\t: response,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif (options?.throw) {\n\t\t\treturn successContext.data as any;\n\t\t}\n\n\t\treturn {\n\t\t\tdata: successContext.data,\n\t\t\terror: null,\n\t\t} as any;\n\t}\n\tconst parser = options?.jsonParser ?? jsonParse;\n\tconst responseText = await response.text();\n\tconst isJSONResponse = isJSONParsable(responseText);\n\tconst errorObject = isJSONResponse ? await parser(responseText) : null;\n\t/**\n\t * Error Branch\n\t */\n\tconst errorContext = {\n\t\tresponse,\n\t\tresponseText,\n\t\trequest: context,\n\t\terror: {\n\t\t\t...errorObject,\n\t\t\tstatus: response.status,\n\t\t\tstatusText: response.statusText,\n\t\t},\n\t};\n\tfor (const onError of hooks.onError) {\n\t\tif (onError) {\n\t\t\tawait onError({\n\t\t\t\t...errorContext,\n\t\t\t\tresponse: options?.hookOptions?.cloneResponse\n\t\t\t\t\t? response.clone()\n\t\t\t\t\t: response,\n\t\t\t});\n\t\t}\n\t}\n\n\tif (options?.retry) {\n\t\tconst retryStrategy = createRetryStrategy(options.retry);\n\t\tconst _retryAttempt = options.retryAttempt ?? 0;\n\t\tif (await retryStrategy.shouldAttemptRetry(_retryAttempt, response)) {\n\t\t\tfor (const onRetry of hooks.onRetry) {\n\t\t\t\tif (onRetry) {\n\t\t\t\t\tawait onRetry(responseContext);\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst delay = retryStrategy.getDelay(_retryAttempt);\n\t\t\tawait new Promise((resolve) => setTimeout(resolve, delay));\n\t\t\treturn await betterFetch(url, {\n\t\t\t\t...options,\n\t\t\t\tretryAttempt: _retryAttempt + 1,\n\t\t\t});\n\t\t}\n\t}\n\n\tif (options?.throw) {\n\t\tthrow new BetterFetchError(\n\t\t\tresponse.status,\n\t\t\tresponse.statusText,\n\t\t\tisJSONResponse ? errorObject : responseText,\n\t\t);\n\t}\n\treturn {\n\t\tdata: null,\n\t\terror: {\n\t\t\t...errorObject,\n\t\t\tstatus: response.status,\n\t\t\tstatusText: response.statusText,\n\t\t},\n\t} as any;\n};\n", "import { e as env } from './better-auth.8zoxzg-F.mjs';\nimport { B as BetterAuthError } from './better-auth.DdzSJf-n.mjs';\n\nfunction checkHasPath(url) {\n  try {\n    const parsedUrl = new URL(url);\n    return parsedUrl.pathname !== \"/\";\n  } catch (error) {\n    throw new BetterAuthError(\n      `Invalid base URL: ${url}. Please provide a valid base URL.`\n    );\n  }\n}\nfunction withPath(url, path = \"/api/auth\") {\n  const hasPath = checkHasPath(url);\n  if (hasPath) {\n    return url;\n  }\n  path = path.startsWith(\"/\") ? path : `/${path}`;\n  return `${url.replace(/\\/+$/, \"\")}${path}`;\n}\nfunction getBaseURL(url, path, request) {\n  if (url) {\n    return withPath(url, path);\n  }\n  const fromEnv = env.BETTER_AUTH_URL || env.NEXT_PUBLIC_BETTER_AUTH_URL || env.PUBLIC_BETTER_AUTH_URL || env.NUXT_PUBLIC_BETTER_AUTH_URL || env.NUXT_PUBLIC_AUTH_URL || (env.BASE_URL !== \"/\" ? env.BASE_URL : void 0);\n  if (fromEnv) {\n    return withPath(fromEnv, path);\n  }\n  const fromRequest = request?.headers.get(\"x-forwarded-host\");\n  const fromRequestProto = request?.headers.get(\"x-forwarded-proto\");\n  if (fromRequest && fromRequestProto) {\n    return withPath(`${fromRequestProto}://${fromRequest}`, path);\n  }\n  if (request) {\n    const url2 = getOrigin(request.url);\n    if (!url2) {\n      throw new BetterAuthError(\n        \"Could not get origin from request. Please provide a valid base URL.\"\n      );\n    }\n    return withPath(url2, path);\n  }\n  if (typeof window !== \"undefined\" && window.location) {\n    return withPath(window.location.origin, path);\n  }\n  return void 0;\n}\nfunction getOrigin(url) {\n  try {\n    const parsedUrl = new URL(url);\n    return parsedUrl.origin;\n  } catch (error) {\n    return null;\n  }\n}\nfunction getProtocol(url) {\n  try {\n    const parsedUrl = new URL(url);\n    return parsedUrl.protocol;\n  } catch (error) {\n    return null;\n  }\n}\nfunction getHost(url) {\n  try {\n    const parsedUrl = new URL(url);\n    return parsedUrl.host;\n  } catch (error) {\n    return url;\n  }\n}\n\nexport { getBaseURL as a, getHost as b, getProtocol as c, getOrigin as g };\n", "const _envShim = /* @__PURE__ */ Object.create(null);\nconst _getEnv = (useShim) => globalThis.process?.env || //@ts-expect-error\nglobalThis.Deno?.env.toObject() || //@ts-expect-error\nglobalThis.__env__ || (useShim ? _envShim : globalThis);\nconst env = new Proxy(_envShim, {\n  get(_, prop) {\n    const env2 = _getEnv();\n    return env2[prop] ?? _envShim[prop];\n  },\n  has(_, prop) {\n    const env2 = _getEnv();\n    return prop in env2 || prop in _envShim;\n  },\n  set(_, prop, value) {\n    const env2 = _getEnv(true);\n    env2[prop] = value;\n    return true;\n  },\n  deleteProperty(_, prop) {\n    if (!prop) {\n      return false;\n    }\n    const env2 = _getEnv(true);\n    delete env2[prop];\n    return true;\n  },\n  ownKeys() {\n    const env2 = _getEnv(true);\n    return Object.keys(env2);\n  }\n});\nfunction toBoolean(val) {\n  return val ? val !== \"false\" : false;\n}\nconst nodeENV = typeof process !== \"undefined\" && process.env && process.env.NODE_ENV || \"\";\nconst isProduction = nodeENV === \"production\";\nconst isDevelopment = nodeENV === \"dev\" || nodeENV === \"development\";\nconst isTest = nodeENV === \"test\" || toBoolean(env.TEST);\n\nexport { isProduction as a, isDevelopment as b, env as e, isTest as i };\n", "class BetterAuthError extends Error {\n  constructor(message, cause) {\n    super(message);\n    this.name = \"BetterAuthError\";\n    this.message = message;\n    this.cause = cause;\n    this.stack = \"\";\n  }\n}\nclass MissingDependencyError extends BetterAuthError {\n  constructor(pkgName) {\n    super(\n      `The package \"${pkgName}\" is required. Make sure it is installed.`,\n      pkgName\n    );\n  }\n}\n\nexport { BetterAuthError as B, MissingDependencyError as M };\n", "import { B as BetterAuthError } from '../shared/better-auth.DdzSJf-n.mjs';\nimport { g as getDate } from '../shared/better-auth.CW6D9eSx.mjs';\nimport { a as isProduction, e as env } from '../shared/better-auth.8zoxzg-F.mjs';\nimport { base64Url } from '@better-auth/utils/base64';\nimport { createHMAC } from '@better-auth/utils/hmac';\nimport { s as safeJSONParse } from '../shared/better-auth.tB5eU6EY.mjs';\nimport { a as getBaseURL } from '../shared/better-auth.VTXNLFMT.mjs';\nimport { binary } from '@better-auth/utils/binary';\n\nconst createTime = (value, format) => {\n  const toMilliseconds = () => {\n    switch (format) {\n      case \"ms\":\n        return value;\n      case \"s\":\n        return value * 1e3;\n      case \"m\":\n        return value * 1e3 * 60;\n      case \"h\":\n        return value * 1e3 * 60 * 60;\n      case \"d\":\n        return value * 1e3 * 60 * 60 * 24;\n      case \"w\":\n        return value * 1e3 * 60 * 60 * 24 * 7;\n      case \"y\":\n        return value * 1e3 * 60 * 60 * 24 * 365;\n    }\n  };\n  const time = {\n    t: `${value}${format}`,\n    value,\n    tFormat: format,\n    toMilliseconds,\n    toSeconds: () => time.toMilliseconds() / 1e3,\n    toMinutes: () => time.toSeconds() / 60,\n    toHours: () => time.toMinutes() / 60,\n    toDays: () => time.toHours() / 24,\n    toWeeks: () => time.toDays() / 7,\n    toYears: () => time.toDays() / 365,\n    getDate: () => new Date(Date.now() + time.toMilliseconds()),\n    add: (other) => {\n      const otherMs = typeof other === \"string\" ? parseTime(other).toMilliseconds() : other.toMilliseconds();\n      return createTime(time.toMilliseconds() + otherMs, \"ms\");\n    },\n    subtract: (other) => {\n      const otherMs = typeof other === \"string\" ? parseTime(other).toMilliseconds() : other.toMilliseconds();\n      return createTime(time.toMilliseconds() - otherMs, \"ms\");\n    },\n    multiply: (factor) => createTime(time.toMilliseconds() * factor, \"ms\"),\n    divide: (divisor) => createTime(time.toMilliseconds() / divisor, \"ms\"),\n    equals: (other) => {\n      const otherMs = typeof other === \"string\" ? parseTime(other).toMilliseconds() : other.toMilliseconds();\n      return time.toMilliseconds() === otherMs;\n    },\n    lessThan: (other) => {\n      const otherMs = typeof other === \"string\" ? parseTime(other).toMilliseconds() : other.toMilliseconds();\n      return time.toMilliseconds() < otherMs;\n    },\n    greaterThan: (other) => {\n      const otherMs = typeof other === \"string\" ? parseTime(other).toMilliseconds() : other.toMilliseconds();\n      return time.toMilliseconds() > otherMs;\n    },\n    format: (pattern) => {\n      const date = time.getDate();\n      return pattern.replace(/YYYY|MM|DD|HH|mm|ss/g, (match) => {\n        switch (match) {\n          case \"YYYY\":\n            return date.getFullYear().toString();\n          case \"MM\":\n            return (date.getMonth() + 1).toString().padStart(2, \"0\");\n          case \"DD\":\n            return date.getDate().toString().padStart(2, \"0\");\n          case \"HH\":\n            return date.getHours().toString().padStart(2, \"0\");\n          case \"mm\":\n            return date.getMinutes().toString().padStart(2, \"0\");\n          case \"ss\":\n            return date.getSeconds().toString().padStart(2, \"0\");\n          default:\n            return match;\n        }\n      });\n    },\n    fromNow: () => {\n      const ms = time.toMilliseconds();\n      if (ms < 0) return time.ago();\n      if (ms < 1e3) return \"in a few seconds\";\n      if (ms < 6e4) return `in ${Math.round(ms / 1e3)} seconds`;\n      if (ms < 36e5) return `in ${Math.round(ms / 6e4)} minutes`;\n      if (ms < 864e5) return `in ${Math.round(ms / 36e5)} hours`;\n      if (ms < 6048e5) return `in ${Math.round(ms / 864e5)} days`;\n      if (ms < 26298e5) return `in ${Math.round(ms / 6048e5)} weeks`;\n      if (ms < 315576e5) return `in ${Math.round(ms / 26298e5)} months`;\n      return `in ${Math.round(ms / 315576e5)} years`;\n    },\n    ago: () => {\n      const ms = -time.toMilliseconds();\n      if (ms < 0) return time.fromNow();\n      if (ms < 1e3) return \"a few seconds ago\";\n      if (ms < 6e4) return `${Math.round(ms / 1e3)} seconds ago`;\n      if (ms < 36e5) return `${Math.round(ms / 6e4)} minutes ago`;\n      if (ms < 864e5) return `${Math.round(ms / 36e5)} hours ago`;\n      if (ms < 6048e5) return `${Math.round(ms / 864e5)} days ago`;\n      if (ms < 26298e5) return `${Math.round(ms / 6048e5)} weeks ago`;\n      if (ms < 315576e5) return `${Math.round(ms / 26298e5)} months ago`;\n      return `${Math.round(ms / 315576e5)} years ago`;\n    }\n  };\n  return time;\n};\nconst parseTime = (time) => {\n  const match = time.match(/^(\\d+)(ms|s|m|h|d|w|y)$/);\n  if (!match) throw new Error(\"Invalid time format\");\n  return createTime(parseInt(match[1]), match[2]);\n};\n\nfunction parseSetCookieHeader(setCookie) {\n  const cookies = /* @__PURE__ */ new Map();\n  const cookieArray = setCookie.split(\", \");\n  cookieArray.forEach((cookieString) => {\n    const parts = cookieString.split(\";\").map((part) => part.trim());\n    const [nameValue, ...attributes] = parts;\n    const [name, ...valueParts] = nameValue.split(\"=\");\n    const value = valueParts.join(\"=\");\n    if (!name || value === void 0) {\n      return;\n    }\n    const attrObj = { value };\n    attributes.forEach((attribute) => {\n      const [attrName, ...attrValueParts] = attribute.split(\"=\");\n      const attrValue = attrValueParts.join(\"=\");\n      const normalizedAttrName = attrName.trim().toLowerCase();\n      switch (normalizedAttrName) {\n        case \"max-age\":\n          attrObj[\"max-age\"] = attrValue ? parseInt(attrValue.trim(), 10) : void 0;\n          break;\n        case \"expires\":\n          attrObj.expires = attrValue ? new Date(attrValue.trim()) : void 0;\n          break;\n        case \"domain\":\n          attrObj.domain = attrValue ? attrValue.trim() : void 0;\n          break;\n        case \"path\":\n          attrObj.path = attrValue ? attrValue.trim() : void 0;\n          break;\n        case \"secure\":\n          attrObj.secure = true;\n          break;\n        case \"httponly\":\n          attrObj.httponly = true;\n          break;\n        case \"samesite\":\n          attrObj.samesite = attrValue ? attrValue.trim().toLowerCase() : void 0;\n          break;\n        default:\n          attrObj[normalizedAttrName] = attrValue ? attrValue.trim() : true;\n          break;\n      }\n    });\n    cookies.set(name, attrObj);\n  });\n  return cookies;\n}\nfunction setCookieToHeader(headers) {\n  return (context) => {\n    const setCookieHeader = context.response.headers.get(\"set-cookie\");\n    if (!setCookieHeader) {\n      return;\n    }\n    const cookieMap = /* @__PURE__ */ new Map();\n    const existingCookiesHeader = headers.get(\"cookie\") || \"\";\n    existingCookiesHeader.split(\";\").forEach((cookie) => {\n      const [name, ...rest] = cookie.trim().split(\"=\");\n      if (name && rest.length > 0) {\n        cookieMap.set(name, rest.join(\"=\"));\n      }\n    });\n    const setCookieHeaders = setCookieHeader.split(\",\");\n    setCookieHeaders.forEach((header) => {\n      const cookies = parseSetCookieHeader(header);\n      cookies.forEach((value, name) => {\n        cookieMap.set(name, value.value);\n      });\n    });\n    const updatedCookies = Array.from(cookieMap.entries()).map(([name, value]) => `${name}=${value}`).join(\"; \");\n    headers.set(\"cookie\", updatedCookies);\n  };\n}\n\nfunction createCookieGetter(options) {\n  const secure = options.advanced?.useSecureCookies !== void 0 ? options.advanced?.useSecureCookies : options.baseURL !== void 0 ? options.baseURL.startsWith(\"https://\") ? true : false : isProduction;\n  const secureCookiePrefix = secure ? \"__Secure-\" : \"\";\n  const crossSubdomainEnabled = !!options.advanced?.crossSubDomainCookies?.enabled;\n  const domain = crossSubdomainEnabled ? options.advanced?.crossSubDomainCookies?.domain || (options.baseURL ? new URL(options.baseURL).hostname : void 0) : void 0;\n  if (crossSubdomainEnabled && !domain) {\n    throw new BetterAuthError(\n      \"baseURL is required when crossSubdomainCookies are enabled\"\n    );\n  }\n  function createCookie(cookieName, overrideAttributes = {}) {\n    const prefix = options.advanced?.cookiePrefix || \"better-auth\";\n    const name = options.advanced?.cookies?.[cookieName]?.name || `${prefix}.${cookieName}`;\n    const attributes = options.advanced?.cookies?.[cookieName]?.attributes;\n    return {\n      name: `${secureCookiePrefix}${name}`,\n      attributes: {\n        secure: !!secureCookiePrefix,\n        sameSite: \"lax\",\n        path: \"/\",\n        httpOnly: true,\n        ...crossSubdomainEnabled ? { domain } : {},\n        ...options.advanced?.defaultCookieAttributes,\n        ...overrideAttributes,\n        ...attributes\n      }\n    };\n  }\n  return createCookie;\n}\nfunction getCookies(options) {\n  const createCookie = createCookieGetter(options);\n  const sessionMaxAge = options.session?.expiresIn || createTime(7, \"d\").toSeconds();\n  const sessionToken = createCookie(\"session_token\", {\n    maxAge: sessionMaxAge\n  });\n  const sessionData = createCookie(\"session_data\", {\n    maxAge: options.session?.cookieCache?.maxAge || 60 * 5\n  });\n  const dontRememberToken = createCookie(\"dont_remember\");\n  return {\n    sessionToken: {\n      name: sessionToken.name,\n      options: sessionToken.attributes\n    },\n    /**\n     * This cookie is used to store the session data in the cookie\n     * This is useful for when you want to cache the session in the cookie\n     */\n    sessionData: {\n      name: sessionData.name,\n      options: sessionData.attributes\n    },\n    dontRememberToken: {\n      name: dontRememberToken.name,\n      options: dontRememberToken.attributes\n    }\n  };\n}\nasync function setCookieCache(ctx, session) {\n  const shouldStoreSessionDataInCookie = ctx.context.options.session?.cookieCache?.enabled;\n  if (shouldStoreSessionDataInCookie) {\n    const filteredSession = Object.entries(session.session).reduce(\n      (acc, [key, value]) => {\n        const fieldConfig = ctx.context.options.session?.additionalFields?.[key];\n        if (!fieldConfig || fieldConfig.returned !== false) {\n          acc[key] = value;\n        }\n        return acc;\n      },\n      {}\n    );\n    const sessionData = { session: filteredSession, user: session.user };\n    const data = base64Url.encode(\n      JSON.stringify({\n        session: sessionData,\n        expiresAt: getDate(\n          ctx.context.authCookies.sessionData.options.maxAge || 60,\n          \"sec\"\n        ).getTime(),\n        signature: await createHMAC(\"SHA-256\", \"base64urlnopad\").sign(\n          ctx.context.secret,\n          JSON.stringify({\n            ...sessionData,\n            expiresAt: getDate(\n              ctx.context.authCookies.sessionData.options.maxAge || 60,\n              \"sec\"\n            ).getTime()\n          })\n        )\n      }),\n      {\n        padding: false\n      }\n    );\n    if (data.length > 4093) {\n      throw new BetterAuthError(\n        \"Session data is too large to store in the cookie. Please disable session cookie caching or reduce the size of the session data\"\n      );\n    }\n    ctx.setCookie(\n      ctx.context.authCookies.sessionData.name,\n      data,\n      ctx.context.authCookies.sessionData.options\n    );\n  }\n}\nasync function setSessionCookie(ctx, session, dontRememberMe, overrides) {\n  const dontRememberMeCookie = await ctx.getSignedCookie(\n    ctx.context.authCookies.dontRememberToken.name,\n    ctx.context.secret\n  );\n  dontRememberMe = dontRememberMe !== void 0 ? dontRememberMe : !!dontRememberMeCookie;\n  const options = ctx.context.authCookies.sessionToken.options;\n  const maxAge = dontRememberMe ? void 0 : ctx.context.sessionConfig.expiresIn;\n  await ctx.setSignedCookie(\n    ctx.context.authCookies.sessionToken.name,\n    session.session.token,\n    ctx.context.secret,\n    {\n      ...options,\n      maxAge,\n      ...overrides\n    }\n  );\n  if (dontRememberMe) {\n    await ctx.setSignedCookie(\n      ctx.context.authCookies.dontRememberToken.name,\n      \"true\",\n      ctx.context.secret,\n      ctx.context.authCookies.dontRememberToken.options\n    );\n  }\n  await setCookieCache(ctx, session);\n  ctx.context.setNewSession(session);\n  if (ctx.context.options.secondaryStorage) {\n    await ctx.context.secondaryStorage?.set(\n      session.session.token,\n      JSON.stringify({\n        user: session.user,\n        session: session.session\n      }),\n      Math.floor(\n        (new Date(session.session.expiresAt).getTime() - Date.now()) / 1e3\n      )\n    );\n  }\n}\nfunction deleteSessionCookie(ctx, skipDontRememberMe) {\n  ctx.setCookie(ctx.context.authCookies.sessionToken.name, \"\", {\n    ...ctx.context.authCookies.sessionToken.options,\n    maxAge: 0\n  });\n  ctx.setCookie(ctx.context.authCookies.sessionData.name, \"\", {\n    ...ctx.context.authCookies.sessionData.options,\n    maxAge: 0\n  });\n  if (!skipDontRememberMe) {\n    ctx.setCookie(ctx.context.authCookies.dontRememberToken.name, \"\", {\n      ...ctx.context.authCookies.dontRememberToken.options,\n      maxAge: 0\n    });\n  }\n}\nfunction parseCookies(cookieHeader) {\n  const cookies = cookieHeader.split(\"; \");\n  const cookieMap = /* @__PURE__ */ new Map();\n  cookies.forEach((cookie) => {\n    const [name, value] = cookie.split(\"=\");\n    cookieMap.set(name, value);\n  });\n  return cookieMap;\n}\nconst getSessionCookie = (request, config) => {\n  if (config?.cookiePrefix) {\n    if (config.cookieName) {\n      config.cookiePrefix = `${config.cookiePrefix}-`;\n    } else {\n      config.cookiePrefix = `${config.cookiePrefix}.`;\n    }\n  }\n  const headers = \"headers\" in request ? request.headers : request;\n  const req = request instanceof Request ? request : void 0;\n  getBaseURL(req?.url, config?.path, req);\n  const cookies = headers.get(\"cookie\");\n  if (!cookies) {\n    return null;\n  }\n  const { cookieName = \"session_token\", cookiePrefix = \"better-auth.\" } = config || {};\n  const name = `${cookiePrefix}${cookieName}`;\n  const secureCookieName = `__Secure-${name}`;\n  const parsedCookie = parseCookies(cookies);\n  const sessionToken = parsedCookie.get(name) || parsedCookie.get(secureCookieName);\n  if (sessionToken) {\n    return sessionToken;\n  }\n  return null;\n};\nconst getCookieCache = async (request, config) => {\n  const headers = request instanceof Headers ? request : request.headers;\n  const cookies = headers.get(\"cookie\");\n  if (!cookies) {\n    return null;\n  }\n  const { cookieName = \"session_data\", cookiePrefix = \"better-auth\" } = config || {};\n  const name = config?.isSecure !== void 0 ? config.isSecure ? `__Secure-${cookiePrefix}.${cookieName}` : `${cookiePrefix}.${cookieName}` : isProduction ? `__Secure-${cookiePrefix}.${cookieName}` : `${cookiePrefix}.${cookieName}`;\n  const parsedCookie = parseCookies(cookies);\n  const sessionData = parsedCookie.get(name);\n  if (sessionData) {\n    const sessionDataPayload = safeJSONParse(binary.decode(base64Url.decode(sessionData)));\n    if (!sessionDataPayload) {\n      return null;\n    }\n    const secret = config?.secret || env.BETTER_AUTH_SECRET;\n    if (!secret) {\n      throw new BetterAuthError(\n        \"getCookieCache requires a secret to be provided. Either pass it as an option or set the BETTER_AUTH_SECRET environment variable\"\n      );\n    }\n    const isValid = await createHMAC(\"SHA-256\", \"base64urlnopad\").verify(\n      secret,\n      JSON.stringify({\n        ...sessionDataPayload.session,\n        expiresAt: sessionDataPayload.expiresAt\n      }),\n      sessionDataPayload.signature\n    );\n    if (!isValid) {\n      return null;\n    }\n    return sessionDataPayload.session;\n  }\n  return null;\n};\n\nexport { createCookieGetter, deleteSessionCookie, getCookieCache, getCookies, getSessionCookie, parseCookies, parseSetCookieHeader, setCookieCache, setCookieToHeader, setSessionCookie };\n", "import { subtle } from 'uncrypto';\nimport { hex } from './hex.mjs';\nimport { base64Url, base64 } from './base64.mjs';\n\nconst createHMAC = (algorithm = \"SHA-256\", encoding = \"none\") => {\n  const hmac = {\n    importKey: async (key, keyUsage) => {\n      return subtle.importKey(\n        \"raw\",\n        typeof key === \"string\" ? new TextEncoder().encode(key) : key,\n        { name: \"HMAC\", hash: { name: algorithm } },\n        false,\n        [keyUsage]\n      );\n    },\n    sign: async (hmacKey, data) => {\n      if (typeof hmacKey === \"string\") {\n        hmacKey = await hmac.importKey(hmacKey, \"sign\");\n      }\n      const signature = await subtle.sign(\n        \"HMAC\",\n        hmacKey,\n        typeof data === \"string\" ? new TextEncoder().encode(data) : data\n      );\n      if (encoding === \"hex\") {\n        return hex.encode(signature);\n      }\n      if (encoding === \"base64\" || encoding === \"base64url\" || encoding === \"base64urlnopad\") {\n        return base64Url.encode(signature, {\n          padding: encoding !== \"base64urlnopad\"\n        });\n      }\n      return signature;\n    },\n    verify: async (hmacKey, data, signature) => {\n      if (typeof hmacKey === \"string\") {\n        hmacKey = await hmac.importKey(hmacKey, \"verify\");\n      }\n      if (encoding === \"hex\") {\n        signature = hex.decode(signature);\n      }\n      if (encoding === \"base64\" || encoding === \"base64url\" || encoding === \"base64urlnopad\") {\n        signature = await base64.decode(signature);\n      }\n      return subtle.verify(\n        \"HMAC\",\n        hmacKey,\n        typeof signature === \"string\" ? new TextEncoder().encode(signature) : signature,\n        typeof data === \"string\" ? new TextEncoder().encode(data) : data\n      );\n    }\n  };\n  return hmac;\n};\n\nexport { createHMAC };\n", "function safeJSONParse(data) {\n  function reviver(_, value) {\n    if (typeof value === \"string\") {\n      const iso8601Regex = /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:\\.\\d+)?Z$/;\n      if (iso8601Regex.test(value)) {\n        const date = new Date(value);\n        if (!isNaN(date.getTime())) {\n          return date;\n        }\n      }\n    }\n    return value;\n  }\n  try {\n    return JSON.parse(data, reviver);\n  } catch {\n    return null;\n  }\n}\n\nexport { safeJSONParse as s };\n", "const decoders = /* @__PURE__ */ new Map();\nconst encoder = new TextEncoder();\nconst binary = {\n  decode: (data, encoding = \"utf-8\") => {\n    if (!decoders.has(encoding)) {\n      decoders.set(encoding, new TextDecoder(encoding));\n    }\n    const decoder = decoders.get(encoding);\n    return decoder.decode(data);\n  },\n  encode: encoder.encode\n};\n\nexport { binary };\n", "import { createRandomStringGenerator } from '@better-auth/utils/random';\n\nconst generateId = (size) => {\n  return createRandomStringGenerator(\"a-z\", \"A-Z\", \"0-9\")(size || 32);\n};\n\nconst levels = [\"info\", \"success\", \"warn\", \"error\", \"debug\"];\nfunction shouldPublishLog(currentLogLevel, logLevel) {\n  return levels.indexOf(logLevel) <= levels.indexOf(currentLogLevel);\n}\nconst colors = {\n  reset: \"\\x1B[0m\",\n  bright: \"\\x1B[1m\",\n  dim: \"\\x1B[2m\",\n  fg: {\n    red: \"\\x1B[31m\",\n    green: \"\\x1B[32m\",\n    yellow: \"\\x1B[33m\",\n    blue: \"\\x1B[34m\",\n    magenta: \"\\x1B[35m\"}};\nconst levelColors = {\n  info: colors.fg.blue,\n  success: colors.fg.green,\n  warn: colors.fg.yellow,\n  error: colors.fg.red,\n  debug: colors.fg.magenta\n};\nconst formatMessage = (level, message) => {\n  const timestamp = (/* @__PURE__ */ new Date()).toISOString();\n  return `${colors.dim}${timestamp}${colors.reset} ${levelColors[level]}${level.toUpperCase()}${colors.reset} ${colors.bright}[Better Auth]:${colors.reset} ${message}`;\n};\nconst createLogger = (options) => {\n  const enabled = options?.disabled !== true;\n  const logLevel = options?.level ?? \"error\";\n  const LogFunc = (level, message, args = []) => {\n    if (!enabled || !shouldPublishLog(logLevel, level)) {\n      return;\n    }\n    const formattedMessage = formatMessage(level, message);\n    if (!options || typeof options.log !== \"function\") {\n      if (level === \"error\") {\n        console.error(formattedMessage, ...args);\n      } else if (level === \"warn\") {\n        console.warn(formattedMessage, ...args);\n      } else {\n        console.log(formattedMessage, ...args);\n      }\n      return;\n    }\n    options.log(level === \"success\" ? \"info\" : level, message, ...args);\n  };\n  return Object.fromEntries(\n    levels.map((level) => [\n      level,\n      (...[message, ...args]) => LogFunc(level, message, args)\n    ])\n  );\n};\nconst logger = createLogger();\n\nexport { logger as a, createLogger as c, generateId as g, levels as l, shouldPublishLog as s };\n", "import * as z from 'zod/v4';\nimport { APIError } from 'better-call';\n\nconst accountSchema = z.object({\n  id: z.string(),\n  providerId: z.string(),\n  accountId: z.string(),\n  userId: z.coerce.string(),\n  accessToken: z.string().nullish(),\n  refreshToken: z.string().nullish(),\n  idToken: z.string().nullish(),\n  /**\n   * Access token expires at\n   */\n  accessTokenExpiresAt: z.date().nullish(),\n  /**\n   * Refresh token expires at\n   */\n  refreshTokenExpiresAt: z.date().nullish(),\n  /**\n   * The scopes that the user has authorized\n   */\n  scope: z.string().nullish(),\n  /**\n   * Password is only stored in the credential provider\n   */\n  password: z.string().nullish(),\n  createdAt: z.date().default(() => /* @__PURE__ */ new Date()),\n  updatedAt: z.date().default(() => /* @__PURE__ */ new Date())\n});\nconst userSchema = z.object({\n  id: z.string(),\n  email: z.string().transform((val) => val.toLowerCase()),\n  emailVerified: z.boolean().default(false),\n  name: z.string(),\n  image: z.string().nullish(),\n  createdAt: z.date().default(() => /* @__PURE__ */ new Date()),\n  updatedAt: z.date().default(() => /* @__PURE__ */ new Date())\n});\nconst sessionSchema = z.object({\n  id: z.string(),\n  userId: z.coerce.string(),\n  expiresAt: z.date(),\n  createdAt: z.date().default(() => /* @__PURE__ */ new Date()),\n  updatedAt: z.date().default(() => /* @__PURE__ */ new Date()),\n  token: z.string(),\n  ipAddress: z.string().nullish(),\n  userAgent: z.string().nullish()\n});\nconst verificationSchema = z.object({\n  id: z.string(),\n  value: z.string(),\n  createdAt: z.date().default(() => /* @__PURE__ */ new Date()),\n  updatedAt: z.date().default(() => /* @__PURE__ */ new Date()),\n  expiresAt: z.date(),\n  identifier: z.string()\n});\nfunction parseOutputData(data, schema) {\n  const fields = schema.fields;\n  const parsedData = {};\n  for (const key in data) {\n    const field = fields[key];\n    if (!field) {\n      parsedData[key] = data[key];\n      continue;\n    }\n    if (field.returned === false) {\n      continue;\n    }\n    parsedData[key] = data[key];\n  }\n  return parsedData;\n}\nfunction getAllFields(options, table) {\n  let schema = {\n    ...table === \"user\" ? options.user?.additionalFields : {},\n    ...table === \"session\" ? options.session?.additionalFields : {}\n  };\n  for (const plugin of options.plugins || []) {\n    if (plugin.schema && plugin.schema[table]) {\n      schema = {\n        ...schema,\n        ...plugin.schema[table].fields\n      };\n    }\n  }\n  return schema;\n}\nfunction parseUserOutput(options, user) {\n  const schema = getAllFields(options, \"user\");\n  return parseOutputData(user, { fields: schema });\n}\nfunction parseAccountOutput(options, account) {\n  const schema = getAllFields(options, \"account\");\n  return parseOutputData(account, { fields: schema });\n}\nfunction parseSessionOutput(options, session) {\n  const schema = getAllFields(options, \"session\");\n  return parseOutputData(session, { fields: schema });\n}\nfunction parseInputData(data, schema) {\n  const action = schema.action || \"create\";\n  const fields = schema.fields;\n  const parsedData = {};\n  for (const key in fields) {\n    if (key in data) {\n      if (fields[key].input === false) {\n        if (fields[key].defaultValue) {\n          parsedData[key] = fields[key].defaultValue;\n          continue;\n        }\n        continue;\n      }\n      if (fields[key].validator?.input && data[key] !== void 0) {\n        parsedData[key] = fields[key].validator.input.parse(data[key]);\n        continue;\n      }\n      if (fields[key].transform?.input && data[key] !== void 0) {\n        parsedData[key] = fields[key].transform?.input(data[key]);\n        continue;\n      }\n      parsedData[key] = data[key];\n      continue;\n    }\n    if (fields[key].defaultValue && action === \"create\") {\n      parsedData[key] = fields[key].defaultValue;\n      continue;\n    }\n    if (fields[key].required && action === \"create\") {\n      throw new APIError(\"BAD_REQUEST\", {\n        message: `${key} is required`\n      });\n    }\n  }\n  return parsedData;\n}\nfunction parseUserInput(options, user, action) {\n  const schema = getAllFields(options, \"user\");\n  return parseInputData(user || {}, { fields: schema, action });\n}\nfunction parseAdditionalUserInput(options, user) {\n  const schema = getAllFields(options, \"user\");\n  return parseInputData(user || {}, { fields: schema });\n}\nfunction parseAccountInput(options, account) {\n  const schema = getAllFields(options, \"account\");\n  return parseInputData(account, { fields: schema });\n}\nfunction parseSessionInput(options, session) {\n  const schema = getAllFields(options, \"session\");\n  return parseInputData(session, { fields: schema });\n}\nfunction mergeSchema(schema, newSchema) {\n  if (!newSchema) {\n    return schema;\n  }\n  for (const table in newSchema) {\n    const newModelName = newSchema[table]?.modelName;\n    if (newModelName) {\n      schema[table].modelName = newModelName;\n    }\n    for (const field in schema[table].fields) {\n      const newField = newSchema[table]?.fields?.[field];\n      if (!newField) {\n        continue;\n      }\n      schema[table].fields[field].fieldName = newField;\n    }\n  }\n  return schema;\n}\n\nexport { accountSchema as a, parseUserOutput as b, parseAccountOutput as c, parseSessionOutput as d, parseInputData as e, parseUserInput as f, getAllFields as g, parseAdditionalUserInput as h, parseAccountInput as i, parseSessionInput as j, mergeSchema as m, parseOutputData as p, sessionSchema as s, userSchema as u, verificationSchema as v };\n", "function isPlainObject(value) {\n  if (value === null || typeof value !== \"object\") {\n    return false;\n  }\n  const prototype = Object.getPrototypeOf(value);\n  if (prototype !== null && prototype !== Object.prototype && Object.getPrototypeOf(prototype) !== null) {\n    return false;\n  }\n  if (Symbol.iterator in value) {\n    return false;\n  }\n  if (Symbol.toStringTag in value) {\n    return Object.prototype.toString.call(value) === \"[object Module]\";\n  }\n  return true;\n}\n\nfunction _defu(baseObject, defaults, namespace = \".\", merger) {\n  if (!isPlainObject(defaults)) {\n    return _defu(baseObject, {}, namespace, merger);\n  }\n  const object = Object.assign({}, defaults);\n  for (const key in baseObject) {\n    if (key === \"__proto__\" || key === \"constructor\") {\n      continue;\n    }\n    const value = baseObject[key];\n    if (value === null || value === void 0) {\n      continue;\n    }\n    if (merger && merger(object, key, value, namespace)) {\n      continue;\n    }\n    if (Array.isArray(value) && Array.isArray(object[key])) {\n      object[key] = [...value, ...object[key]];\n    } else if (isPlainObject(value) && isPlainObject(object[key])) {\n      object[key] = _defu(\n        value,\n        object[key],\n        (namespace ? `${namespace}.` : \"\") + key.toString(),\n        merger\n      );\n    } else {\n      object[key] = value;\n    }\n  }\n  return object;\n}\nfunction createDefu(merger) {\n  return (...arguments_) => (\n    // eslint-disable-next-line unicorn/no-array-reduce\n    arguments_.reduce((p, c) => _defu(p, c, \"\", merger), {})\n  );\n}\nconst defu = createDefu();\nconst defuFn = createDefu((object, key, currentValue) => {\n  if (object[key] !== void 0 && typeof currentValue === \"function\") {\n    object[key] = currentValue(object[key]);\n    return true;\n  }\n});\nconst defuArrayFn = createDefu((object, key, currentValue) => {\n  if (Array.isArray(object[key]) && typeof currentValue === \"function\") {\n    object[key] = currentValue(object[key]);\n    return true;\n  }\n});\n\nexport { createDefu, defu as default, defu, defuArrayFn, defuFn };\n", "import { i as isTest } from './better-auth.8zoxzg-F.mjs';\n\nfunction getIp(req, options) {\n  if (options.advanced?.ipAddress?.disableIpTracking) {\n    return null;\n  }\n  if (isTest) {\n    return \"127.0.0.1\";\n  }\n  const headers = \"headers\" in req ? req.headers : req;\n  const defaultHeaders = [\"x-forwarded-for\"];\n  const ipHeaders = options.advanced?.ipAddress?.ipAddressHeaders || defaultHeaders;\n  for (const key of ipHeaders) {\n    const value = \"get\" in headers ? headers.get(key) : headers[key];\n    if (typeof value === \"string\") {\n      const ip = value.split(\",\")[0].trim();\n      if (isValidIP(ip)) {\n        return ip;\n      }\n    }\n  }\n  return null;\n}\nfunction isValidIP(ip) {\n  const ipv4Regex = /^(\\d{1,3}\\.){3}\\d{1,3}$/;\n  if (ipv4Regex.test(ip)) {\n    const parts = ip.split(\".\").map(Number);\n    return parts.every((part) => part >= 0 && part <= 255);\n  }\n  const ipv6Regex = /^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$/;\n  return ipv6Regex.test(ip);\n}\n\nexport { getIp as g };\n", "import { g as getDate } from './better-auth.CW6D9eSx.mjs';\nimport { d as parseSessionOutput, b as parseUserOutput } from './better-auth.n2KFGwjY.mjs';\nimport { g as getIp } from './better-auth.DcfNPS8q.mjs';\nimport { s as safeJSONParse } from './better-auth.tB5eU6EY.mjs';\nimport { g as generateId, a as logger, c as createLogger } from './better-auth.DBGfIDnh.mjs';\nimport 'zod/v4';\nimport 'better-call';\nimport '@better-auth/utils/hash';\nimport '@noble/ciphers/chacha';\nimport '@noble/ciphers/utils';\nimport '@noble/ciphers/webcrypto';\nimport '@better-auth/utils/base64';\nimport 'jose';\nimport '@noble/hashes/scrypt';\nimport '@better-auth/utils';\nimport '@better-auth/utils/hex';\nimport '@noble/hashes/utils';\nimport './better-auth.B4Qoxdgc.mjs';\nimport './better-auth.8zoxzg-F.mjs';\nimport '@better-auth/utils/random';\nimport { g as getAuthTables } from './better-auth.DORkW_Ge.mjs';\nimport { B as BetterAuthError } from './better-auth.DdzSJf-n.mjs';\nimport { c as createKyselyAdapter, k as kyselyAdapter } from './better-auth.DwzM-9N1.mjs';\nimport { m as memoryAdapter } from './better-auth.DGpadpzN.mjs';\nimport 'kysely';\n\nfunction getWithHooks(adapter, ctx) {\n  const hooks = ctx.hooks;\n  async function createWithHooks(data, model, customCreateFn, context) {\n    let actualData = data;\n    for (const hook of hooks || []) {\n      const toRun = hook[model]?.create?.before;\n      if (toRun) {\n        const result = await toRun(actualData, context);\n        if (result === false) {\n          return null;\n        }\n        const isObject = typeof result === \"object\" && \"data\" in result;\n        if (isObject) {\n          actualData = {\n            ...actualData,\n            ...result.data\n          };\n        }\n      }\n    }\n    const customCreated = customCreateFn ? await customCreateFn.fn(actualData) : null;\n    const created = !customCreateFn || customCreateFn.executeMainFn ? await adapter.create({\n      model,\n      data: actualData,\n      forceAllowId: true\n    }) : customCreated;\n    for (const hook of hooks || []) {\n      const toRun = hook[model]?.create?.after;\n      if (toRun) {\n        await toRun(created, context);\n      }\n    }\n    return created;\n  }\n  async function updateWithHooks(data, where, model, customUpdateFn, context) {\n    let actualData = data;\n    for (const hook of hooks || []) {\n      const toRun = hook[model]?.update?.before;\n      if (toRun) {\n        const result = await toRun(data, context);\n        if (result === false) {\n          return null;\n        }\n        const isObject = typeof result === \"object\";\n        actualData = isObject ? result.data : result;\n      }\n    }\n    const customUpdated = customUpdateFn ? await customUpdateFn.fn(actualData) : null;\n    const updated = !customUpdateFn || customUpdateFn.executeMainFn ? await adapter.update({\n      model,\n      update: actualData,\n      where\n    }) : customUpdated;\n    for (const hook of hooks || []) {\n      const toRun = hook[model]?.update?.after;\n      if (toRun) {\n        await toRun(updated, context);\n      }\n    }\n    return updated;\n  }\n  async function updateManyWithHooks(data, where, model, customUpdateFn, context) {\n    let actualData = data;\n    for (const hook of hooks || []) {\n      const toRun = hook[model]?.update?.before;\n      if (toRun) {\n        const result = await toRun(data, context);\n        if (result === false) {\n          return null;\n        }\n        const isObject = typeof result === \"object\";\n        actualData = isObject ? result.data : result;\n      }\n    }\n    const customUpdated = customUpdateFn ? await customUpdateFn.fn(actualData) : null;\n    const updated = !customUpdateFn || customUpdateFn.executeMainFn ? await adapter.updateMany({\n      model,\n      update: actualData,\n      where\n    }) : customUpdated;\n    for (const hook of hooks || []) {\n      const toRun = hook[model]?.update?.after;\n      if (toRun) {\n        await toRun(updated, context);\n      }\n    }\n    return updated;\n  }\n  return {\n    createWithHooks,\n    updateWithHooks,\n    updateManyWithHooks\n  };\n}\n\nconst createInternalAdapter = (adapter, ctx) => {\n  const options = ctx.options;\n  const secondaryStorage = options.secondaryStorage;\n  const sessionExpiration = options.session?.expiresIn || 60 * 60 * 24 * 7;\n  const { createWithHooks, updateWithHooks, updateManyWithHooks } = getWithHooks(adapter, ctx);\n  return {\n    createOAuthUser: async (user, account, context) => {\n      const createdUser = await createWithHooks(\n        {\n          createdAt: /* @__PURE__ */ new Date(),\n          updatedAt: /* @__PURE__ */ new Date(),\n          ...user\n        },\n        \"user\",\n        void 0,\n        context\n      );\n      const createdAccount = await createWithHooks(\n        {\n          ...account,\n          userId: createdUser.id || user.id,\n          createdAt: /* @__PURE__ */ new Date(),\n          updatedAt: /* @__PURE__ */ new Date()\n        },\n        \"account\",\n        void 0,\n        context\n      );\n      return {\n        user: createdUser,\n        account: createdAccount\n      };\n    },\n    createUser: async (user, context) => {\n      const createdUser = await createWithHooks(\n        {\n          createdAt: /* @__PURE__ */ new Date(),\n          updatedAt: /* @__PURE__ */ new Date(),\n          emailVerified: false,\n          ...user,\n          email: user.email?.toLowerCase()\n        },\n        \"user\",\n        void 0,\n        context\n      );\n      return createdUser;\n    },\n    createAccount: async (account, context) => {\n      const createdAccount = await createWithHooks(\n        {\n          createdAt: /* @__PURE__ */ new Date(),\n          updatedAt: /* @__PURE__ */ new Date(),\n          ...account\n        },\n        \"account\",\n        void 0,\n        context\n      );\n      return createdAccount;\n    },\n    listSessions: async (userId) => {\n      if (secondaryStorage) {\n        const currentList = await secondaryStorage.get(\n          `active-sessions-${userId}`\n        );\n        if (!currentList) return [];\n        const list = safeJSONParse(currentList) || [];\n        const now = Date.now();\n        const validSessions = list.filter((s) => s.expiresAt > now);\n        const sessions2 = [];\n        for (const session of validSessions) {\n          const sessionStringified = await secondaryStorage.get(session.token);\n          if (sessionStringified) {\n            const s = JSON.parse(sessionStringified);\n            const parsedSession = parseSessionOutput(ctx.options, {\n              ...s.session,\n              expiresAt: new Date(s.session.expiresAt)\n            });\n            sessions2.push(parsedSession);\n          }\n        }\n        return sessions2;\n      }\n      const sessions = await adapter.findMany({\n        model: \"session\",\n        where: [\n          {\n            field: \"userId\",\n            value: userId\n          }\n        ]\n      });\n      return sessions;\n    },\n    listUsers: async (limit, offset, sortBy, where) => {\n      const users = await adapter.findMany({\n        model: \"user\",\n        limit,\n        offset,\n        sortBy,\n        where\n      });\n      return users;\n    },\n    countTotalUsers: async (where) => {\n      const total = await adapter.count({\n        model: \"user\",\n        where\n      });\n      if (typeof total === \"string\") {\n        return parseInt(total);\n      }\n      return total;\n    },\n    deleteUser: async (userId) => {\n      if (secondaryStorage) {\n        await secondaryStorage.delete(`active-sessions-${userId}`);\n      }\n      if (!secondaryStorage || options.session?.storeSessionInDatabase) {\n        await adapter.deleteMany({\n          model: \"session\",\n          where: [\n            {\n              field: \"userId\",\n              value: userId\n            }\n          ]\n        });\n      }\n      await adapter.deleteMany({\n        model: \"account\",\n        where: [\n          {\n            field: \"userId\",\n            value: userId\n          }\n        ]\n      });\n      await adapter.delete({\n        model: \"user\",\n        where: [\n          {\n            field: \"id\",\n            value: userId\n          }\n        ]\n      });\n    },\n    createSession: async (userId, ctx2, dontRememberMe, override, overrideAll) => {\n      const headers = ctx2.headers || ctx2.request?.headers;\n      const { id: _, ...rest } = override || {};\n      const data = {\n        ipAddress: ctx2.request || ctx2.headers ? getIp(ctx2.request || ctx2.headers, ctx2.context.options) || \"\" : \"\",\n        userAgent: headers?.get(\"user-agent\") || \"\",\n        ...rest,\n        /**\n         * If the user doesn't want to be remembered\n         * set the session to expire in 1 day.\n         * The cookie will be set to expire at the end of the session\n         */\n        expiresAt: dontRememberMe ? getDate(60 * 60 * 24, \"sec\") : getDate(sessionExpiration, \"sec\"),\n        userId,\n        token: generateId(32),\n        createdAt: /* @__PURE__ */ new Date(),\n        updatedAt: /* @__PURE__ */ new Date(),\n        ...overrideAll ? rest : {}\n      };\n      const res = await createWithHooks(\n        data,\n        \"session\",\n        secondaryStorage ? {\n          fn: async (sessionData) => {\n            const currentList = await secondaryStorage.get(\n              `active-sessions-${userId}`\n            );\n            let list = [];\n            const now = Date.now();\n            if (currentList) {\n              list = safeJSONParse(currentList) || [];\n              list = list.filter((session) => session.expiresAt > now);\n            }\n            list.push({\n              token: data.token,\n              expiresAt: now + sessionExpiration * 1e3\n            });\n            await secondaryStorage.set(\n              `active-sessions-${userId}`,\n              JSON.stringify(list),\n              sessionExpiration\n            );\n            return sessionData;\n          },\n          executeMainFn: options.session?.storeSessionInDatabase\n        } : void 0,\n        ctx2\n      );\n      return res;\n    },\n    findSession: async (token) => {\n      if (secondaryStorage) {\n        const sessionStringified = await secondaryStorage.get(token);\n        if (!sessionStringified && !options.session?.storeSessionInDatabase) {\n          return null;\n        }\n        if (sessionStringified) {\n          const s = JSON.parse(sessionStringified);\n          const parsedSession2 = parseSessionOutput(ctx.options, {\n            ...s.session,\n            expiresAt: new Date(s.session.expiresAt),\n            createdAt: new Date(s.session.createdAt),\n            updatedAt: new Date(s.session.updatedAt)\n          });\n          const parsedUser2 = parseUserOutput(ctx.options, {\n            ...s.user,\n            createdAt: new Date(s.user.createdAt),\n            updatedAt: new Date(s.user.updatedAt)\n          });\n          return {\n            session: parsedSession2,\n            user: parsedUser2\n          };\n        }\n      }\n      const session = await adapter.findOne({\n        model: \"session\",\n        where: [\n          {\n            value: token,\n            field: \"token\"\n          }\n        ]\n      });\n      if (!session) {\n        return null;\n      }\n      const user = await adapter.findOne({\n        model: \"user\",\n        where: [\n          {\n            value: session.userId,\n            field: \"id\"\n          }\n        ]\n      });\n      if (!user) {\n        return null;\n      }\n      const parsedSession = parseSessionOutput(ctx.options, session);\n      const parsedUser = parseUserOutput(ctx.options, user);\n      return {\n        session: parsedSession,\n        user: parsedUser\n      };\n    },\n    findSessions: async (sessionTokens) => {\n      if (secondaryStorage) {\n        const sessions2 = [];\n        for (const sessionToken of sessionTokens) {\n          const sessionStringified = await secondaryStorage.get(sessionToken);\n          if (sessionStringified) {\n            const s = JSON.parse(sessionStringified);\n            const session = {\n              session: {\n                ...s.session,\n                expiresAt: new Date(s.session.expiresAt)\n              },\n              user: {\n                ...s.user,\n                createdAt: new Date(s.user.createdAt),\n                updatedAt: new Date(s.user.updatedAt)\n              }\n            };\n            sessions2.push(session);\n          }\n        }\n        return sessions2;\n      }\n      const sessions = await adapter.findMany({\n        model: \"session\",\n        where: [\n          {\n            field: \"token\",\n            value: sessionTokens,\n            operator: \"in\"\n          }\n        ]\n      });\n      const userIds = sessions.map((session) => {\n        return session.userId;\n      });\n      if (!userIds.length) return [];\n      const users = await adapter.findMany({\n        model: \"user\",\n        where: [\n          {\n            field: \"id\",\n            value: userIds,\n            operator: \"in\"\n          }\n        ]\n      });\n      return sessions.map((session) => {\n        const user = users.find((u) => u.id === session.userId);\n        if (!user) return null;\n        return {\n          session,\n          user\n        };\n      });\n    },\n    updateSession: async (sessionToken, session, context) => {\n      const updatedSession = await updateWithHooks(\n        session,\n        [{ field: \"token\", value: sessionToken }],\n        \"session\",\n        secondaryStorage ? {\n          async fn(data) {\n            const currentSession = await secondaryStorage.get(sessionToken);\n            let updatedSession2 = null;\n            if (currentSession) {\n              const parsedSession = JSON.parse(currentSession);\n              updatedSession2 = {\n                ...parsedSession.session,\n                ...data\n              };\n              return updatedSession2;\n            } else {\n              return null;\n            }\n          },\n          executeMainFn: options.session?.storeSessionInDatabase\n        } : void 0,\n        context\n      );\n      return updatedSession;\n    },\n    deleteSession: async (token) => {\n      if (secondaryStorage) {\n        await secondaryStorage.delete(token);\n        if (!options.session?.storeSessionInDatabase || ctx.options.session?.preserveSessionInDatabase) {\n          return;\n        }\n      }\n      await adapter.delete({\n        model: \"session\",\n        where: [\n          {\n            field: \"token\",\n            value: token\n          }\n        ]\n      });\n    },\n    deleteAccounts: async (userId) => {\n      await adapter.deleteMany({\n        model: \"account\",\n        where: [\n          {\n            field: \"userId\",\n            value: userId\n          }\n        ]\n      });\n    },\n    deleteAccount: async (accountId) => {\n      await adapter.delete({\n        model: \"account\",\n        where: [\n          {\n            field: \"id\",\n            value: accountId\n          }\n        ]\n      });\n    },\n    deleteSessions: async (userIdOrSessionTokens) => {\n      if (secondaryStorage) {\n        if (typeof userIdOrSessionTokens === \"string\") {\n          const activeSession = await secondaryStorage.get(\n            `active-sessions-${userIdOrSessionTokens}`\n          );\n          const sessions = activeSession ? safeJSONParse(activeSession) : [];\n          if (!sessions) return;\n          for (const session of sessions) {\n            await secondaryStorage.delete(session.token);\n          }\n        } else {\n          for (const sessionToken of userIdOrSessionTokens) {\n            const session = await secondaryStorage.get(sessionToken);\n            if (session) {\n              await secondaryStorage.delete(sessionToken);\n            }\n          }\n        }\n        if (!options.session?.storeSessionInDatabase || ctx.options.session?.preserveSessionInDatabase) {\n          return;\n        }\n      }\n      await adapter.deleteMany({\n        model: \"session\",\n        where: [\n          {\n            field: Array.isArray(userIdOrSessionTokens) ? \"token\" : \"userId\",\n            value: userIdOrSessionTokens,\n            operator: Array.isArray(userIdOrSessionTokens) ? \"in\" : void 0\n          }\n        ]\n      });\n    },\n    findOAuthUser: async (email, accountId, providerId) => {\n      const account = await adapter.findMany({\n        model: \"account\",\n        where: [\n          {\n            value: accountId,\n            field: \"accountId\"\n          }\n        ]\n      }).then((accounts) => {\n        return accounts.find((a) => a.providerId === providerId);\n      });\n      if (account) {\n        const user = await adapter.findOne({\n          model: \"user\",\n          where: [\n            {\n              value: account.userId,\n              field: \"id\"\n            }\n          ]\n        });\n        if (user) {\n          return {\n            user,\n            accounts: [account]\n          };\n        } else {\n          const user2 = await adapter.findOne({\n            model: \"user\",\n            where: [\n              {\n                value: email.toLowerCase(),\n                field: \"email\"\n              }\n            ]\n          });\n          if (user2) {\n            return {\n              user: user2,\n              accounts: [account]\n            };\n          }\n          return null;\n        }\n      } else {\n        const user = await adapter.findOne({\n          model: \"user\",\n          where: [\n            {\n              value: email.toLowerCase(),\n              field: \"email\"\n            }\n          ]\n        });\n        if (user) {\n          const accounts = await adapter.findMany({\n            model: \"account\",\n            where: [\n              {\n                value: user.id,\n                field: \"userId\"\n              }\n            ]\n          });\n          return {\n            user,\n            accounts: accounts || []\n          };\n        } else {\n          return null;\n        }\n      }\n    },\n    findUserByEmail: async (email, options2) => {\n      const user = await adapter.findOne({\n        model: \"user\",\n        where: [\n          {\n            value: email.toLowerCase(),\n            field: \"email\"\n          }\n        ]\n      });\n      if (!user) return null;\n      if (options2?.includeAccounts) {\n        const accounts = await adapter.findMany({\n          model: \"account\",\n          where: [\n            {\n              value: user.id,\n              field: \"userId\"\n            }\n          ]\n        });\n        return {\n          user,\n          accounts\n        };\n      }\n      return {\n        user,\n        accounts: []\n      };\n    },\n    findUserById: async (userId) => {\n      const user = await adapter.findOne({\n        model: \"user\",\n        where: [\n          {\n            field: \"id\",\n            value: userId\n          }\n        ]\n      });\n      return user;\n    },\n    linkAccount: async (account, context) => {\n      const _account = await createWithHooks(\n        {\n          ...account,\n          createdAt: /* @__PURE__ */ new Date(),\n          updatedAt: /* @__PURE__ */ new Date()\n        },\n        \"account\",\n        void 0,\n        context\n      );\n      return _account;\n    },\n    updateUser: async (userId, data, context) => {\n      const user = await updateWithHooks(\n        data,\n        [\n          {\n            field: \"id\",\n            value: userId\n          }\n        ],\n        \"user\",\n        void 0,\n        context\n      );\n      if (secondaryStorage && user) {\n        const listRaw = await secondaryStorage.get(`active-sessions-${userId}`);\n        if (listRaw) {\n          const now = Date.now();\n          const list = safeJSONParse(listRaw) || [];\n          const validSessions = list.filter((s) => s.expiresAt > now);\n          await Promise.all(\n            validSessions.map(async ({ token }) => {\n              const cached = await secondaryStorage.get(token);\n              if (!cached) return;\n              const parsed = safeJSONParse(cached);\n              if (!parsed) return;\n              const sessionTTL = Math.max(\n                Math.floor(\n                  (new Date(parsed.session.expiresAt).getTime() - now) / 1e3\n                ),\n                0\n              );\n              await secondaryStorage.set(\n                token,\n                JSON.stringify({\n                  session: parsed.session,\n                  user\n                }),\n                sessionTTL\n              );\n            })\n          );\n        }\n      }\n      return user;\n    },\n    updateUserByEmail: async (email, data, context) => {\n      const user = await updateWithHooks(\n        data,\n        [\n          {\n            field: \"email\",\n            value: email.toLowerCase()\n          }\n        ],\n        \"user\",\n        void 0,\n        context\n      );\n      return user;\n    },\n    updatePassword: async (userId, password, context) => {\n      await updateManyWithHooks(\n        {\n          password\n        },\n        [\n          {\n            field: \"userId\",\n            value: userId\n          },\n          {\n            field: \"providerId\",\n            value: \"credential\"\n          }\n        ],\n        \"account\",\n        void 0,\n        context\n      );\n    },\n    findAccounts: async (userId) => {\n      const accounts = await adapter.findMany({\n        model: \"account\",\n        where: [\n          {\n            field: \"userId\",\n            value: userId\n          }\n        ]\n      });\n      return accounts;\n    },\n    findAccount: async (accountId) => {\n      const account = await adapter.findOne({\n        model: \"account\",\n        where: [\n          {\n            field: \"accountId\",\n            value: accountId\n          }\n        ]\n      });\n      return account;\n    },\n    findAccountByProviderId: async (accountId, providerId) => {\n      const account = await adapter.findOne({\n        model: \"account\",\n        where: [\n          {\n            field: \"accountId\",\n            value: accountId\n          },\n          {\n            field: \"providerId\",\n            value: providerId\n          }\n        ]\n      });\n      return account;\n    },\n    findAccountByUserId: async (userId) => {\n      const account = await adapter.findMany({\n        model: \"account\",\n        where: [\n          {\n            field: \"userId\",\n            value: userId\n          }\n        ]\n      });\n      return account;\n    },\n    updateAccount: async (id, data, context) => {\n      const account = await updateWithHooks(\n        data,\n        [{ field: \"id\", value: id }],\n        \"account\",\n        void 0,\n        context\n      );\n      return account;\n    },\n    createVerificationValue: async (data, context) => {\n      const verification = await createWithHooks(\n        {\n          createdAt: /* @__PURE__ */ new Date(),\n          updatedAt: /* @__PURE__ */ new Date(),\n          ...data\n        },\n        \"verification\",\n        void 0,\n        context\n      );\n      return verification;\n    },\n    findVerificationValue: async (identifier) => {\n      const verification = await adapter.findMany({\n        model: \"verification\",\n        where: [\n          {\n            field: \"identifier\",\n            value: identifier\n          }\n        ],\n        sortBy: {\n          field: \"createdAt\",\n          direction: \"desc\"\n        },\n        limit: 1\n      });\n      if (!options.verification?.disableCleanup) {\n        await adapter.deleteMany({\n          model: \"verification\",\n          where: [\n            {\n              field: \"expiresAt\",\n              value: /* @__PURE__ */ new Date(),\n              operator: \"lt\"\n            }\n          ]\n        });\n      }\n      const lastVerification = verification[0];\n      return lastVerification;\n    },\n    deleteVerificationValue: async (id) => {\n      await adapter.delete({\n        model: \"verification\",\n        where: [\n          {\n            field: \"id\",\n            value: id\n          }\n        ]\n      });\n    },\n    deleteVerificationByIdentifier: async (identifier) => {\n      await adapter.delete({\n        model: \"verification\",\n        where: [\n          {\n            field: \"identifier\",\n            value: identifier\n          }\n        ]\n      });\n    },\n    updateVerificationValue: async (id, data, context) => {\n      const verification = await updateWithHooks(\n        data,\n        [{ field: \"id\", value: id }],\n        \"verification\",\n        void 0,\n        context\n      );\n      return verification;\n    }\n  };\n};\n\nasync function getAdapter(options) {\n  if (!options.database) {\n    const tables = getAuthTables(options);\n    const memoryDB = Object.keys(tables).reduce((acc, key) => {\n      acc[key] = [];\n      return acc;\n    }, {});\n    logger.warn(\n      \"No database configuration provided. Using memory adapter in development\"\n    );\n    return memoryAdapter(memoryDB)(options);\n  }\n  if (typeof options.database === \"function\") {\n    return options.database(options);\n  }\n  const { kysely, databaseType } = await createKyselyAdapter(options);\n  if (!kysely) {\n    throw new BetterAuthError(\"Failed to initialize database adapter\");\n  }\n  return kyselyAdapter(kysely, {\n    type: databaseType || \"sqlite\",\n    debugLogs: \"debugLogs\" in options.database ? options.database.debugLogs : false\n  })(options);\n}\nfunction convertToDB(fields, values) {\n  let result = values.id ? {\n    id: values.id\n  } : {};\n  for (const key in fields) {\n    const field = fields[key];\n    const value = values[key];\n    if (value === void 0) {\n      continue;\n    }\n    result[field.fieldName || key] = value;\n  }\n  return result;\n}\nfunction convertFromDB(fields, values) {\n  if (!values) {\n    return null;\n  }\n  let result = {\n    id: values.id\n  };\n  for (const [key, value] of Object.entries(fields)) {\n    result[key] = values[value.fieldName || key];\n  }\n  return result;\n}\n\nfunction getSchema(config) {\n  const tables = getAuthTables(config);\n  let schema = {};\n  for (const key in tables) {\n    const table = tables[key];\n    const fields = table.fields;\n    let actualFields = {};\n    Object.entries(fields).forEach(([key2, field]) => {\n      actualFields[field.fieldName || key2] = field;\n      if (field.references) {\n        const refTable = tables[field.references.model];\n        if (refTable) {\n          actualFields[field.fieldName || key2].references = {\n            model: refTable.modelName,\n            field: field.references.field\n          };\n        }\n      }\n    });\n    if (schema[table.modelName]) {\n      schema[table.modelName].fields = {\n        ...schema[table.modelName].fields,\n        ...actualFields\n      };\n      continue;\n    }\n    schema[table.modelName] = {\n      fields: actualFields,\n      order: table.order || Infinity\n    };\n  }\n  return schema;\n}\n\nconst postgresMap = {\n  string: [\"character varying\", \"varchar\", \"text\"],\n  number: [\n    \"int4\",\n    \"integer\",\n    \"bigint\",\n    \"smallint\",\n    \"numeric\",\n    \"real\",\n    \"double precision\"\n  ],\n  boolean: [\"bool\", \"boolean\"],\n  date: [\"timestamp\", \"date\"]\n};\nconst mysqlMap = {\n  string: [\"varchar\", \"text\"],\n  number: [\n    \"integer\",\n    \"int\",\n    \"bigint\",\n    \"smallint\",\n    \"decimal\",\n    \"float\",\n    \"double\"\n  ],\n  boolean: [\"boolean\", \"tinyint\"],\n  date: [\"timestamp\", \"datetime\", \"date\"]\n};\nconst sqliteMap = {\n  string: [\"TEXT\"],\n  number: [\"INTEGER\", \"REAL\"],\n  boolean: [\"INTEGER\", \"BOOLEAN\"],\n  // 0 or 1\n  date: [\"DATE\", \"INTEGER\"]\n};\nconst mssqlMap = {\n  string: [\"text\", \"varchar\"],\n  number: [\"int\", \"bigint\", \"smallint\", \"decimal\", \"float\", \"double\"],\n  boolean: [\"bit\", \"smallint\"],\n  date: [\"datetime\", \"date\"]\n};\nconst map = {\n  postgres: postgresMap,\n  mysql: mysqlMap,\n  sqlite: sqliteMap,\n  mssql: mssqlMap\n};\nfunction matchType(columnDataType, fieldType, dbType) {\n  function normalize(type) {\n    return type.toLowerCase().split(\"(\")[0].trim();\n  }\n  if (fieldType === \"string[]\" || fieldType === \"number[]\") {\n    return columnDataType.toLowerCase().includes(\"json\");\n  }\n  const types = map[dbType];\n  const expected = Array.isArray(fieldType) ? types[\"string\"].map((t) => t.toLowerCase()) : types[fieldType].map((t) => t.toLowerCase());\n  return expected.includes(normalize(columnDataType));\n}\nasync function getMigrations(config) {\n  const betterAuthSchema = getSchema(config);\n  const logger = createLogger(config.logger);\n  let { kysely: db, databaseType: dbType } = await createKyselyAdapter(config);\n  if (!dbType) {\n    logger.warn(\n      \"Could not determine database type, defaulting to sqlite. Please provide a type in the database options to avoid this.\"\n    );\n    dbType = \"sqlite\";\n  }\n  if (!db) {\n    logger.error(\n      \"Only kysely adapter is supported for migrations. You can use `generate` command to generate the schema, if you're using a different adapter.\"\n    );\n    process.exit(1);\n  }\n  const tableMetadata = await db.introspection.getTables();\n  const toBeCreated = [];\n  const toBeAdded = [];\n  for (const [key, value] of Object.entries(betterAuthSchema)) {\n    const table = tableMetadata.find((t) => t.name === key);\n    if (!table) {\n      const tIndex = toBeCreated.findIndex((t) => t.table === key);\n      const tableData = {\n        table: key,\n        fields: value.fields,\n        order: value.order || Infinity\n      };\n      const insertIndex = toBeCreated.findIndex(\n        (t) => (t.order || Infinity) > tableData.order\n      );\n      if (insertIndex === -1) {\n        if (tIndex === -1) {\n          toBeCreated.push(tableData);\n        } else {\n          toBeCreated[tIndex].fields = {\n            ...toBeCreated[tIndex].fields,\n            ...value.fields\n          };\n        }\n      } else {\n        toBeCreated.splice(insertIndex, 0, tableData);\n      }\n      continue;\n    }\n    let toBeAddedFields = {};\n    for (const [fieldName, field] of Object.entries(value.fields)) {\n      const column = table.columns.find((c) => c.name === fieldName);\n      if (!column) {\n        toBeAddedFields[fieldName] = field;\n        continue;\n      }\n      if (matchType(column.dataType, field.type, dbType)) {\n        continue;\n      } else {\n        logger.warn(\n          `Field ${fieldName} in table ${key} has a different type in the database. Expected ${field.type} but got ${column.dataType}.`\n        );\n      }\n    }\n    if (Object.keys(toBeAddedFields).length > 0) {\n      toBeAdded.push({\n        table: key,\n        fields: toBeAddedFields,\n        order: value.order || Infinity\n      });\n    }\n  }\n  const migrations = [];\n  function getType(field, fieldName) {\n    const type = field.type;\n    const typeMap = {\n      string: {\n        sqlite: \"text\",\n        postgres: \"text\",\n        mysql: field.unique ? \"varchar(255)\" : field.references ? \"varchar(36)\" : \"text\",\n        mssql: field.unique || field.sortable ? \"varchar(255)\" : field.references ? \"varchar(36)\" : \"text\"\n      },\n      boolean: {\n        sqlite: \"integer\",\n        postgres: \"boolean\",\n        mysql: \"boolean\",\n        mssql: \"smallint\"\n      },\n      number: {\n        sqlite: field.bigint ? \"bigint\" : \"integer\",\n        postgres: field.bigint ? \"bigint\" : \"integer\",\n        mysql: field.bigint ? \"bigint\" : \"integer\",\n        mssql: field.bigint ? \"bigint\" : \"integer\"\n      },\n      date: {\n        sqlite: \"date\",\n        postgres: \"timestamp\",\n        mysql: \"datetime\",\n        mssql: \"datetime\"\n      },\n      id: {\n        postgres: config.advanced?.database?.useNumberId ? \"serial\" : \"text\",\n        mysql: config.advanced?.database?.useNumberId ? \"integer\" : \"varchar(36)\",\n        mssql: config.advanced?.database?.useNumberId ? \"integer\" : \"varchar(36)\",\n        sqlite: config.advanced?.database?.useNumberId ? \"integer\" : \"text\"\n      }\n    };\n    if (fieldName === \"id\" || field.references?.field === \"id\") {\n      return typeMap.id[dbType];\n    }\n    if (dbType === \"sqlite\" && (type === \"string[]\" || type === \"number[]\")) {\n      return \"text\";\n    }\n    if (type === \"string[]\" || type === \"number[]\") {\n      return \"jsonb\";\n    }\n    if (Array.isArray(type)) {\n      return \"text\";\n    }\n    return typeMap[type][dbType || \"sqlite\"];\n  }\n  if (toBeAdded.length) {\n    for (const table of toBeAdded) {\n      for (const [fieldName, field] of Object.entries(table.fields)) {\n        const type = getType(field, fieldName);\n        const exec = db.schema.alterTable(table.table).addColumn(fieldName, type, (col) => {\n          col = field.required !== false ? col.notNull() : col;\n          if (field.references) {\n            col = col.references(\n              `${field.references.model}.${field.references.field}`\n            );\n          }\n          if (field.unique) {\n            col = col.unique();\n          }\n          return col;\n        });\n        migrations.push(exec);\n      }\n    }\n  }\n  if (toBeCreated.length) {\n    for (const table of toBeCreated) {\n      let dbT = db.schema.createTable(table.table).addColumn(\n        \"id\",\n        config.advanced?.database?.useNumberId ? dbType === \"postgres\" ? \"serial\" : \"integer\" : dbType === \"mysql\" || dbType === \"mssql\" ? \"varchar(36)\" : \"text\",\n        (col) => {\n          if (config.advanced?.database?.useNumberId) {\n            if (dbType === \"postgres\") {\n              return col.primaryKey().notNull();\n            }\n            return col.autoIncrement().primaryKey().notNull();\n          }\n          return col.primaryKey().notNull();\n        }\n      );\n      for (const [fieldName, field] of Object.entries(table.fields)) {\n        const type = getType(field, fieldName);\n        dbT = dbT.addColumn(fieldName, type, (col) => {\n          col = field.required !== false ? col.notNull() : col;\n          if (field.references) {\n            col = col.references(\n              `${field.references.model}.${field.references.field}`\n            );\n          }\n          if (field.unique) {\n            col = col.unique();\n          }\n          return col;\n        });\n      }\n      migrations.push(dbT);\n    }\n  }\n  async function runMigrations() {\n    for (const migration of migrations) {\n      await migration.execute();\n    }\n  }\n  async function compileMigrations() {\n    const compiled = migrations.map((m) => m.compile().sql);\n    return compiled.join(\";\\n\\n\") + \";\";\n  }\n  return { toBeCreated, toBeAdded, runMigrations, compileMigrations };\n}\n\nexport { getAdapter as a, convertToDB as b, createInternalAdapter as c, convertFromDB as d, getMigrations as e, getSchema as f, getWithHooks as g, matchType as m };\n", "const getAuthTables = (options) => {\n  const pluginSchema = options.plugins?.reduce(\n    (acc, plugin) => {\n      const schema = plugin.schema;\n      if (!schema) return acc;\n      for (const [key, value] of Object.entries(schema)) {\n        acc[key] = {\n          fields: {\n            ...acc[key]?.fields,\n            ...value.fields\n          },\n          modelName: value.modelName || key\n        };\n      }\n      return acc;\n    },\n    {}\n  );\n  const shouldAddRateLimitTable = options.rateLimit?.storage === \"database\";\n  const rateLimitTable = {\n    rateLimit: {\n      modelName: options.rateLimit?.modelName || \"rateLimit\",\n      fields: {\n        key: {\n          type: \"string\",\n          fieldName: options.rateLimit?.fields?.key || \"key\"\n        },\n        count: {\n          type: \"number\",\n          fieldName: options.rateLimit?.fields?.count || \"count\"\n        },\n        lastRequest: {\n          type: \"number\",\n          bigint: true,\n          fieldName: options.rateLimit?.fields?.lastRequest || \"lastRequest\"\n        }\n      }\n    }\n  };\n  const { user, session, account, ...pluginTables } = pluginSchema || {};\n  const sessionTable = {\n    session: {\n      modelName: options.session?.modelName || \"session\",\n      fields: {\n        expiresAt: {\n          type: \"date\",\n          required: true,\n          fieldName: options.session?.fields?.expiresAt || \"expiresAt\"\n        },\n        token: {\n          type: \"string\",\n          required: true,\n          fieldName: options.session?.fields?.token || \"token\",\n          unique: true\n        },\n        createdAt: {\n          type: \"date\",\n          required: true,\n          fieldName: options.session?.fields?.createdAt || \"createdAt\"\n        },\n        updatedAt: {\n          type: \"date\",\n          required: true,\n          fieldName: options.session?.fields?.updatedAt || \"updatedAt\"\n        },\n        ipAddress: {\n          type: \"string\",\n          required: false,\n          fieldName: options.session?.fields?.ipAddress || \"ipAddress\"\n        },\n        userAgent: {\n          type: \"string\",\n          required: false,\n          fieldName: options.session?.fields?.userAgent || \"userAgent\"\n        },\n        userId: {\n          type: \"string\",\n          fieldName: options.session?.fields?.userId || \"userId\",\n          references: {\n            model: options.user?.modelName || \"user\",\n            field: \"id\",\n            onDelete: \"cascade\"\n          },\n          required: true\n        },\n        ...session?.fields,\n        ...options.session?.additionalFields\n      },\n      order: 2\n    }\n  };\n  return {\n    user: {\n      modelName: options.user?.modelName || \"user\",\n      fields: {\n        name: {\n          type: \"string\",\n          required: true,\n          fieldName: options.user?.fields?.name || \"name\",\n          sortable: true\n        },\n        email: {\n          type: \"string\",\n          unique: true,\n          required: true,\n          fieldName: options.user?.fields?.email || \"email\",\n          sortable: true\n        },\n        emailVerified: {\n          type: \"boolean\",\n          defaultValue: () => false,\n          required: true,\n          fieldName: options.user?.fields?.emailVerified || \"emailVerified\"\n        },\n        image: {\n          type: \"string\",\n          required: false,\n          fieldName: options.user?.fields?.image || \"image\"\n        },\n        createdAt: {\n          type: \"date\",\n          defaultValue: () => /* @__PURE__ */ new Date(),\n          required: true,\n          fieldName: options.user?.fields?.createdAt || \"createdAt\"\n        },\n        updatedAt: {\n          type: \"date\",\n          defaultValue: () => /* @__PURE__ */ new Date(),\n          required: true,\n          fieldName: options.user?.fields?.updatedAt || \"updatedAt\"\n        },\n        ...user?.fields,\n        ...options.user?.additionalFields\n      },\n      order: 1\n    },\n    //only add session table if it's not stored in secondary storage\n    ...!options.secondaryStorage || options.session?.storeSessionInDatabase ? sessionTable : {},\n    account: {\n      modelName: options.account?.modelName || \"account\",\n      fields: {\n        accountId: {\n          type: \"string\",\n          required: true,\n          fieldName: options.account?.fields?.accountId || \"accountId\"\n        },\n        providerId: {\n          type: \"string\",\n          required: true,\n          fieldName: options.account?.fields?.providerId || \"providerId\"\n        },\n        userId: {\n          type: \"string\",\n          references: {\n            model: options.user?.modelName || \"user\",\n            field: \"id\",\n            onDelete: \"cascade\"\n          },\n          required: true,\n          fieldName: options.account?.fields?.userId || \"userId\"\n        },\n        accessToken: {\n          type: \"string\",\n          required: false,\n          fieldName: options.account?.fields?.accessToken || \"accessToken\"\n        },\n        refreshToken: {\n          type: \"string\",\n          required: false,\n          fieldName: options.account?.fields?.refreshToken || \"refreshToken\"\n        },\n        idToken: {\n          type: \"string\",\n          required: false,\n          fieldName: options.account?.fields?.idToken || \"idToken\"\n        },\n        accessTokenExpiresAt: {\n          type: \"date\",\n          required: false,\n          fieldName: options.account?.fields?.accessTokenExpiresAt || \"accessTokenExpiresAt\"\n        },\n        refreshTokenExpiresAt: {\n          type: \"date\",\n          required: false,\n          fieldName: options.account?.fields?.accessTokenExpiresAt || \"refreshTokenExpiresAt\"\n        },\n        scope: {\n          type: \"string\",\n          required: false,\n          fieldName: options.account?.fields?.scope || \"scope\"\n        },\n        password: {\n          type: \"string\",\n          required: false,\n          fieldName: options.account?.fields?.password || \"password\"\n        },\n        createdAt: {\n          type: \"date\",\n          required: true,\n          fieldName: options.account?.fields?.createdAt || \"createdAt\"\n        },\n        updatedAt: {\n          type: \"date\",\n          required: true,\n          fieldName: options.account?.fields?.updatedAt || \"updatedAt\"\n        },\n        ...account?.fields\n      },\n      order: 3\n    },\n    verification: {\n      modelName: options.verification?.modelName || \"verification\",\n      fields: {\n        identifier: {\n          type: \"string\",\n          required: true,\n          fieldName: options.verification?.fields?.identifier || \"identifier\"\n        },\n        value: {\n          type: \"string\",\n          required: true,\n          fieldName: options.verification?.fields?.value || \"value\"\n        },\n        expiresAt: {\n          type: \"date\",\n          required: true,\n          fieldName: options.verification?.fields?.expiresAt || \"expiresAt\"\n        },\n        createdAt: {\n          type: \"date\",\n          required: false,\n          defaultValue: () => /* @__PURE__ */ new Date(),\n          fieldName: options.verification?.fields?.createdAt || \"createdAt\"\n        },\n        updatedAt: {\n          type: \"date\",\n          required: false,\n          defaultValue: () => /* @__PURE__ */ new Date(),\n          fieldName: options.verification?.fields?.updatedAt || \"updatedAt\"\n        }\n      },\n      order: 4\n    },\n    ...pluginTables,\n    ...shouldAddRateLimitTable ? rateLimitTable : {}\n  };\n};\n\nexport { getAuthTables as g };\n", "import { Kysely, SqliteDialect, MysqlDialect, PostgresDialect, MssqlDialect } from 'kysely';\nimport { c as createAdapter } from './better-auth.gBl3F_xa.mjs';\n\nfunction getDatabaseType(db) {\n  if (!db) {\n    return null;\n  }\n  if (\"dialect\" in db) {\n    return getDatabaseType(db.dialect);\n  }\n  if (\"createDriver\" in db) {\n    if (db instanceof SqliteDialect) {\n      return \"sqlite\";\n    }\n    if (db instanceof MysqlDialect) {\n      return \"mysql\";\n    }\n    if (db instanceof PostgresDialect) {\n      return \"postgres\";\n    }\n    if (db instanceof MssqlDialect) {\n      return \"mssql\";\n    }\n  }\n  if (\"aggregate\" in db) {\n    return \"sqlite\";\n  }\n  if (\"getConnection\" in db) {\n    return \"mysql\";\n  }\n  if (\"connect\" in db) {\n    return \"postgres\";\n  }\n  if (\"fileControl\" in db) {\n    return \"sqlite\";\n  }\n  return null;\n}\nconst createKyselyAdapter = async (config) => {\n  const db = config.database;\n  if (!db) {\n    return {\n      kysely: null,\n      databaseType: null\n    };\n  }\n  if (\"db\" in db) {\n    return {\n      kysely: db.db,\n      databaseType: db.type\n    };\n  }\n  if (\"dialect\" in db) {\n    return {\n      kysely: new Kysely({ dialect: db.dialect }),\n      databaseType: db.type\n    };\n  }\n  let dialect = void 0;\n  const databaseType = getDatabaseType(db);\n  if (\"createDriver\" in db) {\n    dialect = db;\n  }\n  if (\"aggregate\" in db) {\n    dialect = new SqliteDialect({\n      database: db\n    });\n  }\n  if (\"getConnection\" in db) {\n    dialect = new MysqlDialect(db);\n  }\n  if (\"connect\" in db) {\n    dialect = new PostgresDialect({\n      pool: db\n    });\n  }\n  if (\"fileControl\" in db) {\n    const { BunSqliteDialect } = await import('../chunks/bun-sqlite-dialect.mjs');\n    dialect = new BunSqliteDialect({\n      database: db\n    });\n  }\n  return {\n    kysely: dialect ? new Kysely({ dialect }) : null,\n    databaseType\n  };\n};\n\nconst kyselyAdapter = (db, config) => createAdapter({\n  config: {\n    adapterId: \"kysely\",\n    adapterName: \"Kysely Adapter\",\n    usePlural: config?.usePlural,\n    debugLogs: config?.debugLogs,\n    supportsBooleans: config?.type === \"sqlite\" || config?.type === \"mssql\" || !config?.type ? false : true,\n    supportsDates: config?.type === \"sqlite\" || config?.type === \"mssql\" || !config?.type ? false : true,\n    supportsJSON: false\n  },\n  adapter: ({ getFieldName, schema }) => {\n    const withReturning = async (values, builder, model, where) => {\n      let res;\n      if (config?.type === \"mysql\") {\n        await builder.execute();\n        const field = values.id ? \"id\" : where.length > 0 && where[0].field ? where[0].field : \"id\";\n        if (!values.id && where.length === 0) {\n          res = await db.selectFrom(model).selectAll().orderBy(getFieldName({ model, field }), \"desc\").limit(1).executeTakeFirst();\n          return res;\n        }\n        const value = values[field] || where[0].value;\n        res = await db.selectFrom(model).selectAll().orderBy(getFieldName({ model, field }), \"desc\").where(getFieldName({ model, field }), \"=\", value).limit(1).executeTakeFirst();\n        return res;\n      }\n      if (config?.type === \"mssql\") {\n        res = await builder.outputAll(\"inserted\").executeTakeFirst();\n        return res;\n      }\n      res = await builder.returningAll().executeTakeFirst();\n      return res;\n    };\n    function transformValueToDB(value, model, field) {\n      if (field === \"id\") {\n        return value;\n      }\n      const { type = \"sqlite\" } = config || {};\n      let f = schema[model]?.fields[field];\n      if (!f) {\n        f = Object.values(schema).find((f2) => f2.modelName === model);\n      }\n      if (f.type === \"boolean\" && (type === \"sqlite\" || type === \"mssql\") && value !== null && value !== void 0) {\n        return value ? 1 : 0;\n      }\n      if (f.type === \"date\" && value && value instanceof Date) {\n        return type === \"sqlite\" ? value.toISOString() : value;\n      }\n      return value;\n    }\n    function convertWhereClause(model, w) {\n      if (!w)\n        return {\n          and: null,\n          or: null\n        };\n      const conditions = {\n        and: [],\n        or: []\n      };\n      w.forEach((condition) => {\n        let {\n          field: _field,\n          value,\n          operator = \"=\",\n          connector = \"AND\"\n        } = condition;\n        const field = getFieldName({ model, field: _field });\n        value = transformValueToDB(value, model, _field);\n        const expr = (eb) => {\n          if (operator.toLowerCase() === \"in\") {\n            return eb(field, \"in\", Array.isArray(value) ? value : [value]);\n          }\n          if (operator === \"contains\") {\n            return eb(field, \"like\", `%${value}%`);\n          }\n          if (operator === \"starts_with\") {\n            return eb(field, \"like\", `${value}%`);\n          }\n          if (operator === \"ends_with\") {\n            return eb(field, \"like\", `%${value}`);\n          }\n          if (operator === \"eq\") {\n            return eb(field, \"=\", value);\n          }\n          if (operator === \"ne\") {\n            return eb(field, \"<>\", value);\n          }\n          if (operator === \"gt\") {\n            return eb(field, \">\", value);\n          }\n          if (operator === \"gte\") {\n            return eb(field, \">=\", value);\n          }\n          if (operator === \"lt\") {\n            return eb(field, \"<\", value);\n          }\n          if (operator === \"lte\") {\n            return eb(field, \"<=\", value);\n          }\n          return eb(field, operator, value);\n        };\n        if (connector === \"OR\") {\n          conditions.or.push(expr);\n        } else {\n          conditions.and.push(expr);\n        }\n      });\n      return {\n        and: conditions.and.length ? conditions.and : null,\n        or: conditions.or.length ? conditions.or : null\n      };\n    }\n    return {\n      async create({ data, model }) {\n        const builder = db.insertInto(model).values(data);\n        return await withReturning(data, builder, model, []);\n      },\n      async findOne({ model, where, select }) {\n        const { and, or } = convertWhereClause(model, where);\n        let query = db.selectFrom(model).selectAll();\n        if (and) {\n          query = query.where((eb) => eb.and(and.map((expr) => expr(eb))));\n        }\n        if (or) {\n          query = query.where((eb) => eb.or(or.map((expr) => expr(eb))));\n        }\n        const res = await query.executeTakeFirst();\n        if (!res) return null;\n        return res;\n      },\n      async findMany({ model, where, limit, offset, sortBy }) {\n        const { and, or } = convertWhereClause(model, where);\n        let query = db.selectFrom(model);\n        if (and) {\n          query = query.where((eb) => eb.and(and.map((expr) => expr(eb))));\n        }\n        if (or) {\n          query = query.where((eb) => eb.or(or.map((expr) => expr(eb))));\n        }\n        if (config?.type === \"mssql\") {\n          if (!offset) {\n            query = query.top(limit || 100);\n          }\n        } else {\n          query = query.limit(limit || 100);\n        }\n        if (sortBy) {\n          query = query.orderBy(\n            getFieldName({ model, field: sortBy.field }),\n            sortBy.direction\n          );\n        }\n        if (offset) {\n          if (config?.type === \"mssql\") {\n            if (!sortBy) {\n              query = query.orderBy(getFieldName({ model, field: \"id\" }));\n            }\n            query = query.offset(offset).fetch(limit || 100);\n          } else {\n            query = query.offset(offset);\n          }\n        }\n        const res = await query.selectAll().execute();\n        if (!res) return [];\n        return res;\n      },\n      async update({ model, where, update: values }) {\n        const { and, or } = convertWhereClause(model, where);\n        let query = db.updateTable(model).set(values);\n        if (and) {\n          query = query.where((eb) => eb.and(and.map((expr) => expr(eb))));\n        }\n        if (or) {\n          query = query.where((eb) => eb.or(or.map((expr) => expr(eb))));\n        }\n        return await withReturning(values, query, model, where);\n      },\n      async updateMany({ model, where, update: values }) {\n        const { and, or } = convertWhereClause(model, where);\n        let query = db.updateTable(model).set(values);\n        if (and) {\n          query = query.where((eb) => eb.and(and.map((expr) => expr(eb))));\n        }\n        if (or) {\n          query = query.where((eb) => eb.or(or.map((expr) => expr(eb))));\n        }\n        const res = await query.execute();\n        return res.length;\n      },\n      async count({ model, where }) {\n        const { and, or } = convertWhereClause(model, where);\n        let query = db.selectFrom(model).select(db.fn.count(\"id\").as(\"count\"));\n        if (and) {\n          query = query.where((eb) => eb.and(and.map((expr) => expr(eb))));\n        }\n        if (or) {\n          query = query.where((eb) => eb.or(or.map((expr) => expr(eb))));\n        }\n        const res = await query.execute();\n        return res[0].count;\n      },\n      async delete({ model, where }) {\n        const { and, or } = convertWhereClause(model, where);\n        let query = db.deleteFrom(model);\n        if (and) {\n          query = query.where((eb) => eb.and(and.map((expr) => expr(eb))));\n        }\n        if (or) {\n          query = query.where((eb) => eb.or(or.map((expr) => expr(eb))));\n        }\n        await query.execute();\n      },\n      async deleteMany({ model, where }) {\n        const { and, or } = convertWhereClause(model, where);\n        let query = db.deleteFrom(model);\n        if (and) {\n          query = query.where((eb) => eb.and(and.map((expr) => expr(eb))));\n        }\n        if (or) {\n          query = query.where((eb) => eb.or(or.map((expr) => expr(eb))));\n        }\n        return (await query.execute()).length;\n      },\n      options: config\n    };\n  }\n});\n\nexport { createKyselyAdapter as c, kyselyAdapter as k };\n", "import { s as safeJSONParse } from './better-auth.tB5eU6EY.mjs';\nimport { g as getAuthTables } from './better-auth.DORkW_Ge.mjs';\nimport { a as logger, g as generateId } from './better-auth.DBGfIDnh.mjs';\nimport 'zod/v4';\nimport 'better-call';\nimport '@better-auth/utils/hash';\nimport '@noble/ciphers/chacha';\nimport '@noble/ciphers/utils';\nimport '@noble/ciphers/webcrypto';\nimport '@better-auth/utils/base64';\nimport 'jose';\nimport '@noble/hashes/scrypt';\nimport '@better-auth/utils';\nimport '@better-auth/utils/hex';\nimport '@noble/hashes/utils';\nimport './better-auth.B4Qoxdgc.mjs';\n\nfunction withApplyDefault(value, field, action) {\n  if (action === \"update\") {\n    return value;\n  }\n  if (value === void 0 || value === null) {\n    if (field.defaultValue !== void 0) {\n      if (typeof field.defaultValue === \"function\") {\n        return field.defaultValue();\n      }\n      return field.defaultValue;\n    }\n  }\n  return value;\n}\n\nlet debugLogs = [];\nlet transactionId = -1;\nconst colors = {\n  reset: \"\\x1B[0m\",\n  bright: \"\\x1B[1m\",\n  dim: \"\\x1B[2m\",\n  fg: {\n    yellow: \"\\x1B[33m\",\n    magenta: \"\\x1B[35m\"},\n  bg: {\n    black: \"\\x1B[40m\"}\n};\nconst createAdapter = ({\n  adapter,\n  config: cfg\n}) => (options) => {\n  const config = {\n    ...cfg,\n    supportsBooleans: cfg.supportsBooleans ?? true,\n    supportsDates: cfg.supportsDates ?? true,\n    supportsJSON: cfg.supportsJSON ?? false,\n    adapterName: cfg.adapterName ?? cfg.adapterId,\n    supportsNumericIds: cfg.supportsNumericIds ?? true\n  };\n  if (options.advanced?.database?.useNumberId === true && config.supportsNumericIds === false) {\n    throw new Error(\n      `[${config.adapterName}] Your database or database adapter does not support numeric ids. Please disable \"useNumberId\" in your config.`\n    );\n  }\n  const schema = getAuthTables(options);\n  const getDefaultFieldName = ({\n    field,\n    model: unsafe_model\n  }) => {\n    if (field === \"id\" || field === \"_id\") {\n      return \"id\";\n    }\n    const model = getDefaultModelName(unsafe_model);\n    let f = schema[model]?.fields[field];\n    if (!f) {\n      f = Object.values(schema[model]?.fields).find(\n        (f2) => f2.fieldName === field\n      );\n    }\n    if (!f) {\n      debugLog(`Field ${field} not found in model ${model}`);\n      debugLog(`Schema:`, schema);\n      throw new Error(`Field ${field} not found in model ${model}`);\n    }\n    return field;\n  };\n  const getDefaultModelName = (model) => {\n    if (config.usePlural && model.charAt(model.length - 1) === \"s\") {\n      let pluralessModel = model.slice(0, -1);\n      let m2 = schema[pluralessModel] ? pluralessModel : void 0;\n      if (!m2) {\n        m2 = Object.entries(schema).find(\n          ([_, f]) => f.modelName === pluralessModel\n        )?.[0];\n      }\n      if (m2) {\n        return m2;\n      }\n    }\n    let m = schema[model] ? model : void 0;\n    if (!m) {\n      m = Object.entries(schema).find(([_, f]) => f.modelName === model)?.[0];\n    }\n    if (!m) {\n      debugLog(`Model \"${model}\" not found in schema`);\n      debugLog(`Schema:`, schema);\n      throw new Error(`Model \"${model}\" not found in schema`);\n    }\n    return m;\n  };\n  const getModelName = (model) => {\n    const defaultModelKey = getDefaultModelName(model);\n    const usePlural = config && config.usePlural;\n    const useCustomModelName = schema && schema[defaultModelKey] && schema[defaultModelKey].modelName !== model;\n    if (useCustomModelName) {\n      return usePlural ? `${schema[defaultModelKey].modelName}s` : schema[defaultModelKey].modelName;\n    }\n    return usePlural ? `${model}s` : model;\n  };\n  function getFieldName({\n    model: model_name,\n    field: field_name\n  }) {\n    const model = getDefaultModelName(model_name);\n    const field = getDefaultFieldName({ model, field: field_name });\n    return schema[model]?.fields[field]?.fieldName || field;\n  }\n  const debugLog = (...args) => {\n    if (config.debugLogs === true || typeof config.debugLogs === \"object\") {\n      if (typeof config.debugLogs === \"object\" && \"isRunningAdapterTests\" in config.debugLogs) {\n        if (config.debugLogs.isRunningAdapterTests) {\n          args.shift();\n          debugLogs.push(args);\n        }\n        return;\n      }\n      if (typeof config.debugLogs === \"object\" && config.debugLogs.logCondition && !config.debugLogs.logCondition?.()) {\n        return;\n      }\n      if (typeof args[0] === \"object\" && \"method\" in args[0]) {\n        const method = args.shift().method;\n        if (typeof config.debugLogs === \"object\") {\n          if (method === \"create\" && !config.debugLogs.create) {\n            return;\n          } else if (method === \"update\" && !config.debugLogs.update) {\n            return;\n          } else if (method === \"updateMany\" && !config.debugLogs.updateMany) {\n            return;\n          } else if (method === \"findOne\" && !config.debugLogs.findOne) {\n            return;\n          } else if (method === \"findMany\" && !config.debugLogs.findMany) {\n            return;\n          } else if (method === \"delete\" && !config.debugLogs.delete) {\n            return;\n          } else if (method === \"deleteMany\" && !config.debugLogs.deleteMany) {\n            return;\n          } else if (method === \"count\" && !config.debugLogs.count) {\n            return;\n          }\n        }\n        logger.info(`[${config.adapterName}]`, ...args);\n      } else {\n        logger.info(`[${config.adapterName}]`, ...args);\n      }\n    }\n  };\n  const idField = ({\n    customModelName,\n    forceAllowId\n  }) => {\n    const shouldGenerateId = !config.disableIdGeneration && !options.advanced?.database?.useNumberId && !forceAllowId;\n    const model = getDefaultModelName(customModelName ?? \"id\");\n    return {\n      type: options.advanced?.database?.useNumberId ? \"number\" : \"string\",\n      required: shouldGenerateId ? true : false,\n      ...shouldGenerateId ? {\n        defaultValue() {\n          if (config.disableIdGeneration) return void 0;\n          const useNumberId = options.advanced?.database?.useNumberId;\n          let generateId$1 = options.advanced?.database?.generateId;\n          if (options.advanced?.generateId !== void 0) {\n            logger.warn(\n              \"Your Better Auth config includes advanced.generateId which is deprecated. Please use advanced.database.generateId instead. This will be removed in future releases.\"\n            );\n            generateId$1 = options.advanced?.generateId;\n          }\n          if (generateId$1 === false || useNumberId) return void 0;\n          if (generateId$1) {\n            return generateId$1({\n              model\n            });\n          }\n          if (config.customIdGenerator) {\n            return config.customIdGenerator({ model });\n          }\n          return generateId();\n        }\n      } : {}\n    };\n  };\n  const getFieldAttributes = ({\n    model,\n    field\n  }) => {\n    const defaultModelName = getDefaultModelName(model);\n    const defaultFieldName = getDefaultFieldName({\n      field,\n      model\n    });\n    const fields = schema[defaultModelName].fields;\n    fields.id = idField({ customModelName: defaultModelName });\n    return fields[defaultFieldName];\n  };\n  const adapterInstance = adapter({\n    options,\n    schema,\n    debugLog,\n    getFieldName,\n    getModelName,\n    getDefaultModelName,\n    getDefaultFieldName,\n    getFieldAttributes\n  });\n  const transformInput = async (data, unsafe_model, action, forceAllowId) => {\n    const transformedData = {};\n    const fields = schema[unsafe_model].fields;\n    const newMappedKeys = config.mapKeysTransformInput ?? {};\n    if (!config.disableIdGeneration && !options.advanced?.database?.useNumberId) {\n      fields.id = idField({\n        customModelName: unsafe_model,\n        forceAllowId: forceAllowId && \"id\" in data\n      });\n    }\n    for (const field in fields) {\n      const value = data[field];\n      const fieldAttributes = fields[field];\n      let newFieldName = newMappedKeys[field] || fields[field].fieldName || field;\n      if (value === void 0 && (!fieldAttributes.defaultValue && !fieldAttributes.transform?.input || action === \"update\")) {\n        continue;\n      }\n      let newValue = withApplyDefault(value, fieldAttributes, action);\n      if (fieldAttributes.transform?.input) {\n        newValue = await fieldAttributes.transform.input(newValue);\n      }\n      if (fieldAttributes.references?.field === \"id\" && options.advanced?.database?.useNumberId) {\n        if (Array.isArray(newValue)) {\n          newValue = newValue.map(Number);\n        } else {\n          newValue = Number(newValue);\n        }\n      } else if (config.supportsJSON === false && typeof newValue === \"object\" && //@ts-expect-error -Future proofing\n      fieldAttributes.type === \"json\") {\n        newValue = JSON.stringify(newValue);\n      } else if (config.supportsDates === false && newValue instanceof Date && fieldAttributes.type === \"date\") {\n        newValue = newValue.toISOString();\n      } else if (config.supportsBooleans === false && typeof newValue === \"boolean\") {\n        newValue = newValue ? 1 : 0;\n      }\n      if (config.customTransformInput) {\n        newValue = config.customTransformInput({\n          data: newValue,\n          action,\n          field: newFieldName,\n          fieldAttributes,\n          model: unsafe_model,\n          schema,\n          options\n        });\n      }\n      transformedData[newFieldName] = newValue;\n    }\n    return transformedData;\n  };\n  const transformOutput = async (data, unsafe_model, select = []) => {\n    if (!data) return null;\n    const newMappedKeys = config.mapKeysTransformOutput ?? {};\n    const transformedData = {};\n    const tableSchema = schema[unsafe_model].fields;\n    const idKey = Object.entries(newMappedKeys).find(\n      ([_, v]) => v === \"id\"\n    )?.[0];\n    tableSchema[idKey ?? \"id\"] = {\n      type: options.advanced?.database?.useNumberId ? \"number\" : \"string\"\n    };\n    for (const key in tableSchema) {\n      if (select.length && !select.includes(key)) {\n        continue;\n      }\n      const field = tableSchema[key];\n      if (field) {\n        const originalKey = field.fieldName || key;\n        let newValue = data[Object.entries(newMappedKeys).find(\n          ([_, v]) => v === originalKey\n        )?.[0] || originalKey];\n        if (field.transform?.output) {\n          newValue = await field.transform.output(newValue);\n        }\n        let newFieldName = newMappedKeys[key] || key;\n        if (originalKey === \"id\" || field.references?.field === \"id\") {\n          if (typeof newValue !== \"undefined\") newValue = String(newValue);\n        } else if (config.supportsJSON === false && typeof newValue === \"string\" && //@ts-expect-error - Future proofing\n        field.type === \"json\") {\n          newValue = safeJSONParse(newValue);\n        } else if (config.supportsDates === false && typeof newValue === \"string\" && field.type === \"date\") {\n          newValue = new Date(newValue);\n        } else if (config.supportsBooleans === false && typeof newValue === \"number\" && field.type === \"boolean\") {\n          newValue = newValue === 1;\n        }\n        if (config.customTransformOutput) {\n          newValue = config.customTransformOutput({\n            data: newValue,\n            field: newFieldName,\n            fieldAttributes: field,\n            select,\n            model: unsafe_model,\n            schema,\n            options\n          });\n        }\n        transformedData[newFieldName] = newValue;\n      }\n    }\n    return transformedData;\n  };\n  const transformWhereClause = ({\n    model,\n    where\n  }) => {\n    if (!where) return void 0;\n    const newMappedKeys = config.mapKeysTransformInput ?? {};\n    return where.map((w) => {\n      const {\n        field: unsafe_field,\n        value,\n        operator = \"eq\",\n        connector = \"AND\"\n      } = w;\n      if (operator === \"in\") {\n        if (!Array.isArray(value)) {\n          throw new Error(\"Value must be an array\");\n        }\n      }\n      const defaultModelName = getDefaultModelName(model);\n      const defaultFieldName = getDefaultFieldName({\n        field: unsafe_field,\n        model\n      });\n      const fieldName = newMappedKeys[defaultFieldName] || getFieldName({\n        field: defaultFieldName,\n        model: defaultModelName\n      });\n      const fieldAttr = getFieldAttributes({\n        field: defaultFieldName,\n        model: defaultModelName\n      });\n      if (defaultFieldName === \"id\" || fieldAttr.references?.field === \"id\") {\n        if (options.advanced?.database?.useNumberId) {\n          if (Array.isArray(value)) {\n            return {\n              operator,\n              connector,\n              field: fieldName,\n              value: value.map(Number)\n            };\n          }\n          return {\n            operator,\n            connector,\n            field: fieldName,\n            value: Number(value)\n          };\n        }\n      }\n      return {\n        operator,\n        connector,\n        field: fieldName,\n        value\n      };\n    });\n  };\n  return {\n    create: async ({\n      data: unsafeData,\n      model: unsafeModel,\n      select,\n      forceAllowId = false\n    }) => {\n      transactionId++;\n      let thisTransactionId = transactionId;\n      const model = getModelName(unsafeModel);\n      if (\"id\" in unsafeData && !forceAllowId) {\n        logger.warn(\n          `[${config.adapterName}] - You are trying to create a record with an id. This is not allowed as we handle id generation for you, unless you pass in the \\`forceAllowId\\` parameter. The id will be ignored.`\n        );\n        const err = new Error();\n        const stack = err.stack?.split(\"\\n\").filter((_, i) => i !== 1).join(\"\\n\").replace(\"Error:\", \"Create method with `id` being called at:\");\n        console.log(stack);\n        unsafeData.id = void 0;\n      }\n      debugLog(\n        { method: \"create\" },\n        `${formatTransactionId(thisTransactionId)} ${formatStep(1, 4)}`,\n        `${formatMethod(\"create\")} ${formatAction(\"Unsafe Input\")}:`,\n        { model, data: unsafeData }\n      );\n      const data = await transformInput(\n        unsafeData,\n        unsafeModel,\n        \"create\",\n        forceAllowId\n      );\n      debugLog(\n        { method: \"create\" },\n        `${formatTransactionId(thisTransactionId)} ${formatStep(2, 4)}`,\n        `${formatMethod(\"create\")} ${formatAction(\"Parsed Input\")}:`,\n        { model, data }\n      );\n      const res = await adapterInstance.create({ data, model });\n      debugLog(\n        { method: \"create\" },\n        `${formatTransactionId(thisTransactionId)} ${formatStep(3, 4)}`,\n        `${formatMethod(\"create\")} ${formatAction(\"DB Result\")}:`,\n        { model, res }\n      );\n      const transformed = await transformOutput(res, unsafeModel, select);\n      debugLog(\n        { method: \"create\" },\n        `${formatTransactionId(thisTransactionId)} ${formatStep(4, 4)}`,\n        `${formatMethod(\"create\")} ${formatAction(\"Parsed Result\")}:`,\n        { model, data: transformed }\n      );\n      return transformed;\n    },\n    update: async ({\n      model: unsafeModel,\n      where: unsafeWhere,\n      update: unsafeData\n    }) => {\n      transactionId++;\n      let thisTransactionId = transactionId;\n      const model = getModelName(unsafeModel);\n      const where = transformWhereClause({\n        model: unsafeModel,\n        where: unsafeWhere\n      });\n      debugLog(\n        { method: \"update\" },\n        `${formatTransactionId(thisTransactionId)} ${formatStep(1, 4)}`,\n        `${formatMethod(\"update\")} ${formatAction(\"Unsafe Input\")}:`,\n        { model, data: unsafeData }\n      );\n      const data = await transformInput(\n        unsafeData,\n        unsafeModel,\n        \"update\"\n      );\n      debugLog(\n        { method: \"update\" },\n        `${formatTransactionId(thisTransactionId)} ${formatStep(2, 4)}`,\n        `${formatMethod(\"update\")} ${formatAction(\"Parsed Input\")}:`,\n        { model, data }\n      );\n      const res = await adapterInstance.update({\n        model,\n        where,\n        update: data\n      });\n      debugLog(\n        { method: \"update\" },\n        `${formatTransactionId(thisTransactionId)} ${formatStep(3, 4)}`,\n        `${formatMethod(\"update\")} ${formatAction(\"DB Result\")}:`,\n        { model, data: res }\n      );\n      const transformed = await transformOutput(res, unsafeModel);\n      debugLog(\n        { method: \"update\" },\n        `${formatTransactionId(thisTransactionId)} ${formatStep(4, 4)}`,\n        `${formatMethod(\"update\")} ${formatAction(\"Parsed Result\")}:`,\n        { model, data: transformed }\n      );\n      return transformed;\n    },\n    updateMany: async ({\n      model: unsafeModel,\n      where: unsafeWhere,\n      update: unsafeData\n    }) => {\n      transactionId++;\n      let thisTransactionId = transactionId;\n      const model = getModelName(unsafeModel);\n      const where = transformWhereClause({\n        model: unsafeModel,\n        where: unsafeWhere\n      });\n      debugLog(\n        { method: \"updateMany\" },\n        `${formatTransactionId(thisTransactionId)} ${formatStep(1, 4)}`,\n        `${formatMethod(\"updateMany\")} ${formatAction(\"Unsafe Input\")}:`,\n        { model, data: unsafeData }\n      );\n      const data = await transformInput(unsafeData, unsafeModel, \"update\");\n      debugLog(\n        { method: \"updateMany\" },\n        `${formatTransactionId(thisTransactionId)} ${formatStep(2, 4)}`,\n        `${formatMethod(\"updateMany\")} ${formatAction(\"Parsed Input\")}:`,\n        { model, data }\n      );\n      const updatedCount = await adapterInstance.updateMany({\n        model,\n        where,\n        update: data\n      });\n      debugLog(\n        { method: \"updateMany\" },\n        `${formatTransactionId(thisTransactionId)} ${formatStep(3, 4)}`,\n        `${formatMethod(\"updateMany\")} ${formatAction(\"DB Result\")}:`,\n        { model, data: updatedCount }\n      );\n      debugLog(\n        { method: \"updateMany\" },\n        `${formatTransactionId(thisTransactionId)} ${formatStep(4, 4)}`,\n        `${formatMethod(\"updateMany\")} ${formatAction(\"Parsed Result\")}:`,\n        { model, data: updatedCount }\n      );\n      return updatedCount;\n    },\n    findOne: async ({\n      model: unsafeModel,\n      where: unsafeWhere,\n      select\n    }) => {\n      transactionId++;\n      let thisTransactionId = transactionId;\n      const model = getModelName(unsafeModel);\n      const where = transformWhereClause({\n        model: unsafeModel,\n        where: unsafeWhere\n      });\n      debugLog(\n        { method: \"findOne\" },\n        `${formatTransactionId(thisTransactionId)} ${formatStep(1, 3)}`,\n        `${formatMethod(\"findOne\")}:`,\n        { model, where, select }\n      );\n      const res = await adapterInstance.findOne({\n        model,\n        where,\n        select\n      });\n      debugLog(\n        { method: \"findOne\" },\n        `${formatTransactionId(thisTransactionId)} ${formatStep(2, 3)}`,\n        `${formatMethod(\"findOne\")} ${formatAction(\"DB Result\")}:`,\n        { model, data: res }\n      );\n      const transformed = await transformOutput(\n        res,\n        unsafeModel,\n        select\n      );\n      debugLog(\n        { method: \"findOne\" },\n        `${formatTransactionId(thisTransactionId)} ${formatStep(3, 3)}`,\n        `${formatMethod(\"findOne\")} ${formatAction(\"Parsed Result\")}:`,\n        { model, data: transformed }\n      );\n      return transformed;\n    },\n    findMany: async ({\n      model: unsafeModel,\n      where: unsafeWhere,\n      limit: unsafeLimit,\n      sortBy,\n      offset\n    }) => {\n      transactionId++;\n      let thisTransactionId = transactionId;\n      const limit = unsafeLimit ?? options.advanced?.database?.defaultFindManyLimit ?? 100;\n      const model = getModelName(unsafeModel);\n      const where = transformWhereClause({\n        model: unsafeModel,\n        where: unsafeWhere\n      });\n      debugLog(\n        { method: \"findMany\" },\n        `${formatTransactionId(thisTransactionId)} ${formatStep(1, 3)}`,\n        `${formatMethod(\"findMany\")}:`,\n        { model, where, limit, sortBy, offset }\n      );\n      const res = await adapterInstance.findMany({\n        model,\n        where,\n        limit,\n        sortBy,\n        offset\n      });\n      debugLog(\n        { method: \"findMany\" },\n        `${formatTransactionId(thisTransactionId)} ${formatStep(2, 3)}`,\n        `${formatMethod(\"findMany\")} ${formatAction(\"DB Result\")}:`,\n        { model, data: res }\n      );\n      const transformed = await Promise.all(\n        res.map(async (r) => await transformOutput(r, unsafeModel))\n      );\n      debugLog(\n        { method: \"findMany\" },\n        `${formatTransactionId(thisTransactionId)} ${formatStep(3, 3)}`,\n        `${formatMethod(\"findMany\")} ${formatAction(\"Parsed Result\")}:`,\n        { model, data: transformed }\n      );\n      return transformed;\n    },\n    delete: async ({\n      model: unsafeModel,\n      where: unsafeWhere\n    }) => {\n      transactionId++;\n      let thisTransactionId = transactionId;\n      const model = getModelName(unsafeModel);\n      const where = transformWhereClause({\n        model: unsafeModel,\n        where: unsafeWhere\n      });\n      debugLog(\n        { method: \"delete\" },\n        `${formatTransactionId(thisTransactionId)} ${formatStep(1, 2)}`,\n        `${formatMethod(\"delete\")}:`,\n        { model, where }\n      );\n      await adapterInstance.delete({\n        model,\n        where\n      });\n      debugLog(\n        { method: \"delete\" },\n        `${formatTransactionId(thisTransactionId)} ${formatStep(2, 2)}`,\n        `${formatMethod(\"delete\")} ${formatAction(\"DB Result\")}:`,\n        { model }\n      );\n    },\n    deleteMany: async ({\n      model: unsafeModel,\n      where: unsafeWhere\n    }) => {\n      transactionId++;\n      let thisTransactionId = transactionId;\n      const model = getModelName(unsafeModel);\n      const where = transformWhereClause({\n        model: unsafeModel,\n        where: unsafeWhere\n      });\n      debugLog(\n        { method: \"deleteMany\" },\n        `${formatTransactionId(thisTransactionId)} ${formatStep(1, 2)}`,\n        `${formatMethod(\"deleteMany\")} ${formatAction(\"DeleteMany\")}:`,\n        { model, where }\n      );\n      const res = await adapterInstance.deleteMany({\n        model,\n        where\n      });\n      debugLog(\n        { method: \"deleteMany\" },\n        `${formatTransactionId(thisTransactionId)} ${formatStep(2, 2)}`,\n        `${formatMethod(\"deleteMany\")} ${formatAction(\"DB Result\")}:`,\n        { model, data: res }\n      );\n      return res;\n    },\n    count: async ({\n      model: unsafeModel,\n      where: unsafeWhere\n    }) => {\n      transactionId++;\n      let thisTransactionId = transactionId;\n      const model = getModelName(unsafeModel);\n      const where = transformWhereClause({\n        model: unsafeModel,\n        where: unsafeWhere\n      });\n      debugLog(\n        { method: \"count\" },\n        `${formatTransactionId(thisTransactionId)} ${formatStep(1, 2)}`,\n        `${formatMethod(\"count\")}:`,\n        {\n          model,\n          where\n        }\n      );\n      const res = await adapterInstance.count({\n        model,\n        where\n      });\n      debugLog(\n        { method: \"count\" },\n        `${formatTransactionId(thisTransactionId)} ${formatStep(2, 2)}`,\n        `${formatMethod(\"count\")}:`,\n        {\n          model,\n          data: res\n        }\n      );\n      return res;\n    },\n    createSchema: adapterInstance.createSchema ? async (_, file) => {\n      const tables = getAuthTables(options);\n      if (options.secondaryStorage && !options.session?.storeSessionInDatabase) {\n        delete tables.session;\n      }\n      if (options.rateLimit && options.rateLimit.storage === \"database\" && // rate-limit will default to enabled in production,\n      // and given storage is database, it will try to use the rate-limit table,\n      // so we should make sure to generate rate-limit table schema\n      (typeof options.rateLimit.enabled === \"undefined\" || // and of course if they forcefully set to true, then they want rate-limit,\n      // thus we should also generate rate-limit table schema\n      options.rateLimit.enabled === true)) {\n        tables.ratelimit = {\n          modelName: options.rateLimit.modelName ?? \"ratelimit\",\n          fields: {\n            key: {\n              type: \"string\",\n              unique: true,\n              required: true,\n              fieldName: options.rateLimit.fields?.key ?? \"key\"\n            },\n            count: {\n              type: \"number\",\n              required: true,\n              fieldName: options.rateLimit.fields?.count ?? \"count\"\n            },\n            lastRequest: {\n              type: \"number\",\n              required: true,\n              bigint: true,\n              defaultValue: () => Date.now(),\n              fieldName: options.rateLimit.fields?.lastRequest ?? \"lastRequest\"\n            }\n          }\n        };\n      }\n      return adapterInstance.createSchema({ file, tables });\n    } : void 0,\n    options: {\n      adapterConfig: config,\n      ...adapterInstance.options ?? {}\n    },\n    id: config.adapterId,\n    // Secretly export values ONLY if this adapter has enabled adapter-test-debug-logs.\n    // This would then be used during our adapter-tests to help print debug logs if a test fails.\n    //@ts-expect-error - ^^\n    ...config.debugLogs?.isRunningAdapterTests ? {\n      adapterTestDebugLogs: {\n        resetDebugLogs() {\n          debugLogs = [];\n        },\n        printDebugLogs() {\n          const separator = `\\u2500`.repeat(80);\n          let log = debugLogs.reverse().map((log2) => {\n            log2[0] = `\n${log2[0]}`;\n            return [...log2, \"\\n\"];\n          }).reduce(\n            (prev, curr) => {\n              return [...curr, ...prev];\n            },\n            [`\n${separator}`]\n          );\n          console.log(...log);\n        }\n      }\n    } : {}\n  };\n};\nfunction formatTransactionId(transactionId2) {\n  return `${colors.fg.magenta}#${transactionId2}${colors.reset}`;\n}\nfunction formatStep(step, total) {\n  return `${colors.bg.black}${colors.fg.yellow}[${step}/${total}]${colors.reset}`;\n}\nfunction formatMethod(method) {\n  return `${colors.bright}${method}${colors.reset}`;\n}\nfunction formatAction(action) {\n  return `${colors.dim}(${action})${colors.reset}`;\n}\n\nexport { createAdapter as c };\n", "import '@better-auth/utils/random';\nimport 'zod/v4';\nimport 'better-call';\nimport '@better-auth/utils/hash';\nimport '@noble/ciphers/chacha';\nimport '@noble/ciphers/utils';\nimport '@noble/ciphers/webcrypto';\nimport '@better-auth/utils/base64';\nimport 'jose';\nimport '@noble/hashes/scrypt';\nimport '@better-auth/utils';\nimport '@better-auth/utils/hex';\nimport '@noble/hashes/utils';\nimport './better-auth.B4Qoxdgc.mjs';\nimport { a as logger } from './better-auth.DBGfIDnh.mjs';\nimport { c as createAdapter } from './better-auth.gBl3F_xa.mjs';\n\nconst memoryAdapter = (db, config) => createAdapter({\n  config: {\n    adapterId: \"memory\",\n    adapterName: \"Memory Adapter\",\n    usePlural: false,\n    debugLogs: config?.debugLogs || false,\n    customTransformInput(props) {\n      if (props.options.advanced?.database?.useNumberId && props.field === \"id\" && props.action === \"create\") {\n        return db[props.model].length + 1;\n      }\n      return props.data;\n    }\n  },\n  adapter: ({ getFieldName, options, debugLog }) => {\n    function convertWhereClause(where, model) {\n      const table = db[model];\n      if (!table) {\n        logger.error(\n          `[MemoryAdapter] Model ${model} not found in the DB`,\n          Object.keys(db)\n        );\n        throw new Error(`Model ${model} not found`);\n      }\n      return table.filter((record) => {\n        return where.every((clause) => {\n          let { field, value, operator } = clause;\n          if (operator === \"in\") {\n            if (!Array.isArray(value)) {\n              throw new Error(\"Value must be an array\");\n            }\n            return value.includes(record[field]);\n          } else if (operator === \"contains\") {\n            return record[field].includes(value);\n          } else if (operator === \"starts_with\") {\n            return record[field].startsWith(value);\n          } else if (operator === \"ends_with\") {\n            return record[field].endsWith(value);\n          } else {\n            return record[field] === value;\n          }\n        });\n      });\n    }\n    return {\n      create: async ({ model, data }) => {\n        if (options.advanced?.database?.useNumberId) {\n          data.id = db[model].length + 1;\n        }\n        if (!db[model]) {\n          db[model] = [];\n        }\n        db[model].push(data);\n        return data;\n      },\n      findOne: async ({ model, where }) => {\n        const res = convertWhereClause(where, model);\n        const record = res[0] || null;\n        return record;\n      },\n      findMany: async ({ model, where, sortBy, limit, offset }) => {\n        let table = db[model];\n        if (where) {\n          table = convertWhereClause(where, model);\n        }\n        if (sortBy) {\n          table = table.sort((a, b) => {\n            const field = getFieldName({ model, field: sortBy.field });\n            if (sortBy.direction === \"asc\") {\n              return a[field] > b[field] ? 1 : -1;\n            } else {\n              return a[field] < b[field] ? 1 : -1;\n            }\n          });\n        }\n        if (offset !== void 0) {\n          table = table.slice(offset);\n        }\n        if (limit !== void 0) {\n          table = table.slice(0, limit);\n        }\n        return table;\n      },\n      count: async ({ model }) => {\n        return db[model].length;\n      },\n      update: async ({ model, where, update }) => {\n        const res = convertWhereClause(where, model);\n        res.forEach((record) => {\n          Object.assign(record, update);\n        });\n        return res[0] || null;\n      },\n      delete: async ({ model, where }) => {\n        const table = db[model];\n        const res = convertWhereClause(where, model);\n        db[model] = table.filter((record) => !res.includes(record));\n      },\n      deleteMany: async ({ model, where }) => {\n        const table = db[model];\n        const res = convertWhereClause(where, model);\n        let count = 0;\n        db[model] = table.filter((record) => {\n          if (res.includes(record)) {\n            count++;\n            return false;\n          }\n          return !res.includes(record);\n        });\n        return count;\n      },\n      updateMany({ model, where, update }) {\n        const res = convertWhereClause(where, model);\n        res.forEach((record) => {\n          Object.assign(record, update);\n        });\n        return res[0] || null;\n      }\n    };\n  }\n});\n\nexport { memoryAdapter as m };\n", "import { APIError } from 'better-call';\n\nasync function validatePassword(ctx, data) {\n  const accounts = await ctx.context.internalAdapter.findAccounts(data.userId);\n  const credentialAccount = accounts?.find(\n    (account) => account.providerId === \"credential\"\n  );\n  const currentPassword = credentialAccount?.password;\n  if (!credentialAccount || !currentPassword) {\n    return false;\n  }\n  const compare = await ctx.context.password.verify({\n    hash: currentPassword,\n    password: data.password\n  });\n  return compare;\n}\nasync function checkPassword(userId, c) {\n  const accounts = await c.context.internalAdapter.findAccounts(userId);\n  const credentialAccount = accounts?.find(\n    (account) => account.providerId === \"credential\"\n  );\n  const currentPassword = credentialAccount?.password;\n  if (!credentialAccount || !currentPassword || !c.body.password) {\n    throw new APIError(\"BAD_REQUEST\", {\n      message: \"No password credential found\"\n    });\n  }\n  const compare = await c.context.password.verify({\n    hash: currentPassword,\n    password: c.body.password\n  });\n  if (!compare) {\n    throw new APIError(\"BAD_REQUEST\", {\n      message: \"Invalid password\"\n    });\n  }\n  return true;\n}\n\nexport { checkPassword as c, validatePassword as v };\n", "function capitalizeFirstLetter(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\nexport { capitalizeFirstLetter as c };\n", "import { count, desc, asc, sql, eq, inArray, like, lt, lte, ne, gt, gte, and, or } from 'drizzle-orm';\nimport { B as BetterAuthError } from '../../shared/better-auth.DdzSJf-n.mjs';\nimport { c as createAdapter } from '../../shared/better-auth.gBl3F_xa.mjs';\nimport '../../shared/better-auth.tB5eU6EY.mjs';\nimport '../../shared/better-auth.DORkW_Ge.mjs';\nimport '../../shared/better-auth.DBGfIDnh.mjs';\nimport '@better-auth/utils/random';\nimport 'zod/v4';\nimport 'better-call';\nimport '@better-auth/utils/hash';\nimport '@noble/ciphers/chacha';\nimport '@noble/ciphers/utils';\nimport '@noble/ciphers/webcrypto';\nimport '@better-auth/utils/base64';\nimport 'jose';\nimport '@noble/hashes/scrypt';\nimport '@better-auth/utils';\nimport '@better-auth/utils/hex';\nimport '@noble/hashes/utils';\nimport '../../shared/better-auth.B4Qoxdgc.mjs';\n\nconst drizzleAdapter = (db, config) => createAdapter({\n  config: {\n    adapterId: \"drizzle\",\n    adapterName: \"Drizzle Adapter\",\n    usePlural: config.usePlural ?? false,\n    debugLogs: config.debugLogs ?? false\n  },\n  adapter: ({ getFieldName, debugLog }) => {\n    function getSchema(model) {\n      const schema = config.schema || db._.fullSchema;\n      if (!schema) {\n        throw new BetterAuthError(\n          \"Drizzle adapter failed to initialize. Schema not found. Please provide a schema object in the adapter options object.\"\n        );\n      }\n      const schemaModel = schema[model];\n      if (!schemaModel) {\n        throw new BetterAuthError(\n          `[# Drizzle Adapter]: The model \"${model}\" was not found in the schema object. Please pass the schema directly to the adapter options.`\n        );\n      }\n      return schemaModel;\n    }\n    const withReturning = async (model, builder, data, where) => {\n      if (config.provider !== \"mysql\") {\n        const c = await builder.returning();\n        return c[0];\n      }\n      await builder.execute();\n      const schemaModel = getSchema(model);\n      const builderVal = builder.config?.values;\n      if (where?.length) {\n        const clause = convertWhereClause(where, model);\n        const res = await db.select().from(schemaModel).where(...clause);\n        return res[0];\n      } else if (builderVal && builderVal[0]?.id?.value) {\n        let tId = builderVal[0]?.id?.value;\n        if (!tId) {\n          const lastInsertId = await db.select({ id: sql`LAST_INSERT_ID()` }).from(schemaModel).orderBy(desc(schemaModel.id)).limit(1);\n          tId = lastInsertId[0].id;\n        }\n        const res = await db.select().from(schemaModel).where(eq(schemaModel.id, tId)).limit(1).execute();\n        return res[0];\n      } else if (data.id) {\n        const res = await db.select().from(schemaModel).where(eq(schemaModel.id, data.id)).limit(1).execute();\n        return res[0];\n      } else {\n        if (!(\"id\" in schemaModel)) {\n          throw new BetterAuthError(\n            `The model \"${model}\" does not have an \"id\" field. Please use the \"id\" field as your primary key.`\n          );\n        }\n        const res = await db.select().from(schemaModel).orderBy(desc(schemaModel.id)).limit(1).execute();\n        return res[0];\n      }\n    };\n    function convertWhereClause(where, model) {\n      const schemaModel = getSchema(model);\n      if (!where) return [];\n      if (where.length === 1) {\n        const w = where[0];\n        if (!w) {\n          return [];\n        }\n        const field = getFieldName({ model, field: w.field });\n        if (!schemaModel[field]) {\n          throw new BetterAuthError(\n            `The field \"${w.field}\" does not exist in the schema for the model \"${model}\". Please update your schema.`\n          );\n        }\n        if (w.operator === \"in\") {\n          if (!Array.isArray(w.value)) {\n            throw new BetterAuthError(\n              `The value for the field \"${w.field}\" must be an array when using the \"in\" operator.`\n            );\n          }\n          return [inArray(schemaModel[field], w.value)];\n        }\n        if (w.operator === \"contains\") {\n          return [like(schemaModel[field], `%${w.value}%`)];\n        }\n        if (w.operator === \"starts_with\") {\n          return [like(schemaModel[field], `${w.value}%`)];\n        }\n        if (w.operator === \"ends_with\") {\n          return [like(schemaModel[field], `%${w.value}`)];\n        }\n        if (w.operator === \"lt\") {\n          return [lt(schemaModel[field], w.value)];\n        }\n        if (w.operator === \"lte\") {\n          return [lte(schemaModel[field], w.value)];\n        }\n        if (w.operator === \"ne\") {\n          return [ne(schemaModel[field], w.value)];\n        }\n        if (w.operator === \"gt\") {\n          return [gt(schemaModel[field], w.value)];\n        }\n        if (w.operator === \"gte\") {\n          return [gte(schemaModel[field], w.value)];\n        }\n        return [eq(schemaModel[field], w.value)];\n      }\n      const andGroup = where.filter(\n        (w) => w.connector === \"AND\" || !w.connector\n      );\n      const orGroup = where.filter((w) => w.connector === \"OR\");\n      const andClause = and(\n        ...andGroup.map((w) => {\n          const field = getFieldName({ model, field: w.field });\n          if (w.operator === \"in\") {\n            if (!Array.isArray(w.value)) {\n              throw new BetterAuthError(\n                `The value for the field \"${w.field}\" must be an array when using the \"in\" operator.`\n              );\n            }\n            return inArray(schemaModel[field], w.value);\n          }\n          return eq(schemaModel[field], w.value);\n        })\n      );\n      const orClause = or(\n        ...orGroup.map((w) => {\n          const field = getFieldName({ model, field: w.field });\n          return eq(schemaModel[field], w.value);\n        })\n      );\n      const clause = [];\n      if (andGroup.length) clause.push(andClause);\n      if (orGroup.length) clause.push(orClause);\n      return clause;\n    }\n    function checkMissingFields(schema, model, values) {\n      if (!schema) {\n        throw new BetterAuthError(\n          \"Drizzle adapter failed to initialize. Schema not found. Please provide a schema object in the adapter options object.\"\n        );\n      }\n      for (const key in values) {\n        if (!schema[key]) {\n          throw new BetterAuthError(\n            `The field \"${key}\" does not exist in the \"${model}\" schema. Please update your drizzle schema or re-generate using \"npx @better-auth/cli generate\".`\n          );\n        }\n      }\n    }\n    return {\n      async create({ model, data: values }) {\n        const schemaModel = getSchema(model);\n        checkMissingFields(schemaModel, model, values);\n        const builder = db.insert(schemaModel).values(values);\n        const returned = await withReturning(model, builder, values);\n        return returned;\n      },\n      async findOne({ model, where }) {\n        const schemaModel = getSchema(model);\n        const clause = convertWhereClause(where, model);\n        const res = await db.select().from(schemaModel).where(...clause);\n        if (!res.length) return null;\n        return res[0];\n      },\n      async findMany({ model, where, sortBy, limit, offset }) {\n        const schemaModel = getSchema(model);\n        const clause = where ? convertWhereClause(where, model) : [];\n        const sortFn = sortBy?.direction === \"desc\" ? desc : asc;\n        const builder = db.select().from(schemaModel).limit(limit || 100).offset(offset || 0);\n        if (sortBy?.field) {\n          builder.orderBy(\n            sortFn(\n              schemaModel[getFieldName({ model, field: sortBy?.field })]\n            )\n          );\n        }\n        return await builder.where(...clause);\n      },\n      async count({ model, where }) {\n        const schemaModel = getSchema(model);\n        const clause = where ? convertWhereClause(where, model) : [];\n        const res = await db.select({ count: count() }).from(schemaModel).where(...clause);\n        return res[0].count;\n      },\n      async update({ model, where, update: values }) {\n        const schemaModel = getSchema(model);\n        const clause = convertWhereClause(where, model);\n        const builder = db.update(schemaModel).set(values).where(...clause);\n        return await withReturning(model, builder, values, where);\n      },\n      async updateMany({ model, where, update: values }) {\n        const schemaModel = getSchema(model);\n        const clause = convertWhereClause(where, model);\n        const builder = db.update(schemaModel).set(values).where(...clause);\n        return await builder;\n      },\n      async delete({ model, where }) {\n        const schemaModel = getSchema(model);\n        const clause = convertWhereClause(where, model);\n        const builder = db.delete(schemaModel).where(...clause);\n        return await builder;\n      },\n      async deleteMany({ model, where }) {\n        const schemaModel = getSchema(model);\n        const clause = convertWhereClause(where, model);\n        const builder = db.delete(schemaModel).where(...clause);\n        return await builder;\n      },\n      options: config\n    };\n  }\n});\n\nexport { drizzleAdapter };\n", "import type { AnyColumn } from './column.ts';\nimport { Column } from './column.ts';\nimport { entityKind, is } from './entity.ts';\nimport type { Relation } from './relations.ts';\nimport type { View } from './sql/sql.ts';\nimport { SQL, sql } from './sql/sql.ts';\nimport { Table } from './table.ts';\nimport { ViewBaseConfig } from './view-common.ts';\n\nexport class ColumnAliasProxyHandler<TColumn extends Column> implements ProxyHandler<TColumn> {\n\tstatic readonly [entityKind]: string = 'ColumnAliasProxyHandler';\n\n\tconstructor(private table: Table | View) {}\n\n\tget(columnObj: TColumn, prop: string | symbol): any {\n\t\tif (prop === 'table') {\n\t\t\treturn this.table;\n\t\t}\n\n\t\treturn columnObj[prop as keyof TColumn];\n\t}\n}\n\nexport class TableAliasProxyHandler<T extends Table | View> implements ProxyHandler<T> {\n\tstatic readonly [entityKind]: string = 'TableAliasProxyHandler';\n\n\tconstructor(private alias: string, private replaceOriginalName: boolean) {}\n\n\tget(target: T, prop: string | symbol): any {\n\t\tif (prop === Table.Symbol.IsAlias) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (prop === Table.Symbol.Name) {\n\t\t\treturn this.alias;\n\t\t}\n\n\t\tif (this.replaceOriginalName && prop === Table.Symbol.OriginalName) {\n\t\t\treturn this.alias;\n\t\t}\n\n\t\tif (prop === ViewBaseConfig) {\n\t\t\treturn {\n\t\t\t\t...target[ViewBaseConfig as keyof typeof target],\n\t\t\t\tname: this.alias,\n\t\t\t\tisAlias: true,\n\t\t\t};\n\t\t}\n\n\t\tif (prop === Table.Symbol.Columns) {\n\t\t\tconst columns = (target as Table)[Table.Symbol.Columns];\n\t\t\tif (!columns) {\n\t\t\t\treturn columns;\n\t\t\t}\n\n\t\t\tconst proxiedColumns: { [key: string]: any } = {};\n\n\t\t\tObject.keys(columns).map((key) => {\n\t\t\t\tproxiedColumns[key] = new Proxy(\n\t\t\t\t\tcolumns[key]!,\n\t\t\t\t\tnew ColumnAliasProxyHandler(new Proxy(target, this)),\n\t\t\t\t);\n\t\t\t});\n\n\t\t\treturn proxiedColumns;\n\t\t}\n\n\t\tconst value = target[prop as keyof typeof target];\n\t\tif (is(value, Column)) {\n\t\t\treturn new Proxy(value as AnyColumn, new ColumnAliasProxyHandler(new Proxy(target, this)));\n\t\t}\n\n\t\treturn value;\n\t}\n}\n\nexport class RelationTableAliasProxyHandler<T extends Relation> implements ProxyHandler<T> {\n\tstatic readonly [entityKind]: string = 'RelationTableAliasProxyHandler';\n\n\tconstructor(private alias: string) {}\n\n\tget(target: T, prop: string | symbol): any {\n\t\tif (prop === 'sourceTable') {\n\t\t\treturn aliasedTable(target.sourceTable, this.alias);\n\t\t}\n\n\t\treturn target[prop as keyof typeof target];\n\t}\n}\n\nexport function aliasedTable<T extends Table | View>(\n\ttable: T,\n\ttableAlias: string,\n): T {\n\treturn new Proxy(table, new TableAliasProxyHandler(tableAlias, false)) as any;\n}\n\nexport function aliasedRelation<T extends Relation>(relation: T, tableAlias: string): T {\n\treturn new Proxy(relation, new RelationTableAliasProxyHandler(tableAlias));\n}\n\nexport function aliasedTableColumn<T extends AnyColumn>(column: T, tableAlias: string): T {\n\treturn new Proxy(\n\t\tcolumn,\n\t\tnew ColumnAliasProxyHandler(new Proxy(column.table, new TableAliasProxyHandler(tableAlias, false))),\n\t);\n}\n\nexport function mapColumnsInAliasedSQLToAlias(query: SQL.Aliased, alias: string): SQL.Aliased {\n\treturn new SQL.Aliased(mapColumnsInSQLToAlias(query.sql, alias), query.fieldAlias);\n}\n\nexport function mapColumnsInSQLToAlias(query: SQL, alias: string): SQL {\n\treturn sql.join(query.queryChunks.map((c) => {\n\t\tif (is(c, Column)) {\n\t\t\treturn aliasedTableColumn(c, alias);\n\t\t}\n\t\tif (is(c, SQL)) {\n\t\t\treturn mapColumnsInSQLToAlias(c, alias);\n\t\t}\n\t\tif (is(c, SQL.Aliased)) {\n\t\t\treturn mapColumnsInAliasedSQLToAlias(c, alias);\n\t\t}\n\t\treturn c;\n\t}));\n}\n", "import type {\n\tColumnBuilderBaseConfig,\n\tColumnBuilderRuntimeConfig,\n\tColumnDataType,\n\tGeneratedColumnConfig,\n\tGeneratedIdentityConfig,\n} from './column-builder.ts';\nimport { entityKind } from './entity.ts';\nimport type { DriverValueMapper, SQL, SQLWrapper } from './sql/sql.ts';\nimport type { Table } from './table.ts';\nimport type { Update } from './utils.ts';\n\nexport interface ColumnBaseConfig<\n\tTDataType extends ColumnDataType,\n\tTColumnType extends string,\n> extends ColumnBuilderBaseConfig<TDataType, TColumnType> {\n\ttableName: string;\n\tnotNull: boolean;\n\thasDefault: boolean;\n\tisPrimaryKey: boolean;\n\tisAutoincrement: boolean;\n\thasRuntimeDefault: boolean;\n}\n\nexport type ColumnTypeConfig<T extends ColumnBaseConfig<ColumnDataType, string>, TTypeConfig extends object> = T & {\n\tbrand: 'Column';\n\ttableName: T['tableName'];\n\tname: T['name'];\n\tdataType: T['dataType'];\n\tcolumnType: T['columnType'];\n\tdata: T['data'];\n\tdriverParam: T['driverParam'];\n\tnotNull: T['notNull'];\n\thasDefault: T['hasDefault'];\n\tisPrimaryKey: T['isPrimaryKey'];\n\tisAutoincrement: T['isAutoincrement'];\n\thasRuntimeDefault: T['hasRuntimeDefault'];\n\tenumValues: T['enumValues'];\n\tbaseColumn: T extends { baseColumn: infer U } ? U : unknown;\n\tgenerated: GeneratedColumnConfig<T['data']> | undefined;\n\tidentity: undefined | 'always' | 'byDefault';\n} & TTypeConfig;\n\nexport type ColumnRuntimeConfig<TData, TRuntimeConfig extends object> = ColumnBuilderRuntimeConfig<\n\tTData,\n\tTRuntimeConfig\n>;\n\nexport interface Column<\n\tT extends ColumnBaseConfig<ColumnDataType, string> = ColumnBaseConfig<ColumnDataType, string>,\n\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\n\tTRuntimeConfig extends object = object,\n\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\n\tTTypeConfig extends object = object,\n> extends DriverValueMapper<T['data'], T['driverParam']>, SQLWrapper {\n\t// SQLWrapper runtime implementation is defined in 'sql/sql.ts'\n}\n/*\n\t`Column` only accepts a full `ColumnConfig` as its generic.\n\tTo infer parts of the config, use `AnyColumn` that accepts a partial config.\n\tSee `GetColumnData` for example usage of inferring.\n*/\nexport abstract class Column<\n\tT extends ColumnBaseConfig<ColumnDataType, string> = ColumnBaseConfig<ColumnDataType, string>,\n\tTRuntimeConfig extends object = object,\n\tTTypeConfig extends object = object,\n> implements DriverValueMapper<T['data'], T['driverParam']>, SQLWrapper {\n\tstatic readonly [entityKind]: string = 'Column';\n\n\tdeclare readonly _: ColumnTypeConfig<T, TTypeConfig>;\n\n\treadonly name: string;\n\treadonly keyAsName: boolean;\n\treadonly primary: boolean;\n\treadonly notNull: boolean;\n\treadonly default: T['data'] | SQL | undefined;\n\treadonly defaultFn: (() => T['data'] | SQL) | undefined;\n\treadonly onUpdateFn: (() => T['data'] | SQL) | undefined;\n\treadonly hasDefault: boolean;\n\treadonly isUnique: boolean;\n\treadonly uniqueName: string | undefined;\n\treadonly uniqueType: string | undefined;\n\treadonly dataType: T['dataType'];\n\treadonly columnType: T['columnType'];\n\treadonly enumValues: T['enumValues'] = undefined;\n\treadonly generated: GeneratedColumnConfig<T['data']> | undefined = undefined;\n\treadonly generatedIdentity: GeneratedIdentityConfig | undefined = undefined;\n\n\tprotected config: ColumnRuntimeConfig<T['data'], TRuntimeConfig>;\n\n\tconstructor(\n\t\treadonly table: Table,\n\t\tconfig: ColumnRuntimeConfig<T['data'], TRuntimeConfig>,\n\t) {\n\t\tthis.config = config;\n\t\tthis.name = config.name;\n\t\tthis.keyAsName = config.keyAsName;\n\t\tthis.notNull = config.notNull;\n\t\tthis.default = config.default;\n\t\tthis.defaultFn = config.defaultFn;\n\t\tthis.onUpdateFn = config.onUpdateFn;\n\t\tthis.hasDefault = config.hasDefault;\n\t\tthis.primary = config.primaryKey;\n\t\tthis.isUnique = config.isUnique;\n\t\tthis.uniqueName = config.uniqueName;\n\t\tthis.uniqueType = config.uniqueType;\n\t\tthis.dataType = config.dataType as T['dataType'];\n\t\tthis.columnType = config.columnType;\n\t\tthis.generated = config.generated;\n\t\tthis.generatedIdentity = config.generatedIdentity;\n\t}\n\n\tabstract getSQLType(): string;\n\n\tmapFromDriverValue(value: unknown): unknown {\n\t\treturn value;\n\t}\n\n\tmapToDriverValue(value: unknown): unknown {\n\t\treturn value;\n\t}\n\n\t// ** @internal */\n\tshouldDisableInsert(): boolean {\n\t\treturn this.config.generated !== undefined && this.config.generated.type !== 'byDefault';\n\t}\n}\n\nexport type UpdateColConfig<\n\tT extends ColumnBaseConfig<ColumnDataType, string>,\n\tTUpdate extends Partial<ColumnBaseConfig<ColumnDataType, string>>,\n> = Update<T, TUpdate>;\n\nexport type AnyColumn<TPartial extends Partial<ColumnBaseConfig<ColumnDataType, string>> = {}> = Column<\n\tRequired<Update<ColumnBaseConfig<ColumnDataType, string>, TPartial>>\n>;\n\nexport type GetColumnData<TColumn extends Column, TInferMode extends 'query' | 'raw' = 'query'> =\n\t// dprint-ignore\n\tTInferMode extends 'raw' // Raw mode\n\t\t? TColumn['_']['data'] // Just return the underlying type\n\t\t: TColumn['_']['notNull'] extends true // Query mode\n\t\t? TColumn['_']['data'] // Query mode, not null\n\t\t: TColumn['_']['data'] | null; // Query mode, nullable\n\nexport type InferColumnsDataTypes<TColumns extends Record<string, Column>> = {\n\t[Key in keyof TColumns]: GetColumnData<TColumns[Key], 'query'>;\n};\n", "export const entityKind = Symbol.for('drizzle:entityKind');\nexport const hasOwnEntityKind = Symbol.for('drizzle:hasOwnEntityKind');\n\nexport interface DrizzleEntity {\n\t[entityKind]: string;\n}\n\nexport type DrizzleEntityClass<T> =\n\t& ((abstract new(...args: any[]) => T) | (new(...args: any[]) => T))\n\t& DrizzleEntity;\n\nexport function is<T extends DrizzleEntityClass<any>>(value: any, type: T): value is InstanceType<T> {\n\tif (!value || typeof value !== 'object') {\n\t\treturn false;\n\t}\n\n\tif (value instanceof type) { // eslint-disable-line no-instanceof/no-instanceof\n\t\treturn true;\n\t}\n\n\tif (!Object.prototype.hasOwnProperty.call(type, entityKind)) {\n\t\tthrow new Error(\n\t\t\t`Class \"${\n\t\t\t\ttype.name ?? '<unknown>'\n\t\t\t}\" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`,\n\t\t);\n\t}\n\n\tlet cls = Object.getPrototypeOf(value).constructor;\n\tif (cls) {\n\t\t// Traverse the prototype chain to find the entityKind\n\t\twhile (cls) {\n\t\t\tif (entityKind in cls && cls[entityKind] === type[entityKind]) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tcls = Object.getPrototypeOf(cls);\n\t\t}\n\t}\n\n\treturn false;\n}\n", "import type { CasingCache } from '~/casing.ts';\nimport { entityKind, is } from '~/entity.ts';\nimport { isPgEnum } from '~/pg-core/columns/enum.ts';\nimport type { SelectResult } from '~/query-builders/select.types.ts';\nimport { Subquery } from '~/subquery.ts';\nimport { tracer } from '~/tracing.ts';\nimport type { Assume, Equal } from '~/utils.ts';\nimport { ViewBaseConfig } from '~/view-common.ts';\nimport type { AnyColumn } from '../column.ts';\nimport { Column } from '../column.ts';\nimport { IsAlias, Table } from '../table.ts';\n\n/**\n * This class is used to indicate a primitive param value that is used in `sql` tag.\n * It is only used on type level and is never instantiated at runtime.\n * If you see a value of this type in the code, its runtime value is actually the primitive param value.\n */\nexport class FakePrimitiveParam {\n\tstatic readonly [entityKind]: string = 'FakePrimitiveParam';\n}\n\nexport type Chunk =\n\t| string\n\t| Table\n\t| View\n\t| AnyColumn\n\t| Name\n\t| Param\n\t| Placeholder\n\t| SQL;\n\nexport interface BuildQueryConfig {\n\tcasing: CasingCache;\n\tescapeName(name: string): string;\n\tescapeParam(num: number, value: unknown): string;\n\tescapeString(str: string): string;\n\tprepareTyping?: (encoder: DriverValueEncoder<unknown, unknown>) => QueryTypingsValue;\n\tparamStartIndex?: { value: number };\n\tinlineParams?: boolean;\n\tinvokeSource?: 'indexes' | undefined;\n}\n\nexport type QueryTypingsValue = 'json' | 'decimal' | 'time' | 'timestamp' | 'uuid' | 'date' | 'none';\n\nexport interface Query {\n\tsql: string;\n\tparams: unknown[];\n}\n\nexport interface QueryWithTypings extends Query {\n\ttypings?: QueryTypingsValue[];\n}\n\n/**\n * Any value that implements the `getSQL` method. The implementations include:\n * - `Table`\n * - `Column`\n * - `View`\n * - `Subquery`\n * - `SQL`\n * - `SQL.Aliased`\n * - `Placeholder`\n * - `Param`\n */\nexport interface SQLWrapper {\n\tgetSQL(): SQL;\n\tshouldOmitSQLParens?(): boolean;\n}\n\nexport function isSQLWrapper(value: unknown): value is SQLWrapper {\n\treturn value !== null && value !== undefined && typeof (value as any).getSQL === 'function';\n}\n\nfunction mergeQueries(queries: QueryWithTypings[]): QueryWithTypings {\n\tconst result: QueryWithTypings = { sql: '', params: [] };\n\tfor (const query of queries) {\n\t\tresult.sql += query.sql;\n\t\tresult.params.push(...query.params);\n\t\tif (query.typings?.length) {\n\t\t\tif (!result.typings) {\n\t\t\t\tresult.typings = [];\n\t\t\t}\n\t\t\tresult.typings.push(...query.typings);\n\t\t}\n\t}\n\treturn result;\n}\n\nexport class StringChunk implements SQLWrapper {\n\tstatic readonly [entityKind]: string = 'StringChunk';\n\n\treadonly value: string[];\n\n\tconstructor(value: string | string[]) {\n\t\tthis.value = Array.isArray(value) ? value : [value];\n\t}\n\n\tgetSQL(): SQL<unknown> {\n\t\treturn new SQL([this]);\n\t}\n}\n\nexport class SQL<T = unknown> implements SQLWrapper {\n\tstatic readonly [entityKind]: string = 'SQL';\n\n\tdeclare _: {\n\t\tbrand: 'SQL';\n\t\ttype: T;\n\t};\n\n\t/** @internal */\n\tdecoder: DriverValueDecoder<T, any> = noopDecoder;\n\tprivate shouldInlineParams = false;\n\n\t/** @internal */\n\tusedTables: string[] = [];\n\n\tconstructor(readonly queryChunks: SQLChunk[]) {\n\t\tfor (const chunk of queryChunks) {\n\t\t\tif (is(chunk, Table)) {\n\t\t\t\tconst schemaName = chunk[Table.Symbol.Schema];\n\n\t\t\t\tthis.usedTables.push(\n\t\t\t\t\tschemaName === undefined\n\t\t\t\t\t\t? chunk[Table.Symbol.Name]\n\t\t\t\t\t\t: schemaName + '.' + chunk[Table.Symbol.Name],\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tappend(query: SQL): this {\n\t\tthis.queryChunks.push(...query.queryChunks);\n\t\treturn this;\n\t}\n\n\ttoQuery(config: BuildQueryConfig): QueryWithTypings {\n\t\treturn tracer.startActiveSpan('drizzle.buildSQL', (span) => {\n\t\t\tconst query = this.buildQueryFromSourceParams(this.queryChunks, config);\n\t\t\tspan?.setAttributes({\n\t\t\t\t'drizzle.query.text': query.sql,\n\t\t\t\t'drizzle.query.params': JSON.stringify(query.params),\n\t\t\t});\n\t\t\treturn query;\n\t\t});\n\t}\n\n\tbuildQueryFromSourceParams(chunks: SQLChunk[], _config: BuildQueryConfig): Query {\n\t\tconst config = Object.assign({}, _config, {\n\t\t\tinlineParams: _config.inlineParams || this.shouldInlineParams,\n\t\t\tparamStartIndex: _config.paramStartIndex || { value: 0 },\n\t\t});\n\n\t\tconst {\n\t\t\tcasing,\n\t\t\tescapeName,\n\t\t\tescapeParam,\n\t\t\tprepareTyping,\n\t\t\tinlineParams,\n\t\t\tparamStartIndex,\n\t\t} = config;\n\n\t\treturn mergeQueries(chunks.map((chunk): QueryWithTypings => {\n\t\t\tif (is(chunk, StringChunk)) {\n\t\t\t\treturn { sql: chunk.value.join(''), params: [] };\n\t\t\t}\n\n\t\t\tif (is(chunk, Name)) {\n\t\t\t\treturn { sql: escapeName(chunk.value), params: [] };\n\t\t\t}\n\n\t\t\tif (chunk === undefined) {\n\t\t\t\treturn { sql: '', params: [] };\n\t\t\t}\n\n\t\t\tif (Array.isArray(chunk)) {\n\t\t\t\tconst result: SQLChunk[] = [new StringChunk('(')];\n\t\t\t\tfor (const [i, p] of chunk.entries()) {\n\t\t\t\t\tresult.push(p);\n\t\t\t\t\tif (i < chunk.length - 1) {\n\t\t\t\t\t\tresult.push(new StringChunk(', '));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tresult.push(new StringChunk(')'));\n\t\t\t\treturn this.buildQueryFromSourceParams(result, config);\n\t\t\t}\n\n\t\t\tif (is(chunk, SQL)) {\n\t\t\t\treturn this.buildQueryFromSourceParams(chunk.queryChunks, {\n\t\t\t\t\t...config,\n\t\t\t\t\tinlineParams: inlineParams || chunk.shouldInlineParams,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (is(chunk, Table)) {\n\t\t\t\tconst schemaName = chunk[Table.Symbol.Schema];\n\t\t\t\tconst tableName = chunk[Table.Symbol.Name];\n\t\t\t\treturn {\n\t\t\t\t\tsql: schemaName === undefined || chunk[IsAlias]\n\t\t\t\t\t\t? escapeName(tableName)\n\t\t\t\t\t\t: escapeName(schemaName) + '.' + escapeName(tableName),\n\t\t\t\t\tparams: [],\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (is(chunk, Column)) {\n\t\t\t\tconst columnName = casing.getColumnCasing(chunk);\n\t\t\t\tif (_config.invokeSource === 'indexes') {\n\t\t\t\t\treturn { sql: escapeName(columnName), params: [] };\n\t\t\t\t}\n\n\t\t\t\tconst schemaName = chunk.table[Table.Symbol.Schema];\n\t\t\t\treturn {\n\t\t\t\t\tsql: chunk.table[IsAlias] || schemaName === undefined\n\t\t\t\t\t\t? escapeName(chunk.table[Table.Symbol.Name]) + '.' + escapeName(columnName)\n\t\t\t\t\t\t: escapeName(schemaName) + '.' + escapeName(chunk.table[Table.Symbol.Name]) + '.'\n\t\t\t\t\t\t\t+ escapeName(columnName),\n\t\t\t\t\tparams: [],\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (is(chunk, View)) {\n\t\t\t\tconst schemaName = chunk[ViewBaseConfig].schema;\n\t\t\t\tconst viewName = chunk[ViewBaseConfig].name;\n\t\t\t\treturn {\n\t\t\t\t\tsql: schemaName === undefined || chunk[ViewBaseConfig].isAlias\n\t\t\t\t\t\t? escapeName(viewName)\n\t\t\t\t\t\t: escapeName(schemaName) + '.' + escapeName(viewName),\n\t\t\t\t\tparams: [],\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (is(chunk, Param)) {\n\t\t\t\tif (is(chunk.value, Placeholder)) {\n\t\t\t\t\treturn { sql: escapeParam(paramStartIndex.value++, chunk), params: [chunk], typings: ['none'] };\n\t\t\t\t}\n\n\t\t\t\tconst mappedValue = chunk.value === null ? null : chunk.encoder.mapToDriverValue(chunk.value);\n\n\t\t\t\tif (is(mappedValue, SQL)) {\n\t\t\t\t\treturn this.buildQueryFromSourceParams([mappedValue], config);\n\t\t\t\t}\n\n\t\t\t\tif (inlineParams) {\n\t\t\t\t\treturn { sql: this.mapInlineParam(mappedValue, config), params: [] };\n\t\t\t\t}\n\n\t\t\t\tlet typings: QueryTypingsValue[] = ['none'];\n\t\t\t\tif (prepareTyping) {\n\t\t\t\t\ttypings = [prepareTyping(chunk.encoder)];\n\t\t\t\t}\n\n\t\t\t\treturn { sql: escapeParam(paramStartIndex.value++, mappedValue), params: [mappedValue], typings };\n\t\t\t}\n\n\t\t\tif (is(chunk, Placeholder)) {\n\t\t\t\treturn { sql: escapeParam(paramStartIndex.value++, chunk), params: [chunk], typings: ['none'] };\n\t\t\t}\n\n\t\t\tif (is(chunk, SQL.Aliased) && chunk.fieldAlias !== undefined) {\n\t\t\t\treturn { sql: escapeName(chunk.fieldAlias), params: [] };\n\t\t\t}\n\n\t\t\tif (is(chunk, Subquery)) {\n\t\t\t\tif (chunk._.isWith) {\n\t\t\t\t\treturn { sql: escapeName(chunk._.alias), params: [] };\n\t\t\t\t}\n\t\t\t\treturn this.buildQueryFromSourceParams([\n\t\t\t\t\tnew StringChunk('('),\n\t\t\t\t\tchunk._.sql,\n\t\t\t\t\tnew StringChunk(') '),\n\t\t\t\t\tnew Name(chunk._.alias),\n\t\t\t\t], config);\n\t\t\t}\n\n\t\t\tif (isPgEnum(chunk)) {\n\t\t\t\tif (chunk.schema) {\n\t\t\t\t\treturn { sql: escapeName(chunk.schema) + '.' + escapeName(chunk.enumName), params: [] };\n\t\t\t\t}\n\t\t\t\treturn { sql: escapeName(chunk.enumName), params: [] };\n\t\t\t}\n\n\t\t\tif (isSQLWrapper(chunk)) {\n\t\t\t\tif (chunk.shouldOmitSQLParens?.()) {\n\t\t\t\t\treturn this.buildQueryFromSourceParams([chunk.getSQL()], config);\n\t\t\t\t}\n\t\t\t\treturn this.buildQueryFromSourceParams([\n\t\t\t\t\tnew StringChunk('('),\n\t\t\t\t\tchunk.getSQL(),\n\t\t\t\t\tnew StringChunk(')'),\n\t\t\t\t], config);\n\t\t\t}\n\n\t\t\tif (inlineParams) {\n\t\t\t\treturn { sql: this.mapInlineParam(chunk, config), params: [] };\n\t\t\t}\n\n\t\t\treturn { sql: escapeParam(paramStartIndex.value++, chunk), params: [chunk], typings: ['none'] };\n\t\t}));\n\t}\n\n\tprivate mapInlineParam(\n\t\tchunk: unknown,\n\t\t{ escapeString }: BuildQueryConfig,\n\t): string {\n\t\tif (chunk === null) {\n\t\t\treturn 'null';\n\t\t}\n\t\tif (typeof chunk === 'number' || typeof chunk === 'boolean') {\n\t\t\treturn chunk.toString();\n\t\t}\n\t\tif (typeof chunk === 'string') {\n\t\t\treturn escapeString(chunk);\n\t\t}\n\t\tif (typeof chunk === 'object') {\n\t\t\tconst mappedValueAsString = chunk.toString();\n\t\t\tif (mappedValueAsString === '[object Object]') {\n\t\t\t\treturn escapeString(JSON.stringify(chunk));\n\t\t\t}\n\t\t\treturn escapeString(mappedValueAsString);\n\t\t}\n\t\tthrow new Error('Unexpected param value: ' + chunk);\n\t}\n\n\tgetSQL(): SQL {\n\t\treturn this;\n\t}\n\n\tas(alias: string): SQL.Aliased<T>;\n\t/**\n\t * @deprecated\n\t * Use ``sql<DataType>`query`.as(alias)`` instead.\n\t */\n\tas<TData>(): SQL<TData>;\n\t/**\n\t * @deprecated\n\t * Use ``sql<DataType>`query`.as(alias)`` instead.\n\t */\n\tas<TData>(alias: string): SQL.Aliased<TData>;\n\tas(alias?: string): SQL<T> | SQL.Aliased<T> {\n\t\t// TODO: remove with deprecated overloads\n\t\tif (alias === undefined) {\n\t\t\treturn this;\n\t\t}\n\n\t\treturn new SQL.Aliased(this, alias);\n\t}\n\n\tmapWith<\n\t\tTDecoder extends\n\t\t\t| DriverValueDecoder<any, any>\n\t\t\t| DriverValueDecoder<any, any>['mapFromDriverValue'],\n\t>(decoder: TDecoder): SQL<GetDecoderResult<TDecoder>> {\n\t\tthis.decoder = typeof decoder === 'function' ? { mapFromDriverValue: decoder } : decoder;\n\t\treturn this as SQL<GetDecoderResult<TDecoder>>;\n\t}\n\n\tinlineParams(): this {\n\t\tthis.shouldInlineParams = true;\n\t\treturn this;\n\t}\n\n\t/**\n\t * This method is used to conditionally include a part of the query.\n\t *\n\t * @param condition - Condition to check\n\t * @returns itself if the condition is `true`, otherwise `undefined`\n\t */\n\tif(condition: any | undefined): this | undefined {\n\t\treturn condition ? this : undefined;\n\t}\n}\n\nexport type GetDecoderResult<T> = T extends Column ? T['_']['data'] : T extends\n\t| DriverValueDecoder<infer TData, any>\n\t| DriverValueDecoder<infer TData, any>['mapFromDriverValue'] ? TData\n: never;\n\n/**\n * Any DB name (table, column, index etc.)\n */\nexport class Name implements SQLWrapper {\n\tstatic readonly [entityKind]: string = 'Name';\n\n\tprotected brand!: 'Name';\n\n\tconstructor(readonly value: string) {}\n\n\tgetSQL(): SQL<unknown> {\n\t\treturn new SQL([this]);\n\t}\n}\n\n/**\n * Any DB name (table, column, index etc.)\n * @deprecated Use `sql.identifier` instead.\n */\nexport function name(value: string): Name {\n\treturn new Name(value);\n}\n\nexport interface DriverValueDecoder<TData, TDriverParam> {\n\tmapFromDriverValue(value: TDriverParam): TData;\n}\n\nexport interface DriverValueEncoder<TData, TDriverParam> {\n\tmapToDriverValue(value: TData): TDriverParam | SQL;\n}\n\nexport function isDriverValueEncoder(value: unknown): value is DriverValueEncoder<any, any> {\n\treturn typeof value === 'object' && value !== null && 'mapToDriverValue' in value\n\t\t&& typeof (value as any).mapToDriverValue === 'function';\n}\n\nexport const noopDecoder: DriverValueDecoder<any, any> = {\n\tmapFromDriverValue: (value) => value,\n};\n\nexport const noopEncoder: DriverValueEncoder<any, any> = {\n\tmapToDriverValue: (value) => value,\n};\n\nexport interface DriverValueMapper<TData, TDriverParam>\n\textends DriverValueDecoder<TData, TDriverParam>, DriverValueEncoder<TData, TDriverParam>\n{}\n\nexport const noopMapper: DriverValueMapper<any, any> = {\n\t...noopDecoder,\n\t...noopEncoder,\n};\n\n/** Parameter value that is optionally bound to an encoder (for example, a column). */\nexport class Param<TDataType = unknown, TDriverParamType = TDataType> implements SQLWrapper {\n\tstatic readonly [entityKind]: string = 'Param';\n\n\tprotected brand!: 'BoundParamValue';\n\n\t/**\n\t * @param value - Parameter value\n\t * @param encoder - Encoder to convert the value to a driver parameter\n\t */\n\tconstructor(\n\t\treadonly value: TDataType,\n\t\treadonly encoder: DriverValueEncoder<TDataType, TDriverParamType> = noopEncoder,\n\t) {}\n\n\tgetSQL(): SQL<unknown> {\n\t\treturn new SQL([this]);\n\t}\n}\n\n/** @deprecated Use `sql.param` instead. */\nexport function param<TData, TDriver>(\n\tvalue: TData,\n\tencoder?: DriverValueEncoder<TData, TDriver>,\n): Param<TData, TDriver> {\n\treturn new Param(value, encoder);\n}\n\n/**\n * Anything that can be passed to the `` sql`...` `` tagged function.\n */\nexport type SQLChunk =\n\t| StringChunk\n\t| SQLChunk[]\n\t| SQLWrapper\n\t| SQL\n\t| Table\n\t| View\n\t| Subquery\n\t| AnyColumn\n\t| Param\n\t| Name\n\t| undefined\n\t| FakePrimitiveParam\n\t| Placeholder;\n\nexport function sql<T>(strings: TemplateStringsArray, ...params: any[]): SQL<T>;\n/*\n\tThe type of `params` is specified as `SQLChunk[]`, but that's slightly incorrect -\n\tin runtime, users won't pass `FakePrimitiveParam` instances as `params` - they will pass primitive values\n\twhich will be wrapped in `Param`. That's why the overload specifies `params` as `any[]` and not as `SQLSourceParam[]`.\n\tThis type is used to make our lives easier and the type checker happy.\n*/\nexport function sql(strings: TemplateStringsArray, ...params: SQLChunk[]): SQL {\n\tconst queryChunks: SQLChunk[] = [];\n\tif (params.length > 0 || (strings.length > 0 && strings[0] !== '')) {\n\t\tqueryChunks.push(new StringChunk(strings[0]!));\n\t}\n\tfor (const [paramIndex, param] of params.entries()) {\n\t\tqueryChunks.push(param, new StringChunk(strings[paramIndex + 1]!));\n\t}\n\n\treturn new SQL(queryChunks);\n}\n\nexport namespace sql {\n\texport function empty(): SQL {\n\t\treturn new SQL([]);\n\t}\n\n\t/** @deprecated - use `sql.join()` */\n\texport function fromList(list: SQLChunk[]): SQL {\n\t\treturn new SQL(list);\n\t}\n\n\t/**\n\t * Convenience function to create an SQL query from a raw string.\n\t * @param str The raw SQL query string.\n\t */\n\texport function raw(str: string): SQL {\n\t\treturn new SQL([new StringChunk(str)]);\n\t}\n\n\t/**\n\t * Join a list of SQL chunks with a separator.\n\t * @example\n\t * ```ts\n\t * const query = sql.join([sql`a`, sql`b`, sql`c`]);\n\t * // sql`abc`\n\t * ```\n\t * @example\n\t * ```ts\n\t * const query = sql.join([sql`a`, sql`b`, sql`c`], sql`, `);\n\t * // sql`a, b, c`\n\t * ```\n\t */\n\texport function join(chunks: SQLChunk[], separator?: SQLChunk): SQL {\n\t\tconst result: SQLChunk[] = [];\n\t\tfor (const [i, chunk] of chunks.entries()) {\n\t\t\tif (i > 0 && separator !== undefined) {\n\t\t\t\tresult.push(separator);\n\t\t\t}\n\t\t\tresult.push(chunk);\n\t\t}\n\t\treturn new SQL(result);\n\t}\n\n\t/**\n\t * Create a SQL chunk that represents a DB identifier (table, column, index etc.).\n\t * When used in a query, the identifier will be escaped based on the DB engine.\n\t * For example, in PostgreSQL, identifiers are escaped with double quotes.\n\t *\n\t * **WARNING: This function does not offer any protection against SQL injections, so you must validate any user input beforehand.**\n\t *\n\t * @example ```ts\n\t * const query = sql`SELECT * FROM ${sql.identifier('my-table')}`;\n\t * // 'SELECT * FROM \"my-table\"'\n\t * ```\n\t */\n\texport function identifier(value: string): Name {\n\t\treturn new Name(value);\n\t}\n\n\texport function placeholder<TName extends string>(name: TName): Placeholder<TName> {\n\t\treturn new Placeholder(name);\n\t}\n\n\texport function param<TData, TDriver>(\n\t\tvalue: TData,\n\t\tencoder?: DriverValueEncoder<TData, TDriver>,\n\t): Param<TData, TDriver> {\n\t\treturn new Param(value, encoder);\n\t}\n}\n\nexport namespace SQL {\n\texport class Aliased<T = unknown> implements SQLWrapper {\n\t\tstatic readonly [entityKind]: string = 'SQL.Aliased';\n\n\t\tdeclare _: {\n\t\t\tbrand: 'SQL.Aliased';\n\t\t\ttype: T;\n\t\t};\n\n\t\t/** @internal */\n\t\tisSelectionField = false;\n\n\t\tconstructor(\n\t\t\treadonly sql: SQL,\n\t\t\treadonly fieldAlias: string,\n\t\t) {}\n\n\t\tgetSQL(): SQL {\n\t\t\treturn this.sql;\n\t\t}\n\n\t\t/** @internal */\n\t\tclone() {\n\t\t\treturn new Aliased(this.sql, this.fieldAlias);\n\t\t}\n\t}\n}\n\nexport class Placeholder<TName extends string = string, TValue = any> implements SQLWrapper {\n\tstatic readonly [entityKind]: string = 'Placeholder';\n\n\tdeclare protected: TValue;\n\n\tconstructor(readonly name: TName) {}\n\n\tgetSQL(): SQL {\n\t\treturn new SQL([this]);\n\t}\n}\n\n/** @deprecated Use `sql.placeholder` instead. */\nexport function placeholder<TName extends string>(name: TName): Placeholder<TName> {\n\treturn new Placeholder(name);\n}\n\nexport function fillPlaceholders(params: unknown[], values: Record<string, unknown>): unknown[] {\n\treturn params.map((p) => {\n\t\tif (is(p, Placeholder)) {\n\t\t\tif (!(p.name in values)) {\n\t\t\t\tthrow new Error(`No value for placeholder \"${p.name}\" was provided`);\n\t\t\t}\n\n\t\t\treturn values[p.name];\n\t\t}\n\n\t\tif (is(p, Param) && is(p.value, Placeholder)) {\n\t\t\tif (!(p.value.name in values)) {\n\t\t\t\tthrow new Error(`No value for placeholder \"${p.value.name}\" was provided`);\n\t\t\t}\n\n\t\t\treturn p.encoder.mapToDriverValue(values[p.value.name]);\n\t\t}\n\n\t\treturn p;\n\t});\n}\n\nexport type ColumnsSelection = Record<string, unknown>;\n\nconst IsDrizzleView = Symbol.for('drizzle:IsDrizzleView');\n\nexport abstract class View<\n\tTName extends string = string,\n\tTExisting extends boolean = boolean,\n\tTSelection extends ColumnsSelection = ColumnsSelection,\n> implements SQLWrapper {\n\tstatic readonly [entityKind]: string = 'View';\n\n\tdeclare _: {\n\t\tbrand: 'View';\n\t\tviewBrand: string;\n\t\tname: TName;\n\t\texisting: TExisting;\n\t\tselectedFields: TSelection;\n\t};\n\n\t/** @internal */\n\t[ViewBaseConfig]: {\n\t\tname: TName;\n\t\toriginalName: TName;\n\t\tschema: string | undefined;\n\t\tselectedFields: ColumnsSelection;\n\t\tisExisting: TExisting;\n\t\tquery: TExisting extends true ? undefined : SQL;\n\t\tisAlias: boolean;\n\t};\n\n\t/** @internal */\n\t[IsDrizzleView] = true;\n\n\tdeclare readonly $inferSelect: InferSelectViewModel<View<Assume<TName, string>, TExisting, TSelection>>;\n\n\tconstructor(\n\t\t{ name, schema, selectedFields, query }: {\n\t\t\tname: TName;\n\t\t\tschema: string | undefined;\n\t\t\tselectedFields: ColumnsSelection;\n\t\t\tquery: SQL | undefined;\n\t\t},\n\t) {\n\t\tthis[ViewBaseConfig] = {\n\t\t\tname,\n\t\t\toriginalName: name,\n\t\t\tschema,\n\t\t\tselectedFields,\n\t\t\tquery: query as (TExisting extends true ? undefined : SQL),\n\t\t\tisExisting: !query as TExisting,\n\t\t\tisAlias: false,\n\t\t};\n\t}\n\n\tgetSQL(): SQL<unknown> {\n\t\treturn new SQL([this]);\n\t}\n}\n\nexport function isView(view: unknown): view is View {\n\treturn typeof view === 'object' && view !== null && IsDrizzleView in view;\n}\n\nexport function getViewName<T extends View>(view: T): T['_']['name'] {\n\treturn view[ViewBaseConfig].name;\n}\n\nexport type InferSelectViewModel<TView extends View> =\n\tEqual<TView['_']['selectedFields'], { [x: string]: unknown }> extends true ? { [x: string]: unknown }\n\t\t: SelectResult<\n\t\t\tTView['_']['selectedFields'],\n\t\t\t'single',\n\t\t\tRecord<TView['_']['name'], 'not-null'>\n\t\t>;\n\n// Defined separately from the Column class to resolve circular dependency\nColumn.prototype.getSQL = function() {\n\treturn new SQL([this]);\n};\n\n// Defined separately from the Table class to resolve circular dependency\nTable.prototype.getSQL = function() {\n\treturn new SQL([this]);\n};\n\n// Defined separately from the Column class to resolve circular dependency\nSubquery.prototype.getSQL = function() {\n\treturn new SQL([this]);\n};\n", "import type { ColumnBuilderBaseConfig, ColumnBuilderRuntimeConfig, MakeColumnConfig } from '~/column-builder.ts';\nimport type { ColumnBaseConfig } from '~/column.ts';\nimport { entityKind } from '~/entity.ts';\nimport type { AnyPgTable } from '~/pg-core/table.ts';\nimport type { NonArray, Writable } from '~/utils.ts';\nimport { PgColumn, PgColumnBuilder } from './common.ts';\n\n// Enum as ts enum\n\nexport type PgEnumObjectColumnBuilderInitial<TName extends string, TValues extends object> = PgEnumObjectColumnBuilder<{\n\tname: TName;\n\tdataType: 'string';\n\tcolumnType: 'PgEnumObjectColumn';\n\tdata: TValues[keyof TValues];\n\tenumValues: string[];\n\tdriverParam: string;\n}>;\n\nexport interface PgEnumObject<TValues extends object> {\n\t(): PgEnumObjectColumnBuilderInitial<'', TValues>;\n\t<TName extends string>(name: TName): PgEnumObjectColumnBuilderInitial<TName, TValues>;\n\t<TName extends string>(name?: TName): PgEnumObjectColumnBuilderInitial<TName, TValues>;\n\n\treadonly enumName: string;\n\treadonly enumValues: string[];\n\treadonly schema: string | undefined;\n\t/** @internal */\n\t[isPgEnumSym]: true;\n}\n\nexport class PgEnumObjectColumnBuilder<\n\tT extends ColumnBuilderBaseConfig<'string', 'PgEnumObjectColumn'> & { enumValues: string[] },\n> extends PgColumnBuilder<T, { enum: PgEnumObject<any> }> {\n\tstatic override readonly [entityKind]: string = 'PgEnumObjectColumnBuilder';\n\n\tconstructor(name: T['name'], enumInstance: PgEnumObject<any>) {\n\t\tsuper(name, 'string', 'PgEnumObjectColumn');\n\t\tthis.config.enum = enumInstance;\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgEnumObjectColumn<MakeColumnConfig<T, TTableName>> {\n\t\treturn new PgEnumObjectColumn<MakeColumnConfig<T, TTableName>>(\n\t\t\ttable,\n\t\t\tthis.config as ColumnBuilderRuntimeConfig<any, any>,\n\t\t);\n\t}\n}\n\nexport class PgEnumObjectColumn<T extends ColumnBaseConfig<'string', 'PgEnumObjectColumn'> & { enumValues: object }>\n\textends PgColumn<T, { enum: PgEnumObject<object> }>\n{\n\tstatic override readonly [entityKind]: string = 'PgEnumObjectColumn';\n\n\treadonly enum;\n\toverride readonly enumValues = this.config.enum.enumValues;\n\n\tconstructor(\n\t\ttable: AnyPgTable<{ name: T['tableName'] }>,\n\t\tconfig: PgEnumObjectColumnBuilder<T>['config'],\n\t) {\n\t\tsuper(table, config);\n\t\tthis.enum = config.enum;\n\t}\n\n\tgetSQLType(): string {\n\t\treturn this.enum.enumName;\n\t}\n}\n\n// Enum as string union\n\nexport type PgEnumColumnBuilderInitial<TName extends string, TValues extends [string, ...string[]]> =\n\tPgEnumColumnBuilder<{\n\t\tname: TName;\n\t\tdataType: 'string';\n\t\tcolumnType: 'PgEnumColumn';\n\t\tdata: TValues[number];\n\t\tenumValues: TValues;\n\t\tdriverParam: string;\n\t}>;\n\nconst isPgEnumSym = Symbol.for('drizzle:isPgEnum');\nexport interface PgEnum<TValues extends [string, ...string[]]> {\n\t(): PgEnumColumnBuilderInitial<'', TValues>;\n\t<TName extends string>(name: TName): PgEnumColumnBuilderInitial<TName, TValues>;\n\t<TName extends string>(name?: TName): PgEnumColumnBuilderInitial<TName, TValues>;\n\n\treadonly enumName: string;\n\treadonly enumValues: TValues;\n\treadonly schema: string | undefined;\n\t/** @internal */\n\t[isPgEnumSym]: true;\n}\n\nexport function isPgEnum(obj: unknown): obj is PgEnum<[string, ...string[]]> {\n\treturn !!obj && typeof obj === 'function' && isPgEnumSym in obj && obj[isPgEnumSym] === true;\n}\n\nexport class PgEnumColumnBuilder<\n\tT extends ColumnBuilderBaseConfig<'string', 'PgEnumColumn'> & { enumValues: [string, ...string[]] },\n> extends PgColumnBuilder<T, { enum: PgEnum<T['enumValues']> }> {\n\tstatic override readonly [entityKind]: string = 'PgEnumColumnBuilder';\n\n\tconstructor(name: T['name'], enumInstance: PgEnum<T['enumValues']>) {\n\t\tsuper(name, 'string', 'PgEnumColumn');\n\t\tthis.config.enum = enumInstance;\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgEnumColumn<MakeColumnConfig<T, TTableName>> {\n\t\treturn new PgEnumColumn<MakeColumnConfig<T, TTableName>>(\n\t\t\ttable,\n\t\t\tthis.config as ColumnBuilderRuntimeConfig<any, any>,\n\t\t);\n\t}\n}\n\nexport class PgEnumColumn<T extends ColumnBaseConfig<'string', 'PgEnumColumn'> & { enumValues: [string, ...string[]] }>\n\textends PgColumn<T, { enum: PgEnum<T['enumValues']> }>\n{\n\tstatic override readonly [entityKind]: string = 'PgEnumColumn';\n\n\treadonly enum = this.config.enum;\n\toverride readonly enumValues = this.config.enum.enumValues;\n\n\tconstructor(\n\t\ttable: AnyPgTable<{ name: T['tableName'] }>,\n\t\tconfig: PgEnumColumnBuilder<T>['config'],\n\t) {\n\t\tsuper(table, config);\n\t\tthis.enum = config.enum;\n\t}\n\n\tgetSQLType(): string {\n\t\treturn this.enum.enumName;\n\t}\n}\n\nexport function pgEnum<U extends string, T extends Readonly<[U, ...U[]]>>(\n\tenumName: string,\n\tvalues: T | Writable<T>,\n): PgEnum<Writable<T>>;\n\nexport function pgEnum<E extends Record<string, string>>(\n\tenumName: string,\n\tenumObj: NonArray<E>,\n): PgEnumObject<E>;\n\nexport function pgEnum(\n\tenumName: any,\n\tinput: any,\n): any {\n\treturn Array.isArray(input)\n\t\t? pgEnumWithSchema(enumName, [...input] as [string, ...string[]], undefined)\n\t\t: pgEnumObjectWithSchema(enumName, input, undefined);\n}\n\n/** @internal */\nexport function pgEnumWithSchema<U extends string, T extends Readonly<[U, ...U[]]>>(\n\tenumName: string,\n\tvalues: T | Writable<T>,\n\tschema?: string,\n): PgEnum<Writable<T>> {\n\tconst enumInstance: PgEnum<Writable<T>> = Object.assign(\n\t\t<TName extends string>(name?: TName): PgEnumColumnBuilderInitial<TName, Writable<T>> =>\n\t\t\tnew PgEnumColumnBuilder(name ?? '' as TName, enumInstance),\n\t\t{\n\t\t\tenumName,\n\t\t\tenumValues: values,\n\t\t\tschema,\n\t\t\t[isPgEnumSym]: true,\n\t\t} as const,\n\t);\n\n\treturn enumInstance;\n}\n\n/** @internal */\nexport function pgEnumObjectWithSchema<T extends object>(\n\tenumName: string,\n\tvalues: T,\n\tschema?: string,\n): PgEnumObject<T> {\n\tconst enumInstance: PgEnumObject<T> = Object.assign(\n\t\t<TName extends string>(name?: TName): PgEnumObjectColumnBuilderInitial<TName, T> =>\n\t\t\tnew PgEnumObjectColumnBuilder(name ?? '' as TName, enumInstance),\n\t\t{\n\t\t\tenumName,\n\t\t\tenumValues: Object.values(values),\n\t\t\tschema,\n\t\t\t[isPgEnumSym]: true,\n\t\t} as const,\n\t);\n\n\treturn enumInstance;\n}\n", "import type {\n\tColumnBuilderBase,\n\tColumnBuilderBaseConfig,\n\tColumnBuilderExtraConfig,\n\tColumnBuilderRuntimeConfig,\n\tColumnDataType,\n\tHasGenerated,\n\tMakeColumnConfig,\n} from '~/column-builder.ts';\nimport { ColumnBuilder } from '~/column-builder.ts';\nimport type { ColumnBaseConfig } from '~/column.ts';\nimport { Column } from '~/column.ts';\nimport { entityKind, is } from '~/entity.ts';\nimport type { Simplify, Update } from '~/utils.ts';\n\nimport type { ForeignKey, UpdateDeleteAction } from '~/pg-core/foreign-keys.ts';\nimport { ForeignKeyBuilder } from '~/pg-core/foreign-keys.ts';\nimport type { AnyPgTable, PgTable } from '~/pg-core/table.ts';\nimport type { SQL } from '~/sql/sql.ts';\nimport { iife } from '~/tracing-utils.ts';\nimport type { PgIndexOpClass } from '../indexes.ts';\nimport { uniqueKeyName } from '../unique-constraint.ts';\nimport { makePgArray, parsePgArray } from '../utils/array.ts';\n\nexport interface ReferenceConfig {\n\tref: () => PgColumn;\n\tactions: {\n\t\tonUpdate?: UpdateDeleteAction;\n\t\tonDelete?: UpdateDeleteAction;\n\t};\n}\n\nexport interface PgColumnBuilderBase<\n\tT extends ColumnBuilderBaseConfig<ColumnDataType, string> = ColumnBuilderBaseConfig<ColumnDataType, string>,\n\tTTypeConfig extends object = object,\n> extends ColumnBuilderBase<T, TTypeConfig & { dialect: 'pg' }> {}\n\nexport abstract class PgColumnBuilder<\n\tT extends ColumnBuilderBaseConfig<ColumnDataType, string> = ColumnBuilderBaseConfig<ColumnDataType, string>,\n\tTRuntimeConfig extends object = object,\n\tTTypeConfig extends object = object,\n\tTExtraConfig extends ColumnBuilderExtraConfig = ColumnBuilderExtraConfig,\n> extends ColumnBuilder<T, TRuntimeConfig, TTypeConfig & { dialect: 'pg' }, TExtraConfig>\n\timplements PgColumnBuilderBase<T, TTypeConfig>\n{\n\tprivate foreignKeyConfigs: ReferenceConfig[] = [];\n\n\tstatic override readonly [entityKind]: string = 'PgColumnBuilder';\n\n\tarray<TSize extends number | undefined = undefined>(size?: TSize): PgArrayBuilder<\n\t\t& {\n\t\t\tname: T['name'];\n\t\t\tdataType: 'array';\n\t\t\tcolumnType: 'PgArray';\n\t\t\tdata: T['data'][];\n\t\t\tdriverParam: T['driverParam'][] | string;\n\t\t\tenumValues: T['enumValues'];\n\t\t\tsize: TSize;\n\t\t\tbaseBuilder: T;\n\t\t}\n\t\t& (T extends { notNull: true } ? { notNull: true } : {})\n\t\t& (T extends { hasDefault: true } ? { hasDefault: true } : {}),\n\t\tT\n\t> {\n\t\treturn new PgArrayBuilder(this.config.name, this as PgColumnBuilder<any, any>, size as any);\n\t}\n\n\treferences(\n\t\tref: ReferenceConfig['ref'],\n\t\tactions: ReferenceConfig['actions'] = {},\n\t): this {\n\t\tthis.foreignKeyConfigs.push({ ref, actions });\n\t\treturn this;\n\t}\n\n\tunique(\n\t\tname?: string,\n\t\tconfig?: { nulls: 'distinct' | 'not distinct' },\n\t): this {\n\t\tthis.config.isUnique = true;\n\t\tthis.config.uniqueName = name;\n\t\tthis.config.uniqueType = config?.nulls;\n\t\treturn this;\n\t}\n\n\tgeneratedAlwaysAs(as: SQL | T['data'] | (() => SQL)): HasGenerated<this, {\n\t\ttype: 'always';\n\t}> {\n\t\tthis.config.generated = {\n\t\t\tas,\n\t\t\ttype: 'always',\n\t\t\tmode: 'stored',\n\t\t};\n\t\treturn this as HasGenerated<this, {\n\t\t\ttype: 'always';\n\t\t}>;\n\t}\n\n\t/** @internal */\n\tbuildForeignKeys(column: PgColumn, table: PgTable): ForeignKey[] {\n\t\treturn this.foreignKeyConfigs.map(({ ref, actions }) => {\n\t\t\treturn iife(\n\t\t\t\t(ref, actions) => {\n\t\t\t\t\tconst builder = new ForeignKeyBuilder(() => {\n\t\t\t\t\t\tconst foreignColumn = ref();\n\t\t\t\t\t\treturn { columns: [column], foreignColumns: [foreignColumn] };\n\t\t\t\t\t});\n\t\t\t\t\tif (actions.onUpdate) {\n\t\t\t\t\t\tbuilder.onUpdate(actions.onUpdate);\n\t\t\t\t\t}\n\t\t\t\t\tif (actions.onDelete) {\n\t\t\t\t\t\tbuilder.onDelete(actions.onDelete);\n\t\t\t\t\t}\n\t\t\t\t\treturn builder.build(table);\n\t\t\t\t},\n\t\t\t\tref,\n\t\t\t\tactions,\n\t\t\t);\n\t\t});\n\t}\n\n\t/** @internal */\n\tabstract build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgColumn<MakeColumnConfig<T, TTableName>>;\n\n\t/** @internal */\n\tbuildExtraConfigColumn<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): ExtraConfigColumn {\n\t\treturn new ExtraConfigColumn(table, this.config);\n\t}\n}\n\n// To understand how to use `PgColumn` and `PgColumn`, see `Column` and `AnyColumn` documentation.\nexport abstract class PgColumn<\n\tT extends ColumnBaseConfig<ColumnDataType, string> = ColumnBaseConfig<ColumnDataType, string>,\n\tTRuntimeConfig extends object = {},\n\tTTypeConfig extends object = {},\n> extends Column<T, TRuntimeConfig, TTypeConfig & { dialect: 'pg' }> {\n\tstatic override readonly [entityKind]: string = 'PgColumn';\n\n\tconstructor(\n\t\toverride readonly table: PgTable,\n\t\tconfig: ColumnBuilderRuntimeConfig<T['data'], TRuntimeConfig>,\n\t) {\n\t\tif (!config.uniqueName) {\n\t\t\tconfig.uniqueName = uniqueKeyName(table, [config.name]);\n\t\t}\n\t\tsuper(table, config);\n\t}\n}\n\nexport type IndexedExtraConfigType = { order?: 'asc' | 'desc'; nulls?: 'first' | 'last'; opClass?: string };\n\nexport class ExtraConfigColumn<\n\tT extends ColumnBaseConfig<ColumnDataType, string> = ColumnBaseConfig<ColumnDataType, string>,\n> extends PgColumn<T, IndexedExtraConfigType> {\n\tstatic override readonly [entityKind]: string = 'ExtraConfigColumn';\n\n\toverride getSQLType(): string {\n\t\treturn this.getSQLType();\n\t}\n\n\tindexConfig: IndexedExtraConfigType = {\n\t\torder: this.config.order ?? 'asc',\n\t\tnulls: this.config.nulls ?? 'last',\n\t\topClass: this.config.opClass,\n\t};\n\tdefaultConfig: IndexedExtraConfigType = {\n\t\torder: 'asc',\n\t\tnulls: 'last',\n\t\topClass: undefined,\n\t};\n\n\tasc(): Omit<this, 'asc' | 'desc'> {\n\t\tthis.indexConfig.order = 'asc';\n\t\treturn this;\n\t}\n\n\tdesc(): Omit<this, 'asc' | 'desc'> {\n\t\tthis.indexConfig.order = 'desc';\n\t\treturn this;\n\t}\n\n\tnullsFirst(): Omit<this, 'nullsFirst' | 'nullsLast'> {\n\t\tthis.indexConfig.nulls = 'first';\n\t\treturn this;\n\t}\n\n\tnullsLast(): Omit<this, 'nullsFirst' | 'nullsLast'> {\n\t\tthis.indexConfig.nulls = 'last';\n\t\treturn this;\n\t}\n\n\t/**\n\t * ### PostgreSQL documentation quote\n\t *\n\t * > An operator class with optional parameters can be specified for each column of an index.\n\t * The operator class identifies the operators to be used by the index for that column.\n\t * For example, a B-tree index on four-byte integers would use the int4_ops class;\n\t * this operator class includes comparison functions for four-byte integers.\n\t * In practice the default operator class for the column's data type is usually sufficient.\n\t * The main point of having operator classes is that for some data types, there could be more than one meaningful ordering.\n\t * For example, we might want to sort a complex-number data type either by absolute value or by real part.\n\t * We could do this by defining two operator classes for the data type and then selecting the proper class when creating an index.\n\t * More information about operator classes check:\n\t *\n\t * ### Useful links\n\t * https://www.postgresql.org/docs/current/sql-createindex.html\n\t *\n\t * https://www.postgresql.org/docs/current/indexes-opclass.html\n\t *\n\t * https://www.postgresql.org/docs/current/xindex.html\n\t *\n\t * ### Additional types\n\t * If you have the `pg_vector` extension installed in your database, you can use the\n\t * `vector_l2_ops`, `vector_ip_ops`, `vector_cosine_ops`, `vector_l1_ops`, `bit_hamming_ops`, `bit_jaccard_ops`, `halfvec_l2_ops`, `sparsevec_l2_ops` options, which are predefined types.\n\t *\n\t * **You can always specify any string you want in the operator class, in case Drizzle doesn't have it natively in its types**\n\t *\n\t * @param opClass\n\t * @returns\n\t */\n\top(opClass: PgIndexOpClass): Omit<this, 'op'> {\n\t\tthis.indexConfig.opClass = opClass;\n\t\treturn this;\n\t}\n}\n\nexport class IndexedColumn {\n\tstatic readonly [entityKind]: string = 'IndexedColumn';\n\tconstructor(\n\t\tname: string | undefined,\n\t\tkeyAsName: boolean,\n\t\ttype: string,\n\t\tindexConfig: IndexedExtraConfigType,\n\t) {\n\t\tthis.name = name;\n\t\tthis.keyAsName = keyAsName;\n\t\tthis.type = type;\n\t\tthis.indexConfig = indexConfig;\n\t}\n\n\tname: string | undefined;\n\tkeyAsName: boolean;\n\ttype: string;\n\tindexConfig: IndexedExtraConfigType;\n}\n\nexport type AnyPgColumn<TPartial extends Partial<ColumnBaseConfig<ColumnDataType, string>> = {}> = PgColumn<\n\tRequired<Update<ColumnBaseConfig<ColumnDataType, string>, TPartial>>\n>;\n\nexport type PgArrayColumnBuilderBaseConfig = ColumnBuilderBaseConfig<'array', 'PgArray'> & {\n\tsize: number | undefined;\n\tbaseBuilder: ColumnBuilderBaseConfig<ColumnDataType, string>;\n};\n\nexport class PgArrayBuilder<\n\tT extends PgArrayColumnBuilderBaseConfig,\n\tTBase extends ColumnBuilderBaseConfig<ColumnDataType, string> | PgArrayColumnBuilderBaseConfig,\n> extends PgColumnBuilder<\n\tT,\n\t{\n\t\tbaseBuilder: TBase extends PgArrayColumnBuilderBaseConfig ? PgArrayBuilder<\n\t\t\t\tTBase,\n\t\t\t\tTBase extends { baseBuilder: infer TBaseBuilder extends ColumnBuilderBaseConfig<any, any> } ? TBaseBuilder\n\t\t\t\t\t: never\n\t\t\t>\n\t\t\t: PgColumnBuilder<TBase, {}, Simplify<Omit<TBase, keyof ColumnBuilderBaseConfig<any, any>>>>;\n\t\tsize: T['size'];\n\t},\n\t{\n\t\tbaseBuilder: TBase extends PgArrayColumnBuilderBaseConfig ? PgArrayBuilder<\n\t\t\t\tTBase,\n\t\t\t\tTBase extends { baseBuilder: infer TBaseBuilder extends ColumnBuilderBaseConfig<any, any> } ? TBaseBuilder\n\t\t\t\t\t: never\n\t\t\t>\n\t\t\t: PgColumnBuilder<TBase, {}, Simplify<Omit<TBase, keyof ColumnBuilderBaseConfig<any, any>>>>;\n\t\tsize: T['size'];\n\t}\n> {\n\tstatic override readonly [entityKind] = 'PgArrayBuilder';\n\n\tconstructor(\n\t\tname: string,\n\t\tbaseBuilder: PgArrayBuilder<T, TBase>['config']['baseBuilder'],\n\t\tsize: T['size'],\n\t) {\n\t\tsuper(name, 'array', 'PgArray');\n\t\tthis.config.baseBuilder = baseBuilder;\n\t\tthis.config.size = size;\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgArray<MakeColumnConfig<T, TTableName> & { size: T['size']; baseBuilder: T['baseBuilder'] }, TBase> {\n\t\tconst baseColumn = this.config.baseBuilder.build(table);\n\t\treturn new PgArray<MakeColumnConfig<T, TTableName> & { size: T['size']; baseBuilder: T['baseBuilder'] }, TBase>(\n\t\t\ttable as AnyPgTable<{ name: MakeColumnConfig<T, TTableName>['tableName'] }>,\n\t\t\tthis.config as ColumnBuilderRuntimeConfig<any, any>,\n\t\t\tbaseColumn,\n\t\t);\n\t}\n}\n\nexport class PgArray<\n\tT extends ColumnBaseConfig<'array', 'PgArray'> & {\n\t\tsize: number | undefined;\n\t\tbaseBuilder: ColumnBuilderBaseConfig<ColumnDataType, string>;\n\t},\n\tTBase extends ColumnBuilderBaseConfig<ColumnDataType, string>,\n> extends PgColumn<T, {}, { size: T['size']; baseBuilder: T['baseBuilder'] }> {\n\treadonly size: T['size'];\n\n\tstatic override readonly [entityKind]: string = 'PgArray';\n\n\tconstructor(\n\t\ttable: AnyPgTable<{ name: T['tableName'] }>,\n\t\tconfig: PgArrayBuilder<T, TBase>['config'],\n\t\treadonly baseColumn: PgColumn,\n\t\treadonly range?: [number | undefined, number | undefined],\n\t) {\n\t\tsuper(table, config);\n\t\tthis.size = config.size;\n\t}\n\n\tgetSQLType(): string {\n\t\treturn `${this.baseColumn.getSQLType()}[${typeof this.size === 'number' ? this.size : ''}]`;\n\t}\n\n\toverride mapFromDriverValue(value: unknown[] | string): T['data'] {\n\t\tif (typeof value === 'string') {\n\t\t\t// Thank you node-postgres for not parsing enum arrays\n\t\t\tvalue = parsePgArray(value);\n\t\t}\n\t\treturn value.map((v) => this.baseColumn.mapFromDriverValue(v));\n\t}\n\n\toverride mapToDriverValue(value: unknown[], isNestedArray = false): unknown[] | string {\n\t\tconst a = value.map((v) =>\n\t\t\tv === null\n\t\t\t\t? null\n\t\t\t\t: is(this.baseColumn, PgArray)\n\t\t\t\t? this.baseColumn.mapToDriverValue(v as unknown[], true)\n\t\t\t\t: this.baseColumn.mapToDriverValue(v)\n\t\t);\n\t\tif (isNestedArray) return a;\n\t\treturn makePgArray(a);\n\t}\n}\n", "import { entityKind } from '~/entity.ts';\nimport type { Column } from './column.ts';\nimport type { GelColumn, GelExtraConfigColumn } from './gel-core/index.ts';\nimport type { MySqlColumn } from './mysql-core/index.ts';\nimport type { ExtraConfigColumn, PgColumn, PgSequenceOptions } from './pg-core/index.ts';\nimport type { SingleStoreColumn } from './singlestore-core/index.ts';\nimport type { SQL } from './sql/sql.ts';\nimport type { SQLiteColumn } from './sqlite-core/index.ts';\nimport type { Assume, Simplify } from './utils.ts';\n\nexport type ColumnDataType =\n\t| 'string'\n\t| 'number'\n\t| 'boolean'\n\t| 'array'\n\t| 'json'\n\t| 'date'\n\t| 'bigint'\n\t| 'custom'\n\t| 'buffer'\n\t| 'dateDuration'\n\t| 'duration'\n\t| 'relDuration'\n\t| 'localTime'\n\t| 'localDate'\n\t| 'localDateTime';\n\nexport type Dialect = 'pg' | 'mysql' | 'sqlite' | 'singlestore' | 'common' | 'gel';\n\nexport type GeneratedStorageMode = 'virtual' | 'stored';\n\nexport type GeneratedType = 'always' | 'byDefault';\n\nexport type GeneratedColumnConfig<TDataType> = {\n\tas: TDataType | SQL | (() => SQL);\n\ttype?: GeneratedType;\n\tmode?: GeneratedStorageMode;\n};\n\nexport type GeneratedIdentityConfig = {\n\tsequenceName?: string;\n\tsequenceOptions?: PgSequenceOptions;\n\ttype: 'always' | 'byDefault';\n};\n\nexport interface ColumnBuilderBaseConfig<TDataType extends ColumnDataType, TColumnType extends string> {\n\tname: string;\n\tdataType: TDataType;\n\tcolumnType: TColumnType;\n\tdata: unknown;\n\tdriverParam: unknown;\n\tenumValues: string[] | undefined;\n}\n\nexport type MakeColumnConfig<\n\tT extends ColumnBuilderBaseConfig<ColumnDataType, string>,\n\tTTableName extends string,\n\tTData = T extends { $type: infer U } ? U : T['data'],\n> = {\n\tname: T['name'];\n\ttableName: TTableName;\n\tdataType: T['dataType'];\n\tcolumnType: T['columnType'];\n\tdata: TData;\n\tdriverParam: T['driverParam'];\n\tnotNull: T extends { notNull: true } ? true : false;\n\thasDefault: T extends { hasDefault: true } ? true : false;\n\tisPrimaryKey: T extends { isPrimaryKey: true } ? true : false;\n\tisAutoincrement: T extends { isAutoincrement: true } ? true : false;\n\thasRuntimeDefault: T extends { hasRuntimeDefault: true } ? true : false;\n\tenumValues: T['enumValues'];\n\tbaseColumn: T extends { baseBuilder: infer U extends ColumnBuilderBase } ? BuildColumn<TTableName, U, 'common'>\n\t\t: never;\n\tidentity: T extends { identity: 'always' } ? 'always' : T extends { identity: 'byDefault' } ? 'byDefault' : undefined;\n\tgenerated: T extends { generated: infer G } ? unknown extends G ? undefined\n\t\t: G extends undefined ? undefined\n\t\t: G\n\t\t: undefined;\n} & {};\n\nexport type ColumnBuilderTypeConfig<\n\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\n\tT extends ColumnBuilderBaseConfig<ColumnDataType, string>,\n\tTTypeConfig extends object = object,\n> = Simplify<\n\t& {\n\t\tbrand: 'ColumnBuilder';\n\t\tname: T['name'];\n\t\tdataType: T['dataType'];\n\t\tcolumnType: T['columnType'];\n\t\tdata: T['data'];\n\t\tdriverParam: T['driverParam'];\n\t\tnotNull: T extends { notNull: infer U } ? U : boolean;\n\t\thasDefault: T extends { hasDefault: infer U } ? U : boolean;\n\t\tenumValues: T['enumValues'];\n\t\tidentity: T extends { identity: infer U } ? U : unknown;\n\t\tgenerated: T extends { generated: infer G } ? G extends undefined ? unknown : G : unknown;\n\t}\n\t& TTypeConfig\n>;\n\nexport type ColumnBuilderRuntimeConfig<TData, TRuntimeConfig extends object = object> = {\n\tname: string;\n\tkeyAsName: boolean;\n\tnotNull: boolean;\n\tdefault: TData | SQL | undefined;\n\tdefaultFn: (() => TData | SQL) | undefined;\n\tonUpdateFn: (() => TData | SQL) | undefined;\n\thasDefault: boolean;\n\tprimaryKey: boolean;\n\tisUnique: boolean;\n\tuniqueName: string | undefined;\n\tuniqueType: string | undefined;\n\tdataType: string;\n\tcolumnType: string;\n\tgenerated: GeneratedColumnConfig<TData> | undefined;\n\tgeneratedIdentity: GeneratedIdentityConfig | undefined;\n} & TRuntimeConfig;\n\nexport interface ColumnBuilderExtraConfig {\n\tprimaryKeyHasDefault?: boolean;\n}\n\nexport type NotNull<T extends ColumnBuilderBase> = T & {\n\t_: {\n\t\tnotNull: true;\n\t};\n};\n\nexport type HasDefault<T extends ColumnBuilderBase> = T & {\n\t_: {\n\t\thasDefault: true;\n\t};\n};\n\nexport type IsPrimaryKey<T extends ColumnBuilderBase> = T & {\n\t_: {\n\t\tisPrimaryKey: true;\n\t};\n};\n\nexport type IsAutoincrement<T extends ColumnBuilderBase> = T & {\n\t_: {\n\t\tisAutoincrement: true;\n\t};\n};\n\nexport type HasRuntimeDefault<T extends ColumnBuilderBase> = T & {\n\t_: {\n\t\thasRuntimeDefault: true;\n\t};\n};\n\nexport type $Type<T extends ColumnBuilderBase, TType> = T & {\n\t_: {\n\t\t$type: TType;\n\t};\n};\n\nexport type HasGenerated<T extends ColumnBuilderBase, TGenerated extends {} = {}> = T & {\n\t_: {\n\t\thasDefault: true;\n\t\tgenerated: TGenerated;\n\t};\n};\n\nexport type IsIdentity<\n\tT extends ColumnBuilderBase,\n\tTType extends 'always' | 'byDefault',\n> = T & {\n\t_: {\n\t\tnotNull: true;\n\t\thasDefault: true;\n\t\tidentity: TType;\n\t};\n};\nexport interface ColumnBuilderBase<\n\tT extends ColumnBuilderBaseConfig<ColumnDataType, string> = ColumnBuilderBaseConfig<ColumnDataType, string>,\n\tTTypeConfig extends object = object,\n> {\n\t_: ColumnBuilderTypeConfig<T, TTypeConfig>;\n}\n\n// To understand how to use `ColumnBuilder` and `AnyColumnBuilder`, see `Column` and `AnyColumn` documentation.\nexport abstract class ColumnBuilder<\n\tT extends ColumnBuilderBaseConfig<ColumnDataType, string> = ColumnBuilderBaseConfig<ColumnDataType, string>,\n\tTRuntimeConfig extends object = object,\n\tTTypeConfig extends object = object,\n\tTExtraConfig extends ColumnBuilderExtraConfig = ColumnBuilderExtraConfig,\n> implements ColumnBuilderBase<T, TTypeConfig> {\n\tstatic readonly [entityKind]: string = 'ColumnBuilder';\n\n\tdeclare _: ColumnBuilderTypeConfig<T, TTypeConfig>;\n\n\tprotected config: ColumnBuilderRuntimeConfig<T['data'], TRuntimeConfig>;\n\n\tconstructor(name: T['name'], dataType: T['dataType'], columnType: T['columnType']) {\n\t\tthis.config = {\n\t\t\tname,\n\t\t\tkeyAsName: name === '',\n\t\t\tnotNull: false,\n\t\t\tdefault: undefined,\n\t\t\thasDefault: false,\n\t\t\tprimaryKey: false,\n\t\t\tisUnique: false,\n\t\t\tuniqueName: undefined,\n\t\t\tuniqueType: undefined,\n\t\t\tdataType,\n\t\t\tcolumnType,\n\t\t\tgenerated: undefined,\n\t\t} as ColumnBuilderRuntimeConfig<T['data'], TRuntimeConfig>;\n\t}\n\n\t/**\n\t * Changes the data type of the column. Commonly used with `json` columns. Also, useful for branded types.\n\t *\n\t * @example\n\t * ```ts\n\t * const users = pgTable('users', {\n\t * \tid: integer('id').$type<UserId>().primaryKey(),\n\t * \tdetails: json('details').$type<UserDetails>().notNull(),\n\t * });\n\t * ```\n\t */\n\t$type<TType>(): $Type<this, TType> {\n\t\treturn this as $Type<this, TType>;\n\t}\n\n\t/**\n\t * Adds a `not null` clause to the column definition.\n\t *\n\t * Affects the `select` model of the table - columns *without* `not null` will be nullable on select.\n\t */\n\tnotNull(): NotNull<this> {\n\t\tthis.config.notNull = true;\n\t\treturn this as NotNull<this>;\n\t}\n\n\t/**\n\t * Adds a `default <value>` clause to the column definition.\n\t *\n\t * Affects the `insert` model of the table - columns *with* `default` are optional on insert.\n\t *\n\t * If you need to set a dynamic default value, use {@link $defaultFn} instead.\n\t */\n\tdefault(value: (this['_'] extends { $type: infer U } ? U : this['_']['data']) | SQL): HasDefault<this> {\n\t\tthis.config.default = value;\n\t\tthis.config.hasDefault = true;\n\t\treturn this as HasDefault<this>;\n\t}\n\n\t/**\n\t * Adds a dynamic default value to the column.\n\t * The function will be called when the row is inserted, and the returned value will be used as the column value.\n\t *\n\t * **Note:** This value does not affect the `drizzle-kit` behavior, it is only used at runtime in `drizzle-orm`.\n\t */\n\t$defaultFn(\n\t\tfn: () => (this['_'] extends { $type: infer U } ? U : this['_']['data']) | SQL,\n\t): HasRuntimeDefault<HasDefault<this>> {\n\t\tthis.config.defaultFn = fn;\n\t\tthis.config.hasDefault = true;\n\t\treturn this as HasRuntimeDefault<HasDefault<this>>;\n\t}\n\n\t/**\n\t * Alias for {@link $defaultFn}.\n\t */\n\t$default = this.$defaultFn;\n\n\t/**\n\t * Adds a dynamic update value to the column.\n\t * The function will be called when the row is updated, and the returned value will be used as the column value if none is provided.\n\t * If no `default` (or `$defaultFn`) value is provided, the function will be called when the row is inserted as well, and the returned value will be used as the column value.\n\t *\n\t * **Note:** This value does not affect the `drizzle-kit` behavior, it is only used at runtime in `drizzle-orm`.\n\t */\n\t$onUpdateFn(\n\t\tfn: () => (this['_'] extends { $type: infer U } ? U : this['_']['data']) | SQL,\n\t): HasDefault<this> {\n\t\tthis.config.onUpdateFn = fn;\n\t\tthis.config.hasDefault = true;\n\t\treturn this as HasDefault<this>;\n\t}\n\n\t/**\n\t * Alias for {@link $onUpdateFn}.\n\t */\n\t$onUpdate = this.$onUpdateFn;\n\n\t/**\n\t * Adds a `primary key` clause to the column definition. This implicitly makes the column `not null`.\n\t *\n\t * In SQLite, `integer primary key` implicitly makes the column auto-incrementing.\n\t */\n\tprimaryKey(): TExtraConfig['primaryKeyHasDefault'] extends true ? IsPrimaryKey<HasDefault<NotNull<this>>>\n\t\t: IsPrimaryKey<NotNull<this>>\n\t{\n\t\tthis.config.primaryKey = true;\n\t\tthis.config.notNull = true;\n\t\treturn this as TExtraConfig['primaryKeyHasDefault'] extends true ? IsPrimaryKey<HasDefault<NotNull<this>>>\n\t\t\t: IsPrimaryKey<NotNull<this>>;\n\t}\n\n\tabstract generatedAlwaysAs(\n\t\tas: SQL | T['data'] | (() => SQL),\n\t\tconfig?: Partial<GeneratedColumnConfig<unknown>>,\n\t): HasGenerated<this, {\n\t\ttype: 'always';\n\t}>;\n\n\t/** @internal Sets the name of the column to the key within the table definition if a name was not given. */\n\tsetName(name: string) {\n\t\tif (this.config.name !== '') return;\n\t\tthis.config.name = name;\n\t}\n}\n\nexport type BuildColumn<\n\tTTableName extends string,\n\tTBuilder extends ColumnBuilderBase,\n\tTDialect extends Dialect,\n> = TDialect extends 'pg' ? PgColumn<\n\t\tMakeColumnConfig<TBuilder['_'], TTableName>,\n\t\t{},\n\t\tSimplify<Omit<TBuilder['_'], keyof MakeColumnConfig<TBuilder['_'], TTableName> | 'brand' | 'dialect'>>\n\t>\n\t: TDialect extends 'mysql' ? MySqlColumn<\n\t\t\tMakeColumnConfig<TBuilder['_'], TTableName>,\n\t\t\t{},\n\t\t\tSimplify<\n\t\t\t\tOmit<\n\t\t\t\t\tTBuilder['_'],\n\t\t\t\t\t| keyof MakeColumnConfig<TBuilder['_'], TTableName>\n\t\t\t\t\t| 'brand'\n\t\t\t\t\t| 'dialect'\n\t\t\t\t\t| 'primaryKeyHasDefault'\n\t\t\t\t\t| 'mysqlColumnBuilderBrand'\n\t\t\t\t>\n\t\t\t>\n\t\t>\n\t: TDialect extends 'sqlite' ? SQLiteColumn<\n\t\t\tMakeColumnConfig<TBuilder['_'], TTableName>,\n\t\t\t{},\n\t\t\tSimplify<Omit<TBuilder['_'], keyof MakeColumnConfig<TBuilder['_'], TTableName> | 'brand' | 'dialect'>>\n\t\t>\n\t: TDialect extends 'common' ? Column<\n\t\t\tMakeColumnConfig<TBuilder['_'], TTableName>,\n\t\t\t{},\n\t\t\tSimplify<Omit<TBuilder['_'], keyof MakeColumnConfig<TBuilder['_'], TTableName> | 'brand' | 'dialect'>>\n\t\t>\n\t: TDialect extends 'singlestore' ? SingleStoreColumn<\n\t\t\tMakeColumnConfig<TBuilder['_'], TTableName>,\n\t\t\t{},\n\t\t\tSimplify<\n\t\t\t\tOmit<\n\t\t\t\t\tTBuilder['_'],\n\t\t\t\t\t| keyof MakeColumnConfig<TBuilder['_'], TTableName>\n\t\t\t\t\t| 'brand'\n\t\t\t\t\t| 'dialect'\n\t\t\t\t\t| 'primaryKeyHasDefault'\n\t\t\t\t\t| 'singlestoreColumnBuilderBrand'\n\t\t\t\t>\n\t\t\t>\n\t\t>\n\t: TDialect extends 'gel' ? GelColumn<\n\t\t\tMakeColumnConfig<TBuilder['_'], TTableName>,\n\t\t\t{},\n\t\t\tSimplify<Omit<TBuilder['_'], keyof MakeColumnConfig<TBuilder['_'], TTableName> | 'brand' | 'dialect'>>\n\t\t>\n\t: never;\n\nexport type BuildIndexColumn<\n\tTDialect extends Dialect,\n> = TDialect extends 'pg' ? ExtraConfigColumn\n\t: TDialect extends 'gel' ? GelExtraConfigColumn\n\t: never;\n\n// TODO\n// try to make sql as well + indexRaw\n\n// optional after everything will be working as expected\n// also try to leave only needed methods for extraConfig\n// make an error if I pass .asc() to fk and so on\n\nexport type BuildColumns<\n\tTTableName extends string,\n\tTConfigMap extends Record<string, ColumnBuilderBase>,\n\tTDialect extends Dialect,\n> =\n\t& {\n\t\t[Key in keyof TConfigMap]: BuildColumn<TTableName, {\n\t\t\t_:\n\t\t\t\t& Omit<TConfigMap[Key]['_'], 'name'>\n\t\t\t\t& { name: TConfigMap[Key]['_']['name'] extends '' ? Assume<Key, string> : TConfigMap[Key]['_']['name'] };\n\t\t}, TDialect>;\n\t}\n\t& {};\n\nexport type BuildExtraConfigColumns<\n\t_TTableName extends string,\n\tTConfigMap extends Record<string, ColumnBuilderBase>,\n\tTDialect extends Dialect,\n> =\n\t& {\n\t\t[Key in keyof TConfigMap]: BuildIndexColumn<TDialect>;\n\t}\n\t& {};\n\nexport type ChangeColumnTableName<TColumn extends Column, TAlias extends string, TDialect extends Dialect> =\n\tTDialect extends 'pg' ? PgColumn<MakeColumnConfig<TColumn['_'], TAlias>>\n\t\t: TDialect extends 'mysql' ? MySqlColumn<MakeColumnConfig<TColumn['_'], TAlias>>\n\t\t: TDialect extends 'singlestore' ? SingleStoreColumn<MakeColumnConfig<TColumn['_'], TAlias>>\n\t\t: TDialect extends 'sqlite' ? SQLiteColumn<MakeColumnConfig<TColumn['_'], TAlias>>\n\t\t: TDialect extends 'gel' ? GelColumn<MakeColumnConfig<TColumn['_'], TAlias>>\n\t\t: never;\n", "import { entityKind } from '~/entity.ts';\nimport { TableName } from '~/table.utils.ts';\nimport type { AnyPgColumn, PgColumn } from './columns/index.ts';\nimport type { PgTable } from './table.ts';\n\nexport type UpdateDeleteAction = 'cascade' | 'restrict' | 'no action' | 'set null' | 'set default';\n\nexport type Reference = () => {\n\treadonly name?: string;\n\treadonly columns: PgColumn[];\n\treadonly foreignTable: PgTable;\n\treadonly foreignColumns: PgColumn[];\n};\n\nexport class ForeignKeyBuilder {\n\tstatic readonly [entityKind]: string = 'PgForeignKeyBuilder';\n\n\t/** @internal */\n\treference: Reference;\n\n\t/** @internal */\n\t_onUpdate: UpdateDeleteAction | undefined = 'no action';\n\n\t/** @internal */\n\t_onDelete: UpdateDeleteAction | undefined = 'no action';\n\n\tconstructor(\n\t\tconfig: () => {\n\t\t\tname?: string;\n\t\t\tcolumns: PgColumn[];\n\t\t\tforeignColumns: PgColumn[];\n\t\t},\n\t\tactions?: {\n\t\t\tonUpdate?: UpdateDeleteAction;\n\t\t\tonDelete?: UpdateDeleteAction;\n\t\t} | undefined,\n\t) {\n\t\tthis.reference = () => {\n\t\t\tconst { name, columns, foreignColumns } = config();\n\t\t\treturn { name, columns, foreignTable: foreignColumns[0]!.table as PgTable, foreignColumns };\n\t\t};\n\t\tif (actions) {\n\t\t\tthis._onUpdate = actions.onUpdate;\n\t\t\tthis._onDelete = actions.onDelete;\n\t\t}\n\t}\n\n\tonUpdate(action: UpdateDeleteAction): this {\n\t\tthis._onUpdate = action === undefined ? 'no action' : action;\n\t\treturn this;\n\t}\n\n\tonDelete(action: UpdateDeleteAction): this {\n\t\tthis._onDelete = action === undefined ? 'no action' : action;\n\t\treturn this;\n\t}\n\n\t/** @internal */\n\tbuild(table: PgTable): ForeignKey {\n\t\treturn new ForeignKey(table, this);\n\t}\n}\n\nexport type AnyForeignKeyBuilder = ForeignKeyBuilder;\n\nexport class ForeignKey {\n\tstatic readonly [entityKind]: string = 'PgForeignKey';\n\n\treadonly reference: Reference;\n\treadonly onUpdate: UpdateDeleteAction | undefined;\n\treadonly onDelete: UpdateDeleteAction | undefined;\n\n\tconstructor(readonly table: PgTable, builder: ForeignKeyBuilder) {\n\t\tthis.reference = builder.reference;\n\t\tthis.onUpdate = builder._onUpdate;\n\t\tthis.onDelete = builder._onDelete;\n\t}\n\n\tgetName(): string {\n\t\tconst { name, columns, foreignColumns } = this.reference();\n\t\tconst columnNames = columns.map((column) => column.name);\n\t\tconst foreignColumnNames = foreignColumns.map((column) => column.name);\n\t\tconst chunks = [\n\t\t\tthis.table[TableName],\n\t\t\t...columnNames,\n\t\t\tforeignColumns[0]!.table[TableName],\n\t\t\t...foreignColumnNames,\n\t\t];\n\t\treturn name ?? `${chunks.join('_')}_fk`;\n\t}\n}\n\ntype ColumnsWithTable<\n\tTTableName extends string,\n\tTColumns extends PgColumn[],\n> = { [Key in keyof TColumns]: AnyPgColumn<{ tableName: TTableName }> };\n\nexport function foreignKey<\n\tTTableName extends string,\n\tTForeignTableName extends string,\n\tTColumns extends [AnyPgColumn<{ tableName: TTableName }>, ...AnyPgColumn<{ tableName: TTableName }>[]],\n>(\n\tconfig: {\n\t\tname?: string;\n\t\tcolumns: TColumns;\n\t\tforeignColumns: ColumnsWithTable<TForeignTableName, TColumns>;\n\t},\n): ForeignKeyBuilder {\n\tfunction mappedConfig() {\n\t\tconst { name, columns, foreignColumns } = config;\n\t\treturn {\n\t\t\tname,\n\t\t\tcolumns,\n\t\t\tforeignColumns,\n\t\t};\n\t}\n\n\treturn new ForeignKeyBuilder(mappedConfig);\n}\n", "/** @internal */\nexport const TableName = Symbol.for('drizzle:Name');\n", "export function iife<T extends unknown[], U>(fn: (...args: T) => U, ...args: T): U {\n\treturn fn(...args);\n}\n", "import { entityKind } from '~/entity.ts';\nimport { TableName } from '~/table.utils.ts';\nimport type { PgColumn } from './columns/index.ts';\nimport type { PgTable } from './table.ts';\n\nexport function unique(name?: string): UniqueOnConstraintBuilder {\n\treturn new UniqueOnConstraintBuilder(name);\n}\n\nexport function uniqueKeyName(table: PgTable, columns: string[]) {\n\treturn `${table[TableName]}_${columns.join('_')}_unique`;\n}\n\nexport class UniqueConstraintBuilder {\n\tstatic readonly [entityKind]: string = 'PgUniqueConstraintBuilder';\n\n\t/** @internal */\n\tcolumns: PgColumn[];\n\t/** @internal */\n\tnullsNotDistinctConfig = false;\n\n\tconstructor(\n\t\tcolumns: PgColumn[],\n\t\tprivate name?: string,\n\t) {\n\t\tthis.columns = columns;\n\t}\n\n\tnullsNotDistinct() {\n\t\tthis.nullsNotDistinctConfig = true;\n\t\treturn this;\n\t}\n\n\t/** @internal */\n\tbuild(table: PgTable): UniqueConstraint {\n\t\treturn new UniqueConstraint(table, this.columns, this.nullsNotDistinctConfig, this.name);\n\t}\n}\n\nexport class UniqueOnConstraintBuilder {\n\tstatic readonly [entityKind]: string = 'PgUniqueOnConstraintBuilder';\n\n\t/** @internal */\n\tname?: string;\n\n\tconstructor(\n\t\tname?: string,\n\t) {\n\t\tthis.name = name;\n\t}\n\n\ton(...columns: [PgColumn, ...PgColumn[]]) {\n\t\treturn new UniqueConstraintBuilder(columns, this.name);\n\t}\n}\n\nexport class UniqueConstraint {\n\tstatic readonly [entityKind]: string = 'PgUniqueConstraint';\n\n\treadonly columns: PgColumn[];\n\treadonly name?: string;\n\treadonly nullsNotDistinct: boolean = false;\n\n\tconstructor(readonly table: PgTable, columns: PgColumn[], nullsNotDistinct: boolean, name?: string) {\n\t\tthis.columns = columns;\n\t\tthis.name = name ?? uniqueKeyName(this.table, this.columns.map((column) => column.name));\n\t\tthis.nullsNotDistinct = nullsNotDistinct;\n\t}\n\n\tgetName() {\n\t\treturn this.name;\n\t}\n}\n", "function parsePgArrayValue(arrayString: string, startFrom: number, inQuotes: boolean): [string, number] {\n\tfor (let i = startFrom; i < arrayString.length; i++) {\n\t\tconst char = arrayString[i];\n\n\t\tif (char === '\\\\') {\n\t\t\ti++;\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (char === '\"') {\n\t\t\treturn [arrayString.slice(startFrom, i).replace(/\\\\/g, ''), i + 1];\n\t\t}\n\n\t\tif (inQuotes) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (char === ',' || char === '}') {\n\t\t\treturn [arrayString.slice(startFrom, i).replace(/\\\\/g, ''), i];\n\t\t}\n\t}\n\n\treturn [arrayString.slice(startFrom).replace(/\\\\/g, ''), arrayString.length];\n}\n\nexport function parsePgNestedArray(arrayString: string, startFrom = 0): [any[], number] {\n\tconst result: any[] = [];\n\tlet i = startFrom;\n\tlet lastCharIsComma = false;\n\n\twhile (i < arrayString.length) {\n\t\tconst char = arrayString[i];\n\n\t\tif (char === ',') {\n\t\t\tif (lastCharIsComma || i === startFrom) {\n\t\t\t\tresult.push('');\n\t\t\t}\n\t\t\tlastCharIsComma = true;\n\t\t\ti++;\n\t\t\tcontinue;\n\t\t}\n\n\t\tlastCharIsComma = false;\n\n\t\tif (char === '\\\\') {\n\t\t\ti += 2;\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (char === '\"') {\n\t\t\tconst [value, startFrom] = parsePgArrayValue(arrayString, i + 1, true);\n\t\t\tresult.push(value);\n\t\t\ti = startFrom;\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (char === '}') {\n\t\t\treturn [result, i + 1];\n\t\t}\n\n\t\tif (char === '{') {\n\t\t\tconst [value, startFrom] = parsePgNestedArray(arrayString, i + 1);\n\t\t\tresult.push(value);\n\t\t\ti = startFrom;\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst [value, newStartFrom] = parsePgArrayValue(arrayString, i, false);\n\t\tresult.push(value);\n\t\ti = newStartFrom;\n\t}\n\n\treturn [result, i];\n}\n\nexport function parsePgArray(arrayString: string): any[] {\n\tconst [result] = parsePgNestedArray(arrayString, 1);\n\treturn result;\n}\n\nexport function makePgArray(array: any[]): string {\n\treturn `{${\n\t\tarray.map((item) => {\n\t\t\tif (Array.isArray(item)) {\n\t\t\t\treturn makePgArray(item);\n\t\t\t}\n\n\t\t\tif (typeof item === 'string') {\n\t\t\t\treturn `\"${item.replace(/\\\\/g, '\\\\\\\\').replace(/\"/g, '\\\\\"')}\"`;\n\t\t\t}\n\n\t\t\treturn `${item}`;\n\t\t}).join(',')\n\t}}`;\n}\n", "import { entityKind } from './entity.ts';\nimport type { SQL, SQLWrapper } from './sql/sql.ts';\n\nexport interface Subquery<\n\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\n\tTAlias extends string = string,\n\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\n\tTSelectedFields extends Record<string, unknown> = Record<string, unknown>,\n> extends SQLWrapper {\n\t// SQLWrapper runtime implementation is defined in 'sql/sql.ts'\n}\nexport class Subquery<\n\tTAlias extends string = string,\n\tTSelectedFields extends Record<string, unknown> = Record<string, unknown>,\n> implements SQLWrapper {\n\tstatic readonly [entityKind]: string = 'Subquery';\n\n\tdeclare _: {\n\t\tbrand: 'Subquery';\n\t\tsql: SQL;\n\t\tselectedFields: TSelectedFields;\n\t\talias: TAlias;\n\t\tisWith: boolean;\n\t\tusedTables?: string[];\n\t};\n\n\tconstructor(sql: SQL, fields: TSelectedFields, alias: string, isWith = false, usedTables: string[] = []) {\n\t\tthis._ = {\n\t\t\tbrand: 'Subquery',\n\t\t\tsql,\n\t\t\tselectedFields: fields as TSelectedFields,\n\t\t\talias: alias as TAlias,\n\t\t\tisWith,\n\t\t\tusedTables,\n\t\t};\n\t}\n\n\t// getSQL(): SQL<unknown> {\n\t// \treturn new SQL([this]);\n\t// }\n}\n\nexport class WithSubquery<\n\tTAlias extends string = string,\n\tTSelection extends Record<string, unknown> = Record<string, unknown>,\n> extends Subquery<TAlias, TSelection> {\n\tstatic override readonly [entityKind]: string = 'WithSubquery';\n}\n\nexport type WithSubqueryWithoutSelection<TAlias extends string> = WithSubquery<TAlias, {}>;\n", "import type { Span, Tracer } from '@opentelemetry/api';\nimport { iife } from '~/tracing-utils.ts';\nimport { npmVersion } from '~/version.ts';\n\nlet otel: typeof import('@opentelemetry/api') | undefined;\nlet rawTracer: Tracer | undefined;\n// try {\n// \totel = await import('@opentelemetry/api');\n// } catch (err: any) {\n// \tif (err.code !== 'MODULE_NOT_FOUND' && err.code !== 'ERR_MODULE_NOT_FOUND') {\n// \t\tthrow err;\n// \t}\n// }\n\ntype SpanName =\n\t| 'drizzle.operation'\n\t| 'drizzle.prepareQuery'\n\t| 'drizzle.buildSQL'\n\t| 'drizzle.execute'\n\t| 'drizzle.driver.execute'\n\t| 'drizzle.mapResponse';\n\n/** @internal */\nexport const tracer = {\n\tstartActiveSpan<F extends (span?: Span) => unknown>(name: SpanName, fn: F): ReturnType<F> {\n\t\tif (!otel) {\n\t\t\treturn fn() as ReturnType<F>;\n\t\t}\n\n\t\tif (!rawTracer) {\n\t\t\trawTracer = otel.trace.getTracer('drizzle-orm', npmVersion);\n\t\t}\n\n\t\treturn iife(\n\t\t\t(otel, rawTracer) =>\n\t\t\t\trawTracer.startActiveSpan(\n\t\t\t\t\tname,\n\t\t\t\t\t((span: Span) => {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\treturn fn(span);\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tspan.setStatus({\n\t\t\t\t\t\t\t\tcode: otel.SpanStatusCode.ERROR,\n\t\t\t\t\t\t\t\tmessage: e instanceof Error ? e.message : 'Unknown error', // eslint-disable-line no-instanceof/no-instanceof\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthrow e;\n\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\tspan.end();\n\t\t\t\t\t\t}\n\t\t\t\t\t}) as F,\n\t\t\t\t),\n\t\t\totel,\n\t\t\trawTracer,\n\t\t);\n\t},\n};\n", "// package.json\nvar version = \"0.44.3\";\n\n// src/version.ts\nvar compatibilityVersion = 10;\nexport {\n  compatibilityVersion,\n  version as npmVersion\n};\n", "export const ViewBaseConfig = Symbol.for('drizzle:ViewBaseConfig');\n", "import type { Column, GetColumnData } from './column.ts';\nimport { entityKind } from './entity.ts';\nimport type { OptionalKeyOnly, RequiredKeyOnly } from './operations.ts';\nimport type { SQLWrapper } from './sql/sql.ts';\nimport { TableName } from './table.utils.ts';\nimport type { Simplify, Update } from './utils.ts';\n\nexport interface TableConfig<TColumn extends Column = Column<any>> {\n\tname: string;\n\tschema: string | undefined;\n\tcolumns: Record<string, TColumn>;\n\tdialect: string;\n}\n\nexport type UpdateTableConfig<T extends TableConfig, TUpdate extends Partial<TableConfig>> = Required<\n\tUpdate<T, TUpdate>\n>;\n\n/** @internal */\nexport const Schema = Symbol.for('drizzle:Schema');\n\n/** @internal */\nexport const Columns = Symbol.for('drizzle:Columns');\n\n/** @internal */\nexport const ExtraConfigColumns = Symbol.for('drizzle:ExtraConfigColumns');\n\n/** @internal */\nexport const OriginalName = Symbol.for('drizzle:OriginalName');\n\n/** @internal */\nexport const BaseName = Symbol.for('drizzle:BaseName');\n\n/** @internal */\nexport const IsAlias = Symbol.for('drizzle:IsAlias');\n\n/** @internal */\nexport const ExtraConfigBuilder = Symbol.for('drizzle:ExtraConfigBuilder');\n\nconst IsDrizzleTable = Symbol.for('drizzle:IsDrizzleTable');\n\nexport interface Table<\n\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\n\tT extends TableConfig = TableConfig,\n> extends SQLWrapper {\n\t// SQLWrapper runtime implementation is defined in 'sql/sql.ts'\n}\n\nexport class Table<T extends TableConfig = TableConfig> implements SQLWrapper {\n\tstatic readonly [entityKind]: string = 'Table';\n\n\tdeclare readonly _: {\n\t\treadonly brand: 'Table';\n\t\treadonly config: T;\n\t\treadonly name: T['name'];\n\t\treadonly schema: T['schema'];\n\t\treadonly columns: T['columns'];\n\t\treadonly inferSelect: InferSelectModel<Table<T>>;\n\t\treadonly inferInsert: InferInsertModel<Table<T>>;\n\t};\n\n\tdeclare readonly $inferSelect: InferSelectModel<Table<T>>;\n\tdeclare readonly $inferInsert: InferInsertModel<Table<T>>;\n\n\t/** @internal */\n\tstatic readonly Symbol = {\n\t\tName: TableName as typeof TableName,\n\t\tSchema: Schema as typeof Schema,\n\t\tOriginalName: OriginalName as typeof OriginalName,\n\t\tColumns: Columns as typeof Columns,\n\t\tExtraConfigColumns: ExtraConfigColumns as typeof ExtraConfigColumns,\n\t\tBaseName: BaseName as typeof BaseName,\n\t\tIsAlias: IsAlias as typeof IsAlias,\n\t\tExtraConfigBuilder: ExtraConfigBuilder as typeof ExtraConfigBuilder,\n\t};\n\n\t/**\n\t * @internal\n\t * Can be changed if the table is aliased.\n\t */\n\t[TableName]: string;\n\n\t/**\n\t * @internal\n\t * Used to store the original name of the table, before any aliasing.\n\t */\n\t[OriginalName]: string;\n\n\t/** @internal */\n\t[Schema]: string | undefined;\n\n\t/** @internal */\n\t[Columns]!: T['columns'];\n\n\t/** @internal */\n\t[ExtraConfigColumns]!: Record<string, unknown>;\n\n\t/**\n\t *  @internal\n\t * Used to store the table name before the transformation via the `tableCreator` functions.\n\t */\n\t[BaseName]: string;\n\n\t/** @internal */\n\t[IsAlias] = false;\n\n\t/** @internal */\n\t[IsDrizzleTable] = true;\n\n\t/** @internal */\n\t[ExtraConfigBuilder]: ((self: any) => Record<string, unknown> | unknown[]) | undefined = undefined;\n\n\tconstructor(name: string, schema: string | undefined, baseName: string) {\n\t\tthis[TableName] = this[OriginalName] = name;\n\t\tthis[Schema] = schema;\n\t\tthis[BaseName] = baseName;\n\t}\n}\n\nexport function isTable(table: unknown): table is Table {\n\treturn typeof table === 'object' && table !== null && IsDrizzleTable in table;\n}\n\n/**\n * Any table with a specified boundary.\n *\n * @example\n\t```ts\n\t// Any table with a specific name\n\ttype AnyUsersTable = AnyTable<{ name: 'users' }>;\n\t```\n *\n * To describe any table with any config, simply use `Table` without any type arguments, like this:\n *\n\t```ts\n\tfunction needsTable(table: Table) {\n\t\t...\n\t}\n\t```\n */\nexport type AnyTable<TPartial extends Partial<TableConfig>> = Table<UpdateTableConfig<TableConfig, TPartial>>;\n\nexport function getTableName<T extends Table>(table: T): T['_']['name'] {\n\treturn table[TableName];\n}\n\nexport function getTableUniqueName<T extends Table>(table: T): `${T['_']['schema']}.${T['_']['name']}` {\n\treturn `${table[Schema] ?? 'public'}.${table[TableName]}`;\n}\n\nexport type MapColumnName<TName extends string, TColumn extends Column, TDBColumNames extends boolean> =\n\tTDBColumNames extends true ? TColumn['_']['name']\n\t\t: TName;\n\nexport type InferModelFromColumns<\n\tTColumns extends Record<string, Column>,\n\tTInferMode extends 'select' | 'insert' = 'select',\n\tTConfig extends { dbColumnNames: boolean; override?: boolean } = { dbColumnNames: false; override: false },\n> = Simplify<\n\tTInferMode extends 'insert' ?\n\t\t\t& {\n\t\t\t\t[\n\t\t\t\t\tKey in keyof TColumns & string as RequiredKeyOnly<\n\t\t\t\t\t\tMapColumnName<Key, TColumns[Key], TConfig['dbColumnNames']>,\n\t\t\t\t\t\tTColumns[Key]\n\t\t\t\t\t>\n\t\t\t\t]: GetColumnData<TColumns[Key], 'query'>;\n\t\t\t}\n\t\t\t& {\n\t\t\t\t[\n\t\t\t\t\tKey in keyof TColumns & string as OptionalKeyOnly<\n\t\t\t\t\t\tMapColumnName<Key, TColumns[Key], TConfig['dbColumnNames']>,\n\t\t\t\t\t\tTColumns[Key],\n\t\t\t\t\t\tTConfig['override']\n\t\t\t\t\t>\n\t\t\t\t]?: GetColumnData<TColumns[Key], 'query'> | undefined;\n\t\t\t}\n\t\t: {\n\t\t\t[\n\t\t\t\tKey in keyof TColumns & string as MapColumnName<\n\t\t\t\t\tKey,\n\t\t\t\t\tTColumns[Key],\n\t\t\t\t\tTConfig['dbColumnNames']\n\t\t\t\t>\n\t\t\t]: GetColumnData<TColumns[Key], 'query'>;\n\t\t}\n>;\n\n/** @deprecated Use one of the alternatives: {@link InferSelectModel} / {@link InferInsertModel}, or `table.$inferSelect` / `table.$inferInsert`\n */\nexport type InferModel<\n\tTTable extends Table,\n\tTInferMode extends 'select' | 'insert' = 'select',\n\tTConfig extends { dbColumnNames: boolean } = { dbColumnNames: false },\n> = InferModelFromColumns<TTable['_']['columns'], TInferMode, TConfig>;\n\nexport type InferSelectModel<\n\tTTable extends Table,\n\tTConfig extends { dbColumnNames: boolean } = { dbColumnNames: false },\n> = InferModelFromColumns<TTable['_']['columns'], 'select', TConfig>;\n\nexport type InferInsertModel<\n\tTTable extends Table,\n\tTConfig extends { dbColumnNames: boolean; override?: boolean } = { dbColumnNames: false; override: false },\n> = InferModelFromColumns<TTable['_']['columns'], 'insert', TConfig>;\n\nexport type InferEnum<T> = T extends { enumValues: readonly (infer U)[] } ? U\n\t: never;\n", "import { entityKind } from '~/entity.ts';\n\nexport class DrizzleError extends Error {\n\tstatic readonly [entityKind]: string = 'DrizzleError';\n\n\tconstructor({ message, cause }: { message?: string; cause?: unknown }) {\n\t\tsuper(message);\n\t\tthis.name = 'DrizzleError';\n\t\tthis.cause = cause;\n\t}\n}\n\nexport class TransactionRollbackError extends DrizzleError {\n\tstatic override readonly [entityKind]: string = 'TransactionRollbackError';\n\n\tconstructor() {\n\t\tsuper({ message: 'Rollback' });\n\t}\n}\n", "import { entityKind } from '~/entity.ts';\n\nexport interface Logger {\n\tlogQuery(query: string, params: unknown[]): void;\n}\n\nexport interface LogWriter {\n\twrite(message: string): void;\n}\n\nexport class ConsoleLogWriter implements LogWriter {\n\tstatic readonly [entityKind]: string = 'ConsoleLogWriter';\n\n\twrite(message: string) {\n\t\tconsole.log(message);\n\t}\n}\n\nexport class DefaultLogger implements Logger {\n\tstatic readonly [entityKind]: string = 'DefaultLogger';\n\n\treadonly writer: LogWriter;\n\n\tconstructor(config?: { writer: LogWriter }) {\n\t\tthis.writer = config?.writer ?? new ConsoleLogWriter();\n\t}\n\n\tlogQuery(query: string, params: unknown[]): void {\n\t\tconst stringifiedParams = params.map((p) => {\n\t\t\ttry {\n\t\t\t\treturn JSON.stringify(p);\n\t\t\t} catch {\n\t\t\t\treturn String(p);\n\t\t\t}\n\t\t});\n\t\tconst paramsStr = stringifiedParams.length ? ` -- params: [${stringifiedParams.join(', ')}]` : '';\n\t\tthis.writer.write(`Query: ${query}${paramsStr}`);\n\t}\n}\n\nexport class NoopLogger implements Logger {\n\tstatic readonly [entityKind]: string = 'NoopLogger';\n\n\tlogQuery(): void {\n\t\t// noop\n\t}\n}\n", "import { entityKind } from '~/entity.ts';\n\nexport abstract class QueryPromise<T> implements Promise<T> {\n\tstatic readonly [entityKind]: string = 'QueryPromise';\n\n\t[Symbol.toStringTag] = 'QueryPromise';\n\n\tcatch<TResult = never>(\n\t\tonRejected?: ((reason: any) => TResult | PromiseLike<TResult>) | null | undefined,\n\t): Promise<T | TResult> {\n\t\treturn this.then(undefined, onRejected);\n\t}\n\n\tfinally(onFinally?: (() => void) | null | undefined): Promise<T> {\n\t\treturn this.then(\n\t\t\t(value) => {\n\t\t\t\tonFinally?.();\n\t\t\t\treturn value;\n\t\t\t},\n\t\t\t(reason) => {\n\t\t\t\tonFinally?.();\n\t\t\t\tthrow reason;\n\t\t\t},\n\t\t);\n\t}\n\n\tthen<TResult1 = T, TResult2 = never>(\n\t\tonFulfilled?: ((value: T) => TResult1 | PromiseLike<TResult1>) | undefined | null,\n\t\tonRejected?: ((reason: any) => TResult2 | PromiseLike<TResult2>) | undefined | null,\n\t): Promise<TResult1 | TResult2> {\n\t\treturn this.execute().then(onFulfilled, onRejected);\n\t}\n\n\tabstract execute(): Promise<T>;\n}\n", "import { type AnyTable, getTableUniqueName, type InferModelFromColumns, Table } from '~/table.ts';\nimport { type AnyColumn, Column } from './column.ts';\nimport { entityKind, is } from './entity.ts';\nimport { PrimaryKeyBuilder } from './pg-core/primary-keys.ts';\nimport {\n\tand,\n\tasc,\n\tbetween,\n\tdesc,\n\teq,\n\texists,\n\tgt,\n\tgte,\n\tilike,\n\tinArray,\n\tisNotNull,\n\tisNull,\n\tlike,\n\tlt,\n\tlte,\n\tne,\n\tnot,\n\tnotBetween,\n\tnotExists,\n\tnotIlike,\n\tnotInArray,\n\tnotLike,\n\tor,\n} from './sql/expressions/index.ts';\nimport { type Placeholder, SQL, sql } from './sql/sql.ts';\nimport type { Assume, ColumnsWithTable, Equal, Simplify, ValueOrArray } from './utils.ts';\n\nexport abstract class Relation<TTableName extends string = string> {\n\tstatic readonly [entityKind]: string = 'Relation';\n\n\tdeclare readonly $brand: 'Relation';\n\treadonly referencedTableName: TTableName;\n\tfieldName!: string;\n\n\tconstructor(\n\t\treadonly sourceTable: Table,\n\t\treadonly referencedTable: AnyTable<{ name: TTableName }>,\n\t\treadonly relationName: string | undefined,\n\t) {\n\t\tthis.referencedTableName = referencedTable[Table.Symbol.Name] as TTableName;\n\t}\n\n\tabstract withFieldName(fieldName: string): Relation<TTableName>;\n}\n\nexport class Relations<\n\tTTableName extends string = string,\n\tTConfig extends Record<string, Relation> = Record<string, Relation>,\n> {\n\tstatic readonly [entityKind]: string = 'Relations';\n\n\tdeclare readonly $brand: 'Relations';\n\n\tconstructor(\n\t\treadonly table: AnyTable<{ name: TTableName }>,\n\t\treadonly config: (helpers: TableRelationsHelpers<TTableName>) => TConfig,\n\t) {}\n}\n\nexport class One<\n\tTTableName extends string = string,\n\tTIsNullable extends boolean = boolean,\n> extends Relation<TTableName> {\n\tstatic override readonly [entityKind]: string = 'One';\n\n\tdeclare protected $relationBrand: 'One';\n\n\tconstructor(\n\t\tsourceTable: Table,\n\t\treferencedTable: AnyTable<{ name: TTableName }>,\n\t\treadonly config:\n\t\t\t| RelationConfig<\n\t\t\t\tTTableName,\n\t\t\t\tstring,\n\t\t\t\tAnyColumn<{ tableName: TTableName }>[]\n\t\t\t>\n\t\t\t| undefined,\n\t\treadonly isNullable: TIsNullable,\n\t) {\n\t\tsuper(sourceTable, referencedTable, config?.relationName);\n\t}\n\n\twithFieldName(fieldName: string): One<TTableName> {\n\t\tconst relation = new One(\n\t\t\tthis.sourceTable,\n\t\t\tthis.referencedTable,\n\t\t\tthis.config,\n\t\t\tthis.isNullable,\n\t\t);\n\t\trelation.fieldName = fieldName;\n\t\treturn relation;\n\t}\n}\n\nexport class Many<TTableName extends string> extends Relation<TTableName> {\n\tstatic override readonly [entityKind]: string = 'Many';\n\n\tdeclare protected $relationBrand: 'Many';\n\n\tconstructor(\n\t\tsourceTable: Table,\n\t\treferencedTable: AnyTable<{ name: TTableName }>,\n\t\treadonly config: { relationName: string } | undefined,\n\t) {\n\t\tsuper(sourceTable, referencedTable, config?.relationName);\n\t}\n\n\twithFieldName(fieldName: string): Many<TTableName> {\n\t\tconst relation = new Many(\n\t\t\tthis.sourceTable,\n\t\t\tthis.referencedTable,\n\t\t\tthis.config,\n\t\t);\n\t\trelation.fieldName = fieldName;\n\t\treturn relation;\n\t}\n}\n\nexport type TableRelationsKeysOnly<\n\tTSchema extends Record<string, unknown>,\n\tTTableName extends string,\n\tK extends keyof TSchema,\n> = TSchema[K] extends Relations<TTableName> ? K : never;\n\nexport type ExtractTableRelationsFromSchema<\n\tTSchema extends Record<string, unknown>,\n\tTTableName extends string,\n> = ExtractObjectValues<\n\t{\n\t\t[\n\t\t\tK in keyof TSchema as TableRelationsKeysOnly<\n\t\t\t\tTSchema,\n\t\t\t\tTTableName,\n\t\t\t\tK\n\t\t\t>\n\t\t]: TSchema[K] extends Relations<TTableName, infer TConfig> ? TConfig : never;\n\t}\n>;\n\nexport type ExtractObjectValues<T> = T[keyof T];\n\nexport type ExtractRelationsFromTableExtraConfigSchema<\n\tTConfig extends unknown[],\n> = ExtractObjectValues<\n\t{\n\t\t[\n\t\t\tK in keyof TConfig as TConfig[K] extends Relations<any> ? K\n\t\t\t\t: never\n\t\t]: TConfig[K] extends Relations<infer TRelationConfig> ? TRelationConfig\n\t\t\t: never;\n\t}\n>;\n\nexport function getOperators() {\n\treturn {\n\t\tand,\n\t\tbetween,\n\t\teq,\n\t\texists,\n\t\tgt,\n\t\tgte,\n\t\tilike,\n\t\tinArray,\n\t\tisNull,\n\t\tisNotNull,\n\t\tlike,\n\t\tlt,\n\t\tlte,\n\t\tne,\n\t\tnot,\n\t\tnotBetween,\n\t\tnotExists,\n\t\tnotLike,\n\t\tnotIlike,\n\t\tnotInArray,\n\t\tor,\n\t\tsql,\n\t};\n}\n\nexport type Operators = ReturnType<typeof getOperators>;\n\nexport function getOrderByOperators() {\n\treturn {\n\t\tsql,\n\t\tasc,\n\t\tdesc,\n\t};\n}\n\nexport type OrderByOperators = ReturnType<typeof getOrderByOperators>;\n\nexport type FindTableByDBName<\n\tTSchema extends TablesRelationalConfig,\n\tTTableName extends string,\n> = ExtractObjectValues<\n\t{\n\t\t[\n\t\t\tK in keyof TSchema as TSchema[K]['dbName'] extends TTableName ? K\n\t\t\t\t: never\n\t\t]: TSchema[K];\n\t}\n>;\n\nexport type DBQueryConfig<\n\tTRelationType extends 'one' | 'many' = 'one' | 'many',\n\tTIsRoot extends boolean = boolean,\n\tTSchema extends TablesRelationalConfig = TablesRelationalConfig,\n\tTTableConfig extends TableRelationalConfig = TableRelationalConfig,\n> =\n\t& {\n\t\tcolumns?:\n\t\t\t| {\n\t\t\t\t[K in keyof TTableConfig['columns']]?: boolean;\n\t\t\t}\n\t\t\t| undefined;\n\t\twith?:\n\t\t\t| {\n\t\t\t\t[K in keyof TTableConfig['relations']]?:\n\t\t\t\t\t| true\n\t\t\t\t\t| DBQueryConfig<\n\t\t\t\t\t\tTTableConfig['relations'][K] extends One ? 'one' : 'many',\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\tTSchema,\n\t\t\t\t\t\tFindTableByDBName<\n\t\t\t\t\t\t\tTSchema,\n\t\t\t\t\t\t\tTTableConfig['relations'][K]['referencedTableName']\n\t\t\t\t\t\t>\n\t\t\t\t\t>\n\t\t\t\t\t| undefined;\n\t\t\t}\n\t\t\t| undefined;\n\t\textras?:\n\t\t\t| Record<string, SQL.Aliased>\n\t\t\t| ((\n\t\t\t\tfields: Simplify<\n\t\t\t\t\t[TTableConfig['columns']] extends [never] ? {}\n\t\t\t\t\t\t: TTableConfig['columns']\n\t\t\t\t>,\n\t\t\t\toperators: { sql: Operators['sql'] },\n\t\t\t) => Record<string, SQL.Aliased>)\n\t\t\t| undefined;\n\t}\n\t& (TRelationType extends 'many' ?\n\t\t\t& {\n\t\t\t\twhere?:\n\t\t\t\t\t| SQL\n\t\t\t\t\t| undefined\n\t\t\t\t\t| ((\n\t\t\t\t\t\tfields: Simplify<\n\t\t\t\t\t\t\t[TTableConfig['columns']] extends [never] ? {}\n\t\t\t\t\t\t\t\t: TTableConfig['columns']\n\t\t\t\t\t\t>,\n\t\t\t\t\t\toperators: Operators,\n\t\t\t\t\t) => SQL | undefined);\n\t\t\t\torderBy?:\n\t\t\t\t\t| ValueOrArray<AnyColumn | SQL>\n\t\t\t\t\t| ((\n\t\t\t\t\t\tfields: Simplify<\n\t\t\t\t\t\t\t[TTableConfig['columns']] extends [never] ? {}\n\t\t\t\t\t\t\t\t: TTableConfig['columns']\n\t\t\t\t\t\t>,\n\t\t\t\t\t\toperators: OrderByOperators,\n\t\t\t\t\t) => ValueOrArray<AnyColumn | SQL>)\n\t\t\t\t\t| undefined;\n\t\t\t\tlimit?: number | Placeholder | undefined;\n\t\t\t}\n\t\t\t& (TIsRoot extends true ? {\n\t\t\t\t\toffset?: number | Placeholder | undefined;\n\t\t\t\t}\n\t\t\t\t: {})\n\t\t: {});\n\nexport interface TableRelationalConfig {\n\ttsName: string;\n\tdbName: string;\n\tcolumns: Record<string, Column>;\n\trelations: Record<string, Relation>;\n\tprimaryKey: AnyColumn[];\n\tschema?: string;\n}\n\nexport type TablesRelationalConfig = Record<string, TableRelationalConfig>;\n\nexport interface RelationalSchemaConfig<\n\tTSchema extends TablesRelationalConfig,\n> {\n\tfullSchema: Record<string, unknown>;\n\tschema: TSchema;\n\ttableNamesMap: Record<string, string>;\n}\n\nexport type ExtractTablesWithRelations<\n\tTSchema extends Record<string, unknown>,\n> = {\n\t[\n\t\tK in keyof TSchema as TSchema[K] extends Table ? K\n\t\t\t: never\n\t]: TSchema[K] extends Table ? {\n\t\t\ttsName: K & string;\n\t\t\tdbName: TSchema[K]['_']['name'];\n\t\t\tcolumns: TSchema[K]['_']['columns'];\n\t\t\trelations: ExtractTableRelationsFromSchema<\n\t\t\t\tTSchema,\n\t\t\t\tTSchema[K]['_']['name']\n\t\t\t>;\n\t\t\tprimaryKey: AnyColumn[];\n\t\t}\n\t\t: never;\n};\n\nexport type ReturnTypeOrValue<T> = T extends (...args: any[]) => infer R ? R\n\t: T;\n\nexport type BuildRelationResult<\n\tTSchema extends TablesRelationalConfig,\n\tTInclude,\n\tTRelations extends Record<string, Relation>,\n> = {\n\t[\n\t\tK in\n\t\t\t& NonUndefinedKeysOnly<TInclude>\n\t\t\t& keyof TRelations\n\t]: TRelations[K] extends infer TRel extends Relation ? BuildQueryResult<\n\t\t\tTSchema,\n\t\t\tFindTableByDBName<TSchema, TRel['referencedTableName']>,\n\t\t\tAssume<TInclude[K], true | Record<string, unknown>>\n\t\t> extends infer TResult ? TRel extends One ?\n\t\t\t\t\t| TResult\n\t\t\t\t\t| (Equal<TRel['isNullable'], false> extends true ? null : never)\n\t\t\t: TResult[]\n\t\t: never\n\t\t: never;\n};\n\nexport type NonUndefinedKeysOnly<T> =\n\t& ExtractObjectValues<\n\t\t{\n\t\t\t[K in keyof T as T[K] extends undefined ? never : K]: K;\n\t\t}\n\t>\n\t& keyof T;\n\nexport type BuildQueryResult<\n\tTSchema extends TablesRelationalConfig,\n\tTTableConfig extends TableRelationalConfig,\n\tTFullSelection extends true | Record<string, unknown>,\n> = Equal<TFullSelection, true> extends true ? InferModelFromColumns<TTableConfig['columns']>\n\t: TFullSelection extends Record<string, unknown> ? Simplify<\n\t\t\t& (TFullSelection['columns'] extends Record<string, unknown> ? InferModelFromColumns<\n\t\t\t\t\t{\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\tK in Equal<\n\t\t\t\t\t\t\t\tExclude<\n\t\t\t\t\t\t\t\t\tTFullSelection['columns'][\n\t\t\t\t\t\t\t\t\t\t& keyof TFullSelection['columns']\n\t\t\t\t\t\t\t\t\t\t& keyof TTableConfig['columns']\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\tundefined\n\t\t\t\t\t\t\t\t>,\n\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t> extends true ? Exclude<\n\t\t\t\t\t\t\t\t\tkeyof TTableConfig['columns'],\n\t\t\t\t\t\t\t\t\tNonUndefinedKeysOnly<TFullSelection['columns']>\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t& {\n\t\t\t\t\t\t\t\t\t\t[K in keyof TFullSelection['columns']]: Equal<\n\t\t\t\t\t\t\t\t\t\t\tTFullSelection['columns'][K],\n\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t> extends true ? K\n\t\t\t\t\t\t\t\t\t\t\t: never;\n\t\t\t\t\t\t\t\t\t}[keyof TFullSelection['columns']]\n\t\t\t\t\t\t\t\t\t& keyof TTableConfig['columns']\n\t\t\t\t\t\t]: TTableConfig['columns'][K];\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t: InferModelFromColumns<TTableConfig['columns']>)\n\t\t\t& (TFullSelection['extras'] extends\n\t\t\t\t| Record<string, unknown>\n\t\t\t\t| ((...args: any[]) => Record<string, unknown>) ? {\n\t\t\t\t\t[\n\t\t\t\t\t\tK in NonUndefinedKeysOnly<\n\t\t\t\t\t\t\tReturnTypeOrValue<TFullSelection['extras']>\n\t\t\t\t\t\t>\n\t\t\t\t\t]: Assume<\n\t\t\t\t\t\tReturnTypeOrValue<TFullSelection['extras']>[K],\n\t\t\t\t\t\tSQL.Aliased\n\t\t\t\t\t>['_']['type'];\n\t\t\t\t}\n\t\t\t\t: {})\n\t\t\t& (TFullSelection['with'] extends Record<string, unknown> ? BuildRelationResult<\n\t\t\t\t\tTSchema,\n\t\t\t\t\tTFullSelection['with'],\n\t\t\t\t\tTTableConfig['relations']\n\t\t\t\t>\n\t\t\t\t: {})\n\t\t>\n\t: never;\n\nexport interface RelationConfig<\n\tTTableName extends string,\n\tTForeignTableName extends string,\n\tTColumns extends AnyColumn<{ tableName: TTableName }>[],\n> {\n\trelationName?: string;\n\tfields: TColumns;\n\treferences: ColumnsWithTable<TTableName, TForeignTableName, TColumns>;\n}\n\nexport function extractTablesRelationalConfig<\n\tTTables extends TablesRelationalConfig,\n>(\n\tschema: Record<string, unknown>,\n\tconfigHelpers: (table: Table) => any,\n): { tables: TTables; tableNamesMap: Record<string, string> } {\n\tif (\n\t\tObject.keys(schema).length === 1\n\t\t&& 'default' in schema\n\t\t&& !is(schema['default'], Table)\n\t) {\n\t\tschema = schema['default'] as Record<string, unknown>;\n\t}\n\n\t// table DB name -> schema table key\n\tconst tableNamesMap: Record<string, string> = {};\n\t// Table relations found before their tables - need to buffer them until we know the schema table key\n\tconst relationsBuffer: Record<\n\t\tstring,\n\t\t{ relations: Record<string, Relation>; primaryKey?: AnyColumn[] }\n\t> = {};\n\tconst tablesConfig: TablesRelationalConfig = {};\n\tfor (const [key, value] of Object.entries(schema)) {\n\t\tif (is(value, Table)) {\n\t\t\tconst dbName = getTableUniqueName(value);\n\t\t\tconst bufferedRelations = relationsBuffer[dbName];\n\t\t\ttableNamesMap[dbName] = key;\n\t\t\ttablesConfig[key] = {\n\t\t\t\ttsName: key,\n\t\t\t\tdbName: value[Table.Symbol.Name],\n\t\t\t\tschema: value[Table.Symbol.Schema],\n\t\t\t\tcolumns: value[Table.Symbol.Columns],\n\t\t\t\trelations: bufferedRelations?.relations ?? {},\n\t\t\t\tprimaryKey: bufferedRelations?.primaryKey ?? [],\n\t\t\t};\n\n\t\t\t// Fill in primary keys\n\t\t\tfor (\n\t\t\t\tconst column of Object.values(\n\t\t\t\t\t(value as Table)[Table.Symbol.Columns],\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tif (column.primary) {\n\t\t\t\t\ttablesConfig[key]!.primaryKey.push(column);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst extraConfig = value[Table.Symbol.ExtraConfigBuilder]?.((value as Table)[Table.Symbol.ExtraConfigColumns]);\n\t\t\tif (extraConfig) {\n\t\t\t\tfor (const configEntry of Object.values(extraConfig)) {\n\t\t\t\t\tif (is(configEntry, PrimaryKeyBuilder)) {\n\t\t\t\t\t\ttablesConfig[key]!.primaryKey.push(...configEntry.columns);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (is(value, Relations)) {\n\t\t\tconst dbName = getTableUniqueName(value.table);\n\t\t\tconst tableName = tableNamesMap[dbName];\n\t\t\tconst relations: Record<string, Relation> = value.config(\n\t\t\t\tconfigHelpers(value.table),\n\t\t\t);\n\t\t\tlet primaryKey: AnyColumn[] | undefined;\n\n\t\t\tfor (const [relationName, relation] of Object.entries(relations)) {\n\t\t\t\tif (tableName) {\n\t\t\t\t\tconst tableConfig = tablesConfig[tableName]!;\n\t\t\t\t\ttableConfig.relations[relationName] = relation;\n\t\t\t\t\tif (primaryKey) {\n\t\t\t\t\t\ttableConfig.primaryKey.push(...primaryKey);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (!(dbName in relationsBuffer)) {\n\t\t\t\t\t\trelationsBuffer[dbName] = {\n\t\t\t\t\t\t\trelations: {},\n\t\t\t\t\t\t\tprimaryKey,\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\trelationsBuffer[dbName]!.relations[relationName] = relation;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { tables: tablesConfig as TTables, tableNamesMap };\n}\n\nexport function relations<\n\tTTableName extends string,\n\tTRelations extends Record<string, Relation<any>>,\n>(\n\ttable: AnyTable<{ name: TTableName }>,\n\trelations: (helpers: TableRelationsHelpers<TTableName>) => TRelations,\n): Relations<TTableName, TRelations> {\n\treturn new Relations<TTableName, TRelations>(\n\t\ttable,\n\t\t(helpers: TableRelationsHelpers<TTableName>) =>\n\t\t\tObject.fromEntries(\n\t\t\t\tObject.entries(relations(helpers)).map(([key, value]) => [\n\t\t\t\t\tkey,\n\t\t\t\t\tvalue.withFieldName(key),\n\t\t\t\t]),\n\t\t\t) as TRelations,\n\t);\n}\n\nexport function createOne<TTableName extends string>(sourceTable: Table) {\n\treturn function one<\n\t\tTForeignTable extends Table,\n\t\tTColumns extends [\n\t\t\tAnyColumn<{ tableName: TTableName }>,\n\t\t\t...AnyColumn<{ tableName: TTableName }>[],\n\t\t],\n\t>(\n\t\ttable: TForeignTable,\n\t\tconfig?: RelationConfig<TTableName, TForeignTable['_']['name'], TColumns>,\n\t): One<\n\t\tTForeignTable['_']['name'],\n\t\tEqual<TColumns[number]['_']['notNull'], true>\n\t> {\n\t\treturn new One(\n\t\t\tsourceTable,\n\t\t\ttable,\n\t\t\tconfig,\n\t\t\t(config?.fields.reduce<boolean>((res, f) => res && f.notNull, true)\n\t\t\t\t?? false) as Equal<TColumns[number]['_']['notNull'], true>,\n\t\t);\n\t};\n}\n\nexport function createMany(sourceTable: Table) {\n\treturn function many<TForeignTable extends Table>(\n\t\treferencedTable: TForeignTable,\n\t\tconfig?: { relationName: string },\n\t): Many<TForeignTable['_']['name']> {\n\t\treturn new Many(sourceTable, referencedTable, config);\n\t};\n}\n\nexport interface NormalizedRelation {\n\tfields: AnyColumn[];\n\treferences: AnyColumn[];\n}\n\nexport function normalizeRelation(\n\tschema: TablesRelationalConfig,\n\ttableNamesMap: Record<string, string>,\n\trelation: Relation,\n): NormalizedRelation {\n\tif (is(relation, One) && relation.config) {\n\t\treturn {\n\t\t\tfields: relation.config.fields,\n\t\t\treferences: relation.config.references,\n\t\t};\n\t}\n\n\tconst referencedTableTsName = tableNamesMap[getTableUniqueName(relation.referencedTable)];\n\tif (!referencedTableTsName) {\n\t\tthrow new Error(\n\t\t\t`Table \"${relation.referencedTable[Table.Symbol.Name]}\" not found in schema`,\n\t\t);\n\t}\n\n\tconst referencedTableConfig = schema[referencedTableTsName];\n\tif (!referencedTableConfig) {\n\t\tthrow new Error(`Table \"${referencedTableTsName}\" not found in schema`);\n\t}\n\n\tconst sourceTable = relation.sourceTable;\n\tconst sourceTableTsName = tableNamesMap[getTableUniqueName(sourceTable)];\n\tif (!sourceTableTsName) {\n\t\tthrow new Error(\n\t\t\t`Table \"${sourceTable[Table.Symbol.Name]}\" not found in schema`,\n\t\t);\n\t}\n\n\tconst reverseRelations: Relation[] = [];\n\tfor (\n\t\tconst referencedTableRelation of Object.values(\n\t\t\treferencedTableConfig.relations,\n\t\t)\n\t) {\n\t\tif (\n\t\t\t(relation.relationName\n\t\t\t\t&& relation !== referencedTableRelation\n\t\t\t\t&& referencedTableRelation.relationName === relation.relationName)\n\t\t\t|| (!relation.relationName\n\t\t\t\t&& referencedTableRelation.referencedTable === relation.sourceTable)\n\t\t) {\n\t\t\treverseRelations.push(referencedTableRelation);\n\t\t}\n\t}\n\n\tif (reverseRelations.length > 1) {\n\t\tthrow relation.relationName\n\t\t\t? new Error(\n\t\t\t\t`There are multiple relations with name \"${relation.relationName}\" in table \"${referencedTableTsName}\"`,\n\t\t\t)\n\t\t\t: new Error(\n\t\t\t\t`There are multiple relations between \"${referencedTableTsName}\" and \"${\n\t\t\t\t\trelation.sourceTable[Table.Symbol.Name]\n\t\t\t\t}\". Please specify relation name`,\n\t\t\t);\n\t}\n\n\tif (\n\t\treverseRelations[0]\n\t\t&& is(reverseRelations[0], One)\n\t\t&& reverseRelations[0].config\n\t) {\n\t\treturn {\n\t\t\tfields: reverseRelations[0].config.references,\n\t\t\treferences: reverseRelations[0].config.fields,\n\t\t};\n\t}\n\n\tthrow new Error(\n\t\t`There is not enough information to infer relation \"${sourceTableTsName}.${relation.fieldName}\"`,\n\t);\n}\n\nexport function createTableRelationsHelpers<TTableName extends string>(\n\tsourceTable: AnyTable<{ name: TTableName }>,\n) {\n\treturn {\n\t\tone: createOne<TTableName>(sourceTable),\n\t\tmany: createMany(sourceTable),\n\t};\n}\n\nexport type TableRelationsHelpers<TTableName extends string> = ReturnType<\n\ttypeof createTableRelationsHelpers<TTableName>\n>;\n\nexport interface BuildRelationalQueryResult<\n\tTTable extends Table = Table,\n\tTColumn extends Column = Column,\n> {\n\ttableTsKey: string;\n\tselection: {\n\t\tdbKey: string;\n\t\ttsKey: string;\n\t\tfield: TColumn | SQL | SQL.Aliased;\n\t\trelationTableTsKey: string | undefined;\n\t\tisJson: boolean;\n\t\tisExtra?: boolean;\n\t\tselection: BuildRelationalQueryResult<TTable>['selection'];\n\t}[];\n\tsql: TTable | SQL;\n}\n\nexport function mapRelationalRow(\n\ttablesConfig: TablesRelationalConfig,\n\ttableConfig: TableRelationalConfig,\n\trow: unknown[],\n\tbuildQueryResultSelection: BuildRelationalQueryResult['selection'],\n\tmapColumnValue: (value: unknown) => unknown = (value) => value,\n): Record<string, unknown> {\n\tconst result: Record<string, unknown> = {};\n\n\tfor (\n\t\tconst [\n\t\t\tselectionItemIndex,\n\t\t\tselectionItem,\n\t\t] of buildQueryResultSelection.entries()\n\t) {\n\t\tif (selectionItem.isJson) {\n\t\t\tconst relation = tableConfig.relations[selectionItem.tsKey]!;\n\t\t\tconst rawSubRows = row[selectionItemIndex] as\n\t\t\t\t| unknown[]\n\t\t\t\t| null\n\t\t\t\t| [null]\n\t\t\t\t| string;\n\t\t\tconst subRows = typeof rawSubRows === 'string'\n\t\t\t\t? (JSON.parse(rawSubRows) as unknown[])\n\t\t\t\t: rawSubRows;\n\t\t\tresult[selectionItem.tsKey] = is(relation, One)\n\t\t\t\t? subRows\n\t\t\t\t\t&& mapRelationalRow(\n\t\t\t\t\t\ttablesConfig,\n\t\t\t\t\t\ttablesConfig[selectionItem.relationTableTsKey!]!,\n\t\t\t\t\t\tsubRows,\n\t\t\t\t\t\tselectionItem.selection,\n\t\t\t\t\t\tmapColumnValue,\n\t\t\t\t\t)\n\t\t\t\t: (subRows as unknown[][]).map((subRow) =>\n\t\t\t\t\tmapRelationalRow(\n\t\t\t\t\t\ttablesConfig,\n\t\t\t\t\t\ttablesConfig[selectionItem.relationTableTsKey!]!,\n\t\t\t\t\t\tsubRow,\n\t\t\t\t\t\tselectionItem.selection,\n\t\t\t\t\t\tmapColumnValue,\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t} else {\n\t\t\tconst value = mapColumnValue(row[selectionItemIndex]);\n\t\t\tconst field = selectionItem.field!;\n\t\t\tlet decoder;\n\t\t\tif (is(field, Column)) {\n\t\t\t\tdecoder = field;\n\t\t\t} else if (is(field, SQL)) {\n\t\t\t\tdecoder = field.decoder;\n\t\t\t} else {\n\t\t\t\tdecoder = field.sql.decoder;\n\t\t\t}\n\t\t\tresult[selectionItem.tsKey] = value === null ? null : decoder.mapFromDriverValue(value);\n\t\t}\n\t}\n\n\treturn result;\n}\n", "import { entityKind } from '~/entity.ts';\nimport type { AnyPgColumn, PgColumn } from './columns/index.ts';\nimport { PgTable } from './table.ts';\n\nexport function primaryKey<\n\tTTableName extends string,\n\tTColumn extends AnyPgColumn<{ tableName: TTableName }>,\n\tTColumns extends AnyPgColumn<{ tableName: TTableName }>[],\n>(config: { name?: string; columns: [TColumn, ...TColumns] }): PrimaryKeyBuilder;\n/**\n * @deprecated: Please use primaryKey({ columns: [] }) instead of this function\n * @param columns\n */\nexport function primaryKey<\n\tTTableName extends string,\n\tTColumns extends AnyPgColumn<{ tableName: TTableName }>[],\n>(...columns: TColumns): PrimaryKeyBuilder;\nexport function primaryKey(...config: any) {\n\tif (config[0].columns) {\n\t\treturn new PrimaryKeyBuilder(config[0].columns, config[0].name);\n\t}\n\treturn new PrimaryKeyBuilder(config);\n}\n\nexport class PrimaryKeyBuilder {\n\tstatic readonly [entityKind]: string = 'PgPrimaryKeyBuilder';\n\n\t/** @internal */\n\tcolumns: PgColumn[];\n\n\t/** @internal */\n\tname?: string;\n\n\tconstructor(\n\t\tcolumns: PgColumn[],\n\t\tname?: string,\n\t) {\n\t\tthis.columns = columns;\n\t\tthis.name = name;\n\t}\n\n\t/** @internal */\n\tbuild(table: PgTable): PrimaryKey {\n\t\treturn new PrimaryKey(table, this.columns, this.name);\n\t}\n}\n\nexport class PrimaryKey {\n\tstatic readonly [entityKind]: string = 'PgPrimaryKey';\n\n\treadonly columns: AnyPgColumn<{}>[];\n\treadonly name?: string;\n\n\tconstructor(readonly table: PgTable, columns: AnyPgColumn<{}>[], name?: string) {\n\t\tthis.columns = columns;\n\t\tthis.name = name;\n\t}\n\n\tgetName(): string {\n\t\treturn this.name ?? `${this.table[PgTable.Symbol.Name]}_${this.columns.map((column) => column.name).join('_')}_pk`;\n\t}\n}\n", "import type { BuildColumns, BuildExtraConfigColumns } from '~/column-builder.ts';\nimport { entityKind } from '~/entity.ts';\nimport { Table, type TableConfig as TableConfigBase, type UpdateTableConfig } from '~/table.ts';\nimport type { CheckBuilder } from './checks.ts';\nimport { getPgColumnBuilders, type PgColumnsBuilders } from './columns/all.ts';\nimport type { ExtraConfigColumn, PgColumn, PgColumnBuilder, PgColumnBuilderBase } from './columns/common.ts';\nimport type { ForeignKey, ForeignKeyBuilder } from './foreign-keys.ts';\nimport type { AnyIndexBuilder } from './indexes.ts';\nimport type { PgPolicy } from './policies.ts';\nimport type { PrimaryKeyBuilder } from './primary-keys.ts';\nimport type { UniqueConstraintBuilder } from './unique-constraint.ts';\n\nexport type PgTableExtraConfigValue =\n\t| AnyIndexBuilder\n\t| CheckBuilder\n\t| ForeignKeyBuilder\n\t| PrimaryKeyBuilder\n\t| UniqueConstraintBuilder\n\t| PgPolicy;\n\nexport type PgTableExtraConfig = Record<\n\tstring,\n\tPgTableExtraConfigValue\n>;\n\nexport type TableConfig = TableConfigBase<PgColumn>;\n\n/** @internal */\nexport const InlineForeignKeys = Symbol.for('drizzle:PgInlineForeignKeys');\n/** @internal */\nexport const EnableRLS = Symbol.for('drizzle:EnableRLS');\n\nexport class PgTable<T extends TableConfig = TableConfig> extends Table<T> {\n\tstatic override readonly [entityKind]: string = 'PgTable';\n\n\t/** @internal */\n\tstatic override readonly Symbol = Object.assign({}, Table.Symbol, {\n\t\tInlineForeignKeys: InlineForeignKeys as typeof InlineForeignKeys,\n\t\tEnableRLS: EnableRLS as typeof EnableRLS,\n\t});\n\n\t/**@internal */\n\t[InlineForeignKeys]: ForeignKey[] = [];\n\n\t/** @internal */\n\t[EnableRLS]: boolean = false;\n\n\t/** @internal */\n\toverride [Table.Symbol.ExtraConfigBuilder]: ((self: Record<string, PgColumn>) => PgTableExtraConfig) | undefined =\n\t\tundefined;\n\n\t/** @internal */\n\toverride [Table.Symbol.ExtraConfigColumns]: Record<string, ExtraConfigColumn> = {};\n}\n\nexport type AnyPgTable<TPartial extends Partial<TableConfig> = {}> = PgTable<UpdateTableConfig<TableConfig, TPartial>>;\n\nexport type PgTableWithColumns<T extends TableConfig> =\n\t& PgTable<T>\n\t& {\n\t\t[Key in keyof T['columns']]: T['columns'][Key];\n\t}\n\t& {\n\t\tenableRLS: () => Omit<\n\t\t\tPgTableWithColumns<T>,\n\t\t\t'enableRLS'\n\t\t>;\n\t};\n\n/** @internal */\nexport function pgTableWithSchema<\n\tTTableName extends string,\n\tTSchemaName extends string | undefined,\n\tTColumnsMap extends Record<string, PgColumnBuilderBase>,\n>(\n\tname: TTableName,\n\tcolumns: TColumnsMap | ((columnTypes: PgColumnsBuilders) => TColumnsMap),\n\textraConfig:\n\t\t| ((self: BuildExtraConfigColumns<TTableName, TColumnsMap, 'pg'>) => PgTableExtraConfig | PgTableExtraConfigValue[])\n\t\t| undefined,\n\tschema: TSchemaName,\n\tbaseName = name,\n): PgTableWithColumns<{\n\tname: TTableName;\n\tschema: TSchemaName;\n\tcolumns: BuildColumns<TTableName, TColumnsMap, 'pg'>;\n\tdialect: 'pg';\n}> {\n\tconst rawTable = new PgTable<{\n\t\tname: TTableName;\n\t\tschema: TSchemaName;\n\t\tcolumns: BuildColumns<TTableName, TColumnsMap, 'pg'>;\n\t\tdialect: 'pg';\n\t}>(name, schema, baseName);\n\n\tconst parsedColumns: TColumnsMap = typeof columns === 'function' ? columns(getPgColumnBuilders()) : columns;\n\n\tconst builtColumns = Object.fromEntries(\n\t\tObject.entries(parsedColumns).map(([name, colBuilderBase]) => {\n\t\t\tconst colBuilder = colBuilderBase as PgColumnBuilder;\n\t\t\tcolBuilder.setName(name);\n\t\t\tconst column = colBuilder.build(rawTable);\n\t\t\trawTable[InlineForeignKeys].push(...colBuilder.buildForeignKeys(column, rawTable));\n\t\t\treturn [name, column];\n\t\t}),\n\t) as unknown as BuildColumns<TTableName, TColumnsMap, 'pg'>;\n\n\tconst builtColumnsForExtraConfig = Object.fromEntries(\n\t\tObject.entries(parsedColumns).map(([name, colBuilderBase]) => {\n\t\t\tconst colBuilder = colBuilderBase as PgColumnBuilder;\n\t\t\tcolBuilder.setName(name);\n\t\t\tconst column = colBuilder.buildExtraConfigColumn(rawTable);\n\t\t\treturn [name, column];\n\t\t}),\n\t) as unknown as BuildExtraConfigColumns<TTableName, TColumnsMap, 'pg'>;\n\n\tconst table = Object.assign(rawTable, builtColumns);\n\n\ttable[Table.Symbol.Columns] = builtColumns;\n\ttable[Table.Symbol.ExtraConfigColumns] = builtColumnsForExtraConfig;\n\n\tif (extraConfig) {\n\t\ttable[PgTable.Symbol.ExtraConfigBuilder] = extraConfig as any;\n\t}\n\n\treturn Object.assign(table, {\n\t\tenableRLS: () => {\n\t\t\ttable[PgTable.Symbol.EnableRLS] = true;\n\t\t\treturn table as PgTableWithColumns<{\n\t\t\t\tname: TTableName;\n\t\t\t\tschema: TSchemaName;\n\t\t\t\tcolumns: BuildColumns<TTableName, TColumnsMap, 'pg'>;\n\t\t\t\tdialect: 'pg';\n\t\t\t}>;\n\t\t},\n\t});\n}\n\nexport interface PgTableFn<TSchema extends string | undefined = undefined> {\n\t<\n\t\tTTableName extends string,\n\t\tTColumnsMap extends Record<string, PgColumnBuilderBase>,\n\t>(\n\t\tname: TTableName,\n\t\tcolumns: TColumnsMap,\n\t\textraConfig?: (\n\t\t\tself: BuildExtraConfigColumns<TTableName, TColumnsMap, 'pg'>,\n\t\t) => PgTableExtraConfigValue[],\n\t): PgTableWithColumns<{\n\t\tname: TTableName;\n\t\tschema: TSchema;\n\t\tcolumns: BuildColumns<TTableName, TColumnsMap, 'pg'>;\n\t\tdialect: 'pg';\n\t}>;\n\n\t<\n\t\tTTableName extends string,\n\t\tTColumnsMap extends Record<string, PgColumnBuilderBase>,\n\t>(\n\t\tname: TTableName,\n\t\tcolumns: (columnTypes: PgColumnsBuilders) => TColumnsMap,\n\t\textraConfig?: (self: BuildExtraConfigColumns<TTableName, TColumnsMap, 'pg'>) => PgTableExtraConfigValue[],\n\t): PgTableWithColumns<{\n\t\tname: TTableName;\n\t\tschema: TSchema;\n\t\tcolumns: BuildColumns<TTableName, TColumnsMap, 'pg'>;\n\t\tdialect: 'pg';\n\t}>;\n\t/**\n\t * @deprecated The third parameter of pgTable is changing and will only accept an array instead of an object\n\t *\n\t * @example\n\t * Deprecated version:\n\t * ```ts\n\t * export const users = pgTable(\"users\", {\n\t * \tid: integer(),\n\t * }, (t) => ({\n\t * \tidx: index('custom_name').on(t.id)\n\t * }));\n\t * ```\n\t *\n\t * New API:\n\t * ```ts\n\t * export const users = pgTable(\"users\", {\n\t * \tid: integer(),\n\t * }, (t) => [\n\t * \tindex('custom_name').on(t.id)\n\t * ]);\n\t * ```\n\t */\n\t<\n\t\tTTableName extends string,\n\t\tTColumnsMap extends Record<string, PgColumnBuilderBase>,\n\t>(\n\t\tname: TTableName,\n\t\tcolumns: TColumnsMap,\n\t\textraConfig: (\n\t\t\tself: BuildExtraConfigColumns<TTableName, TColumnsMap, 'pg'>,\n\t\t) => PgTableExtraConfig,\n\t): PgTableWithColumns<{\n\t\tname: TTableName;\n\t\tschema: TSchema;\n\t\tcolumns: BuildColumns<TTableName, TColumnsMap, 'pg'>;\n\t\tdialect: 'pg';\n\t}>;\n\n\t/**\n\t * @deprecated The third parameter of pgTable is changing and will only accept an array instead of an object\n\t *\n\t * @example\n\t * Deprecated version:\n\t * ```ts\n\t * export const users = pgTable(\"users\", {\n\t * \tid: integer(),\n\t * }, (t) => ({\n\t * \tidx: index('custom_name').on(t.id)\n\t * }));\n\t * ```\n\t *\n\t * New API:\n\t * ```ts\n\t * export const users = pgTable(\"users\", {\n\t * \tid: integer(),\n\t * }, (t) => [\n\t * \tindex('custom_name').on(t.id)\n\t * ]);\n\t * ```\n\t */\n\t<\n\t\tTTableName extends string,\n\t\tTColumnsMap extends Record<string, PgColumnBuilderBase>,\n\t>(\n\t\tname: TTableName,\n\t\tcolumns: (columnTypes: PgColumnsBuilders) => TColumnsMap,\n\t\textraConfig: (self: BuildExtraConfigColumns<TTableName, TColumnsMap, 'pg'>) => PgTableExtraConfig,\n\t): PgTableWithColumns<{\n\t\tname: TTableName;\n\t\tschema: TSchema;\n\t\tcolumns: BuildColumns<TTableName, TColumnsMap, 'pg'>;\n\t\tdialect: 'pg';\n\t}>;\n}\n\nexport const pgTable: PgTableFn = (name, columns, extraConfig) => {\n\treturn pgTableWithSchema(name, columns, extraConfig, undefined);\n};\n\nexport function pgTableCreator(customizeTableName: (name: string) => string): PgTableFn {\n\treturn (name, columns, extraConfig) => {\n\t\treturn pgTableWithSchema(customizeTableName(name) as typeof name, columns, extraConfig, undefined, name);\n\t};\n}\n", "import { bigint } from './bigint.ts';\nimport { bigserial } from './bigserial.ts';\nimport { boolean } from './boolean.ts';\nimport { char } from './char.ts';\nimport { cidr } from './cidr.ts';\nimport { customType } from './custom.ts';\nimport { date } from './date.ts';\nimport { doublePrecision } from './double-precision.ts';\nimport { inet } from './inet.ts';\nimport { integer } from './integer.ts';\nimport { interval } from './interval.ts';\nimport { json } from './json.ts';\nimport { jsonb } from './jsonb.ts';\nimport { line } from './line.ts';\nimport { macaddr } from './macaddr.ts';\nimport { macaddr8 } from './macaddr8.ts';\nimport { numeric } from './numeric.ts';\nimport { point } from './point.ts';\nimport { geometry } from './postgis_extension/geometry.ts';\nimport { real } from './real.ts';\nimport { serial } from './serial.ts';\nimport { smallint } from './smallint.ts';\nimport { smallserial } from './smallserial.ts';\nimport { text } from './text.ts';\nimport { time } from './time.ts';\nimport { timestamp } from './timestamp.ts';\nimport { uuid } from './uuid.ts';\nimport { varchar } from './varchar.ts';\nimport { bit } from './vector_extension/bit.ts';\nimport { halfvec } from './vector_extension/halfvec.ts';\nimport { sparsevec } from './vector_extension/sparsevec.ts';\nimport { vector } from './vector_extension/vector.ts';\n\nexport function getPgColumnBuilders() {\n\treturn {\n\t\tbigint,\n\t\tbigserial,\n\t\tboolean,\n\t\tchar,\n\t\tcidr,\n\t\tcustomType,\n\t\tdate,\n\t\tdoublePrecision,\n\t\tinet,\n\t\tinteger,\n\t\tinterval,\n\t\tjson,\n\t\tjsonb,\n\t\tline,\n\t\tmacaddr,\n\t\tmacaddr8,\n\t\tnumeric,\n\t\tpoint,\n\t\tgeometry,\n\t\treal,\n\t\tserial,\n\t\tsmallint,\n\t\tsmallserial,\n\t\ttext,\n\t\ttime,\n\t\ttimestamp,\n\t\tuuid,\n\t\tvarchar,\n\t\tbit,\n\t\thalfvec,\n\t\tsparsevec,\n\t\tvector,\n\t};\n}\n\nexport type PgColumnsBuilders = ReturnType<typeof getPgColumnBuilders>;\n", "import type { ColumnBuilderBaseConfig, ColumnBuilderRuntimeConfig, MakeColumnConfig } from '~/column-builder.ts';\nimport type { ColumnBaseConfig } from '~/column.ts';\nimport { entityKind } from '~/entity.ts';\nimport type { AnyPgTable } from '~/pg-core/table.ts';\n\nimport { getColumnNameAndConfig } from '~/utils.ts';\nimport { PgColumn } from './common.ts';\nimport { PgIntColumnBaseBuilder } from './int.common.ts';\n\nexport type PgBigInt53BuilderInitial<TName extends string> = PgBigInt53Builder<{\n\tname: TName;\n\tdataType: 'number';\n\tcolumnType: 'PgBigInt53';\n\tdata: number;\n\tdriverParam: number | string;\n\tenumValues: undefined;\n}>;\n\nexport class PgBigInt53Builder<T extends ColumnBuilderBaseConfig<'number', 'PgBigInt53'>>\n\textends PgIntColumnBaseBuilder<T>\n{\n\tstatic override readonly [entityKind]: string = 'PgBigInt53Builder';\n\n\tconstructor(name: T['name']) {\n\t\tsuper(name, 'number', 'PgBigInt53');\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgBigInt53<MakeColumnConfig<T, TTableName>> {\n\t\treturn new PgBigInt53<MakeColumnConfig<T, TTableName>>(table, this.config as ColumnBuilderRuntimeConfig<any, any>);\n\t}\n}\n\nexport class PgBigInt53<T extends ColumnBaseConfig<'number', 'PgBigInt53'>> extends PgColumn<T> {\n\tstatic override readonly [entityKind]: string = 'PgBigInt53';\n\n\tgetSQLType(): string {\n\t\treturn 'bigint';\n\t}\n\n\toverride mapFromDriverValue(value: number | string): number {\n\t\tif (typeof value === 'number') {\n\t\t\treturn value;\n\t\t}\n\t\treturn Number(value);\n\t}\n}\n\nexport type PgBigInt64BuilderInitial<TName extends string> = PgBigInt64Builder<{\n\tname: TName;\n\tdataType: 'bigint';\n\tcolumnType: 'PgBigInt64';\n\tdata: bigint;\n\tdriverParam: string;\n\tenumValues: undefined;\n}>;\n\nexport class PgBigInt64Builder<T extends ColumnBuilderBaseConfig<'bigint', 'PgBigInt64'>>\n\textends PgIntColumnBaseBuilder<T>\n{\n\tstatic override readonly [entityKind]: string = 'PgBigInt64Builder';\n\n\tconstructor(name: T['name']) {\n\t\tsuper(name, 'bigint', 'PgBigInt64');\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgBigInt64<MakeColumnConfig<T, TTableName>> {\n\t\treturn new PgBigInt64<MakeColumnConfig<T, TTableName>>(\n\t\t\ttable,\n\t\t\tthis.config as ColumnBuilderRuntimeConfig<any, any>,\n\t\t);\n\t}\n}\n\nexport class PgBigInt64<T extends ColumnBaseConfig<'bigint', 'PgBigInt64'>> extends PgColumn<T> {\n\tstatic override readonly [entityKind]: string = 'PgBigInt64';\n\n\tgetSQLType(): string {\n\t\treturn 'bigint';\n\t}\n\n\t// eslint-disable-next-line unicorn/prefer-native-coercion-functions\n\toverride mapFromDriverValue(value: string): bigint {\n\t\treturn BigInt(value);\n\t}\n}\n\nexport interface PgBigIntConfig<T extends 'number' | 'bigint' = 'number' | 'bigint'> {\n\tmode: T;\n}\n\nexport function bigint<TMode extends PgBigIntConfig['mode']>(\n\tconfig: PgBigIntConfig<TMode>,\n): TMode extends 'number' ? PgBigInt53BuilderInitial<''> : PgBigInt64BuilderInitial<''>;\nexport function bigint<TName extends string, TMode extends PgBigIntConfig['mode']>(\n\tname: TName,\n\tconfig: PgBigIntConfig<TMode>,\n): TMode extends 'number' ? PgBigInt53BuilderInitial<TName> : PgBigInt64BuilderInitial<TName>;\nexport function bigint(a: string | PgBigIntConfig, b?: PgBigIntConfig) {\n\tconst { name, config } = getColumnNameAndConfig<PgBigIntConfig>(a, b);\n\tif (config.mode === 'number') {\n\t\treturn new PgBigInt53Builder(name);\n\t}\n\treturn new PgBigInt64Builder(name);\n}\n", "import type { Cache } from './cache/core/cache.ts';\nimport type { AnyColumn } from './column.ts';\nimport { Column } from './column.ts';\nimport { is } from './entity.ts';\nimport type { Logger } from './logger.ts';\nimport type { SelectedFieldsOrdered } from './operations.ts';\nimport type { TableLike } from './query-builders/select.types.ts';\nimport { Param, SQL, View } from './sql/sql.ts';\nimport type { DriverValueDecoder } from './sql/sql.ts';\nimport { Subquery } from './subquery.ts';\nimport { getTableName, Table } from './table.ts';\nimport { ViewBaseConfig } from './view-common.ts';\n\n/** @internal */\nexport function mapResultRow<TResult>(\n\tcolumns: SelectedFieldsOrdered<AnyColumn>,\n\trow: unknown[],\n\tjoinsNotNullableMap: Record<string, boolean> | undefined,\n): TResult {\n\t// Key -> nested object key, value -> table name if all fields in the nested object are from the same table, false otherwise\n\tconst nullifyMap: Record<string, string | false> = {};\n\n\tconst result = columns.reduce<Record<string, any>>(\n\t\t(result, { path, field }, columnIndex) => {\n\t\t\tlet decoder: DriverValueDecoder<unknown, unknown>;\n\t\t\tif (is(field, Column)) {\n\t\t\t\tdecoder = field;\n\t\t\t} else if (is(field, SQL)) {\n\t\t\t\tdecoder = field.decoder;\n\t\t\t} else {\n\t\t\t\tdecoder = field.sql.decoder;\n\t\t\t}\n\t\t\tlet node = result;\n\t\t\tfor (const [pathChunkIndex, pathChunk] of path.entries()) {\n\t\t\t\tif (pathChunkIndex < path.length - 1) {\n\t\t\t\t\tif (!(pathChunk in node)) {\n\t\t\t\t\t\tnode[pathChunk] = {};\n\t\t\t\t\t}\n\t\t\t\t\tnode = node[pathChunk];\n\t\t\t\t} else {\n\t\t\t\t\tconst rawValue = row[columnIndex]!;\n\t\t\t\t\tconst value = node[pathChunk] = rawValue === null ? null : decoder.mapFromDriverValue(rawValue);\n\n\t\t\t\t\tif (joinsNotNullableMap && is(field, Column) && path.length === 2) {\n\t\t\t\t\t\tconst objectName = path[0]!;\n\t\t\t\t\t\tif (!(objectName in nullifyMap)) {\n\t\t\t\t\t\t\tnullifyMap[objectName] = value === null ? getTableName(field.table) : false;\n\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\ttypeof nullifyMap[objectName] === 'string' && nullifyMap[objectName] !== getTableName(field.table)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tnullifyMap[objectName] = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t\t{},\n\t);\n\n\t// Nullify all nested objects from nullifyMap that are nullable\n\tif (joinsNotNullableMap && Object.keys(nullifyMap).length > 0) {\n\t\tfor (const [objectName, tableName] of Object.entries(nullifyMap)) {\n\t\t\tif (typeof tableName === 'string' && !joinsNotNullableMap[tableName]) {\n\t\t\t\tresult[objectName] = null;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn result as TResult;\n}\n\n/** @internal */\nexport function orderSelectedFields<TColumn extends AnyColumn>(\n\tfields: Record<string, unknown>,\n\tpathPrefix?: string[],\n): SelectedFieldsOrdered<TColumn> {\n\treturn Object.entries(fields).reduce<SelectedFieldsOrdered<AnyColumn>>((result, [name, field]) => {\n\t\tif (typeof name !== 'string') {\n\t\t\treturn result;\n\t\t}\n\n\t\tconst newPath = pathPrefix ? [...pathPrefix, name] : [name];\n\t\tif (is(field, Column) || is(field, SQL) || is(field, SQL.Aliased)) {\n\t\t\tresult.push({ path: newPath, field });\n\t\t} else if (is(field, Table)) {\n\t\t\tresult.push(...orderSelectedFields(field[Table.Symbol.Columns], newPath));\n\t\t} else {\n\t\t\tresult.push(...orderSelectedFields(field as Record<string, unknown>, newPath));\n\t\t}\n\t\treturn result;\n\t}, []) as SelectedFieldsOrdered<TColumn>;\n}\n\nexport function haveSameKeys(left: Record<string, unknown>, right: Record<string, unknown>) {\n\tconst leftKeys = Object.keys(left);\n\tconst rightKeys = Object.keys(right);\n\n\tif (leftKeys.length !== rightKeys.length) {\n\t\treturn false;\n\t}\n\n\tfor (const [index, key] of leftKeys.entries()) {\n\t\tif (key !== rightKeys[index]) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\n/** @internal */\nexport function mapUpdateSet(table: Table, values: Record<string, unknown>): UpdateSet {\n\tconst entries: [string, UpdateSet[string]][] = Object.entries(values)\n\t\t.filter(([, value]) => value !== undefined)\n\t\t.map(([key, value]) => {\n\t\t\t// eslint-disable-next-line unicorn/prefer-ternary\n\t\t\tif (is(value, SQL) || is(value, Column)) {\n\t\t\t\treturn [key, value];\n\t\t\t} else {\n\t\t\t\treturn [key, new Param(value, table[Table.Symbol.Columns][key])];\n\t\t\t}\n\t\t});\n\n\tif (entries.length === 0) {\n\t\tthrow new Error('No values to set');\n\t}\n\n\treturn Object.fromEntries(entries);\n}\n\nexport type UpdateSet = Record<string, SQL | Param | AnyColumn | null | undefined>;\n\nexport type OneOrMany<T> = T | T[];\n\nexport type Update<T, TUpdate> =\n\t& {\n\t\t[K in Exclude<keyof T, keyof TUpdate>]: T[K];\n\t}\n\t& TUpdate;\n\nexport type Simplify<T> =\n\t& {\n\t\t// @ts-ignore - \"Type parameter 'K' has a circular constraint\", not sure why\n\t\t[K in keyof T]: T[K];\n\t}\n\t& {};\n\nexport type SimplifyMappedType<T> = [T] extends [unknown] ? T : never;\n\nexport type ShallowRecord<K extends keyof any, T> = SimplifyMappedType<{ [P in K]: T }>;\n\nexport type Assume<T, U> = T extends U ? T : U;\n\nexport type Equal<X, Y> = (<T>() => T extends X ? 1 : 2) extends (<T>() => T extends Y ? 1 : 2) ? true : false;\n\nexport interface DrizzleTypeError<T extends string> {\n\t$drizzleTypeError: T;\n}\n\nexport type ValueOrArray<T> = T | T[];\n\n/** @internal */\nexport function applyMixins(baseClass: any, extendedClasses: any[]) {\n\tfor (const extendedClass of extendedClasses) {\n\t\tfor (const name of Object.getOwnPropertyNames(extendedClass.prototype)) {\n\t\t\tif (name === 'constructor') continue;\n\n\t\t\tObject.defineProperty(\n\t\t\t\tbaseClass.prototype,\n\t\t\t\tname,\n\t\t\t\tObject.getOwnPropertyDescriptor(extendedClass.prototype, name) || Object.create(null),\n\t\t\t);\n\t\t}\n\t}\n}\n\nexport type Or<T1, T2> = T1 extends true ? true : T2 extends true ? true : false;\n\nexport type IfThenElse<If, Then, Else> = If extends true ? Then : Else;\n\nexport type PromiseOf<T> = T extends Promise<infer U> ? U : T;\n\nexport type Writable<T> = {\n\t-readonly [P in keyof T]: T[P];\n};\n\nexport type NonArray<T> = T extends any[] ? never : T;\n\nexport function getTableColumns<T extends Table>(table: T): T['_']['columns'] {\n\treturn table[Table.Symbol.Columns];\n}\n\nexport function getViewSelectedFields<T extends View>(view: T): T['_']['selectedFields'] {\n\treturn view[ViewBaseConfig].selectedFields;\n}\n\n/** @internal */\nexport function getTableLikeName(table: TableLike): string | undefined {\n\treturn is(table, Subquery)\n\t\t? table._.alias\n\t\t: is(table, View)\n\t\t? table[ViewBaseConfig].name\n\t\t: is(table, SQL)\n\t\t? undefined\n\t\t: table[Table.Symbol.IsAlias]\n\t\t? table[Table.Symbol.Name]\n\t\t: table[Table.Symbol.BaseName];\n}\n\nexport type ColumnsWithTable<\n\tTTableName extends string,\n\tTForeignTableName extends string,\n\tTColumns extends AnyColumn<{ tableName: TTableName }>[],\n> = { [Key in keyof TColumns]: AnyColumn<{ tableName: TForeignTableName }> };\n\nexport type Casing = 'snake_case' | 'camelCase';\n\nexport interface DrizzleConfig<TSchema extends Record<string, unknown> = Record<string, never>> {\n\tlogger?: boolean | Logger;\n\tschema?: TSchema;\n\tcasing?: Casing;\n\tcache?: Cache;\n}\nexport type ValidateShape<T, ValidShape, TResult = T> = T extends ValidShape\n\t? Exclude<keyof T, keyof ValidShape> extends never ? TResult\n\t: DrizzleTypeError<\n\t\t`Invalid key(s): ${Exclude<(keyof T) & (string | number | bigint | boolean | null | undefined), keyof ValidShape>}`\n\t>\n\t: never;\n\nexport type KnownKeysOnly<T, U> = {\n\t[K in keyof T]: K extends keyof U ? T[K] : never;\n};\n\nexport type IsAny<T> = 0 extends (1 & T) ? true : false;\n\n/** @internal */\nexport function getColumnNameAndConfig<\n\tTConfig extends Record<string, any> | undefined,\n>(a: string | TConfig | undefined, b: TConfig | undefined) {\n\treturn {\n\t\tname: typeof a === 'string' && a.length > 0 ? a : '' as string,\n\t\tconfig: typeof a === 'object' ? a : b as TConfig,\n\t};\n}\n\nexport type IfNotImported<T, Y, N> = unknown extends T ? Y : N;\n\nexport type ImportTypeError<TPackageName extends string> =\n\t`Please install \\`${TPackageName}\\` to allow Drizzle ORM to connect to the database`;\n\nexport type RequireAtLeastOne<T, Keys extends keyof T = keyof T> = Keys extends any\n\t? Required<Pick<T, Keys>> & Partial<Omit<T, Keys>>\n\t: never;\n\ntype ExpectedConfigShape = {\n\tlogger?: boolean | {\n\t\tlogQuery(query: string, params: unknown[]): void;\n\t};\n\tschema?: Record<string, never>;\n\tcasing?: 'snake_case' | 'camelCase';\n};\n\n// If this errors, you must update config shape checker function with new config specs\nconst _: DrizzleConfig = {} as ExpectedConfigShape;\nconst __: ExpectedConfigShape = {} as DrizzleConfig;\n\nexport function isConfig(data: any): boolean {\n\tif (typeof data !== 'object' || data === null) return false;\n\n\tif (data.constructor.name !== 'Object') return false;\n\n\tif ('logger' in data) {\n\t\tconst type = typeof data['logger'];\n\t\tif (\n\t\t\ttype !== 'boolean' && (type !== 'object' || typeof data['logger']['logQuery'] !== 'function')\n\t\t\t&& type !== 'undefined'\n\t\t) return false;\n\n\t\treturn true;\n\t}\n\n\tif ('schema' in data) {\n\t\tconst type = typeof data['schema'];\n\t\tif (type !== 'object' && type !== 'undefined') return false;\n\n\t\treturn true;\n\t}\n\n\tif ('casing' in data) {\n\t\tconst type = typeof data['casing'];\n\t\tif (type !== 'string' && type !== 'undefined') return false;\n\n\t\treturn true;\n\t}\n\n\tif ('mode' in data) {\n\t\tif (data['mode'] !== 'default' || data['mode'] !== 'planetscale' || data['mode'] !== undefined) return false;\n\n\t\treturn true;\n\t}\n\n\tif ('connection' in data) {\n\t\tconst type = typeof data['connection'];\n\t\tif (type !== 'string' && type !== 'object' && type !== 'undefined') return false;\n\n\t\treturn true;\n\t}\n\n\tif ('client' in data) {\n\t\tconst type = typeof data['client'];\n\t\tif (type !== 'object' && type !== 'function' && type !== 'undefined') return false;\n\n\t\treturn true;\n\t}\n\n\tif (Object.keys(data).length === 0) return true;\n\n\treturn false;\n}\n\nexport type NeonAuthToken = string | (() => string | Promise<string>);\n", "import type { ColumnBuilderBaseConfig, ColumnDataType, GeneratedIdentityConfig, IsIdentity } from '~/column-builder.ts';\nimport { entityKind } from '~/entity.ts';\nimport type { PgSequenceOptions } from '../sequence.ts';\nimport { PgColumnBuilder } from './common.ts';\n\nexport abstract class PgIntColumnBaseBuilder<\n\tT extends ColumnBuilderBaseConfig<ColumnDataType, string>,\n> extends PgColumnBuilder<\n\tT,\n\t{ generatedIdentity: GeneratedIdentityConfig }\n> {\n\tstatic override readonly [entityKind]: string = 'PgIntColumnBaseBuilder';\n\n\tgeneratedAlwaysAsIdentity(\n\t\tsequence?: PgSequenceOptions & { name?: string },\n\t): IsIdentity<this, 'always'> {\n\t\tif (sequence) {\n\t\t\tconst { name, ...options } = sequence;\n\t\t\tthis.config.generatedIdentity = {\n\t\t\t\ttype: 'always',\n\t\t\t\tsequenceName: name,\n\t\t\t\tsequenceOptions: options,\n\t\t\t};\n\t\t} else {\n\t\t\tthis.config.generatedIdentity = {\n\t\t\t\ttype: 'always',\n\t\t\t};\n\t\t}\n\n\t\tthis.config.hasDefault = true;\n\t\tthis.config.notNull = true;\n\n\t\treturn this as IsIdentity<this, 'always'>;\n\t}\n\n\tgeneratedByDefaultAsIdentity(\n\t\tsequence?: PgSequenceOptions & { name?: string },\n\t): IsIdentity<this, 'byDefault'> {\n\t\tif (sequence) {\n\t\t\tconst { name, ...options } = sequence;\n\t\t\tthis.config.generatedIdentity = {\n\t\t\t\ttype: 'byDefault',\n\t\t\t\tsequenceName: name,\n\t\t\t\tsequenceOptions: options,\n\t\t\t};\n\t\t} else {\n\t\t\tthis.config.generatedIdentity = {\n\t\t\t\ttype: 'byDefault',\n\t\t\t};\n\t\t}\n\n\t\tthis.config.hasDefault = true;\n\t\tthis.config.notNull = true;\n\n\t\treturn this as IsIdentity<this, 'byDefault'>;\n\t}\n}\n", "import type {\n\tColumnBuilderBaseConfig,\n\tColumnBuilderRuntimeConfig,\n\tHasDefault,\n\tMakeColumnConfig,\n\tNotNull,\n} from '~/column-builder.ts';\nimport type { ColumnBaseConfig } from '~/column.ts';\nimport { entityKind } from '~/entity.ts';\nimport { getColumnNameAndConfig } from '~/utils.ts';\nimport type { AnyPgTable } from '../table.ts';\nimport { PgColumn, PgColumnBuilder } from './common.ts';\n\nexport type PgBigSerial53BuilderInitial<TName extends string> = NotNull<\n\tHasDefault<\n\t\tPgBigSerial53Builder<{\n\t\t\tname: TName;\n\t\t\tdataType: 'number';\n\t\t\tcolumnType: 'PgBigSerial53';\n\t\t\tdata: number;\n\t\t\tdriverParam: number;\n\t\t\tenumValues: undefined;\n\t\t}>\n\t>\n>;\n\nexport class PgBigSerial53Builder<T extends ColumnBuilderBaseConfig<'number', 'PgBigSerial53'>>\n\textends PgColumnBuilder<T>\n{\n\tstatic override readonly [entityKind]: string = 'PgBigSerial53Builder';\n\n\tconstructor(name: string) {\n\t\tsuper(name, 'number', 'PgBigSerial53');\n\t\tthis.config.hasDefault = true;\n\t\tthis.config.notNull = true;\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgBigSerial53<MakeColumnConfig<T, TTableName>> {\n\t\treturn new PgBigSerial53<MakeColumnConfig<T, TTableName>>(\n\t\t\ttable,\n\t\t\tthis.config as ColumnBuilderRuntimeConfig<any, any>,\n\t\t);\n\t}\n}\n\nexport class PgBigSerial53<T extends ColumnBaseConfig<'number', 'PgBigSerial53'>> extends PgColumn<T> {\n\tstatic override readonly [entityKind]: string = 'PgBigSerial53';\n\n\tgetSQLType(): string {\n\t\treturn 'bigserial';\n\t}\n\n\toverride mapFromDriverValue(value: number): number {\n\t\tif (typeof value === 'number') {\n\t\t\treturn value;\n\t\t}\n\t\treturn Number(value);\n\t}\n}\n\nexport type PgBigSerial64BuilderInitial<TName extends string> = NotNull<\n\tHasDefault<\n\t\tPgBigSerial64Builder<{\n\t\t\tname: TName;\n\t\t\tdataType: 'bigint';\n\t\t\tcolumnType: 'PgBigSerial64';\n\t\t\tdata: bigint;\n\t\t\tdriverParam: string;\n\t\t\tenumValues: undefined;\n\t\t}>\n\t>\n>;\n\nexport class PgBigSerial64Builder<T extends ColumnBuilderBaseConfig<'bigint', 'PgBigSerial64'>>\n\textends PgColumnBuilder<T>\n{\n\tstatic override readonly [entityKind]: string = 'PgBigSerial64Builder';\n\n\tconstructor(name: string) {\n\t\tsuper(name, 'bigint', 'PgBigSerial64');\n\t\tthis.config.hasDefault = true;\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgBigSerial64<MakeColumnConfig<T, TTableName>> {\n\t\treturn new PgBigSerial64<MakeColumnConfig<T, TTableName>>(\n\t\t\ttable,\n\t\t\tthis.config as ColumnBuilderRuntimeConfig<any, any>,\n\t\t);\n\t}\n}\n\nexport class PgBigSerial64<T extends ColumnBaseConfig<'bigint', 'PgBigSerial64'>> extends PgColumn<T> {\n\tstatic override readonly [entityKind]: string = 'PgBigSerial64';\n\n\tgetSQLType(): string {\n\t\treturn 'bigserial';\n\t}\n\n\t// eslint-disable-next-line unicorn/prefer-native-coercion-functions\n\toverride mapFromDriverValue(value: string): bigint {\n\t\treturn BigInt(value);\n\t}\n}\n\nexport interface PgBigSerialConfig<T extends 'number' | 'bigint' = 'number' | 'bigint'> {\n\tmode: T;\n}\n\nexport function bigserial<TMode extends PgBigSerialConfig['mode']>(\n\tconfig: PgBigSerialConfig<TMode>,\n): TMode extends 'number' ? PgBigSerial53BuilderInitial<''> : PgBigSerial64BuilderInitial<''>;\nexport function bigserial<TName extends string, TMode extends PgBigSerialConfig['mode']>(\n\tname: TName,\n\tconfig: PgBigSerialConfig<TMode>,\n): TMode extends 'number' ? PgBigSerial53BuilderInitial<TName> : PgBigSerial64BuilderInitial<TName>;\nexport function bigserial(a: string | PgBigSerialConfig, b?: PgBigSerialConfig) {\n\tconst { name, config } = getColumnNameAndConfig<PgBigSerialConfig>(a, b);\n\tif (config.mode === 'number') {\n\t\treturn new PgBigSerial53Builder(name);\n\t}\n\treturn new PgBigSerial64Builder(name);\n}\n", "import type { ColumnBuilderBaseConfig, ColumnBuilderRuntimeConfig, MakeColumnConfig } from '~/column-builder.ts';\nimport type { ColumnBaseConfig } from '~/column.ts';\nimport { entityKind } from '~/entity.ts';\nimport type { AnyPgTable } from '~/pg-core/table.ts';\nimport { PgColumn, PgColumnBuilder } from './common.ts';\n\nexport type PgBooleanBuilderInitial<TName extends string> = PgBooleanBuilder<{\n\tname: TName;\n\tdataType: 'boolean';\n\tcolumnType: 'PgBoolean';\n\tdata: boolean;\n\tdriverParam: boolean;\n\tenumValues: undefined;\n}>;\n\nexport class PgBooleanBuilder<T extends ColumnBuilderBaseConfig<'boolean', 'PgBoolean'>> extends PgColumnBuilder<T> {\n\tstatic override readonly [entityKind]: string = 'PgBooleanBuilder';\n\n\tconstructor(name: T['name']) {\n\t\tsuper(name, 'boolean', 'PgBoolean');\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgBoolean<MakeColumnConfig<T, TTableName>> {\n\t\treturn new PgBoolean<MakeColumnConfig<T, TTableName>>(table, this.config as ColumnBuilderRuntimeConfig<any, any>);\n\t}\n}\n\nexport class PgBoolean<T extends ColumnBaseConfig<'boolean', 'PgBoolean'>> extends PgColumn<T> {\n\tstatic override readonly [entityKind]: string = 'PgBoolean';\n\n\tgetSQLType(): string {\n\t\treturn 'boolean';\n\t}\n}\n\nexport function boolean(): PgBooleanBuilderInitial<''>;\nexport function boolean<TName extends string>(name: TName): PgBooleanBuilderInitial<TName>;\nexport function boolean(name?: string) {\n\treturn new PgBooleanBuilder(name ?? '');\n}\n", "import type { ColumnBuilderBaseConfig, ColumnBuilderRuntimeConfig, MakeColumnConfig } from '~/column-builder.ts';\nimport type { ColumnBaseConfig } from '~/column.ts';\nimport { entityKind } from '~/entity.ts';\nimport type { AnyPgTable } from '~/pg-core/table.ts';\nimport { getColumnNameAndConfig, type Writable } from '~/utils.ts';\nimport { PgColumn, PgColumnBuilder } from './common.ts';\n\nexport type PgCharBuilderInitial<\n\tTName extends string,\n\tTEnum extends [string, ...string[]],\n\tTLength extends number | undefined,\n> = PgCharBuilder<{\n\tname: TName;\n\tdataType: 'string';\n\tcolumnType: 'PgChar';\n\tdata: TEnum[number];\n\tenumValues: TEnum;\n\tdriverParam: string;\n\tlength: TLength;\n}>;\n\nexport class PgCharBuilder<T extends ColumnBuilderBaseConfig<'string', 'PgChar'> & { length?: number | undefined }>\n\textends PgColumnBuilder<\n\t\tT,\n\t\t{ length: T['length']; enumValues: T['enumValues'] },\n\t\t{ length: T['length'] }\n\t>\n{\n\tstatic override readonly [entityKind]: string = 'PgCharBuilder';\n\n\tconstructor(name: T['name'], config: PgCharConfig<T['enumValues'], T['length']>) {\n\t\tsuper(name, 'string', 'PgChar');\n\t\tthis.config.length = config.length;\n\t\tthis.config.enumValues = config.enum;\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgChar<MakeColumnConfig<T, TTableName> & { length: T['length'] }> {\n\t\treturn new PgChar<MakeColumnConfig<T, TTableName> & { length: T['length'] }>(\n\t\t\ttable,\n\t\t\tthis.config as ColumnBuilderRuntimeConfig<any, any>,\n\t\t);\n\t}\n}\n\nexport class PgChar<T extends ColumnBaseConfig<'string', 'PgChar'> & { length?: number | undefined }>\n\textends PgColumn<T, { length: T['length']; enumValues: T['enumValues'] }, { length: T['length'] }>\n{\n\tstatic override readonly [entityKind]: string = 'PgChar';\n\n\treadonly length = this.config.length;\n\toverride readonly enumValues = this.config.enumValues;\n\n\tgetSQLType(): string {\n\t\treturn this.length === undefined ? `char` : `char(${this.length})`;\n\t}\n}\n\nexport interface PgCharConfig<\n\tTEnum extends readonly string[] | string[] | undefined = readonly string[] | string[] | undefined,\n\tTLength extends number | undefined = number | undefined,\n> {\n\tenum?: TEnum;\n\tlength?: TLength;\n}\n\nexport function char(): PgCharBuilderInitial<'', [string, ...string[]], undefined>;\nexport function char<U extends string, T extends Readonly<[U, ...U[]]>, L extends number | undefined>(\n\tconfig?: PgCharConfig<T | Writable<T>, L>,\n): PgCharBuilderInitial<'', Writable<T>, L>;\nexport function char<\n\tTName extends string,\n\tU extends string,\n\tT extends Readonly<[U, ...U[]]>,\n\tL extends number | undefined,\n>(\n\tname: TName,\n\tconfig?: PgCharConfig<T | Writable<T>, L>,\n): PgCharBuilderInitial<TName, Writable<T>, L>;\nexport function char(a?: string | PgCharConfig, b: PgCharConfig = {}): any {\n\tconst { name, config } = getColumnNameAndConfig<PgCharConfig>(a, b);\n\treturn new PgCharBuilder(name, config as any);\n}\n", "import type { ColumnBuilderBaseConfig, ColumnBuilderRuntimeConfig, MakeColumnConfig } from '~/column-builder.ts';\nimport type { ColumnBaseConfig } from '~/column.ts';\nimport { entityKind } from '~/entity.ts';\nimport type { AnyPgTable } from '../table.ts';\nimport { PgColumn, PgColumnBuilder } from './common.ts';\n\nexport type PgCidrBuilderInitial<TName extends string> = PgCidrBuilder<{\n\tname: TName;\n\tdataType: 'string';\n\tcolumnType: 'PgCidr';\n\tdata: string;\n\tdriverParam: string;\n\tenumValues: undefined;\n}>;\n\nexport class PgCidrBuilder<T extends ColumnBuilderBaseConfig<'string', 'PgCidr'>> extends PgColumnBuilder<T> {\n\tstatic override readonly [entityKind]: string = 'PgCidrBuilder';\n\n\tconstructor(name: T['name']) {\n\t\tsuper(name, 'string', 'PgCidr');\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgCidr<MakeColumnConfig<T, TTableName>> {\n\t\treturn new PgCidr<MakeColumnConfig<T, TTableName>>(table, this.config as ColumnBuilderRuntimeConfig<any, any>);\n\t}\n}\n\nexport class PgCidr<T extends ColumnBaseConfig<'string', 'PgCidr'>> extends PgColumn<T> {\n\tstatic override readonly [entityKind]: string = 'PgCidr';\n\n\tgetSQLType(): string {\n\t\treturn 'cidr';\n\t}\n}\n\nexport function cidr(): PgCidrBuilderInitial<''>;\nexport function cidr<TName extends string>(name: TName): PgCidrBuilderInitial<TName>;\nexport function cidr(name?: string) {\n\treturn new PgCidrBuilder(name ?? '');\n}\n", "import type { ColumnBuilderBaseConfig, ColumnBuilderRuntimeConfig, MakeColumnConfig } from '~/column-builder.ts';\nimport type { ColumnBaseConfig } from '~/column.ts';\nimport { entityKind } from '~/entity.ts';\nimport type { AnyPgTable } from '~/pg-core/table.ts';\nimport type { SQL } from '~/sql/sql.ts';\nimport { type Equal, getColumnNameAndConfig } from '~/utils.ts';\nimport { PgColumn, PgColumnBuilder } from './common.ts';\n\nexport type ConvertCustomConfig<TName extends string, T extends Partial<CustomTypeValues>> =\n\t& {\n\t\tname: TName;\n\t\tdataType: 'custom';\n\t\tcolumnType: 'PgCustomColumn';\n\t\tdata: T['data'];\n\t\tdriverParam: T['driverData'];\n\t\tenumValues: undefined;\n\t}\n\t& (T['notNull'] extends true ? { notNull: true } : {})\n\t& (T['default'] extends true ? { hasDefault: true } : {});\n\nexport interface PgCustomColumnInnerConfig {\n\tcustomTypeValues: CustomTypeValues;\n}\n\nexport class PgCustomColumnBuilder<T extends ColumnBuilderBaseConfig<'custom', 'PgCustomColumn'>>\n\textends PgColumnBuilder<\n\t\tT,\n\t\t{\n\t\t\tfieldConfig: CustomTypeValues['config'];\n\t\t\tcustomTypeParams: CustomTypeParams<any>;\n\t\t},\n\t\t{\n\t\t\tpgColumnBuilderBrand: 'PgCustomColumnBuilderBrand';\n\t\t}\n\t>\n{\n\tstatic override readonly [entityKind]: string = 'PgCustomColumnBuilder';\n\n\tconstructor(\n\t\tname: T['name'],\n\t\tfieldConfig: CustomTypeValues['config'],\n\t\tcustomTypeParams: CustomTypeParams<any>,\n\t) {\n\t\tsuper(name, 'custom', 'PgCustomColumn');\n\t\tthis.config.fieldConfig = fieldConfig;\n\t\tthis.config.customTypeParams = customTypeParams;\n\t}\n\n\t/** @internal */\n\tbuild<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgCustomColumn<MakeColumnConfig<T, TTableName>> {\n\t\treturn new PgCustomColumn<MakeColumnConfig<T, TTableName>>(\n\t\t\ttable,\n\t\t\tthis.config as ColumnBuilderRuntimeConfig<any, any>,\n\t\t);\n\t}\n}\n\nexport class PgCustomColumn<T extends ColumnBaseConfig<'custom', 'PgCustomColumn'>> extends PgColumn<T> {\n\tstatic override readonly [entityKind]: string = 'PgCustomColumn';\n\n\tprivate sqlName: string;\n\tprivate mapTo?: (value: T['data']) => T['driverParam'];\n\tprivate mapFrom?: (value: T['driverParam']) => T['data'];\n\n\tconstructor(\n\t\ttable: AnyPgTable<{ name: T['tableName'] }>,\n\t\tconfig: PgCustomColumnBuilder<T>['config'],\n\t) {\n\t\tsuper(table, config);\n\t\tthis.sqlName = config.customTypeParams.dataType(config.fieldConfig);\n\t\tthis.mapTo = config.customTypeParams.toDriver;\n\t\tthis.mapFrom = config.customTypeParams.fromDriver;\n\t}\n\n\tgetSQLType(): string {\n\t\treturn this.sqlName;\n\t}\n\n\toverride mapFromDriverValue(value: T['driverParam']): T['data'] {\n\t\treturn typeof this.mapFrom === 'function' ? this.mapFrom(value) : value as T['data'];\n\t}\n\n\toverride mapToDriverValue(value: T['data']): T['driverParam'] {\n\t\treturn typeof this.mapTo === 'function' ? this.mapTo(value) : value as T['data'];\n\t}\n}\n\nexport type CustomTypeValues = {\n\t/**\n\t * Required type for custom column, that will infer proper type model\n\t *\n\t * Examples:\n\t *\n\t * If you want your column to be `string` type after selecting/or on inserting - use `data: string`. Like `text`, `varchar`\n\t *\n\t * If you want your column to be `number` type after selecting/or on inserting - use `data: number`. Like `integer`\n\t */\n\tdata: unknown;\n\n\t/**\n\t * Type helper, that represents what type database driver is accepting for specific database data type\n\t */\n\tdriverData?: unknown;\n\n\t/**\n\t * What config type should be used for {@link CustomTypeParams} `dataType` generation\n\t */\n\tconfig?: Record<string, any>;\n\n\t/**\n\t * Whether the config argument should be required or not\n\t * @default false\n\t */\n\tconfigRequired?: boolean;\n\n\t/**\n\t * If your custom data type should be notNull by default you can use `notNull: true`\n\t *\n\t * @example\n\t * const customSerial = customType<{ data: number, notNull: true, default: true }>({\n\t * \t  dataType() {\n\t * \t    return 'serial';\n\t *    },\n\t * });\n\t */\n\tnotNull?: boolean;\n\n\t/**\n\t * If your custom data type has default you can use `default: true`\n\t *\n\t * @example\n\t * const customSerial = customType<{ data: number, notNull: true, default: true }>({\n\t * \t  dataType() {\n\t * \t    return 'serial';\n\t *    },\n\t * });\n\t */\n\tdefault?: boolean;\n};\n\nexport interface CustomTypeParams<T extends CustomTypeValues> {\n\t/**\n\t * Database data type string representation, that is used for migrations\n\t * @example\n\t * ```\n\t * `jsonb`, `text`\n\t * ```\n\t *\n\t * If database data type needs additional params you can use them from `config` param\n\t * @example\n\t * ```\n\t * `varchar(256)`, `numeric(2,3)`\n\t * ```\n\t *\n\t * To make `config` be of specific type please use config generic in {@link CustomTypeValues}\n\t *\n\t * @example\n\t * Usage example\n\t * ```\n\t *   dataType() {\n\t *     return 'boolean';\n\t *   },\n\t * ```\n\t * Or\n\t * ```\n\t *   dataType(config) {\n\t * \t   return typeof config.length !== 'undefined' ? `varchar(${config.length})` : `varchar`;\n\t * \t }\n\t * ```\n\t */\n\tdataType: (config: T['config'] | (Equal<T['configRequired'], true> extends true ? never : undefined)) => string;\n\n\t/**\n\t * Optional mapping function, between user input and driver\n\t * @example\n\t * For example, when using jsonb we need to map JS/TS object to string before writing to database\n\t * ```\n\t * toDriver(value: TData): string {\n\t * \t return JSON.stringify(value);\n\t * }\n\t * ```\n\t */\n\ttoDriver?: (value: T['data']) => T['driverData'] | SQL;\n\n\t/**\n\t * Optional mapping function, that is responsible for data mapping from database to JS/TS code\n\t * @example\n\t * For example, when using timestamp we need to map string Date representation to JS Date\n\t * ```\n\t * fromDriver(value: string): Date {\n\t * \treturn new Date(value);\n\t * },\n\t * ```\n\t */\n\tfromDriver?: (value: T['driverData']) => T['data'];\n}\n\n/**\n * Custom pg database data type generator\n */\nexport function customType<T extends CustomTypeValues = CustomTypeValues>(\n\tcustomTypeParams: CustomTypeParams<T>,\n): Equal<T['configRequired'], true> extends true ? {\n\t\t<TConfig extends Record<string, any> & T['config']>(\n\t\t\tfieldConfig: TConfig,\n\t\t): PgCustomColumnBuilder<ConvertCustomConfig<'', T>>;\n\t\t<TName extends string>(\n\t\t\tdbName: TName,\n\t\t\tfieldConfig: T['config'],\n\t\t): PgCustomColumnBuilder<ConvertCustomConfig<TName, T>>;\n\t}\n\t: {\n\t\t(): PgCustomColumnBuilder<ConvertCustomConfig<'', T>>;\n\t\t<TConfig extends Record<string, any> & T['config']>(\n\t\t\tfieldConfig?: TConfig,\n\t\t): PgCustomColumnBuilder<ConvertCustomConfig<'', T>>;\n\t\t<TName extends string>(\n\t\t\tdbName: TName,\n\t\t\tfieldConfig?: T['config'],\n\t\t): PgCustomColumnBuilder<ConvertCustomConfig<TName, T>>;\n\t}\n{\n\treturn <TName extends string>(\n\t\ta?: TName | T['config'],\n\t\tb?: T['config'],\n\t): PgCustomColumnBuilder<ConvertCustomConfig<TName, T>> => {\n\t\tconst { name, config } = getColumnNameAndConfig<T['config']>(a, b);\n\t\treturn new PgCustomColumnBuilder(name as ConvertCustomConfig<TName, T>['name'], config, customTypeParams);\n\t};\n}\n", "import type { ColumnBuilderBaseConfig, ColumnBuilderRuntimeConfig, MakeColumnConfig } from '~/column-builder.ts';\nimport type { ColumnBaseConfig } from '~/column.ts';\nimport { entityKind } from '~/entity.ts';\nimport type { AnyPgTable } from '~/pg-core/table.ts';\nimport { type Equal, getColumnNameAndConfig } from '~/utils.ts';\nimport { PgColumn } from './common.ts';\nimport { PgDateColumnBaseBuilder } from './date.common.ts';\n\nexport type PgDateBuilderInitial<TName extends string> = PgDateBuilder<{\n\tname: TName;\n\tdataType: 'date';\n\tcolumnType: 'PgDate';\n\tdata: Date;\n\tdriverParam: string;\n\tenumValues: undefined;\n}>;\n\nexport class PgDateBuilder<T extends ColumnBuilderBaseConfig<'date', 'PgDate'>> extends PgDateColumnBaseBuilder<T> {\n\tstatic override readonly [entityKind]: string = 'PgDateBuilder';\n\n\tconstructor(name: T['name']) {\n\t\tsuper(name, 'date', 'PgDate');\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgDate<MakeColumnConfig<T, TTableName>> {\n\t\treturn new PgDate<MakeColumnConfig<T, TTableName>>(table, this.config as ColumnBuilderRuntimeConfig<any, any>);\n\t}\n}\n\nexport class PgDate<T extends ColumnBaseConfig<'date', 'PgDate'>> extends PgColumn<T> {\n\tstatic override readonly [entityKind]: string = 'PgDate';\n\n\tgetSQLType(): string {\n\t\treturn 'date';\n\t}\n\n\toverride mapFromDriverValue(value: string): Date {\n\t\treturn new Date(value);\n\t}\n\n\toverride mapToDriverValue(value: Date): string {\n\t\treturn value.toISOString();\n\t}\n}\n\nexport type PgDateStringBuilderInitial<TName extends string> = PgDateStringBuilder<{\n\tname: TName;\n\tdataType: 'string';\n\tcolumnType: 'PgDateString';\n\tdata: string;\n\tdriverParam: string;\n\tenumValues: undefined;\n}>;\n\nexport class PgDateStringBuilder<T extends ColumnBuilderBaseConfig<'string', 'PgDateString'>>\n\textends PgDateColumnBaseBuilder<T>\n{\n\tstatic override readonly [entityKind]: string = 'PgDateStringBuilder';\n\n\tconstructor(name: T['name']) {\n\t\tsuper(name, 'string', 'PgDateString');\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgDateString<MakeColumnConfig<T, TTableName>> {\n\t\treturn new PgDateString<MakeColumnConfig<T, TTableName>>(\n\t\t\ttable,\n\t\t\tthis.config as ColumnBuilderRuntimeConfig<any, any>,\n\t\t);\n\t}\n}\n\nexport class PgDateString<T extends ColumnBaseConfig<'string', 'PgDateString'>> extends PgColumn<T> {\n\tstatic override readonly [entityKind]: string = 'PgDateString';\n\n\tgetSQLType(): string {\n\t\treturn 'date';\n\t}\n}\n\nexport interface PgDateConfig<T extends 'date' | 'string' = 'date' | 'string'> {\n\tmode: T;\n}\n\nexport function date(): PgDateStringBuilderInitial<''>;\nexport function date<TMode extends PgDateConfig['mode'] & {}>(\n\tconfig?: PgDateConfig<TMode>,\n): Equal<TMode, 'date'> extends true ? PgDateBuilderInitial<''> : PgDateStringBuilderInitial<''>;\nexport function date<TName extends string, TMode extends PgDateConfig['mode'] & {}>(\n\tname: TName,\n\tconfig?: PgDateConfig<TMode>,\n): Equal<TMode, 'date'> extends true ? PgDateBuilderInitial<TName> : PgDateStringBuilderInitial<TName>;\nexport function date(a?: string | PgDateConfig, b?: PgDateConfig) {\n\tconst { name, config } = getColumnNameAndConfig<PgDateConfig>(a, b);\n\tif (config?.mode === 'date') {\n\t\treturn new PgDateBuilder(name);\n\t}\n\treturn new PgDateStringBuilder(name);\n}\n", "import type { ColumnBuilderBaseConfig, ColumnDataType } from '~/column-builder.ts';\nimport { entityKind } from '~/entity.ts';\nimport { sql } from '~/sql/sql.ts';\nimport { PgColumnBuilder } from './common.ts';\n\nexport abstract class PgDateColumnBaseBuilder<\n\tT extends ColumnBuilderBaseConfig<ColumnDataType, string>,\n\tTRuntimeConfig extends object = object,\n> extends PgColumnBuilder<T, TRuntimeConfig> {\n\tstatic override readonly [entityKind]: string = 'PgDateColumnBaseBuilder';\n\n\tdefaultNow() {\n\t\treturn this.default(sql`now()`);\n\t}\n}\n", "import type { ColumnBuilderBaseConfig, ColumnBuilderRuntimeConfig, MakeColumnConfig } from '~/column-builder.ts';\nimport type { ColumnBaseConfig } from '~/column.ts';\nimport { entityKind } from '~/entity.ts';\nimport type { AnyPgTable } from '~/pg-core/table.ts';\nimport { PgColumn, PgColumnBuilder } from './common.ts';\n\nexport type PgDoublePrecisionBuilderInitial<TName extends string> = PgDoublePrecisionBuilder<{\n\tname: TName;\n\tdataType: 'number';\n\tcolumnType: 'PgDoublePrecision';\n\tdata: number;\n\tdriverParam: string | number;\n\tenumValues: undefined;\n}>;\n\nexport class PgDoublePrecisionBuilder<T extends ColumnBuilderBaseConfig<'number', 'PgDoublePrecision'>>\n\textends PgColumnBuilder<T>\n{\n\tstatic override readonly [entityKind]: string = 'PgDoublePrecisionBuilder';\n\n\tconstructor(name: T['name']) {\n\t\tsuper(name, 'number', 'PgDoublePrecision');\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgDoublePrecision<MakeColumnConfig<T, TTableName>> {\n\t\treturn new PgDoublePrecision<MakeColumnConfig<T, TTableName>>(\n\t\t\ttable,\n\t\t\tthis.config as ColumnBuilderRuntimeConfig<any, any>,\n\t\t);\n\t}\n}\n\nexport class PgDoublePrecision<T extends ColumnBaseConfig<'number', 'PgDoublePrecision'>> extends PgColumn<T> {\n\tstatic override readonly [entityKind]: string = 'PgDoublePrecision';\n\n\tgetSQLType(): string {\n\t\treturn 'double precision';\n\t}\n\n\toverride mapFromDriverValue(value: string | number): number {\n\t\tif (typeof value === 'string') {\n\t\t\treturn Number.parseFloat(value);\n\t\t}\n\t\treturn value;\n\t}\n}\n\nexport function doublePrecision(): PgDoublePrecisionBuilderInitial<''>;\nexport function doublePrecision<TName extends string>(name: TName): PgDoublePrecisionBuilderInitial<TName>;\nexport function doublePrecision(name?: string) {\n\treturn new PgDoublePrecisionBuilder(name ?? '');\n}\n", "import type { ColumnBuilderBaseConfig, ColumnBuilderRuntimeConfig, MakeColumnConfig } from '~/column-builder.ts';\nimport type { ColumnBaseConfig } from '~/column.ts';\nimport { entityKind } from '~/entity.ts';\nimport type { AnyPgTable } from '../table.ts';\nimport { PgColumn, PgColumnBuilder } from './common.ts';\n\nexport type PgInetBuilderInitial<TName extends string> = PgInetBuilder<{\n\tname: TName;\n\tdataType: 'string';\n\tcolumnType: 'PgInet';\n\tdata: string;\n\tdriverParam: string;\n\tenumValues: undefined;\n}>;\n\nexport class PgInetBuilder<T extends ColumnBuilderBaseConfig<'string', 'PgInet'>> extends PgColumnBuilder<T> {\n\tstatic override readonly [entityKind]: string = 'PgInetBuilder';\n\n\tconstructor(name: T['name']) {\n\t\tsuper(name, 'string', 'PgInet');\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgInet<MakeColumnConfig<T, TTableName>> {\n\t\treturn new PgInet<MakeColumnConfig<T, TTableName>>(table, this.config as ColumnBuilderRuntimeConfig<any, any>);\n\t}\n}\n\nexport class PgInet<T extends ColumnBaseConfig<'string', 'PgInet'>> extends PgColumn<T> {\n\tstatic override readonly [entityKind]: string = 'PgInet';\n\n\tgetSQLType(): string {\n\t\treturn 'inet';\n\t}\n}\n\nexport function inet(): PgInetBuilderInitial<''>;\nexport function inet<TName extends string>(name: TName): PgInetBuilderInitial<TName>;\nexport function inet(name?: string) {\n\treturn new PgInetBuilder(name ?? '');\n}\n", "import type { ColumnBuilderBaseConfig, ColumnBuilderRuntimeConfig, MakeColumnConfig } from '~/column-builder.ts';\nimport type { ColumnBaseConfig } from '~/column.ts';\nimport { entityKind } from '~/entity.ts';\nimport type { AnyPgTable } from '../table.ts';\nimport { PgColumn } from './common.ts';\nimport { PgIntColumnBaseBuilder } from './int.common.ts';\n\nexport type PgIntegerBuilderInitial<TName extends string> = PgIntegerBuilder<{\n\tname: TName;\n\tdataType: 'number';\n\tcolumnType: 'PgInteger';\n\tdata: number;\n\tdriverParam: number | string;\n\tenumValues: undefined;\n}>;\n\nexport class PgIntegerBuilder<T extends ColumnBuilderBaseConfig<'number', 'PgInteger'>>\n\textends PgIntColumnBaseBuilder<T>\n{\n\tstatic override readonly [entityKind]: string = 'PgIntegerBuilder';\n\n\tconstructor(name: T['name']) {\n\t\tsuper(name, 'number', 'PgInteger');\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgInteger<MakeColumnConfig<T, TTableName>> {\n\t\treturn new PgInteger<MakeColumnConfig<T, TTableName>>(table, this.config as ColumnBuilderRuntimeConfig<any, any>);\n\t}\n}\n\nexport class PgInteger<T extends ColumnBaseConfig<'number', 'PgInteger'>> extends PgColumn<T> {\n\tstatic override readonly [entityKind]: string = 'PgInteger';\n\n\tgetSQLType(): string {\n\t\treturn 'integer';\n\t}\n\n\toverride mapFromDriverValue(value: number | string): number {\n\t\tif (typeof value === 'string') {\n\t\t\treturn Number.parseInt(value);\n\t\t}\n\t\treturn value;\n\t}\n}\n\nexport function integer(): PgIntegerBuilderInitial<''>;\nexport function integer<TName extends string>(name: TName): PgIntegerBuilderInitial<TName>;\nexport function integer(name?: string) {\n\treturn new PgIntegerBuilder(name ?? '');\n}\n", "import type { ColumnBuilderBaseConfig, ColumnBuilderRuntimeConfig, MakeColumnConfig } from '~/column-builder.ts';\nimport type { ColumnBaseConfig } from '~/column.ts';\nimport { entityKind } from '~/entity.ts';\nimport type { AnyPgTable } from '~/pg-core/table.ts';\nimport { getColumnNameAndConfig } from '~/utils.ts';\nimport { PgColumn, PgColumnBuilder } from './common.ts';\nimport type { Precision } from './timestamp.ts';\n\nexport type PgIntervalBuilderInitial<TName extends string> = PgIntervalBuilder<{\n\tname: TName;\n\tdataType: 'string';\n\tcolumnType: 'PgInterval';\n\tdata: string;\n\tdriverParam: string;\n\tenumValues: undefined;\n}>;\n\nexport class PgIntervalBuilder<T extends ColumnBuilderBaseConfig<'string', 'PgInterval'>>\n\textends PgColumnBuilder<T, { intervalConfig: IntervalConfig }>\n{\n\tstatic override readonly [entityKind]: string = 'PgIntervalBuilder';\n\n\tconstructor(\n\t\tname: T['name'],\n\t\tintervalConfig: IntervalConfig,\n\t) {\n\t\tsuper(name, 'string', 'PgInterval');\n\t\tthis.config.intervalConfig = intervalConfig;\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgInterval<MakeColumnConfig<T, TTableName>> {\n\t\treturn new PgInterval<MakeColumnConfig<T, TTableName>>(table, this.config as ColumnBuilderRuntimeConfig<any, any>);\n\t}\n}\n\nexport class PgInterval<T extends ColumnBaseConfig<'string', 'PgInterval'>>\n\textends PgColumn<T, { intervalConfig: IntervalConfig }>\n{\n\tstatic override readonly [entityKind]: string = 'PgInterval';\n\n\treadonly fields: IntervalConfig['fields'] = this.config.intervalConfig.fields;\n\treadonly precision: IntervalConfig['precision'] = this.config.intervalConfig.precision;\n\n\tgetSQLType(): string {\n\t\tconst fields = this.fields ? ` ${this.fields}` : '';\n\t\tconst precision = this.precision ? `(${this.precision})` : '';\n\t\treturn `interval${fields}${precision}`;\n\t}\n}\n\nexport interface IntervalConfig {\n\tfields?:\n\t\t| 'year'\n\t\t| 'month'\n\t\t| 'day'\n\t\t| 'hour'\n\t\t| 'minute'\n\t\t| 'second'\n\t\t| 'year to month'\n\t\t| 'day to hour'\n\t\t| 'day to minute'\n\t\t| 'day to second'\n\t\t| 'hour to minute'\n\t\t| 'hour to second'\n\t\t| 'minute to second';\n\tprecision?: Precision;\n}\n\nexport function interval(): PgIntervalBuilderInitial<''>;\nexport function interval(\n\tconfig?: IntervalConfig,\n): PgIntervalBuilderInitial<''>;\nexport function interval<TName extends string>(\n\tname: TName,\n\tconfig?: IntervalConfig,\n): PgIntervalBuilderInitial<TName>;\nexport function interval(a?: string | IntervalConfig, b: IntervalConfig = {}) {\n\tconst { name, config } = getColumnNameAndConfig<IntervalConfig>(a, b);\n\treturn new PgIntervalBuilder(name, config);\n}\n", "import type { ColumnBuilderBaseConfig, ColumnBuilderRuntimeConfig, MakeColumnConfig } from '~/column-builder.ts';\nimport type { ColumnBaseConfig } from '~/column.ts';\nimport { entityKind } from '~/entity.ts';\nimport type { AnyPgTable } from '~/pg-core/table.ts';\nimport { PgColumn, PgColumnBuilder } from './common.ts';\n\nexport type PgJsonBuilderInitial<TName extends string> = PgJsonBuilder<{\n\tname: TName;\n\tdataType: 'json';\n\tcolumnType: 'PgJson';\n\tdata: unknown;\n\tdriverParam: unknown;\n\tenumValues: undefined;\n}>;\n\nexport class PgJsonBuilder<T extends ColumnBuilderBaseConfig<'json', 'PgJson'>> extends PgColumnBuilder<\n\tT\n> {\n\tstatic override readonly [entityKind]: string = 'PgJsonBuilder';\n\n\tconstructor(name: T['name']) {\n\t\tsuper(name, 'json', 'PgJson');\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgJson<MakeColumnConfig<T, TTableName>> {\n\t\treturn new PgJson<MakeColumnConfig<T, TTableName>>(table, this.config as ColumnBuilderRuntimeConfig<any, any>);\n\t}\n}\n\nexport class PgJson<T extends ColumnBaseConfig<'json', 'PgJson'>> extends PgColumn<T> {\n\tstatic override readonly [entityKind]: string = 'PgJson';\n\n\tconstructor(table: AnyPgTable<{ name: T['tableName'] }>, config: PgJsonBuilder<T>['config']) {\n\t\tsuper(table, config);\n\t}\n\n\tgetSQLType(): string {\n\t\treturn 'json';\n\t}\n\n\toverride mapToDriverValue(value: T['data']): string {\n\t\treturn JSON.stringify(value);\n\t}\n\n\toverride mapFromDriverValue(value: T['data'] | string): T['data'] {\n\t\tif (typeof value === 'string') {\n\t\t\ttry {\n\t\t\t\treturn JSON.parse(value);\n\t\t\t} catch {\n\t\t\t\treturn value as T['data'];\n\t\t\t}\n\t\t}\n\t\treturn value;\n\t}\n}\n\nexport function json(): PgJsonBuilderInitial<''>;\nexport function json<TName extends string>(name: TName): PgJsonBuilderInitial<TName>;\nexport function json(name?: string) {\n\treturn new PgJsonBuilder(name ?? '');\n}\n", "import type { ColumnBuilderBaseConfig, ColumnBuilderRuntimeConfig, MakeColumnConfig } from '~/column-builder.ts';\nimport type { ColumnBaseConfig } from '~/column.ts';\nimport { entityKind } from '~/entity.ts';\nimport type { AnyPgTable } from '~/pg-core/table.ts';\nimport { PgColumn, PgColumnBuilder } from './common.ts';\n\nexport type PgJsonbBuilderInitial<TName extends string> = PgJsonbBuilder<{\n\tname: TName;\n\tdataType: 'json';\n\tcolumnType: 'PgJsonb';\n\tdata: unknown;\n\tdriverParam: unknown;\n\tenumValues: undefined;\n}>;\n\nexport class PgJsonbBuilder<T extends ColumnBuilderBaseConfig<'json', 'PgJsonb'>> extends PgColumnBuilder<T> {\n\tstatic override readonly [entityKind]: string = 'PgJsonbBuilder';\n\n\tconstructor(name: T['name']) {\n\t\tsuper(name, 'json', 'PgJsonb');\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgJsonb<MakeColumnConfig<T, TTableName>> {\n\t\treturn new PgJsonb<MakeColumnConfig<T, TTableName>>(table, this.config as ColumnBuilderRuntimeConfig<any, any>);\n\t}\n}\n\nexport class PgJsonb<T extends ColumnBaseConfig<'json', 'PgJsonb'>> extends PgColumn<T> {\n\tstatic override readonly [entityKind]: string = 'PgJsonb';\n\n\tconstructor(table: AnyPgTable<{ name: T['tableName'] }>, config: PgJsonbBuilder<T>['config']) {\n\t\tsuper(table, config);\n\t}\n\n\tgetSQLType(): string {\n\t\treturn 'jsonb';\n\t}\n\n\toverride mapToDriverValue(value: T['data']): string {\n\t\treturn JSON.stringify(value);\n\t}\n\n\toverride mapFromDriverValue(value: T['data'] | string): T['data'] {\n\t\tif (typeof value === 'string') {\n\t\t\ttry {\n\t\t\t\treturn JSON.parse(value);\n\t\t\t} catch {\n\t\t\t\treturn value as T['data'];\n\t\t\t}\n\t\t}\n\t\treturn value;\n\t}\n}\n\nexport function jsonb(): PgJsonbBuilderInitial<''>;\nexport function jsonb<TName extends string>(name: TName): PgJsonbBuilderInitial<TName>;\nexport function jsonb(name?: string) {\n\treturn new PgJsonbBuilder(name ?? '');\n}\n", "import type { ColumnBuilderBaseConfig, ColumnBuilderRuntimeConfig, MakeColumnConfig } from '~/column-builder.ts';\nimport type { ColumnBaseConfig } from '~/column.ts';\nimport { entityKind } from '~/entity.ts';\nimport type { AnyPgTable } from '~/pg-core/table.ts';\n\nimport { type Equal, getColumnNameAndConfig } from '~/utils.ts';\nimport { PgColumn, PgColumnBuilder } from './common.ts';\n\nexport type PgLineBuilderInitial<TName extends string> = PgLineBuilder<{\n\tname: TName;\n\tdataType: 'array';\n\tcolumnType: 'PgLine';\n\tdata: [number, number, number];\n\tdriverParam: number | string;\n\tenumValues: undefined;\n}>;\n\nexport class PgLineBuilder<T extends ColumnBuilderBaseConfig<'array', 'PgLine'>> extends PgColumnBuilder<T> {\n\tstatic override readonly [entityKind]: string = 'PgLineBuilder';\n\n\tconstructor(name: T['name']) {\n\t\tsuper(name, 'array', 'PgLine');\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgLineTuple<MakeColumnConfig<T, TTableName>> {\n\t\treturn new PgLineTuple<MakeColumnConfig<T, TTableName>>(\n\t\t\ttable,\n\t\t\tthis.config as ColumnBuilderRuntimeConfig<any, any>,\n\t\t);\n\t}\n}\n\nexport class PgLineTuple<T extends ColumnBaseConfig<'array', 'PgLine'>> extends PgColumn<T> {\n\tstatic override readonly [entityKind]: string = 'PgLine';\n\n\tgetSQLType(): string {\n\t\treturn 'line';\n\t}\n\n\toverride mapFromDriverValue(value: string): [number, number, number] {\n\t\tconst [a, b, c] = value.slice(1, -1).split(',');\n\t\treturn [Number.parseFloat(a!), Number.parseFloat(b!), Number.parseFloat(c!)];\n\t}\n\n\toverride mapToDriverValue(value: [number, number, number]): string {\n\t\treturn `{${value[0]},${value[1]},${value[2]}}`;\n\t}\n}\n\nexport type PgLineABCBuilderInitial<TName extends string> = PgLineABCBuilder<{\n\tname: TName;\n\tdataType: 'json';\n\tcolumnType: 'PgLineABC';\n\tdata: { a: number; b: number; c: number };\n\tdriverParam: string;\n\tenumValues: undefined;\n}>;\n\nexport class PgLineABCBuilder<T extends ColumnBuilderBaseConfig<'json', 'PgLineABC'>> extends PgColumnBuilder<T> {\n\tstatic override readonly [entityKind]: string = 'PgLineABCBuilder';\n\n\tconstructor(name: T['name']) {\n\t\tsuper(name, 'json', 'PgLineABC');\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgLineABC<MakeColumnConfig<T, TTableName>> {\n\t\treturn new PgLineABC<MakeColumnConfig<T, TTableName>>(\n\t\t\ttable,\n\t\t\tthis.config as ColumnBuilderRuntimeConfig<any, any>,\n\t\t);\n\t}\n}\n\nexport class PgLineABC<T extends ColumnBaseConfig<'json', 'PgLineABC'>> extends PgColumn<T> {\n\tstatic override readonly [entityKind]: string = 'PgLineABC';\n\n\tgetSQLType(): string {\n\t\treturn 'line';\n\t}\n\n\toverride mapFromDriverValue(value: string): { a: number; b: number; c: number } {\n\t\tconst [a, b, c] = value.slice(1, -1).split(',');\n\t\treturn { a: Number.parseFloat(a!), b: Number.parseFloat(b!), c: Number.parseFloat(c!) };\n\t}\n\n\toverride mapToDriverValue(value: { a: number; b: number; c: number }): string {\n\t\treturn `{${value.a},${value.b},${value.c}}`;\n\t}\n}\n\nexport interface PgLineTypeConfig<T extends 'tuple' | 'abc' = 'tuple' | 'abc'> {\n\tmode?: T;\n}\n\nexport function line(): PgLineBuilderInitial<''>;\nexport function line<TMode extends PgLineTypeConfig['mode'] & {}>(\n\tconfig?: PgLineTypeConfig<TMode>,\n): Equal<TMode, 'abc'> extends true ? PgLineABCBuilderInitial<''>\n\t: PgLineBuilderInitial<''>;\nexport function line<TName extends string, TMode extends PgLineTypeConfig['mode'] & {}>(\n\tname: TName,\n\tconfig?: PgLineTypeConfig<TMode>,\n): Equal<TMode, 'abc'> extends true ? PgLineABCBuilderInitial<TName>\n\t: PgLineBuilderInitial<TName>;\nexport function line(a?: string | PgLineTypeConfig, b?: PgLineTypeConfig) {\n\tconst { name, config } = getColumnNameAndConfig<PgLineTypeConfig>(a, b);\n\tif (!config?.mode || config.mode === 'tuple') {\n\t\treturn new PgLineBuilder(name);\n\t}\n\treturn new PgLineABCBuilder(name);\n}\n", "import type { ColumnBuilderBaseConfig, ColumnBuilderRuntimeConfig, MakeColumnConfig } from '~/column-builder.ts';\nimport type { ColumnBaseConfig } from '~/column.ts';\nimport { entityKind } from '~/entity.ts';\nimport type { AnyPgTable } from '../table.ts';\nimport { PgColumn, PgColumnBuilder } from './common.ts';\n\nexport type PgMacaddrBuilderInitial<TName extends string> = PgMacaddrBuilder<{\n\tname: TName;\n\tdataType: 'string';\n\tcolumnType: 'PgMacaddr';\n\tdata: string;\n\tdriverParam: string;\n\tenumValues: undefined;\n}>;\n\nexport class PgMacaddrBuilder<T extends ColumnBuilderBaseConfig<'string', 'PgMacaddr'>> extends PgColumnBuilder<T> {\n\tstatic override readonly [entityKind]: string = 'PgMacaddrBuilder';\n\n\tconstructor(name: T['name']) {\n\t\tsuper(name, 'string', 'PgMacaddr');\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgMacaddr<MakeColumnConfig<T, TTableName>> {\n\t\treturn new PgMacaddr<MakeColumnConfig<T, TTableName>>(table, this.config as ColumnBuilderRuntimeConfig<any, any>);\n\t}\n}\n\nexport class PgMacaddr<T extends ColumnBaseConfig<'string', 'PgMacaddr'>> extends PgColumn<T> {\n\tstatic override readonly [entityKind]: string = 'PgMacaddr';\n\n\tgetSQLType(): string {\n\t\treturn 'macaddr';\n\t}\n}\n\nexport function macaddr(): PgMacaddrBuilderInitial<''>;\nexport function macaddr<TName extends string>(name: TName): PgMacaddrBuilderInitial<TName>;\nexport function macaddr(name?: string) {\n\treturn new PgMacaddrBuilder(name ?? '');\n}\n", "import type { ColumnBuilderBaseConfig, ColumnBuilderRuntimeConfig, MakeColumnConfig } from '~/column-builder.ts';\nimport type { ColumnBaseConfig } from '~/column.ts';\nimport { entityKind } from '~/entity.ts';\nimport type { AnyPgTable } from '../table.ts';\nimport { PgColumn, PgColumnBuilder } from './common.ts';\n\nexport type PgMacaddr8BuilderInitial<TName extends string> = PgMacaddr8Builder<{\n\tname: TName;\n\tdataType: 'string';\n\tcolumnType: 'PgMacaddr8';\n\tdata: string;\n\tdriverParam: string;\n\tenumValues: undefined;\n}>;\n\nexport class PgMacaddr8Builder<T extends ColumnBuilderBaseConfig<'string', 'PgMacaddr8'>> extends PgColumnBuilder<T> {\n\tstatic override readonly [entityKind]: string = 'PgMacaddr8Builder';\n\n\tconstructor(name: T['name']) {\n\t\tsuper(name, 'string', 'PgMacaddr8');\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgMacaddr8<MakeColumnConfig<T, TTableName>> {\n\t\treturn new PgMacaddr8<MakeColumnConfig<T, TTableName>>(table, this.config as ColumnBuilderRuntimeConfig<any, any>);\n\t}\n}\n\nexport class PgMacaddr8<T extends ColumnBaseConfig<'string', 'PgMacaddr8'>> extends PgColumn<T> {\n\tstatic override readonly [entityKind]: string = 'PgMacaddr8';\n\n\tgetSQLType(): string {\n\t\treturn 'macaddr8';\n\t}\n}\n\nexport function macaddr8(): PgMacaddr8BuilderInitial<''>;\nexport function macaddr8<TName extends string>(name: TName): PgMacaddr8BuilderInitial<TName>;\nexport function macaddr8(name?: string) {\n\treturn new PgMacaddr8Builder(name ?? '');\n}\n", "import type { ColumnBuilderBaseConfig, ColumnBuilderRuntimeConfig, MakeColumnConfig } from '~/column-builder.ts';\nimport type { ColumnBaseConfig } from '~/column.ts';\nimport { entityKind } from '~/entity.ts';\nimport type { AnyPgTable } from '~/pg-core/table.ts';\nimport { type Equal, getColumnNameAndConfig } from '~/utils.ts';\nimport { PgColumn, PgColumnBuilder } from './common.ts';\n\nexport type PgNumericBuilderInitial<TName extends string> = PgNumericBuilder<{\n\tname: TName;\n\tdataType: 'string';\n\tcolumnType: 'PgNumeric';\n\tdata: string;\n\tdriverParam: string;\n\tenumValues: undefined;\n}>;\n\nexport class PgNumericBuilder<T extends ColumnBuilderBaseConfig<'string', 'PgNumeric'>> extends PgColumnBuilder<\n\tT,\n\t{\n\t\tprecision: number | undefined;\n\t\tscale: number | undefined;\n\t}\n> {\n\tstatic override readonly [entityKind]: string = 'PgNumericBuilder';\n\n\tconstructor(name: T['name'], precision?: number, scale?: number) {\n\t\tsuper(name, 'string', 'PgNumeric');\n\t\tthis.config.precision = precision;\n\t\tthis.config.scale = scale;\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgNumeric<MakeColumnConfig<T, TTableName>> {\n\t\treturn new PgNumeric<MakeColumnConfig<T, TTableName>>(table, this.config as ColumnBuilderRuntimeConfig<any, any>);\n\t}\n}\n\nexport class PgNumeric<T extends ColumnBaseConfig<'string', 'PgNumeric'>> extends PgColumn<T> {\n\tstatic override readonly [entityKind]: string = 'PgNumeric';\n\n\treadonly precision: number | undefined;\n\treadonly scale: number | undefined;\n\n\tconstructor(table: AnyPgTable<{ name: T['tableName'] }>, config: PgNumericBuilder<T>['config']) {\n\t\tsuper(table, config);\n\t\tthis.precision = config.precision;\n\t\tthis.scale = config.scale;\n\t}\n\n\toverride mapFromDriverValue(value: unknown): string {\n\t\tif (typeof value === 'string') return value;\n\n\t\treturn String(value);\n\t}\n\n\tgetSQLType(): string {\n\t\tif (this.precision !== undefined && this.scale !== undefined) {\n\t\t\treturn `numeric(${this.precision}, ${this.scale})`;\n\t\t} else if (this.precision === undefined) {\n\t\t\treturn 'numeric';\n\t\t} else {\n\t\t\treturn `numeric(${this.precision})`;\n\t\t}\n\t}\n}\n\nexport type PgNumericNumberBuilderInitial<TName extends string> = PgNumericNumberBuilder<{\n\tname: TName;\n\tdataType: 'number';\n\tcolumnType: 'PgNumericNumber';\n\tdata: number;\n\tdriverParam: string;\n\tenumValues: undefined;\n}>;\n\nexport class PgNumericNumberBuilder<T extends ColumnBuilderBaseConfig<'number', 'PgNumericNumber'>>\n\textends PgColumnBuilder<\n\t\tT,\n\t\t{\n\t\t\tprecision: number | undefined;\n\t\t\tscale: number | undefined;\n\t\t}\n\t>\n{\n\tstatic override readonly [entityKind]: string = 'PgNumericNumberBuilder';\n\n\tconstructor(name: T['name'], precision?: number, scale?: number) {\n\t\tsuper(name, 'number', 'PgNumericNumber');\n\t\tthis.config.precision = precision;\n\t\tthis.config.scale = scale;\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgNumericNumber<MakeColumnConfig<T, TTableName>> {\n\t\treturn new PgNumericNumber<MakeColumnConfig<T, TTableName>>(\n\t\t\ttable,\n\t\t\tthis.config as ColumnBuilderRuntimeConfig<any, any>,\n\t\t);\n\t}\n}\n\nexport class PgNumericNumber<T extends ColumnBaseConfig<'number', 'PgNumericNumber'>> extends PgColumn<T> {\n\tstatic override readonly [entityKind]: string = 'PgNumericNumber';\n\n\treadonly precision: number | undefined;\n\treadonly scale: number | undefined;\n\n\tconstructor(table: AnyPgTable<{ name: T['tableName'] }>, config: PgNumericNumberBuilder<T>['config']) {\n\t\tsuper(table, config);\n\t\tthis.precision = config.precision;\n\t\tthis.scale = config.scale;\n\t}\n\n\toverride mapFromDriverValue(value: unknown): number {\n\t\tif (typeof value === 'number') return value;\n\n\t\treturn Number(value);\n\t}\n\n\toverride mapToDriverValue = String;\n\n\tgetSQLType(): string {\n\t\tif (this.precision !== undefined && this.scale !== undefined) {\n\t\t\treturn `numeric(${this.precision}, ${this.scale})`;\n\t\t} else if (this.precision === undefined) {\n\t\t\treturn 'numeric';\n\t\t} else {\n\t\t\treturn `numeric(${this.precision})`;\n\t\t}\n\t}\n}\n\nexport type PgNumericBigIntBuilderInitial<TName extends string> = PgNumericBigIntBuilder<{\n\tname: TName;\n\tdataType: 'bigint';\n\tcolumnType: 'PgNumericBigInt';\n\tdata: bigint;\n\tdriverParam: string;\n\tenumValues: undefined;\n}>;\n\nexport class PgNumericBigIntBuilder<T extends ColumnBuilderBaseConfig<'bigint', 'PgNumericBigInt'>>\n\textends PgColumnBuilder<\n\t\tT,\n\t\t{\n\t\t\tprecision: number | undefined;\n\t\t\tscale: number | undefined;\n\t\t}\n\t>\n{\n\tstatic override readonly [entityKind]: string = 'PgNumericBigIntBuilder';\n\n\tconstructor(name: T['name'], precision?: number, scale?: number) {\n\t\tsuper(name, 'bigint', 'PgNumericBigInt');\n\t\tthis.config.precision = precision;\n\t\tthis.config.scale = scale;\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgNumericBigInt<MakeColumnConfig<T, TTableName>> {\n\t\treturn new PgNumericBigInt<MakeColumnConfig<T, TTableName>>(\n\t\t\ttable,\n\t\t\tthis.config as ColumnBuilderRuntimeConfig<any, any>,\n\t\t);\n\t}\n}\n\nexport class PgNumericBigInt<T extends ColumnBaseConfig<'bigint', 'PgNumericBigInt'>> extends PgColumn<T> {\n\tstatic override readonly [entityKind]: string = 'PgNumericBigInt';\n\n\treadonly precision: number | undefined;\n\treadonly scale: number | undefined;\n\n\tconstructor(table: AnyPgTable<{ name: T['tableName'] }>, config: PgNumericBigIntBuilder<T>['config']) {\n\t\tsuper(table, config);\n\t\tthis.precision = config.precision;\n\t\tthis.scale = config.scale;\n\t}\n\n\toverride mapFromDriverValue = BigInt;\n\n\toverride mapToDriverValue = String;\n\n\tgetSQLType(): string {\n\t\tif (this.precision !== undefined && this.scale !== undefined) {\n\t\t\treturn `numeric(${this.precision}, ${this.scale})`;\n\t\t} else if (this.precision === undefined) {\n\t\t\treturn 'numeric';\n\t\t} else {\n\t\t\treturn `numeric(${this.precision})`;\n\t\t}\n\t}\n}\n\nexport type PgNumericConfig<T extends 'string' | 'number' | 'bigint' = 'string' | 'number' | 'bigint'> =\n\t| { precision: number; scale?: number; mode?: T }\n\t| { precision?: number; scale: number; mode?: T }\n\t| { precision?: number; scale?: number; mode: T };\n\nexport function numeric<TMode extends 'string' | 'number' | 'bigint'>(\n\tconfig?: PgNumericConfig<TMode>,\n): Equal<TMode, 'number'> extends true ? PgNumericNumberBuilderInitial<''>\n\t: Equal<TMode, 'bigint'> extends true ? PgNumericBigIntBuilderInitial<''>\n\t: PgNumericBuilderInitial<''>;\nexport function numeric<TName extends string, TMode extends 'string' | 'number' | 'bigint'>(\n\tname: TName,\n\tconfig?: PgNumericConfig<TMode>,\n): Equal<TMode, 'number'> extends true ? PgNumericNumberBuilderInitial<TName>\n\t: Equal<TMode, 'bigint'> extends true ? PgNumericBigIntBuilderInitial<TName>\n\t: PgNumericBuilderInitial<TName>;\nexport function numeric(a?: string | PgNumericConfig, b?: PgNumericConfig) {\n\tconst { name, config } = getColumnNameAndConfig<PgNumericConfig>(a, b);\n\tconst mode = config?.mode;\n\treturn mode === 'number'\n\t\t? new PgNumericNumberBuilder(name, config?.precision, config?.scale)\n\t\t: mode === 'bigint'\n\t\t? new PgNumericBigIntBuilder(name, config?.precision, config?.scale)\n\t\t: new PgNumericBuilder(name, config?.precision, config?.scale);\n}\n\nexport const decimal = numeric;\n", "import type { ColumnBuilderBaseConfig, ColumnBuilderRuntimeConfig, MakeColumnConfig } from '~/column-builder.ts';\nimport type { ColumnBaseConfig } from '~/column.ts';\nimport { entityKind } from '~/entity.ts';\nimport type { AnyPgTable } from '~/pg-core/table.ts';\n\nimport { type Equal, getColumnNameAndConfig } from '~/utils.ts';\nimport { PgColumn, PgColumnBuilder } from './common.ts';\n\nexport type PgPointTupleBuilderInitial<TName extends string> = PgPointTupleBuilder<{\n\tname: TName;\n\tdataType: 'array';\n\tcolumnType: 'PgPointTuple';\n\tdata: [number, number];\n\tdriverParam: number | string;\n\tenumValues: undefined;\n}>;\n\nexport class PgPointTupleBuilder<T extends ColumnBuilderBaseConfig<'array', 'PgPointTuple'>>\n\textends PgColumnBuilder<T>\n{\n\tstatic override readonly [entityKind]: string = 'PgPointTupleBuilder';\n\n\tconstructor(name: string) {\n\t\tsuper(name, 'array', 'PgPointTuple');\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgPointTuple<MakeColumnConfig<T, TTableName>> {\n\t\treturn new PgPointTuple<MakeColumnConfig<T, TTableName>>(\n\t\t\ttable,\n\t\t\tthis.config as ColumnBuilderRuntimeConfig<any, any>,\n\t\t);\n\t}\n}\n\nexport class PgPointTuple<T extends ColumnBaseConfig<'array', 'PgPointTuple'>> extends PgColumn<T> {\n\tstatic override readonly [entityKind]: string = 'PgPointTuple';\n\n\tgetSQLType(): string {\n\t\treturn 'point';\n\t}\n\n\toverride mapFromDriverValue(value: string | { x: number; y: number }): [number, number] {\n\t\tif (typeof value === 'string') {\n\t\t\tconst [x, y] = value.slice(1, -1).split(',');\n\t\t\treturn [Number.parseFloat(x!), Number.parseFloat(y!)];\n\t\t}\n\t\treturn [value.x, value.y];\n\t}\n\n\toverride mapToDriverValue(value: [number, number]): string {\n\t\treturn `(${value[0]},${value[1]})`;\n\t}\n}\n\nexport type PgPointObjectBuilderInitial<TName extends string> = PgPointObjectBuilder<{\n\tname: TName;\n\tdataType: 'json';\n\tcolumnType: 'PgPointObject';\n\tdata: { x: number; y: number };\n\tdriverParam: string;\n\tenumValues: undefined;\n}>;\n\nexport class PgPointObjectBuilder<T extends ColumnBuilderBaseConfig<'json', 'PgPointObject'>>\n\textends PgColumnBuilder<T>\n{\n\tstatic override readonly [entityKind]: string = 'PgPointObjectBuilder';\n\n\tconstructor(name: string) {\n\t\tsuper(name, 'json', 'PgPointObject');\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgPointObject<MakeColumnConfig<T, TTableName>> {\n\t\treturn new PgPointObject<MakeColumnConfig<T, TTableName>>(\n\t\t\ttable,\n\t\t\tthis.config as ColumnBuilderRuntimeConfig<any, any>,\n\t\t);\n\t}\n}\n\nexport class PgPointObject<T extends ColumnBaseConfig<'json', 'PgPointObject'>> extends PgColumn<T> {\n\tstatic override readonly [entityKind]: string = 'PgPointObject';\n\n\tgetSQLType(): string {\n\t\treturn 'point';\n\t}\n\n\toverride mapFromDriverValue(value: string | { x: number; y: number }): { x: number; y: number } {\n\t\tif (typeof value === 'string') {\n\t\t\tconst [x, y] = value.slice(1, -1).split(',');\n\t\t\treturn { x: Number.parseFloat(x!), y: Number.parseFloat(y!) };\n\t\t}\n\t\treturn value;\n\t}\n\n\toverride mapToDriverValue(value: { x: number; y: number }): string {\n\t\treturn `(${value.x},${value.y})`;\n\t}\n}\n\nexport interface PgPointConfig<T extends 'tuple' | 'xy' = 'tuple' | 'xy'> {\n\tmode?: T;\n}\n\nexport function point(): PgPointTupleBuilderInitial<''>;\nexport function point<TMode extends PgPointConfig['mode'] & {}>(\n\tconfig?: PgPointConfig<TMode>,\n): Equal<TMode, 'xy'> extends true ? PgPointObjectBuilderInitial<''>\n\t: PgPointTupleBuilderInitial<''>;\nexport function point<TName extends string, TMode extends PgPointConfig['mode'] & {}>(\n\tname: TName,\n\tconfig?: PgPointConfig<TMode>,\n): Equal<TMode, 'xy'> extends true ? PgPointObjectBuilderInitial<TName>\n\t: PgPointTupleBuilderInitial<TName>;\nexport function point(a?: string | PgPointConfig, b?: PgPointConfig) {\n\tconst { name, config } = getColumnNameAndConfig<PgPointConfig>(a, b);\n\tif (!config?.mode || config.mode === 'tuple') {\n\t\treturn new PgPointTupleBuilder(name);\n\t}\n\treturn new PgPointObjectBuilder(name);\n}\n", "import type { ColumnBuilderBaseConfig, ColumnBuilderRuntimeConfig, MakeColumnConfig } from '~/column-builder.ts';\nimport type { ColumnBaseConfig } from '~/column.ts';\nimport { entityKind } from '~/entity.ts';\nimport type { AnyPgTable } from '~/pg-core/table.ts';\n\nimport { type Equal, getColumnNameAndConfig } from '~/utils.ts';\nimport { PgColumn, PgColumnBuilder } from '../common.ts';\nimport { parseEWKB } from './utils.ts';\n\nexport type PgGeometryBuilderInitial<TName extends string> = PgGeometryBuilder<{\n\tname: TName;\n\tdataType: 'array';\n\tcolumnType: 'PgGeometry';\n\tdata: [number, number];\n\tdriverParam: string;\n\tenumValues: undefined;\n}>;\n\nexport class PgGeometryBuilder<T extends ColumnBuilderBaseConfig<'array', 'PgGeometry'>> extends PgColumnBuilder<T> {\n\tstatic override readonly [entityKind]: string = 'PgGeometryBuilder';\n\n\tconstructor(name: T['name']) {\n\t\tsuper(name, 'array', 'PgGeometry');\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgGeometry<MakeColumnConfig<T, TTableName>> {\n\t\treturn new PgGeometry<MakeColumnConfig<T, TTableName>>(\n\t\t\ttable,\n\t\t\tthis.config as ColumnBuilderRuntimeConfig<any, any>,\n\t\t);\n\t}\n}\n\nexport class PgGeometry<T extends ColumnBaseConfig<'array', 'PgGeometry'>> extends PgColumn<T> {\n\tstatic override readonly [entityKind]: string = 'PgGeometry';\n\n\tgetSQLType(): string {\n\t\treturn 'geometry(point)';\n\t}\n\n\toverride mapFromDriverValue(value: string): [number, number] {\n\t\treturn parseEWKB(value);\n\t}\n\n\toverride mapToDriverValue(value: [number, number]): string {\n\t\treturn `point(${value[0]} ${value[1]})`;\n\t}\n}\n\nexport type PgGeometryObjectBuilderInitial<TName extends string> = PgGeometryObjectBuilder<{\n\tname: TName;\n\tdataType: 'json';\n\tcolumnType: 'PgGeometryObject';\n\tdata: { x: number; y: number };\n\tdriverParam: string;\n\tenumValues: undefined;\n}>;\n\nexport class PgGeometryObjectBuilder<T extends ColumnBuilderBaseConfig<'json', 'PgGeometryObject'>>\n\textends PgColumnBuilder<T>\n{\n\tstatic override readonly [entityKind]: string = 'PgGeometryObjectBuilder';\n\n\tconstructor(name: T['name']) {\n\t\tsuper(name, 'json', 'PgGeometryObject');\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgGeometryObject<MakeColumnConfig<T, TTableName>> {\n\t\treturn new PgGeometryObject<MakeColumnConfig<T, TTableName>>(\n\t\t\ttable,\n\t\t\tthis.config as ColumnBuilderRuntimeConfig<any, any>,\n\t\t);\n\t}\n}\n\nexport class PgGeometryObject<T extends ColumnBaseConfig<'json', 'PgGeometryObject'>> extends PgColumn<T> {\n\tstatic override readonly [entityKind]: string = 'PgGeometryObject';\n\n\tgetSQLType(): string {\n\t\treturn 'geometry(point)';\n\t}\n\n\toverride mapFromDriverValue(value: string): { x: number; y: number } {\n\t\tconst parsed = parseEWKB(value);\n\t\treturn { x: parsed[0], y: parsed[1] };\n\t}\n\n\toverride mapToDriverValue(value: { x: number; y: number }): string {\n\t\treturn `point(${value.x} ${value.y})`;\n\t}\n}\n\nexport interface PgGeometryConfig<T extends 'tuple' | 'xy' = 'tuple' | 'xy'> {\n\tmode?: T;\n\ttype?: 'point' | (string & {});\n\tsrid?: number;\n}\n\nexport function geometry(): PgGeometryBuilderInitial<''>;\nexport function geometry<TMode extends PgGeometryConfig['mode'] & {}>(\n\tconfig?: PgGeometryConfig<TMode>,\n): Equal<TMode, 'xy'> extends true ? PgGeometryObjectBuilderInitial<''> : PgGeometryBuilderInitial<''>;\nexport function geometry<TName extends string, TMode extends PgGeometryConfig['mode'] & {}>(\n\tname: TName,\n\tconfig?: PgGeometryConfig<TMode>,\n): Equal<TMode, 'xy'> extends true ? PgGeometryObjectBuilderInitial<TName> : PgGeometryBuilderInitial<TName>;\nexport function geometry(a?: string | PgGeometryConfig, b?: PgGeometryConfig) {\n\tconst { name, config } = getColumnNameAndConfig<PgGeometryConfig>(a, b);\n\tif (!config?.mode || config.mode === 'tuple') {\n\t\treturn new PgGeometryBuilder(name);\n\t}\n\treturn new PgGeometryObjectBuilder(name);\n}\n", "function hexToBytes(hex: string): Uint8Array {\n\tconst bytes: number[] = [];\n\tfor (let c = 0; c < hex.length; c += 2) {\n\t\tbytes.push(Number.parseInt(hex.slice(c, c + 2), 16));\n\t}\n\treturn new Uint8Array(bytes);\n}\n\nfunction bytesToFloat64(bytes: Uint8Array, offset: number): number {\n\tconst buffer = new ArrayBuffer(8);\n\tconst view = new DataView(buffer);\n\tfor (let i = 0; i < 8; i++) {\n\t\tview.setUint8(i, bytes[offset + i]!);\n\t}\n\treturn view.getFloat64(0, true);\n}\n\nexport function parseEWKB(hex: string): [number, number] {\n\tconst bytes = hexToBytes(hex);\n\n\tlet offset = 0;\n\n\t// Byte order: 1 is little-endian, 0 is big-endian\n\tconst byteOrder = bytes[offset];\n\toffset += 1;\n\n\tconst view = new DataView(bytes.buffer);\n\tconst geomType = view.getUint32(offset, byteOrder === 1);\n\toffset += 4;\n\n\tlet _srid: number | undefined;\n\tif (geomType & 0x20000000) { // SRID flag\n\t\t_srid = view.getUint32(offset, byteOrder === 1);\n\t\toffset += 4;\n\t}\n\n\tif ((geomType & 0xFFFF) === 1) {\n\t\tconst x = bytesToFloat64(bytes, offset);\n\t\toffset += 8;\n\t\tconst y = bytesToFloat64(bytes, offset);\n\t\toffset += 8;\n\n\t\treturn [x, y];\n\t}\n\n\tthrow new Error('Unsupported geometry type');\n}\n", "import type { ColumnBuilderBaseConfig, ColumnBuilderRuntimeConfig, MakeColumnConfig } from '~/column-builder.ts';\nimport type { ColumnBaseConfig } from '~/column.ts';\nimport { entityKind } from '~/entity.ts';\nimport type { AnyPgTable } from '~/pg-core/table.ts';\nimport { PgColumn, PgColumnBuilder } from './common.ts';\n\nexport type PgRealBuilderInitial<TName extends string> = PgRealBuilder<{\n\tname: TName;\n\tdataType: 'number';\n\tcolumnType: 'PgReal';\n\tdata: number;\n\tdriverParam: string | number;\n\tenumValues: undefined;\n}>;\n\nexport class PgRealBuilder<T extends ColumnBuilderBaseConfig<'number', 'PgReal'>> extends PgColumnBuilder<\n\tT,\n\t{ length: number | undefined }\n> {\n\tstatic override readonly [entityKind]: string = 'PgRealBuilder';\n\n\tconstructor(name: T['name'], length?: number) {\n\t\tsuper(name, 'number', 'PgReal');\n\t\tthis.config.length = length;\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgReal<MakeColumnConfig<T, TTableName>> {\n\t\treturn new PgReal<MakeColumnConfig<T, TTableName>>(table, this.config as ColumnBuilderRuntimeConfig<any, any>);\n\t}\n}\n\nexport class PgReal<T extends ColumnBaseConfig<'number', 'PgReal'>> extends PgColumn<T> {\n\tstatic override readonly [entityKind]: string = 'PgReal';\n\n\tconstructor(table: AnyPgTable<{ name: T['tableName'] }>, config: PgRealBuilder<T>['config']) {\n\t\tsuper(table, config);\n\t}\n\n\tgetSQLType(): string {\n\t\treturn 'real';\n\t}\n\n\toverride mapFromDriverValue = (value: string | number): number => {\n\t\tif (typeof value === 'string') {\n\t\t\treturn Number.parseFloat(value);\n\t\t}\n\t\treturn value;\n\t};\n}\n\nexport function real(): PgRealBuilderInitial<''>;\nexport function real<TName extends string>(name: TName): PgRealBuilderInitial<TName>;\nexport function real(name?: string) {\n\treturn new PgRealBuilder(name ?? '');\n}\n", "import type {\n\tColumnBuilderBaseConfig,\n\tColumnBuilderRuntimeConfig,\n\tHasDefault,\n\tMakeColumnConfig,\n\tNotNull,\n} from '~/column-builder.ts';\nimport type { ColumnBaseConfig } from '~/column.ts';\nimport { entityKind } from '~/entity.ts';\nimport type { AnyPgTable } from '~/pg-core/table.ts';\nimport { PgColumn, PgColumnBuilder } from './common.ts';\n\nexport type PgSerialBuilderInitial<TName extends string> = NotNull<\n\tHasDefault<\n\t\tPgSerialBuilder<{\n\t\t\tname: TName;\n\t\t\tdataType: 'number';\n\t\t\tcolumnType: 'PgSerial';\n\t\t\tdata: number;\n\t\t\tdriverParam: number;\n\t\t\tenumValues: undefined;\n\t\t}>\n\t>\n>;\n\nexport class PgSerialBuilder<T extends ColumnBuilderBaseConfig<'number', 'PgSerial'>> extends PgColumnBuilder<T> {\n\tstatic override readonly [entityKind]: string = 'PgSerialBuilder';\n\n\tconstructor(name: T['name']) {\n\t\tsuper(name, 'number', 'PgSerial');\n\t\tthis.config.hasDefault = true;\n\t\tthis.config.notNull = true;\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgSerial<MakeColumnConfig<T, TTableName>> {\n\t\treturn new PgSerial<MakeColumnConfig<T, TTableName>>(table, this.config as ColumnBuilderRuntimeConfig<any, any>);\n\t}\n}\n\nexport class PgSerial<T extends ColumnBaseConfig<'number', 'PgSerial'>> extends PgColumn<T> {\n\tstatic override readonly [entityKind]: string = 'PgSerial';\n\n\tgetSQLType(): string {\n\t\treturn 'serial';\n\t}\n}\n\nexport function serial(): PgSerialBuilderInitial<''>;\nexport function serial<TName extends string>(name: TName): PgSerialBuilderInitial<TName>;\nexport function serial(name?: string) {\n\treturn new PgSerialBuilder(name ?? '');\n}\n", "import type { ColumnBuilderBaseConfig, ColumnBuilderRuntimeConfig, MakeColumnConfig } from '~/column-builder.ts';\nimport type { ColumnBaseConfig } from '~/column.ts';\nimport { entityKind } from '~/entity.ts';\nimport type { AnyPgTable } from '~/pg-core/table.ts';\nimport { PgColumn } from './common.ts';\nimport { PgIntColumnBaseBuilder } from './int.common.ts';\n\nexport type PgSmallIntBuilderInitial<TName extends string> = PgSmallIntBuilder<{\n\tname: TName;\n\tdataType: 'number';\n\tcolumnType: 'PgSmallInt';\n\tdata: number;\n\tdriverParam: number | string;\n\tenumValues: undefined;\n}>;\n\nexport class PgSmallIntBuilder<T extends ColumnBuilderBaseConfig<'number', 'PgSmallInt'>>\n\textends PgIntColumnBaseBuilder<T>\n{\n\tstatic override readonly [entityKind]: string = 'PgSmallIntBuilder';\n\n\tconstructor(name: T['name']) {\n\t\tsuper(name, 'number', 'PgSmallInt');\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgSmallInt<MakeColumnConfig<T, TTableName>> {\n\t\treturn new PgSmallInt<MakeColumnConfig<T, TTableName>>(table, this.config as ColumnBuilderRuntimeConfig<any, any>);\n\t}\n}\n\nexport class PgSmallInt<T extends ColumnBaseConfig<'number', 'PgSmallInt'>> extends PgColumn<T> {\n\tstatic override readonly [entityKind]: string = 'PgSmallInt';\n\n\tgetSQLType(): string {\n\t\treturn 'smallint';\n\t}\n\n\toverride mapFromDriverValue = (value: number | string): number => {\n\t\tif (typeof value === 'string') {\n\t\t\treturn Number(value);\n\t\t}\n\t\treturn value;\n\t};\n}\n\nexport function smallint(): PgSmallIntBuilderInitial<''>;\nexport function smallint<TName extends string>(name: TName): PgSmallIntBuilderInitial<TName>;\nexport function smallint(name?: string) {\n\treturn new PgSmallIntBuilder(name ?? '');\n}\n", "import type {\n\tColumnBuilderBaseConfig,\n\tColumnBuilderRuntimeConfig,\n\tHasDefault,\n\tMakeColumnConfig,\n\tNotNull,\n} from '~/column-builder.ts';\nimport type { ColumnBaseConfig } from '~/column.ts';\nimport { entityKind } from '~/entity.ts';\nimport type { AnyPgTable } from '~/pg-core/table.ts';\nimport { PgColumn, PgColumnBuilder } from './common.ts';\n\nexport type PgSmallSerialBuilderInitial<TName extends string> = NotNull<\n\tHasDefault<\n\t\tPgSmallSerialBuilder<{\n\t\t\tname: TName;\n\t\t\tdataType: 'number';\n\t\t\tcolumnType: 'PgSmallSerial';\n\t\t\tdata: number;\n\t\t\tdriverParam: number;\n\t\t\tenumValues: undefined;\n\t\t}>\n\t>\n>;\n\nexport class PgSmallSerialBuilder<T extends ColumnBuilderBaseConfig<'number', 'PgSmallSerial'>>\n\textends PgColumnBuilder<T>\n{\n\tstatic override readonly [entityKind]: string = 'PgSmallSerialBuilder';\n\n\tconstructor(name: T['name']) {\n\t\tsuper(name, 'number', 'PgSmallSerial');\n\t\tthis.config.hasDefault = true;\n\t\tthis.config.notNull = true;\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgSmallSerial<MakeColumnConfig<T, TTableName>> {\n\t\treturn new PgSmallSerial<MakeColumnConfig<T, TTableName>>(\n\t\t\ttable,\n\t\t\tthis.config as ColumnBuilderRuntimeConfig<any, any>,\n\t\t);\n\t}\n}\n\nexport class PgSmallSerial<T extends ColumnBaseConfig<'number', 'PgSmallSerial'>> extends PgColumn<T> {\n\tstatic override readonly [entityKind]: string = 'PgSmallSerial';\n\n\tgetSQLType(): string {\n\t\treturn 'smallserial';\n\t}\n}\n\nexport function smallserial(): PgSmallSerialBuilderInitial<''>;\nexport function smallserial<TName extends string>(name: TName): PgSmallSerialBuilderInitial<TName>;\nexport function smallserial(name?: string) {\n\treturn new PgSmallSerialBuilder(name ?? '');\n}\n", "import type { ColumnBuilderBaseConfig, ColumnBuilderRuntimeConfig, MakeColumnConfig } from '~/column-builder.ts';\nimport type { ColumnBaseConfig } from '~/column.ts';\nimport { entityKind } from '~/entity.ts';\nimport type { AnyPgTable } from '~/pg-core/table.ts';\nimport { getColumnNameAndConfig, type Writable } from '~/utils.ts';\nimport { PgColumn, PgColumnBuilder } from './common.ts';\n\nexport type PgTextBuilderInitial<TName extends string, TEnum extends [string, ...string[]]> = PgTextBuilder<{\n\tname: TName;\n\tdataType: 'string';\n\tcolumnType: 'PgText';\n\tdata: TEnum[number];\n\tenumValues: TEnum;\n\tdriverParam: string;\n}>;\n\nexport class PgTextBuilder<\n\tT extends ColumnBuilderBaseConfig<'string', 'PgText'>,\n> extends PgColumnBuilder<T, { enumValues: T['enumValues'] }> {\n\tstatic override readonly [entityKind]: string = 'PgTextBuilder';\n\n\tconstructor(\n\t\tname: T['name'],\n\t\tconfig: PgTextConfig<T['enumValues']>,\n\t) {\n\t\tsuper(name, 'string', 'PgText');\n\t\tthis.config.enumValues = config.enum;\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgText<MakeColumnConfig<T, TTableName>> {\n\t\treturn new PgText<MakeColumnConfig<T, TTableName>>(table, this.config as ColumnBuilderRuntimeConfig<any, any>);\n\t}\n}\n\nexport class PgText<T extends ColumnBaseConfig<'string', 'PgText'>>\n\textends PgColumn<T, { enumValues: T['enumValues'] }>\n{\n\tstatic override readonly [entityKind]: string = 'PgText';\n\n\toverride readonly enumValues = this.config.enumValues;\n\n\tgetSQLType(): string {\n\t\treturn 'text';\n\t}\n}\n\nexport interface PgTextConfig<\n\tTEnum extends readonly string[] | string[] | undefined = readonly string[] | string[] | undefined,\n> {\n\tenum?: TEnum;\n}\n\nexport function text(): PgTextBuilderInitial<'', [string, ...string[]]>;\nexport function text<U extends string, T extends Readonly<[U, ...U[]]>>(\n\tconfig?: PgTextConfig<T | Writable<T>>,\n): PgTextBuilderInitial<'', Writable<T>>;\nexport function text<TName extends string, U extends string, T extends Readonly<[U, ...U[]]>>(\n\tname: TName,\n\tconfig?: PgTextConfig<T | Writable<T>>,\n): PgTextBuilderInitial<TName, Writable<T>>;\nexport function text(a?: string | PgTextConfig, b: PgTextConfig = {}): any {\n\tconst { name, config } = getColumnNameAndConfig<PgTextConfig>(a, b);\n\treturn new PgTextBuilder(name, config as any);\n}\n", "import type { ColumnBuilderBaseConfig, ColumnBuilderRuntimeConfig, MakeColumnConfig } from '~/column-builder.ts';\nimport type { ColumnBaseConfig } from '~/column.ts';\nimport { entityKind } from '~/entity.ts';\nimport type { AnyPgTable } from '~/pg-core/table.ts';\nimport { getColumnNameAndConfig } from '~/utils.ts';\nimport { PgColumn } from './common.ts';\nimport { PgDateColumnBaseBuilder } from './date.common.ts';\nimport type { Precision } from './timestamp.ts';\n\nexport type PgTimeBuilderInitial<TName extends string> = PgTimeBuilder<{\n\tname: TName;\n\tdataType: 'string';\n\tcolumnType: 'PgTime';\n\tdata: string;\n\tdriverParam: string;\n\tenumValues: undefined;\n}>;\n\nexport class PgTimeBuilder<T extends ColumnBuilderBaseConfig<'string', 'PgTime'>> extends PgDateColumnBaseBuilder<\n\tT,\n\t{ withTimezone: boolean; precision: number | undefined }\n> {\n\tstatic override readonly [entityKind]: string = 'PgTimeBuilder';\n\n\tconstructor(\n\t\tname: T['name'],\n\t\treadonly withTimezone: boolean,\n\t\treadonly precision: number | undefined,\n\t) {\n\t\tsuper(name, 'string', 'PgTime');\n\t\tthis.config.withTimezone = withTimezone;\n\t\tthis.config.precision = precision;\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgTime<MakeColumnConfig<T, TTableName>> {\n\t\treturn new PgTime<MakeColumnConfig<T, TTableName>>(table, this.config as ColumnBuilderRuntimeConfig<any, any>);\n\t}\n}\n\nexport class PgTime<T extends ColumnBaseConfig<'string', 'PgTime'>> extends PgColumn<T> {\n\tstatic override readonly [entityKind]: string = 'PgTime';\n\n\treadonly withTimezone: boolean;\n\treadonly precision: number | undefined;\n\n\tconstructor(table: AnyPgTable<{ name: T['tableName'] }>, config: PgTimeBuilder<T>['config']) {\n\t\tsuper(table, config);\n\t\tthis.withTimezone = config.withTimezone;\n\t\tthis.precision = config.precision;\n\t}\n\n\tgetSQLType(): string {\n\t\tconst precision = this.precision === undefined ? '' : `(${this.precision})`;\n\t\treturn `time${precision}${this.withTimezone ? ' with time zone' : ''}`;\n\t}\n}\n\nexport interface TimeConfig {\n\tprecision?: Precision;\n\twithTimezone?: boolean;\n}\n\nexport function time(): PgTimeBuilderInitial<''>;\nexport function time(config?: TimeConfig): PgTimeBuilderInitial<''>;\nexport function time<TName extends string>(name: TName, config?: TimeConfig): PgTimeBuilderInitial<TName>;\nexport function time(a?: string | TimeConfig, b: TimeConfig = {}) {\n\tconst { name, config } = getColumnNameAndConfig<TimeConfig>(a, b);\n\treturn new PgTimeBuilder(name, config.withTimezone ?? false, config.precision);\n}\n", "import type { ColumnBuilderBaseConfig, ColumnBuilderRuntimeConfig, MakeColumnConfig } from '~/column-builder.ts';\nimport type { ColumnBaseConfig } from '~/column.ts';\nimport { entityKind } from '~/entity.ts';\nimport type { AnyPgTable } from '~/pg-core/table.ts';\nimport { type Equal, getColumnNameAndConfig } from '~/utils.ts';\nimport { PgColumn } from './common.ts';\nimport { PgDateColumnBaseBuilder } from './date.common.ts';\n\nexport type PgTimestampBuilderInitial<TName extends string> = PgTimestampBuilder<{\n\tname: TName;\n\tdataType: 'date';\n\tcolumnType: 'PgTimestamp';\n\tdata: Date;\n\tdriverParam: string;\n\tenumValues: undefined;\n}>;\n\nexport class PgTimestampBuilder<T extends ColumnBuilderBaseConfig<'date', 'PgTimestamp'>>\n\textends PgDateColumnBaseBuilder<\n\t\tT,\n\t\t{ withTimezone: boolean; precision: number | undefined }\n\t>\n{\n\tstatic override readonly [entityKind]: string = 'PgTimestampBuilder';\n\n\tconstructor(\n\t\tname: T['name'],\n\t\twithTimezone: boolean,\n\t\tprecision: number | undefined,\n\t) {\n\t\tsuper(name, 'date', 'PgTimestamp');\n\t\tthis.config.withTimezone = withTimezone;\n\t\tthis.config.precision = precision;\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgTimestamp<MakeColumnConfig<T, TTableName>> {\n\t\treturn new PgTimestamp<MakeColumnConfig<T, TTableName>>(table, this.config as ColumnBuilderRuntimeConfig<any, any>);\n\t}\n}\n\nexport class PgTimestamp<T extends ColumnBaseConfig<'date', 'PgTimestamp'>> extends PgColumn<T> {\n\tstatic override readonly [entityKind]: string = 'PgTimestamp';\n\n\treadonly withTimezone: boolean;\n\treadonly precision: number | undefined;\n\n\tconstructor(table: AnyPgTable<{ name: T['tableName'] }>, config: PgTimestampBuilder<T>['config']) {\n\t\tsuper(table, config);\n\t\tthis.withTimezone = config.withTimezone;\n\t\tthis.precision = config.precision;\n\t}\n\n\tgetSQLType(): string {\n\t\tconst precision = this.precision === undefined ? '' : ` (${this.precision})`;\n\t\treturn `timestamp${precision}${this.withTimezone ? ' with time zone' : ''}`;\n\t}\n\n\toverride mapFromDriverValue = (value: string): Date | null => {\n\t\treturn new Date(this.withTimezone ? value : value + '+0000');\n\t};\n\n\toverride mapToDriverValue = (value: Date): string => {\n\t\treturn value.toISOString();\n\t};\n}\n\nexport type PgTimestampStringBuilderInitial<TName extends string> = PgTimestampStringBuilder<{\n\tname: TName;\n\tdataType: 'string';\n\tcolumnType: 'PgTimestampString';\n\tdata: string;\n\tdriverParam: string;\n\tenumValues: undefined;\n}>;\n\nexport class PgTimestampStringBuilder<T extends ColumnBuilderBaseConfig<'string', 'PgTimestampString'>>\n\textends PgDateColumnBaseBuilder<\n\t\tT,\n\t\t{ withTimezone: boolean; precision: number | undefined }\n\t>\n{\n\tstatic override readonly [entityKind]: string = 'PgTimestampStringBuilder';\n\n\tconstructor(\n\t\tname: T['name'],\n\t\twithTimezone: boolean,\n\t\tprecision: number | undefined,\n\t) {\n\t\tsuper(name, 'string', 'PgTimestampString');\n\t\tthis.config.withTimezone = withTimezone;\n\t\tthis.config.precision = precision;\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgTimestampString<MakeColumnConfig<T, TTableName>> {\n\t\treturn new PgTimestampString<MakeColumnConfig<T, TTableName>>(\n\t\t\ttable,\n\t\t\tthis.config as ColumnBuilderRuntimeConfig<any, any>,\n\t\t);\n\t}\n}\n\nexport class PgTimestampString<T extends ColumnBaseConfig<'string', 'PgTimestampString'>> extends PgColumn<T> {\n\tstatic override readonly [entityKind]: string = 'PgTimestampString';\n\n\treadonly withTimezone: boolean;\n\treadonly precision: number | undefined;\n\n\tconstructor(table: AnyPgTable<{ name: T['tableName'] }>, config: PgTimestampStringBuilder<T>['config']) {\n\t\tsuper(table, config);\n\t\tthis.withTimezone = config.withTimezone;\n\t\tthis.precision = config.precision;\n\t}\n\n\tgetSQLType(): string {\n\t\tconst precision = this.precision === undefined ? '' : `(${this.precision})`;\n\t\treturn `timestamp${precision}${this.withTimezone ? ' with time zone' : ''}`;\n\t}\n}\n\nexport type Precision = 0 | 1 | 2 | 3 | 4 | 5 | 6;\n\nexport interface PgTimestampConfig<TMode extends 'date' | 'string' = 'date' | 'string'> {\n\tmode?: TMode;\n\tprecision?: Precision;\n\twithTimezone?: boolean;\n}\n\nexport function timestamp(): PgTimestampBuilderInitial<''>;\nexport function timestamp<TMode extends PgTimestampConfig['mode'] & {}>(\n\tconfig?: PgTimestampConfig<TMode>,\n): Equal<TMode, 'string'> extends true ? PgTimestampStringBuilderInitial<''> : PgTimestampBuilderInitial<''>;\nexport function timestamp<TName extends string, TMode extends PgTimestampConfig['mode'] & {}>(\n\tname: TName,\n\tconfig?: PgTimestampConfig<TMode>,\n): Equal<TMode, 'string'> extends true ? PgTimestampStringBuilderInitial<TName> : PgTimestampBuilderInitial<TName>;\nexport function timestamp(a?: string | PgTimestampConfig, b: PgTimestampConfig = {}) {\n\tconst { name, config } = getColumnNameAndConfig<PgTimestampConfig | undefined>(a, b);\n\tif (config?.mode === 'string') {\n\t\treturn new PgTimestampStringBuilder(name, config.withTimezone ?? false, config.precision);\n\t}\n\treturn new PgTimestampBuilder(name, config?.withTimezone ?? false, config?.precision);\n}\n", "import type { ColumnBuilderBaseConfig, ColumnBuilderRuntimeConfig, MakeColumnConfig } from '~/column-builder.ts';\nimport type { ColumnBaseConfig } from '~/column.ts';\nimport { entityKind } from '~/entity.ts';\nimport type { AnyPgTable } from '~/pg-core/table.ts';\nimport { sql } from '~/sql/sql.ts';\nimport { PgColumn, PgColumnBuilder } from './common.ts';\n\nexport type PgUUIDBuilderInitial<TName extends string> = PgUUIDBuilder<{\n\tname: TName;\n\tdataType: 'string';\n\tcolumnType: 'PgUUID';\n\tdata: string;\n\tdriverParam: string;\n\tenumValues: undefined;\n}>;\n\nexport class PgUUIDBuilder<T extends ColumnBuilderBaseConfig<'string', 'PgUUID'>> extends PgColumnBuilder<T> {\n\tstatic override readonly [entityKind]: string = 'PgUUIDBuilder';\n\n\tconstructor(name: T['name']) {\n\t\tsuper(name, 'string', 'PgUUID');\n\t}\n\n\t/**\n\t * Adds `default gen_random_uuid()` to the column definition.\n\t */\n\tdefaultRandom(): ReturnType<this['default']> {\n\t\treturn this.default(sql`gen_random_uuid()`) as ReturnType<this['default']>;\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgUUID<MakeColumnConfig<T, TTableName>> {\n\t\treturn new PgUUID<MakeColumnConfig<T, TTableName>>(table, this.config as ColumnBuilderRuntimeConfig<any, any>);\n\t}\n}\n\nexport class PgUUID<T extends ColumnBaseConfig<'string', 'PgUUID'>> extends PgColumn<T> {\n\tstatic override readonly [entityKind]: string = 'PgUUID';\n\n\tgetSQLType(): string {\n\t\treturn 'uuid';\n\t}\n}\n\nexport function uuid(): PgUUIDBuilderInitial<''>;\nexport function uuid<TName extends string>(name: TName): PgUUIDBuilderInitial<TName>;\nexport function uuid(name?: string) {\n\treturn new PgUUIDBuilder(name ?? '');\n}\n", "import type { ColumnBuilderBaseConfig, ColumnBuilderRuntimeConfig, MakeColumnConfig } from '~/column-builder.ts';\nimport type { ColumnBaseConfig } from '~/column.ts';\nimport { entityKind } from '~/entity.ts';\nimport type { AnyPgTable } from '~/pg-core/table.ts';\nimport { getColumnNameAndConfig, type Writable } from '~/utils.ts';\nimport { PgColumn, PgColumnBuilder } from './common.ts';\n\nexport type PgVarcharBuilderInitial<\n\tTName extends string,\n\tTEnum extends [string, ...string[]],\n\tTLength extends number | undefined,\n> = PgVarcharBuilder<{\n\tname: TName;\n\tdataType: 'string';\n\tcolumnType: 'PgVarchar';\n\tdata: TEnum[number];\n\tdriverParam: string;\n\tenumValues: TEnum;\n\tlength: TLength;\n}>;\n\nexport class PgVarcharBuilder<\n\tT extends ColumnBuilderBaseConfig<'string', 'PgVarchar'> & { length?: number | undefined },\n> extends PgColumnBuilder<\n\tT,\n\t{ length: T['length']; enumValues: T['enumValues'] },\n\t{ length: T['length'] }\n> {\n\tstatic override readonly [entityKind]: string = 'PgVarcharBuilder';\n\n\tconstructor(name: T['name'], config: PgVarcharConfig<T['enumValues'], T['length']>) {\n\t\tsuper(name, 'string', 'PgVarchar');\n\t\tthis.config.length = config.length;\n\t\tthis.config.enumValues = config.enum;\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgVarchar<MakeColumnConfig<T, TTableName> & { length: T['length'] }> {\n\t\treturn new PgVarchar<MakeColumnConfig<T, TTableName> & { length: T['length'] }>(\n\t\t\ttable,\n\t\t\tthis.config as ColumnBuilderRuntimeConfig<any, any>,\n\t\t);\n\t}\n}\n\nexport class PgVarchar<T extends ColumnBaseConfig<'string', 'PgVarchar'> & { length?: number | undefined }>\n\textends PgColumn<T, { length: T['length']; enumValues: T['enumValues'] }, { length: T['length'] }>\n{\n\tstatic override readonly [entityKind]: string = 'PgVarchar';\n\n\treadonly length = this.config.length;\n\toverride readonly enumValues = this.config.enumValues;\n\n\tgetSQLType(): string {\n\t\treturn this.length === undefined ? `varchar` : `varchar(${this.length})`;\n\t}\n}\n\nexport interface PgVarcharConfig<\n\tTEnum extends readonly string[] | string[] | undefined = readonly string[] | string[] | undefined,\n\tTLength extends number | undefined = number | undefined,\n> {\n\tenum?: TEnum;\n\tlength?: TLength;\n}\n\nexport function varchar(): PgVarcharBuilderInitial<'', [string, ...string[]], undefined>;\nexport function varchar<\n\tU extends string,\n\tT extends Readonly<[U, ...U[]]>,\n\tL extends number | undefined,\n>(\n\tconfig?: PgVarcharConfig<T | Writable<T>, L>,\n): PgVarcharBuilderInitial<'', Writable<T>, L>;\nexport function varchar<\n\tTName extends string,\n\tU extends string,\n\tT extends Readonly<[U, ...U[]]>,\n\tL extends number | undefined,\n>(\n\tname: TName,\n\tconfig?: PgVarcharConfig<T | Writable<T>, L>,\n): PgVarcharBuilderInitial<TName, Writable<T>, L>;\nexport function varchar(a?: string | PgVarcharConfig, b: PgVarcharConfig = {}): any {\n\tconst { name, config } = getColumnNameAndConfig<PgVarcharConfig>(a, b);\n\treturn new PgVarcharBuilder(name, config as any);\n}\n", "import type { ColumnBuilderBaseConfig, ColumnBuilderRuntimeConfig, MakeColumnConfig } from '~/column-builder.ts';\nimport type { ColumnBaseConfig } from '~/column.ts';\nimport { entityKind } from '~/entity.ts';\nimport type { AnyPgTable } from '~/pg-core/table.ts';\nimport { getColumnNameAndConfig } from '~/utils.ts';\nimport { PgColumn, PgColumnBuilder } from '../common.ts';\n\nexport type PgBinaryVectorBuilderInitial<TName extends string, TDimensions extends number> = PgBinaryVectorBuilder<{\n\tname: TName;\n\tdataType: 'string';\n\tcolumnType: 'PgBinaryVector';\n\tdata: string;\n\tdriverParam: string;\n\tenumValues: undefined;\n\tdimensions: TDimensions;\n}>;\n\nexport class PgBinaryVectorBuilder<\n\tT extends ColumnBuilderBaseConfig<'string', 'PgBinaryVector'> & { dimensions: number },\n> extends PgColumnBuilder<\n\tT,\n\t{ dimensions: T['dimensions'] }\n> {\n\tstatic override readonly [entityKind]: string = 'PgBinaryVectorBuilder';\n\n\tconstructor(name: string, config: PgBinaryVectorConfig<T['dimensions']>) {\n\t\tsuper(name, 'string', 'PgBinaryVector');\n\t\tthis.config.dimensions = config.dimensions;\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgBinaryVector<MakeColumnConfig<T, TTableName> & { dimensions: T['dimensions'] }> {\n\t\treturn new PgBinaryVector<MakeColumnConfig<T, TTableName> & { dimensions: T['dimensions'] }>(\n\t\t\ttable,\n\t\t\tthis.config as ColumnBuilderRuntimeConfig<any, any>,\n\t\t);\n\t}\n}\n\nexport class PgBinaryVector<T extends ColumnBaseConfig<'string', 'PgBinaryVector'> & { dimensions: number }>\n\textends PgColumn<T, { dimensions: T['dimensions'] }, { dimensions: T['dimensions'] }>\n{\n\tstatic override readonly [entityKind]: string = 'PgBinaryVector';\n\n\treadonly dimensions = this.config.dimensions;\n\n\tgetSQLType(): string {\n\t\treturn `bit(${this.dimensions})`;\n\t}\n}\n\nexport interface PgBinaryVectorConfig<TDimensions extends number = number> {\n\tdimensions: TDimensions;\n}\n\nexport function bit<D extends number>(\n\tconfig: PgBinaryVectorConfig<D>,\n): PgBinaryVectorBuilderInitial<'', D>;\nexport function bit<TName extends string, D extends number>(\n\tname: TName,\n\tconfig: PgBinaryVectorConfig<D>,\n): PgBinaryVectorBuilderInitial<TName, D>;\nexport function bit(a: string | PgBinaryVectorConfig, b?: PgBinaryVectorConfig) {\n\tconst { name, config } = getColumnNameAndConfig<PgBinaryVectorConfig>(a, b);\n\treturn new PgBinaryVectorBuilder(name, config);\n}\n", "import type { ColumnBuilderBaseConfig, ColumnBuilderRuntimeConfig, MakeColumnConfig } from '~/column-builder.ts';\nimport type { ColumnBaseConfig } from '~/column.ts';\nimport { entityKind } from '~/entity.ts';\nimport type { AnyPgTable } from '~/pg-core/table.ts';\nimport { getColumnNameAndConfig } from '~/utils.ts';\nimport { PgColumn, PgColumnBuilder } from '../common.ts';\n\nexport type PgHalfVectorBuilderInitial<TName extends string, TDimensions extends number> = PgHalfVectorBuilder<{\n\tname: TName;\n\tdataType: 'array';\n\tcolumnType: 'PgHalfVector';\n\tdata: number[];\n\tdriverParam: string;\n\tenumValues: undefined;\n\tdimensions: TDimensions;\n}>;\n\nexport class PgHalfVectorBuilder<T extends ColumnBuilderBaseConfig<'array', 'PgHalfVector'> & { dimensions: number }>\n\textends PgColumnBuilder<\n\t\tT,\n\t\t{ dimensions: T['dimensions'] },\n\t\t{ dimensions: T['dimensions'] }\n\t>\n{\n\tstatic override readonly [entityKind]: string = 'PgHalfVectorBuilder';\n\n\tconstructor(name: string, config: PgHalfVectorConfig<T['dimensions']>) {\n\t\tsuper(name, 'array', 'PgHalfVector');\n\t\tthis.config.dimensions = config.dimensions;\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgHalfVector<MakeColumnConfig<T, TTableName> & { dimensions: T['dimensions'] }> {\n\t\treturn new PgHalfVector<MakeColumnConfig<T, TTableName> & { dimensions: T['dimensions'] }>(\n\t\t\ttable,\n\t\t\tthis.config as ColumnBuilderRuntimeConfig<any, any>,\n\t\t);\n\t}\n}\n\nexport class PgHalfVector<T extends ColumnBaseConfig<'array', 'PgHalfVector'> & { dimensions: number }>\n\textends PgColumn<T, { dimensions: T['dimensions'] }, { dimensions: T['dimensions'] }>\n{\n\tstatic override readonly [entityKind]: string = 'PgHalfVector';\n\n\treadonly dimensions: T['dimensions'] = this.config.dimensions;\n\n\tgetSQLType(): string {\n\t\treturn `halfvec(${this.dimensions})`;\n\t}\n\n\toverride mapToDriverValue(value: unknown): unknown {\n\t\treturn JSON.stringify(value);\n\t}\n\n\toverride mapFromDriverValue(value: string): unknown {\n\t\treturn value\n\t\t\t.slice(1, -1)\n\t\t\t.split(',')\n\t\t\t.map((v) => Number.parseFloat(v));\n\t}\n}\n\nexport interface PgHalfVectorConfig<TDimensions extends number = number> {\n\tdimensions: TDimensions;\n}\n\nexport function halfvec<D extends number>(\n\tconfig: PgHalfVectorConfig<D>,\n): PgHalfVectorBuilderInitial<'', D>;\nexport function halfvec<TName extends string, D extends number>(\n\tname: TName,\n\tconfig: PgHalfVectorConfig,\n): PgHalfVectorBuilderInitial<TName, D>;\nexport function halfvec(a: string | PgHalfVectorConfig, b?: PgHalfVectorConfig) {\n\tconst { name, config } = getColumnNameAndConfig<PgHalfVectorConfig>(a, b);\n\treturn new PgHalfVectorBuilder(name, config);\n}\n", "import type { ColumnBuilderBaseConfig, ColumnBuilderRuntimeConfig, MakeColumnConfig } from '~/column-builder.ts';\nimport type { ColumnBaseConfig } from '~/column.ts';\nimport { entityKind } from '~/entity.ts';\nimport type { AnyPgTable } from '~/pg-core/table.ts';\nimport { getColumnNameAndConfig } from '~/utils.ts';\nimport { PgColumn, PgColumnBuilder } from '../common.ts';\n\nexport type PgSparseVectorBuilderInitial<TName extends string> = PgSparseVectorBuilder<{\n\tname: TName;\n\tdataType: 'string';\n\tcolumnType: 'PgSparseVector';\n\tdata: string;\n\tdriverParam: string;\n\tenumValues: undefined;\n}>;\n\nexport class PgSparseVectorBuilder<T extends ColumnBuilderBaseConfig<'string', 'PgSparseVector'>>\n\textends PgColumnBuilder<\n\t\tT,\n\t\t{ dimensions: number | undefined }\n\t>\n{\n\tstatic override readonly [entityKind]: string = 'PgSparseVectorBuilder';\n\n\tconstructor(name: string, config: PgSparseVectorConfig) {\n\t\tsuper(name, 'string', 'PgSparseVector');\n\t\tthis.config.dimensions = config.dimensions;\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgSparseVector<MakeColumnConfig<T, TTableName>> {\n\t\treturn new PgSparseVector<MakeColumnConfig<T, TTableName>>(\n\t\t\ttable,\n\t\t\tthis.config as ColumnBuilderRuntimeConfig<any, any>,\n\t\t);\n\t}\n}\n\nexport class PgSparseVector<T extends ColumnBaseConfig<'string', 'PgSparseVector'>>\n\textends PgColumn<T, { dimensions: number | undefined }>\n{\n\tstatic override readonly [entityKind]: string = 'PgSparseVector';\n\n\treadonly dimensions = this.config.dimensions;\n\n\tgetSQLType(): string {\n\t\treturn `sparsevec(${this.dimensions})`;\n\t}\n}\n\nexport interface PgSparseVectorConfig {\n\tdimensions: number;\n}\n\nexport function sparsevec(\n\tconfig: PgSparseVectorConfig,\n): PgSparseVectorBuilderInitial<''>;\nexport function sparsevec<TName extends string>(\n\tname: TName,\n\tconfig: PgSparseVectorConfig,\n): PgSparseVectorBuilderInitial<TName>;\nexport function sparsevec(a: string | PgSparseVectorConfig, b?: PgSparseVectorConfig) {\n\tconst { name, config } = getColumnNameAndConfig<PgSparseVectorConfig>(a, b);\n\treturn new PgSparseVectorBuilder(name, config);\n}\n", "import type { ColumnBuilderBaseConfig, ColumnBuilderRuntimeConfig, MakeColumnConfig } from '~/column-builder.ts';\nimport type { ColumnBaseConfig } from '~/column.ts';\nimport { entityKind } from '~/entity.ts';\nimport type { AnyPgTable } from '~/pg-core/table.ts';\nimport { getColumnNameAndConfig } from '~/utils.ts';\nimport { PgColumn, PgColumnBuilder } from '../common.ts';\n\nexport type PgVectorBuilderInitial<TName extends string, TDimensions extends number> = PgVectorBuilder<{\n\tname: TName;\n\tdataType: 'array';\n\tcolumnType: 'PgVector';\n\tdata: number[];\n\tdriverParam: string;\n\tenumValues: undefined;\n\tdimensions: TDimensions;\n}>;\n\nexport class PgVectorBuilder<T extends ColumnBuilderBaseConfig<'array', 'PgVector'> & { dimensions: number }>\n\textends PgColumnBuilder<\n\t\tT,\n\t\t{ dimensions: T['dimensions'] },\n\t\t{ dimensions: T['dimensions'] }\n\t>\n{\n\tstatic override readonly [entityKind]: string = 'PgVectorBuilder';\n\n\tconstructor(name: string, config: PgVectorConfig<T['dimensions']>) {\n\t\tsuper(name, 'array', 'PgVector');\n\t\tthis.config.dimensions = config.dimensions;\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyPgTable<{ name: TTableName }>,\n\t): PgVector<MakeColumnConfig<T, TTableName> & { dimensions: T['dimensions'] }> {\n\t\treturn new PgVector<MakeColumnConfig<T, TTableName> & { dimensions: T['dimensions'] }>(\n\t\t\ttable,\n\t\t\tthis.config as ColumnBuilderRuntimeConfig<any, any>,\n\t\t);\n\t}\n}\n\nexport class PgVector<T extends ColumnBaseConfig<'array', 'PgVector'> & { dimensions: number | undefined }>\n\textends PgColumn<T, { dimensions: T['dimensions'] }, { dimensions: T['dimensions'] }>\n{\n\tstatic override readonly [entityKind]: string = 'PgVector';\n\n\treadonly dimensions: T['dimensions'] = this.config.dimensions;\n\n\tgetSQLType(): string {\n\t\treturn `vector(${this.dimensions})`;\n\t}\n\n\toverride mapToDriverValue(value: unknown): unknown {\n\t\treturn JSON.stringify(value);\n\t}\n\n\toverride mapFromDriverValue(value: string): unknown {\n\t\treturn value\n\t\t\t.slice(1, -1)\n\t\t\t.split(',')\n\t\t\t.map((v) => Number.parseFloat(v));\n\t}\n}\n\nexport interface PgVectorConfig<TDimensions extends number = number> {\n\tdimensions: TDimensions;\n}\n\nexport function vector<D extends number>(\n\tconfig: PgVectorConfig<D>,\n): PgVectorBuilderInitial<'', D>;\nexport function vector<TName extends string, D extends number>(\n\tname: TName,\n\tconfig: PgVectorConfig<D>,\n): PgVectorBuilderInitial<TName, D>;\nexport function vector(a: string | PgVectorConfig, b?: PgVectorConfig) {\n\tconst { name, config } = getColumnNameAndConfig<PgVectorConfig>(a, b);\n\treturn new PgVectorBuilder(name, config);\n}\n", "import { type AnyColumn, Column, type GetColumnData } from '~/column.ts';\nimport { is } from '~/entity.ts';\nimport { Table } from '~/table.ts';\nimport {\n\tisDriverValueEncoder,\n\tisSQLWrapper,\n\tParam,\n\tPlaceholder,\n\tSQL,\n\tsql,\n\ttype SQLChunk,\n\ttype SQLWrapper,\n\tStringChunk,\n\tView,\n} from '../sql.ts';\n\nexport function bindIfParam(value: unknown, column: SQLWrapper): SQLChunk {\n\tif (\n\t\tisDriverValueEncoder(column)\n\t\t&& !isSQLWrapper(value)\n\t\t&& !is(value, Param)\n\t\t&& !is(value, Placeholder)\n\t\t&& !is(value, Column)\n\t\t&& !is(value, Table)\n\t\t&& !is(value, View)\n\t) {\n\t\treturn new Param(value, column);\n\t}\n\treturn value as SQLChunk;\n}\n\nexport interface BinaryOperator {\n\t<TColumn extends Column>(\n\t\tleft: TColumn,\n\t\tright: GetColumnData<TColumn, 'raw'> | SQLWrapper,\n\t): SQL;\n\t<T>(left: SQL.Aliased<T>, right: T | SQLWrapper): SQL;\n\t<T extends SQLWrapper>(\n\t\tleft: Exclude<T, SQL.Aliased | Column>,\n\t\tright: unknown,\n\t): SQL;\n}\n\n/**\n * Test that two values are equal.\n *\n * Remember that the SQL standard dictates that\n * two NULL values are not equal, so if you want to test\n * whether a value is null, you may want to use\n * `isNull` instead.\n *\n * ## Examples\n *\n * ```ts\n * // Select cars made by Ford\n * db.select().from(cars)\n *   .where(eq(cars.make, 'Ford'))\n * ```\n *\n * @see isNull for a way to test equality to NULL.\n */\nexport const eq: BinaryOperator = (left: SQLWrapper, right: unknown): SQL => {\n\treturn sql`${left} = ${bindIfParam(right, left)}`;\n};\n\n/**\n * Test that two values are not equal.\n *\n * Remember that the SQL standard dictates that\n * two NULL values are not equal, so if you want to test\n * whether a value is not null, you may want to use\n * `isNotNull` instead.\n *\n * ## Examples\n *\n * ```ts\n * // Select cars not made by Ford\n * db.select().from(cars)\n *   .where(ne(cars.make, 'Ford'))\n * ```\n *\n * @see isNotNull for a way to test whether a value is not null.\n */\nexport const ne: BinaryOperator = (left: SQLWrapper, right: unknown): SQL => {\n\treturn sql`${left} <> ${bindIfParam(right, left)}`;\n};\n\n/**\n * Combine a list of conditions with the `and` operator. Conditions\n * that are equal `undefined` are automatically ignored.\n *\n * ## Examples\n *\n * ```ts\n * db.select().from(cars)\n *   .where(\n *     and(\n *       eq(cars.make, 'Volvo'),\n *       eq(cars.year, 1950),\n *     )\n *   )\n * ```\n */\nexport function and(...conditions: (SQLWrapper | undefined)[]): SQL | undefined;\nexport function and(\n\t...unfilteredConditions: (SQLWrapper | undefined)[]\n): SQL | undefined {\n\tconst conditions = unfilteredConditions.filter(\n\t\t(c): c is Exclude<typeof c, undefined> => c !== undefined,\n\t);\n\n\tif (conditions.length === 0) {\n\t\treturn undefined;\n\t}\n\n\tif (conditions.length === 1) {\n\t\treturn new SQL(conditions);\n\t}\n\n\treturn new SQL([\n\t\tnew StringChunk('('),\n\t\tsql.join(conditions, new StringChunk(' and ')),\n\t\tnew StringChunk(')'),\n\t]);\n}\n\n/**\n * Combine a list of conditions with the `or` operator. Conditions\n * that are equal `undefined` are automatically ignored.\n *\n * ## Examples\n *\n * ```ts\n * db.select().from(cars)\n *   .where(\n *     or(\n *       eq(cars.make, 'GM'),\n *       eq(cars.make, 'Ford'),\n *     )\n *   )\n * ```\n */\nexport function or(...conditions: (SQLWrapper | undefined)[]): SQL | undefined;\nexport function or(\n\t...unfilteredConditions: (SQLWrapper | undefined)[]\n): SQL | undefined {\n\tconst conditions = unfilteredConditions.filter(\n\t\t(c): c is Exclude<typeof c, undefined> => c !== undefined,\n\t);\n\n\tif (conditions.length === 0) {\n\t\treturn undefined;\n\t}\n\n\tif (conditions.length === 1) {\n\t\treturn new SQL(conditions);\n\t}\n\n\treturn new SQL([\n\t\tnew StringChunk('('),\n\t\tsql.join(conditions, new StringChunk(' or ')),\n\t\tnew StringChunk(')'),\n\t]);\n}\n\n/**\n * Negate the meaning of an expression using the `not` keyword.\n *\n * ## Examples\n *\n * ```ts\n * // Select cars _not_ made by GM or Ford.\n * db.select().from(cars)\n *   .where(not(inArray(cars.make, ['GM', 'Ford'])))\n * ```\n */\nexport function not(condition: SQLWrapper): SQL {\n\treturn sql`not ${condition}`;\n}\n\n/**\n * Test that the first expression passed is greater than\n * the second expression.\n *\n * ## Examples\n *\n * ```ts\n * // Select cars made after 2000.\n * db.select().from(cars)\n *   .where(gt(cars.year, 2000))\n * ```\n *\n * @see gte for greater-than-or-equal\n */\nexport const gt: BinaryOperator = (left: SQLWrapper, right: unknown): SQL => {\n\treturn sql`${left} > ${bindIfParam(right, left)}`;\n};\n\n/**\n * Test that the first expression passed is greater than\n * or equal to the second expression. Use `gt` to\n * test whether an expression is strictly greater\n * than another.\n *\n * ## Examples\n *\n * ```ts\n * // Select cars made on or after 2000.\n * db.select().from(cars)\n *   .where(gte(cars.year, 2000))\n * ```\n *\n * @see gt for a strictly greater-than condition\n */\nexport const gte: BinaryOperator = (left: SQLWrapper, right: unknown): SQL => {\n\treturn sql`${left} >= ${bindIfParam(right, left)}`;\n};\n\n/**\n * Test that the first expression passed is less than\n * the second expression.\n *\n * ## Examples\n *\n * ```ts\n * // Select cars made before 2000.\n * db.select().from(cars)\n *   .where(lt(cars.year, 2000))\n * ```\n *\n * @see lte for less-than-or-equal\n */\nexport const lt: BinaryOperator = (left: SQLWrapper, right: unknown): SQL => {\n\treturn sql`${left} < ${bindIfParam(right, left)}`;\n};\n\n/**\n * Test that the first expression passed is less than\n * or equal to the second expression.\n *\n * ## Examples\n *\n * ```ts\n * // Select cars made before 2000.\n * db.select().from(cars)\n *   .where(lte(cars.year, 2000))\n * ```\n *\n * @see lt for a strictly less-than condition\n */\nexport const lte: BinaryOperator = (left: SQLWrapper, right: unknown): SQL => {\n\treturn sql`${left} <= ${bindIfParam(right, left)}`;\n};\n\n/**\n * Test whether the first parameter, a column or expression,\n * has a value from a list passed as the second argument.\n *\n * ## Examples\n *\n * ```ts\n * // Select cars made by Ford or GM.\n * db.select().from(cars)\n *   .where(inArray(cars.make, ['Ford', 'GM']))\n * ```\n *\n * @see notInArray for the inverse of this test\n */\nexport function inArray<T>(\n\tcolumn: SQL.Aliased<T>,\n\tvalues: (T | Placeholder)[] | SQLWrapper,\n): SQL;\nexport function inArray<TColumn extends Column>(\n\tcolumn: TColumn,\n\tvalues: ReadonlyArray<GetColumnData<TColumn, 'raw'> | Placeholder> | SQLWrapper,\n): SQL;\nexport function inArray<T extends SQLWrapper>(\n\tcolumn: Exclude<T, SQL.Aliased | Column>,\n\tvalues: ReadonlyArray<unknown | Placeholder> | SQLWrapper,\n): SQL;\nexport function inArray(\n\tcolumn: SQLWrapper,\n\tvalues: ReadonlyArray<unknown | Placeholder> | SQLWrapper,\n): SQL {\n\tif (Array.isArray(values)) {\n\t\tif (values.length === 0) {\n\t\t\treturn sql`false`;\n\t\t}\n\t\treturn sql`${column} in ${values.map((v) => bindIfParam(v, column))}`;\n\t}\n\n\treturn sql`${column} in ${bindIfParam(values, column)}`;\n}\n\n/**\n * Test whether the first parameter, a column or expression,\n * has a value that is not present in a list passed as the\n * second argument.\n *\n * ## Examples\n *\n * ```ts\n * // Select cars made by any company except Ford or GM.\n * db.select().from(cars)\n *   .where(notInArray(cars.make, ['Ford', 'GM']))\n * ```\n *\n * @see inArray for the inverse of this test\n */\nexport function notInArray<T>(\n\tcolumn: SQL.Aliased<T>,\n\tvalues: (T | Placeholder)[] | SQLWrapper,\n): SQL;\nexport function notInArray<TColumn extends Column>(\n\tcolumn: TColumn,\n\tvalues: (GetColumnData<TColumn, 'raw'> | Placeholder)[] | SQLWrapper,\n): SQL;\nexport function notInArray<T extends SQLWrapper>(\n\tcolumn: Exclude<T, SQL.Aliased | Column>,\n\tvalues: (unknown | Placeholder)[] | SQLWrapper,\n): SQL;\nexport function notInArray(\n\tcolumn: SQLWrapper,\n\tvalues: (unknown | Placeholder)[] | SQLWrapper,\n): SQL {\n\tif (Array.isArray(values)) {\n\t\tif (values.length === 0) {\n\t\t\treturn sql`true`;\n\t\t}\n\t\treturn sql`${column} not in ${values.map((v) => bindIfParam(v, column))}`;\n\t}\n\n\treturn sql`${column} not in ${bindIfParam(values, column)}`;\n}\n\n/**\n * Test whether an expression is NULL. By the SQL standard,\n * NULL is neither equal nor not equal to itself, so\n * it's recommended to use `isNull` and `notIsNull` for\n * comparisons to NULL.\n *\n * ## Examples\n *\n * ```ts\n * // Select cars that have no discontinuedAt date.\n * db.select().from(cars)\n *   .where(isNull(cars.discontinuedAt))\n * ```\n *\n * @see isNotNull for the inverse of this test\n */\nexport function isNull(value: SQLWrapper): SQL {\n\treturn sql`${value} is null`;\n}\n\n/**\n * Test whether an expression is not NULL. By the SQL standard,\n * NULL is neither equal nor not equal to itself, so\n * it's recommended to use `isNull` and `notIsNull` for\n * comparisons to NULL.\n *\n * ## Examples\n *\n * ```ts\n * // Select cars that have been discontinued.\n * db.select().from(cars)\n *   .where(isNotNull(cars.discontinuedAt))\n * ```\n *\n * @see isNull for the inverse of this test\n */\nexport function isNotNull(value: SQLWrapper): SQL {\n\treturn sql`${value} is not null`;\n}\n\n/**\n * Test whether a subquery evaluates to have any rows.\n *\n * ## Examples\n *\n * ```ts\n * // Users whose `homeCity` column has a match in a cities\n * // table.\n * db\n *   .select()\n *   .from(users)\n *   .where(\n *     exists(db.select()\n *       .from(cities)\n *       .where(eq(users.homeCity, cities.id))),\n *   );\n * ```\n *\n * @see notExists for the inverse of this test\n */\nexport function exists(subquery: SQLWrapper): SQL {\n\treturn sql`exists ${subquery}`;\n}\n\n/**\n * Test whether a subquery doesn't include any result\n * rows.\n *\n * ## Examples\n *\n * ```ts\n * // Users whose `homeCity` column doesn't match\n * // a row in the cities table.\n * db\n *   .select()\n *   .from(users)\n *   .where(\n *     notExists(db.select()\n *       .from(cities)\n *       .where(eq(users.homeCity, cities.id))),\n *   );\n * ```\n *\n * @see exists for the inverse of this test\n */\nexport function notExists(subquery: SQLWrapper): SQL {\n\treturn sql`not exists ${subquery}`;\n}\n\n/**\n * Test whether an expression is between two values. This\n * is an easier way to express range tests, which would be\n * expressed mathematically as `x <= a <= y` but in SQL\n * would have to be like `a >= x AND a <= y`.\n *\n * Between is inclusive of the endpoints: if `column`\n * is equal to `min` or `max`, it will be TRUE.\n *\n * ## Examples\n *\n * ```ts\n * // Select cars made between 1990 and 2000\n * db.select().from(cars)\n *   .where(between(cars.year, 1990, 2000))\n * ```\n *\n * @see notBetween for the inverse of this test\n */\nexport function between<T>(\n\tcolumn: SQL.Aliased,\n\tmin: T | SQLWrapper,\n\tmax: T | SQLWrapper,\n): SQL;\nexport function between<TColumn extends AnyColumn>(\n\tcolumn: TColumn,\n\tmin: GetColumnData<TColumn, 'raw'> | SQLWrapper,\n\tmax: GetColumnData<TColumn, 'raw'> | SQLWrapper,\n): SQL;\nexport function between<T extends SQLWrapper>(\n\tcolumn: Exclude<T, SQL.Aliased | Column>,\n\tmin: unknown,\n\tmax: unknown,\n): SQL;\nexport function between(column: SQLWrapper, min: unknown, max: unknown): SQL {\n\treturn sql`${column} between ${bindIfParam(min, column)} and ${\n\t\tbindIfParam(\n\t\t\tmax,\n\t\t\tcolumn,\n\t\t)\n\t}`;\n}\n\n/**\n * Test whether an expression is not between two values.\n *\n * This, like `between`, includes its endpoints, so if\n * the `column` is equal to `min` or `max`, in this case\n * it will evaluate to FALSE.\n *\n * ## Examples\n *\n * ```ts\n * // Exclude cars made in the 1970s\n * db.select().from(cars)\n *   .where(notBetween(cars.year, 1970, 1979))\n * ```\n *\n * @see between for the inverse of this test\n */\nexport function notBetween<T>(\n\tcolumn: SQL.Aliased,\n\tmin: T | SQLWrapper,\n\tmax: T | SQLWrapper,\n): SQL;\nexport function notBetween<TColumn extends AnyColumn>(\n\tcolumn: TColumn,\n\tmin: GetColumnData<TColumn, 'raw'> | SQLWrapper,\n\tmax: GetColumnData<TColumn, 'raw'> | SQLWrapper,\n): SQL;\nexport function notBetween<T extends SQLWrapper>(\n\tcolumn: Exclude<T, SQL.Aliased | Column>,\n\tmin: unknown,\n\tmax: unknown,\n): SQL;\nexport function notBetween(\n\tcolumn: SQLWrapper,\n\tmin: unknown,\n\tmax: unknown,\n): SQL {\n\treturn sql`${column} not between ${\n\t\tbindIfParam(\n\t\t\tmin,\n\t\t\tcolumn,\n\t\t)\n\t} and ${bindIfParam(max, column)}`;\n}\n\n/**\n * Compare a column to a pattern, which can include `%` and `_`\n * characters to match multiple variations. Including `%`\n * in the pattern matches zero or more characters, and including\n * `_` will match a single character.\n *\n * ## Examples\n *\n * ```ts\n * // Select all cars with 'Turbo' in their names.\n * db.select().from(cars)\n *   .where(like(cars.name, '%Turbo%'))\n * ```\n *\n * @see ilike for a case-insensitive version of this condition\n */\nexport function like(column: Column | SQL.Aliased | SQL, value: string | SQLWrapper): SQL {\n\treturn sql`${column} like ${value}`;\n}\n\n/**\n * The inverse of like - this tests that a given column\n * does not match a pattern, which can include `%` and `_`\n * characters to match multiple variations. Including `%`\n * in the pattern matches zero or more characters, and including\n * `_` will match a single character.\n *\n * ## Examples\n *\n * ```ts\n * // Select all cars that don't have \"ROver\" in their name.\n * db.select().from(cars)\n *   .where(notLike(cars.name, '%Rover%'))\n * ```\n *\n * @see like for the inverse condition\n * @see notIlike for a case-insensitive version of this condition\n */\nexport function notLike(column: Column | SQL.Aliased | SQL, value: string | SQLWrapper): SQL {\n\treturn sql`${column} not like ${value}`;\n}\n\n/**\n * Case-insensitively compare a column to a pattern,\n * which can include `%` and `_`\n * characters to match multiple variations. Including `%`\n * in the pattern matches zero or more characters, and including\n * `_` will match a single character.\n *\n * Unlike like, this performs a case-insensitive comparison.\n *\n * ## Examples\n *\n * ```ts\n * // Select all cars with 'Turbo' in their names.\n * db.select().from(cars)\n *   .where(ilike(cars.name, '%Turbo%'))\n * ```\n *\n * @see like for a case-sensitive version of this condition\n */\nexport function ilike(column: Column | SQL.Aliased | SQL, value: string | SQLWrapper): SQL {\n\treturn sql`${column} ilike ${value}`;\n}\n\n/**\n * The inverse of ilike - this case-insensitively tests that a given column\n * does not match a pattern, which can include `%` and `_`\n * characters to match multiple variations. Including `%`\n * in the pattern matches zero or more characters, and including\n * `_` will match a single character.\n *\n * ## Examples\n *\n * ```ts\n * // Select all cars that don't have \"Rover\" in their name.\n * db.select().from(cars)\n *   .where(notLike(cars.name, '%Rover%'))\n * ```\n *\n * @see ilike for the inverse condition\n * @see notLike for a case-sensitive version of this condition\n */\nexport function notIlike(column: Column | SQL.Aliased | SQL, value: string | SQLWrapper): SQL {\n\treturn sql`${column} not ilike ${value}`;\n}\n\n/**\n * Test that a column or expression contains all elements of\n * the list passed as the second argument.\n *\n * ## Throws\n *\n * The argument passed in the second array can't be empty:\n * if an empty is provided, this method will throw.\n *\n * ## Examples\n *\n * ```ts\n * // Select posts where its tags contain \"Typescript\" and \"ORM\".\n * db.select().from(posts)\n *   .where(arrayContains(posts.tags, ['Typescript', 'ORM']))\n * ```\n *\n * @see arrayContained to find if an array contains all elements of a column or expression\n * @see arrayOverlaps to find if a column or expression contains any elements of an array\n */\nexport function arrayContains<T>(\n\tcolumn: SQL.Aliased<T>,\n\tvalues: (T | Placeholder) | SQLWrapper,\n): SQL;\nexport function arrayContains<TColumn extends Column>(\n\tcolumn: TColumn,\n\tvalues: (GetColumnData<TColumn, 'raw'> | Placeholder) | SQLWrapper,\n): SQL;\nexport function arrayContains<T extends SQLWrapper>(\n\tcolumn: Exclude<T, SQL.Aliased | Column>,\n\tvalues: (unknown | Placeholder)[] | SQLWrapper,\n): SQL;\nexport function arrayContains(\n\tcolumn: SQLWrapper,\n\tvalues: (unknown | Placeholder)[] | SQLWrapper,\n): SQL {\n\tif (Array.isArray(values)) {\n\t\tif (values.length === 0) {\n\t\t\tthrow new Error('arrayContains requires at least one value');\n\t\t}\n\t\tconst array = sql`${bindIfParam(values, column)}`;\n\t\treturn sql`${column} @> ${array}`;\n\t}\n\n\treturn sql`${column} @> ${bindIfParam(values, column)}`;\n}\n\n/**\n * Test that the list passed as the second argument contains\n * all elements of a column or expression.\n *\n * ## Throws\n *\n * The argument passed in the second array can't be empty:\n * if an empty is provided, this method will throw.\n *\n * ## Examples\n *\n * ```ts\n * // Select posts where its tags contain \"Typescript\", \"ORM\" or both,\n * // but filtering posts that have additional tags.\n * db.select().from(posts)\n *   .where(arrayContained(posts.tags, ['Typescript', 'ORM']))\n * ```\n *\n * @see arrayContains to find if a column or expression contains all elements of an array\n * @see arrayOverlaps to find if a column or expression contains any elements of an array\n */\nexport function arrayContained<T>(\n\tcolumn: SQL.Aliased<T>,\n\tvalues: (T | Placeholder) | SQLWrapper,\n): SQL;\nexport function arrayContained<TColumn extends Column>(\n\tcolumn: TColumn,\n\tvalues: (GetColumnData<TColumn, 'raw'> | Placeholder) | SQLWrapper,\n): SQL;\nexport function arrayContained<T extends SQLWrapper>(\n\tcolumn: Exclude<T, SQL.Aliased | Column>,\n\tvalues: (unknown | Placeholder)[] | SQLWrapper,\n): SQL;\nexport function arrayContained(\n\tcolumn: SQLWrapper,\n\tvalues: (unknown | Placeholder)[] | SQLWrapper,\n): SQL {\n\tif (Array.isArray(values)) {\n\t\tif (values.length === 0) {\n\t\t\tthrow new Error('arrayContained requires at least one value');\n\t\t}\n\t\tconst array = sql`${bindIfParam(values, column)}`;\n\t\treturn sql`${column} <@ ${array}`;\n\t}\n\n\treturn sql`${column} <@ ${bindIfParam(values, column)}`;\n}\n\n/**\n * Test that a column or expression contains any elements of\n * the list passed as the second argument.\n *\n * ## Throws\n *\n * The argument passed in the second array can't be empty:\n * if an empty is provided, this method will throw.\n *\n * ## Examples\n *\n * ```ts\n * // Select posts where its tags contain \"Typescript\", \"ORM\" or both.\n * db.select().from(posts)\n *   .where(arrayOverlaps(posts.tags, ['Typescript', 'ORM']))\n * ```\n *\n * @see arrayContains to find if a column or expression contains all elements of an array\n * @see arrayContained to find if an array contains all elements of a column or expression\n */\nexport function arrayOverlaps<T>(\n\tcolumn: SQL.Aliased<T>,\n\tvalues: (T | Placeholder) | SQLWrapper,\n): SQL;\nexport function arrayOverlaps<TColumn extends Column>(\n\tcolumn: TColumn,\n\tvalues: (GetColumnData<TColumn, 'raw'> | Placeholder) | SQLWrapper,\n): SQL;\nexport function arrayOverlaps<T extends SQLWrapper>(\n\tcolumn: Exclude<T, SQL.Aliased | Column>,\n\tvalues: (unknown | Placeholder)[] | SQLWrapper,\n): SQL;\nexport function arrayOverlaps(\n\tcolumn: SQLWrapper,\n\tvalues: (unknown | Placeholder)[] | SQLWrapper,\n): SQL {\n\tif (Array.isArray(values)) {\n\t\tif (values.length === 0) {\n\t\t\tthrow new Error('arrayOverlaps requires at least one value');\n\t\t}\n\t\tconst array = sql`${bindIfParam(values, column)}`;\n\t\treturn sql`${column} && ${array}`;\n\t}\n\n\treturn sql`${column} && ${bindIfParam(values, column)}`;\n}\n", "import type { AnyColumn } from '../../column.ts';\nimport type { SQL, SQLWrapper } from '../sql.ts';\nimport { sql } from '../sql.ts';\n\n/**\n * Used in sorting, this specifies that the given\n * column or expression should be sorted in ascending\n * order. By the SQL standard, ascending order is the\n * default, so it is not usually necessary to specify\n * ascending sort order.\n *\n * ## Examples\n *\n * ```ts\n * // Return cars, starting with the oldest models\n * // and going in ascending order to the newest.\n * db.select().from(cars)\n *   .orderBy(asc(cars.year));\n * ```\n *\n * @see desc to sort in descending order\n */\nexport function asc(column: AnyColumn | SQLWrapper): SQL {\n\treturn sql`${column} asc`;\n}\n\n/**\n * Used in sorting, this specifies that the given\n * column or expression should be sorted in descending\n * order.\n *\n * ## Examples\n *\n * ```ts\n * // Select users, with the most recently created\n * // records coming first.\n * db.select().from(users)\n *   .orderBy(desc(users.createdAt));\n * ```\n *\n * @see asc to sort in ascending order\n */\nexport function desc(column: AnyColumn | SQLWrapper): SQL {\n\treturn sql`${column} desc`;\n}\n", "import { type AnyColumn, Column } from '~/column.ts';\nimport { is } from '~/entity.ts';\nimport { type SQL, sql, type SQLWrapper } from '../sql.ts';\n\n/**\n * Returns the number of values in `expression`.\n *\n * ## Examples\n *\n * ```ts\n * // Number employees with null values\n * db.select({ value: count() }).from(employees)\n * // Number of employees where `name` is not null\n * db.select({ value: count(employees.name) }).from(employees)\n * ```\n *\n * @see countDistinct to get the number of non-duplicate values in `expression`\n */\nexport function count(expression?: SQLWrapper): SQL<number> {\n\treturn sql`count(${expression || sql.raw('*')})`.mapWith(Number);\n}\n\n/**\n * Returns the number of non-duplicate values in `expression`.\n *\n * ## Examples\n *\n * ```ts\n * // Number of employees where `name` is distinct\n * db.select({ value: countDistinct(employees.name) }).from(employees)\n * ```\n *\n * @see count to get the number of values in `expression`, including duplicates\n */\nexport function countDistinct(expression: SQLWrapper): SQL<number> {\n\treturn sql`count(distinct ${expression})`.mapWith(Number);\n}\n\n/**\n * Returns the average (arithmetic mean) of all non-null values in `expression`.\n *\n * ## Examples\n *\n * ```ts\n * // Average salary of an employee\n * db.select({ value: avg(employees.salary) }).from(employees)\n * ```\n *\n * @see avgDistinct to get the average of all non-null and non-duplicate values in `expression`\n */\nexport function avg(expression: SQLWrapper): SQL<string | null> {\n\treturn sql`avg(${expression})`.mapWith(String);\n}\n\n/**\n * Returns the average (arithmetic mean) of all non-null and non-duplicate values in `expression`.\n *\n * ## Examples\n *\n * ```ts\n * // Average salary of an employee where `salary` is distinct\n * db.select({ value: avgDistinct(employees.salary) }).from(employees)\n * ```\n *\n * @see avg to get the average of all non-null values in `expression`, including duplicates\n */\nexport function avgDistinct(expression: SQLWrapper): SQL<string | null> {\n\treturn sql`avg(distinct ${expression})`.mapWith(String);\n}\n\n/**\n * Returns the sum of all non-null values in `expression`.\n *\n * ## Examples\n *\n * ```ts\n * // Sum of every employee's salary\n * db.select({ value: sum(employees.salary) }).from(employees)\n * ```\n *\n * @see sumDistinct to get the sum of all non-null and non-duplicate values in `expression`\n */\nexport function sum(expression: SQLWrapper): SQL<string | null> {\n\treturn sql`sum(${expression})`.mapWith(String);\n}\n\n/**\n * Returns the sum of all non-null and non-duplicate values in `expression`.\n *\n * ## Examples\n *\n * ```ts\n * // Sum of every employee's salary where `salary` is distinct (no duplicates)\n * db.select({ value: sumDistinct(employees.salary) }).from(employees)\n * ```\n *\n * @see sum to get the sum of all non-null values in `expression`, including duplicates\n */\nexport function sumDistinct(expression: SQLWrapper): SQL<string | null> {\n\treturn sql`sum(distinct ${expression})`.mapWith(String);\n}\n\n/**\n * Returns the maximum value in `expression`.\n *\n * ## Examples\n *\n * ```ts\n * // The employee with the highest salary\n * db.select({ value: max(employees.salary) }).from(employees)\n * ```\n */\nexport function max<T extends SQLWrapper>(expression: T): SQL<(T extends AnyColumn ? T['_']['data'] : string) | null> {\n\treturn sql`max(${expression})`.mapWith(is(expression, Column) ? expression : String) as any;\n}\n\n/**\n * Returns the minimum value in `expression`.\n *\n * ## Examples\n *\n * ```ts\n * // The employee with the lowest salary\n * db.select({ value: min(employees.salary) }).from(employees)\n * ```\n */\nexport function min<T extends SQLWrapper>(expression: T): SQL<(T extends AnyColumn ? T['_']['data'] : string) | null> {\n\treturn sql`min(${expression})`.mapWith(is(expression, Column) ? expression : String) as any;\n}\n", "export { db } from './client';", "import { neon } from '@neondatabase/serverless';\nimport { drizzle } from 'drizzle-orm/neon-http';\nimport type { CloudflareEnv } from '@repo/constants/cloudflare';\nimport * as schema from './schema';\n\nexport const db = (env: CloudflareEnv) => {\n\tconst sql = neon(env.DATABASE_URL);\n\treturn drizzle({ client: sql, schema });\n};\n", "/* @ts-self-types=\"./index.d.mts\" */\nvar So=Object.create;var Ie=Object.defineProperty;var Eo=Object.getOwnPropertyDescriptor;var Ao=Object.getOwnPropertyNames;var Co=Object.getPrototypeOf,_o=Object.prototype.hasOwnProperty;var Io=(r,e,t)=>e in r?Ie(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var a=(r,e)=>Ie(r,\"name\",{value:e,configurable:!0});var G=(r,e)=>()=>(r&&(e=r(r=0)),e);var T=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),ie=(r,e)=>{for(var t in e)Ie(r,t,{get:e[t],\nenumerable:!0})},Dn=(r,e,t,n)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let i of Ao(e))!_o.\ncall(r,i)&&i!==t&&Ie(r,i,{get:()=>e[i],enumerable:!(n=Eo(e,i))||n.enumerable});return r};var Se=(r,e,t)=>(t=r!=null?So(Co(r)):{},Dn(e||!r||!r.__esModule?Ie(t,\"default\",{value:r,enumerable:!0}):\nt,r)),O=r=>Dn(Ie({},\"__esModule\",{value:!0}),r);var E=(r,e,t)=>Io(r,typeof e!=\"symbol\"?e+\"\":e,t);var Qn=T(lt=>{\"use strict\";p();lt.byteLength=Po;lt.toByteArray=Ro;lt.fromByteArray=ko;var ae=[],te=[],\nTo=typeof Uint8Array<\"u\"?Uint8Array:Array,qt=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz01\\\n23456789+/\";for(Ee=0,On=qt.length;Ee<On;++Ee)ae[Ee]=qt[Ee],te[qt.charCodeAt(Ee)]=Ee;var Ee,On;te[45]=\n62;te[95]=63;function qn(r){var e=r.length;if(e%4>0)throw new Error(\"Invalid string. Length must be \\\na multiple of 4\");var t=r.indexOf(\"=\");t===-1&&(t=e);var n=t===e?0:4-t%4;return[t,n]}a(qn,\"getLens\");\nfunction Po(r){var e=qn(r),t=e[0],n=e[1];return(t+n)*3/4-n}a(Po,\"byteLength\");function Bo(r,e,t){return(e+\nt)*3/4-t}a(Bo,\"_byteLength\");function Ro(r){var e,t=qn(r),n=t[0],i=t[1],s=new To(Bo(r,n,i)),o=0,u=i>\n0?n-4:n,c;for(c=0;c<u;c+=4)e=te[r.charCodeAt(c)]<<18|te[r.charCodeAt(c+1)]<<12|te[r.charCodeAt(c+2)]<<\n6|te[r.charCodeAt(c+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=te[r.charCodeAt(\nc)]<<2|te[r.charCodeAt(c+1)]>>4,s[o++]=e&255),i===1&&(e=te[r.charCodeAt(c)]<<10|te[r.charCodeAt(c+1)]<<\n4|te[r.charCodeAt(c+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}a(Ro,\"toByteArray\");function Lo(r){return ae[r>>\n18&63]+ae[r>>12&63]+ae[r>>6&63]+ae[r&63]}a(Lo,\"tripletToBase64\");function Fo(r,e,t){for(var n,i=[],s=e;s<\nt;s+=3)n=(r[s]<<16&16711680)+(r[s+1]<<8&65280)+(r[s+2]&255),i.push(Lo(n));return i.join(\"\")}a(Fo,\"en\\\ncodeChunk\");function ko(r){for(var e,t=r.length,n=t%3,i=[],s=16383,o=0,u=t-n;o<u;o+=s)i.push(Fo(r,o,\no+s>u?u:o+s));return n===1?(e=r[t-1],i.push(ae[e>>2]+ae[e<<4&63]+\"==\")):n===2&&(e=(r[t-2]<<8)+r[t-1],\ni.push(ae[e>>10]+ae[e>>4&63]+ae[e<<2&63]+\"=\")),i.join(\"\")}a(ko,\"fromByteArray\")});var Nn=T(Qt=>{p();Qt.read=function(r,e,t,n,i){var s,o,u=i*8-n-1,c=(1<<u)-1,l=c>>1,f=-7,y=t?i-1:0,g=t?\n-1:1,A=r[e+y];for(y+=g,s=A&(1<<-f)-1,A>>=-f,f+=u;f>0;s=s*256+r[e+y],y+=g,f-=8);for(o=s&(1<<-f)-1,s>>=\n-f,f+=n;f>0;o=o*256+r[e+y],y+=g,f-=8);if(s===0)s=1-l;else{if(s===c)return o?NaN:(A?-1:1)*(1/0);o=o+Math.\npow(2,n),s=s-l}return(A?-1:1)*o*Math.pow(2,s-n)};Qt.write=function(r,e,t,n,i,s){var o,u,c,l=s*8-i-1,\nf=(1<<l)-1,y=f>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,A=n?0:s-1,C=n?1:-1,D=e<0||e===0&&1/e<0?\n1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,o=f):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=\nMath.pow(2,-o))<1&&(o--,c*=2),o+y>=1?e+=g/c:e+=g*Math.pow(2,1-y),e*c>=2&&(o++,c/=2),o+y>=f?(u=0,o=f):\no+y>=1?(u=(e*c-1)*Math.pow(2,i),o=o+y):(u=e*Math.pow(2,y-1)*Math.pow(2,i),o=0));i>=8;r[t+A]=u&255,A+=\nC,u/=256,i-=8);for(o=o<<i|u,l+=i;l>0;r[t+A]=o&255,A+=C,o/=256,l-=8);r[t+A-C]|=D*128}});var ii=T(Re=>{\"use strict\";p();var Nt=Qn(),Pe=Nn(),Wn=typeof Symbol==\"function\"&&typeof Symbol.for==\n\"function\"?Symbol.for(\"nodejs.util.inspect.custom\"):null;Re.Buffer=h;Re.SlowBuffer=Qo;Re.INSPECT_MAX_BYTES=\n50;var ft=2147483647;Re.kMaxLength=ft;h.TYPED_ARRAY_SUPPORT=Mo();!h.TYPED_ARRAY_SUPPORT&&typeof console<\n\"u\"&&typeof console.error==\"function\"&&console.error(\"This browser lacks typed array (Uint8Array) su\\\npport which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.\");function Mo(){\ntry{let r=new Uint8Array(1),e={foo:a(function(){return 42},\"foo\")};return Object.setPrototypeOf(e,Uint8Array.\nprototype),Object.setPrototypeOf(r,e),r.foo()===42}catch{return!1}}a(Mo,\"typedArraySupport\");Object.\ndefineProperty(h.prototype,\"parent\",{enumerable:!0,get:a(function(){if(h.isBuffer(this))return this.\nbuffer},\"get\")});Object.defineProperty(h.prototype,\"offset\",{enumerable:!0,get:a(function(){if(h.isBuffer(\nthis))return this.byteOffset},\"get\")});function he(r){if(r>ft)throw new RangeError('The value \"'+r+'\\\n\" is invalid for option \"size\"');let e=new Uint8Array(r);return Object.setPrototypeOf(e,h.prototype),\ne}a(he,\"createBuffer\");function h(r,e,t){if(typeof r==\"number\"){if(typeof e==\"string\")throw new TypeError(\n'The \"string\" argument must be of type string. Received type number');return $t(r)}return Gn(r,e,t)}\na(h,\"Buffer\");h.poolSize=8192;function Gn(r,e,t){if(typeof r==\"string\")return Do(r,e);if(ArrayBuffer.\nisView(r))return Oo(r);if(r==null)throw new TypeError(\"The first argument must be one of type string\\\n, Buffer, ArrayBuffer, Array, or Array-like Object. Received type \"+typeof r);if(ue(r,ArrayBuffer)||\nr&&ue(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<\"u\"&&(ue(r,SharedArrayBuffer)||r&&ue(r.buffer,\nSharedArrayBuffer)))return jt(r,e,t);if(typeof r==\"number\")throw new TypeError('The \"value\" argument\\\n must not be of type number. Received type number');let n=r.valueOf&&r.valueOf();if(n!=null&&n!==r)return h.\nfrom(n,e,t);let i=qo(r);if(i)return i;if(typeof Symbol<\"u\"&&Symbol.toPrimitive!=null&&typeof r[Symbol.\ntoPrimitive]==\"function\")return h.from(r[Symbol.toPrimitive](\"string\"),e,t);throw new TypeError(\"The\\\n first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Receiv\\\ned type \"+typeof r)}a(Gn,\"from\");h.from=function(r,e,t){return Gn(r,e,t)};Object.setPrototypeOf(h.prototype,\nUint8Array.prototype);Object.setPrototypeOf(h,Uint8Array);function Vn(r){if(typeof r!=\"number\")throw new TypeError(\n'\"size\" argument must be of type number');if(r<0)throw new RangeError('The value \"'+r+'\" is invalid \\\nfor option \"size\"')}a(Vn,\"assertSize\");function Uo(r,e,t){return Vn(r),r<=0?he(r):e!==void 0?typeof t==\n\"string\"?he(r).fill(e,t):he(r).fill(e):he(r)}a(Uo,\"alloc\");h.alloc=function(r,e,t){return Uo(r,e,t)};\nfunction $t(r){return Vn(r),he(r<0?0:Gt(r)|0)}a($t,\"allocUnsafe\");h.allocUnsafe=function(r){return $t(\nr)};h.allocUnsafeSlow=function(r){return $t(r)};function Do(r,e){if((typeof e!=\"string\"||e===\"\")&&(e=\n\"utf8\"),!h.isEncoding(e))throw new TypeError(\"Unknown encoding: \"+e);let t=zn(r,e)|0,n=he(t),i=n.write(\nr,e);return i!==t&&(n=n.slice(0,i)),n}a(Do,\"fromString\");function Wt(r){let e=r.length<0?0:Gt(r.length)|\n0,t=he(e);for(let n=0;n<e;n+=1)t[n]=r[n]&255;return t}a(Wt,\"fromArrayLike\");function Oo(r){if(ue(r,Uint8Array)){\nlet e=new Uint8Array(r);return jt(e.buffer,e.byteOffset,e.byteLength)}return Wt(r)}a(Oo,\"fromArrayVi\\\new\");function jt(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('\"offset\" is outside of buffer b\\\nounds');if(r.byteLength<e+(t||0))throw new RangeError('\"length\" is outside of buffer bounds');let n;\nreturn e===void 0&&t===void 0?n=new Uint8Array(r):t===void 0?n=new Uint8Array(r,e):n=new Uint8Array(\nr,e,t),Object.setPrototypeOf(n,h.prototype),n}a(jt,\"fromArrayBuffer\");function qo(r){if(h.isBuffer(r)){\nlet e=Gt(r.length)|0,t=he(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.\nlength!=\"number\"||zt(r.length)?he(0):Wt(r);if(r.type===\"Buffer\"&&Array.isArray(r.data))return Wt(r.data)}\na(qo,\"fromObject\");function Gt(r){if(r>=ft)throw new RangeError(\"Attempt to allocate Buffer larger t\\\nhan maximum size: 0x\"+ft.toString(16)+\" bytes\");return r|0}a(Gt,\"checked\");function Qo(r){return+r!=\nr&&(r=0),h.alloc(+r)}a(Qo,\"SlowBuffer\");h.isBuffer=a(function(e){return e!=null&&e._isBuffer===!0&&e!==\nh.prototype},\"isBuffer\");h.compare=a(function(e,t){if(ue(e,Uint8Array)&&(e=h.from(e,e.offset,e.byteLength)),\nue(t,Uint8Array)&&(t=h.from(t,t.offset,t.byteLength)),!h.isBuffer(e)||!h.isBuffer(t))throw new TypeError(\n'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,\ni=t.length;for(let s=0,o=Math.min(n,i);s<o;++s)if(e[s]!==t[s]){n=e[s],i=t[s];break}return n<i?-1:i<n?\n1:0},\"compare\");h.isEncoding=a(function(e){switch(String(e).toLowerCase()){case\"hex\":case\"utf8\":case\"\\\nutf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"\\\nutf-16le\":return!0;default:return!1}},\"isEncoding\");h.concat=a(function(e,t){if(!Array.isArray(e))throw new TypeError(\n'\"list\" argument must be an Array of Buffers');if(e.length===0)return h.alloc(0);let n;if(t===void 0)\nfor(t=0,n=0;n<e.length;++n)t+=e[n].length;let i=h.allocUnsafe(t),s=0;for(n=0;n<e.length;++n){let o=e[n];\nif(ue(o,Uint8Array))s+o.length>i.length?(h.isBuffer(o)||(o=h.from(o)),o.copy(i,s)):Uint8Array.prototype.\nset.call(i,o,s);else if(h.isBuffer(o))o.copy(i,s);else throw new TypeError('\"list\" argument must be \\\nan Array of Buffers');s+=o.length}return i},\"concat\");function zn(r,e){if(h.isBuffer(r))return r.length;\nif(ArrayBuffer.isView(r)||ue(r,ArrayBuffer))return r.byteLength;if(typeof r!=\"string\")throw new TypeError(\n'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);\nlet t=r.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&t===0)return 0;let i=!1;for(;;)switch(e){case\"\\\nascii\":case\"latin1\":case\"binary\":return t;case\"utf8\":case\"utf-8\":return Ht(r).length;case\"ucs2\":case\"\\\nucs-2\":case\"utf16le\":case\"utf-16le\":return t*2;case\"hex\":return t>>>1;case\"base64\":return ni(r).length;default:\nif(i)return n?-1:Ht(r).length;e=(\"\"+e).toLowerCase(),i=!0}}a(zn,\"byteLength\");h.byteLength=zn;function No(r,e,t){\nlet n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=\n0)||(t>>>=0,e>>>=0,t<=e))return\"\";for(r||(r=\"utf8\");;)switch(r){case\"hex\":return Zo(this,e,t);case\"u\\\ntf8\":case\"utf-8\":return Yn(this,e,t);case\"ascii\":return Ko(this,e,t);case\"latin1\":case\"binary\":return Yo(\nthis,e,t);case\"base64\":return Vo(this,e,t);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return Jo(\nthis,e,t);default:if(n)throw new TypeError(\"Unknown encoding: \"+r);r=(r+\"\").toLowerCase(),n=!0}}a(No,\n\"slowToString\");h.prototype._isBuffer=!0;function Ae(r,e,t){let n=r[e];r[e]=r[t],r[t]=n}a(Ae,\"swap\");\nh.prototype.swap16=a(function(){let e=this.length;if(e%2!==0)throw new RangeError(\"Buffer size must \\\nbe a multiple of 16-bits\");for(let t=0;t<e;t+=2)Ae(this,t,t+1);return this},\"swap16\");h.prototype.swap32=\na(function(){let e=this.length;if(e%4!==0)throw new RangeError(\"Buffer size must be a multiple of 32\\\n-bits\");for(let t=0;t<e;t+=4)Ae(this,t,t+3),Ae(this,t+1,t+2);return this},\"swap32\");h.prototype.swap64=\na(function(){let e=this.length;if(e%8!==0)throw new RangeError(\"Buffer size must be a multiple of 64\\\n-bits\");for(let t=0;t<e;t+=8)Ae(this,t,t+7),Ae(this,t+1,t+6),Ae(this,t+2,t+5),Ae(this,t+3,t+4);return this},\n\"swap64\");h.prototype.toString=a(function(){let e=this.length;return e===0?\"\":arguments.length===0?Yn(\nthis,0,e):No.apply(this,arguments)},\"toString\");h.prototype.toLocaleString=h.prototype.toString;h.prototype.\nequals=a(function(e){if(!h.isBuffer(e))throw new TypeError(\"Argument must be a Buffer\");return this===\ne?!0:h.compare(this,e)===0},\"equals\");h.prototype.inspect=a(function(){let e=\"\",t=Re.INSPECT_MAX_BYTES;\nreturn e=this.toString(\"hex\",0,t).replace(/(.{2})/g,\"$1 \").trim(),this.length>t&&(e+=\" ... \"),\"<Buff\\\ner \"+e+\">\"},\"inspect\");Wn&&(h.prototype[Wn]=h.prototype.inspect);h.prototype.compare=a(function(e,t,n,i,s){\nif(ue(e,Uint8Array)&&(e=h.from(e,e.offset,e.byteLength)),!h.isBuffer(e))throw new TypeError('The \"ta\\\nrget\" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=\n0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),s===void 0&&(s=this.length),t<0||n>e.length||i<0||\ns>this.length)throw new RangeError(\"out of range index\");if(i>=s&&t>=n)return 0;if(i>=s)return-1;if(t>=\nn)return 1;if(t>>>=0,n>>>=0,i>>>=0,s>>>=0,this===e)return 0;let o=s-i,u=n-t,c=Math.min(o,u),l=this.slice(\ni,s),f=e.slice(t,n);for(let y=0;y<c;++y)if(l[y]!==f[y]){o=l[y],u=f[y];break}return o<u?-1:u<o?1:0},\"\\\ncompare\");function Kn(r,e,t,n,i){if(r.length===0)return-1;if(typeof t==\"string\"?(n=t,t=0):t>2147483647?\nt=2147483647:t<-2147483648&&(t=-2147483648),t=+t,zt(t)&&(t=i?0:r.length-1),t<0&&(t=r.length+t),t>=r.\nlength){if(i)return-1;t=r.length-1}else if(t<0)if(i)t=0;else return-1;if(typeof e==\"string\"&&(e=h.from(\ne,n)),h.isBuffer(e))return e.length===0?-1:jn(r,e,t,n,i);if(typeof e==\"number\")return e=e&255,typeof Uint8Array.\nprototype.indexOf==\"function\"?i?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.\ncall(r,e,t):jn(r,[e],t,n,i);throw new TypeError(\"val must be string, number or Buffer\")}a(Kn,\"bidire\\\nctionalIndexOf\");function jn(r,e,t,n,i){let s=1,o=r.length,u=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),\nn===\"ucs2\"||n===\"ucs-2\"||n===\"utf16le\"||n===\"utf-16le\")){if(r.length<2||e.length<2)return-1;s=2,o/=2,\nu/=2,t/=2}function c(f,y){return s===1?f[y]:f.readUInt16BE(y*s)}a(c,\"read\");let l;if(i){let f=-1;for(l=\nt;l<o;l++)if(c(r,l)===c(e,f===-1?0:l-f)){if(f===-1&&(f=l),l-f+1===u)return f*s}else f!==-1&&(l-=l-f),\nf=-1}else for(t+u>o&&(t=o-u),l=t;l>=0;l--){let f=!0;for(let y=0;y<u;y++)if(c(r,l+y)!==c(e,y)){f=!1;break}\nif(f)return l}return-1}a(jn,\"arrayIndexOf\");h.prototype.includes=a(function(e,t,n){return this.indexOf(\ne,t,n)!==-1},\"includes\");h.prototype.indexOf=a(function(e,t,n){return Kn(this,e,t,n,!0)},\"indexOf\");\nh.prototype.lastIndexOf=a(function(e,t,n){return Kn(this,e,t,n,!1)},\"lastIndexOf\");function Wo(r,e,t,n){\nt=Number(t)||0;let i=r.length-t;n?(n=Number(n),n>i&&(n=i)):n=i;let s=e.length;n>s/2&&(n=s/2);let o;for(o=\n0;o<n;++o){let u=parseInt(e.substr(o*2,2),16);if(zt(u))return o;r[t+o]=u}return o}a(Wo,\"hexWrite\");function jo(r,e,t,n){\nreturn ht(Ht(e,r.length-t),r,t,n)}a(jo,\"utf8Write\");function Ho(r,e,t,n){return ht(ra(e),r,t,n)}a(Ho,\n\"asciiWrite\");function $o(r,e,t,n){return ht(ni(e),r,t,n)}a($o,\"base64Write\");function Go(r,e,t,n){return ht(\nna(e,r.length-t),r,t,n)}a(Go,\"ucs2Write\");h.prototype.write=a(function(e,t,n,i){if(t===void 0)i=\"utf\\\n8\",n=this.length,t=0;else if(n===void 0&&typeof t==\"string\")i=t,n=this.length,t=0;else if(isFinite(t))\nt=t>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i=\"utf8\")):(i=n,n=void 0);else throw new Error(\"Buffer.wri\\\nte(string, encoding, offset[, length]) is no longer supported\");let s=this.length-t;if((n===void 0||\nn>s)&&(n=s),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError(\"Attempt to write outside buf\\\nfer bounds\");i||(i=\"utf8\");let o=!1;for(;;)switch(i){case\"hex\":return Wo(this,e,t,n);case\"utf8\":case\"\\\nutf-8\":return jo(this,e,t,n);case\"ascii\":case\"latin1\":case\"binary\":return Ho(this,e,t,n);case\"base64\":\nreturn $o(this,e,t,n);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return Go(this,e,t,n);default:\nif(o)throw new TypeError(\"Unknown encoding: \"+i);i=(\"\"+i).toLowerCase(),o=!0}},\"write\");h.prototype.\ntoJSON=a(function(){return{type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}},\"toJSO\\\nN\");function Vo(r,e,t){return e===0&&t===r.length?Nt.fromByteArray(r):Nt.fromByteArray(r.slice(e,t))}\na(Vo,\"base64Slice\");function Yn(r,e,t){t=Math.min(r.length,t);let n=[],i=e;for(;i<t;){let s=r[i],o=null,\nu=s>239?4:s>223?3:s>191?2:1;if(i+u<=t){let c,l,f,y;switch(u){case 1:s<128&&(o=s);break;case 2:c=r[i+\n1],(c&192)===128&&(y=(s&31)<<6|c&63,y>127&&(o=y));break;case 3:c=r[i+1],l=r[i+2],(c&192)===128&&(l&192)===\n128&&(y=(s&15)<<12|(c&63)<<6|l&63,y>2047&&(y<55296||y>57343)&&(o=y));break;case 4:c=r[i+1],l=r[i+2],\nf=r[i+3],(c&192)===128&&(l&192)===128&&(f&192)===128&&(y=(s&15)<<18|(c&63)<<12|(l&63)<<6|f&63,y>65535&&\ny<1114112&&(o=y))}}o===null?(o=65533,u=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),\nn.push(o),i+=u}return zo(n)}a(Yn,\"utf8Slice\");var Hn=4096;function zo(r){let e=r.length;if(e<=Hn)return String.\nfromCharCode.apply(String,r);let t=\"\",n=0;for(;n<e;)t+=String.fromCharCode.apply(String,r.slice(n,n+=\nHn));return t}a(zo,\"decodeCodePointsArray\");function Ko(r,e,t){let n=\"\";t=Math.min(r.length,t);for(let i=e;i<\nt;++i)n+=String.fromCharCode(r[i]&127);return n}a(Ko,\"asciiSlice\");function Yo(r,e,t){let n=\"\";t=Math.\nmin(r.length,t);for(let i=e;i<t;++i)n+=String.fromCharCode(r[i]);return n}a(Yo,\"latin1Slice\");function Zo(r,e,t){\nlet n=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>n)&&(t=n);let i=\"\";for(let s=e;s<t;++s)i+=ia[r[s]];return i}\na(Zo,\"hexSlice\");function Jo(r,e,t){let n=r.slice(e,t),i=\"\";for(let s=0;s<n.length-1;s+=2)i+=String.\nfromCharCode(n[s]+n[s+1]*256);return i}a(Jo,\"utf16leSlice\");h.prototype.slice=a(function(e,t){let n=this.\nlength;e=~~e,t=t===void 0?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<\ne&&(t=e);let i=this.subarray(e,t);return Object.setPrototypeOf(i,h.prototype),i},\"slice\");function q(r,e,t){\nif(r%1!==0||r<0)throw new RangeError(\"offset is not uint\");if(r+e>t)throw new RangeError(\"Trying to \\\naccess beyond buffer length\")}a(q,\"checkOffset\");h.prototype.readUintLE=h.prototype.readUIntLE=a(function(e,t,n){\ne=e>>>0,t=t>>>0,n||q(e,t,this.length);let i=this[e],s=1,o=0;for(;++o<t&&(s*=256);)i+=this[e+o]*s;return i},\n\"readUIntLE\");h.prototype.readUintBE=h.prototype.readUIntBE=a(function(e,t,n){e=e>>>0,t=t>>>0,n||q(e,\nt,this.length);let i=this[e+--t],s=1;for(;t>0&&(s*=256);)i+=this[e+--t]*s;return i},\"readUIntBE\");h.\nprototype.readUint8=h.prototype.readUInt8=a(function(e,t){return e=e>>>0,t||q(e,1,this.length),this[e]},\n\"readUInt8\");h.prototype.readUint16LE=h.prototype.readUInt16LE=a(function(e,t){return e=e>>>0,t||q(e,\n2,this.length),this[e]|this[e+1]<<8},\"readUInt16LE\");h.prototype.readUint16BE=h.prototype.readUInt16BE=\na(function(e,t){return e=e>>>0,t||q(e,2,this.length),this[e]<<8|this[e+1]},\"readUInt16BE\");h.prototype.\nreadUint32LE=h.prototype.readUInt32LE=a(function(e,t){return e=e>>>0,t||q(e,4,this.length),(this[e]|\nthis[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216},\"readUInt32LE\");h.prototype.readUint32BE=h.prototype.\nreadUInt32BE=a(function(e,t){return e=e>>>0,t||q(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+\n2]<<8|this[e+3])},\"readUInt32BE\");h.prototype.readBigUInt64LE=we(a(function(e){e=e>>>0,Be(e,\"offset\");\nlet t=this[e],n=this[e+7];(t===void 0||n===void 0)&&je(e,this.length-8);let i=t+this[++e]*2**8+this[++e]*\n2**16+this[++e]*2**24,s=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(s)<<\nBigInt(32))},\"readBigUInt64LE\"));h.prototype.readBigUInt64BE=we(a(function(e){e=e>>>0,Be(e,\"offset\");\nlet t=this[e],n=this[e+7];(t===void 0||n===void 0)&&je(e,this.length-8);let i=t*2**24+this[++e]*2**16+\nthis[++e]*2**8+this[++e],s=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(\n32))+BigInt(s)},\"readBigUInt64BE\"));h.prototype.readIntLE=a(function(e,t,n){e=e>>>0,t=t>>>0,n||q(e,t,\nthis.length);let i=this[e],s=1,o=0;for(;++o<t&&(s*=256);)i+=this[e+o]*s;return s*=128,i>=s&&(i-=Math.\npow(2,8*t)),i},\"readIntLE\");h.prototype.readIntBE=a(function(e,t,n){e=e>>>0,t=t>>>0,n||q(e,t,this.length);\nlet i=t,s=1,o=this[e+--i];for(;i>0&&(s*=256);)o+=this[e+--i]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*\nt)),o},\"readIntBE\");h.prototype.readInt8=a(function(e,t){return e=e>>>0,t||q(e,1,this.length),this[e]&\n128?(255-this[e]+1)*-1:this[e]},\"readInt8\");h.prototype.readInt16LE=a(function(e,t){e=e>>>0,t||q(e,2,\nthis.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n},\"readInt16LE\");h.prototype.readInt16BE=\na(function(e,t){e=e>>>0,t||q(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:\nn},\"readInt16BE\");h.prototype.readInt32LE=a(function(e,t){return e=e>>>0,t||q(e,4,this.length),this[e]|\nthis[e+1]<<8|this[e+2]<<16|this[e+3]<<24},\"readInt32LE\");h.prototype.readInt32BE=a(function(e,t){return e=\ne>>>0,t||q(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},\"readInt32BE\");h.prototype.\nreadBigInt64LE=we(a(function(e){e=e>>>0,Be(e,\"offset\");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&\nje(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(\n32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)},\"readBigInt64LE\"));h.prototype.readBigInt64BE=\nwe(a(function(e){e=e>>>0,Be(e,\"offset\");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&je(e,this.\nlength-8);let i=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(\nthis[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)},\"readBigInt64BE\"));h.prototype.readFloatLE=a(function(e,t){\nreturn e=e>>>0,t||q(e,4,this.length),Pe.read(this,e,!0,23,4)},\"readFloatLE\");h.prototype.readFloatBE=\na(function(e,t){return e=e>>>0,t||q(e,4,this.length),Pe.read(this,e,!1,23,4)},\"readFloatBE\");h.prototype.\nreadDoubleLE=a(function(e,t){return e=e>>>0,t||q(e,8,this.length),Pe.read(this,e,!0,52,8)},\"readDoub\\\nleLE\");h.prototype.readDoubleBE=a(function(e,t){return e=e>>>0,t||q(e,8,this.length),Pe.read(this,e,\n!1,52,8)},\"readDoubleBE\");function V(r,e,t,n,i,s){if(!h.isBuffer(r))throw new TypeError('\"buffer\" ar\\\ngument must be a Buffer instance');if(e>i||e<s)throw new RangeError('\"value\" argument is out of boun\\\nds');if(t+n>r.length)throw new RangeError(\"Index out of range\")}a(V,\"checkInt\");h.prototype.writeUintLE=\nh.prototype.writeUIntLE=a(function(e,t,n,i){if(e=+e,t=t>>>0,n=n>>>0,!i){let u=Math.pow(2,8*n)-1;V(this,\ne,t,n,u,0)}let s=1,o=0;for(this[t]=e&255;++o<n&&(s*=256);)this[t+o]=e/s&255;return t+n},\"writeUIntLE\");\nh.prototype.writeUintBE=h.prototype.writeUIntBE=a(function(e,t,n,i){if(e=+e,t=t>>>0,n=n>>>0,!i){let u=Math.\npow(2,8*n)-1;V(this,e,t,n,u,0)}let s=n-1,o=1;for(this[t+s]=e&255;--s>=0&&(o*=256);)this[t+s]=e/o&255;\nreturn t+n},\"writeUIntBE\");h.prototype.writeUint8=h.prototype.writeUInt8=a(function(e,t,n){return e=\n+e,t=t>>>0,n||V(this,e,t,1,255,0),this[t]=e&255,t+1},\"writeUInt8\");h.prototype.writeUint16LE=h.prototype.\nwriteUInt16LE=a(function(e,t,n){return e=+e,t=t>>>0,n||V(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=\ne>>>8,t+2},\"writeUInt16LE\");h.prototype.writeUint16BE=h.prototype.writeUInt16BE=a(function(e,t,n){return e=\n+e,t=t>>>0,n||V(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2},\"writeUInt16BE\");h.prototype.\nwriteUint32LE=h.prototype.writeUInt32LE=a(function(e,t,n){return e=+e,t=t>>>0,n||V(this,e,t,4,4294967295,\n0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4},\"writeUInt32LE\");h.prototype.\nwriteUint32BE=h.prototype.writeUInt32BE=a(function(e,t,n){return e=+e,t=t>>>0,n||V(this,e,t,4,4294967295,\n0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4},\"writeUInt32BE\");function Zn(r,e,t,n,i){\nri(e,n,i,r,t,7);let s=Number(e&BigInt(4294967295));r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=\ns;let o=Number(e>>BigInt(32)&BigInt(4294967295));return r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o,o=o>>\n8,r[t++]=o,t}a(Zn,\"wrtBigUInt64LE\");function Jn(r,e,t,n,i){ri(e,n,i,r,t,7);let s=Number(e&BigInt(4294967295));\nr[t+7]=s,s=s>>8,r[t+6]=s,s=s>>8,r[t+5]=s,s=s>>8,r[t+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));\nreturn r[t+3]=o,o=o>>8,r[t+2]=o,o=o>>8,r[t+1]=o,o=o>>8,r[t]=o,t+8}a(Jn,\"wrtBigUInt64BE\");h.prototype.\nwriteBigUInt64LE=we(a(function(e,t=0){return Zn(this,e,t,BigInt(0),BigInt(\"0xffffffffffffffff\"))},\"w\\\nriteBigUInt64LE\"));h.prototype.writeBigUInt64BE=we(a(function(e,t=0){return Jn(this,e,t,BigInt(0),BigInt(\n\"0xffffffffffffffff\"))},\"writeBigUInt64BE\"));h.prototype.writeIntLE=a(function(e,t,n,i){if(e=+e,t=t>>>\n0,!i){let c=Math.pow(2,8*n-1);V(this,e,t,n,c-1,-c)}let s=0,o=1,u=0;for(this[t]=e&255;++s<n&&(o*=256);)\ne<0&&u===0&&this[t+s-1]!==0&&(u=1),this[t+s]=(e/o>>0)-u&255;return t+n},\"writeIntLE\");h.prototype.writeIntBE=\na(function(e,t,n,i){if(e=+e,t=t>>>0,!i){let c=Math.pow(2,8*n-1);V(this,e,t,n,c-1,-c)}let s=n-1,o=1,u=0;\nfor(this[t+s]=e&255;--s>=0&&(o*=256);)e<0&&u===0&&this[t+s+1]!==0&&(u=1),this[t+s]=(e/o>>0)-u&255;return t+\nn},\"writeIntBE\");h.prototype.writeInt8=a(function(e,t,n){return e=+e,t=t>>>0,n||V(this,e,t,1,127,-128),\ne<0&&(e=255+e+1),this[t]=e&255,t+1},\"writeInt8\");h.prototype.writeInt16LE=a(function(e,t,n){return e=\n+e,t=t>>>0,n||V(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2},\"writeInt16LE\");h.prototype.\nwriteInt16BE=a(function(e,t,n){return e=+e,t=t>>>0,n||V(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+\n1]=e&255,t+2},\"writeInt16BE\");h.prototype.writeInt32LE=a(function(e,t,n){return e=+e,t=t>>>0,n||V(this,\ne,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},\"\\\nwriteInt32LE\");h.prototype.writeInt32BE=a(function(e,t,n){return e=+e,t=t>>>0,n||V(this,e,t,4,2147483647,\n-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,\nt+4},\"writeInt32BE\");h.prototype.writeBigInt64LE=we(a(function(e,t=0){return Zn(this,e,t,-BigInt(\"0x\\\n8000000000000000\"),BigInt(\"0x7fffffffffffffff\"))},\"writeBigInt64LE\"));h.prototype.writeBigInt64BE=we(\na(function(e,t=0){return Jn(this,e,t,-BigInt(\"0x8000000000000000\"),BigInt(\"0x7fffffffffffffff\"))},\"w\\\nriteBigInt64BE\"));function Xn(r,e,t,n,i,s){if(t+n>r.length)throw new RangeError(\"Index out of range\");\nif(t<0)throw new RangeError(\"Index out of range\")}a(Xn,\"checkIEEE754\");function ei(r,e,t,n,i){return e=\n+e,t=t>>>0,i||Xn(r,e,t,4,34028234663852886e22,-34028234663852886e22),Pe.write(r,e,t,n,23,4),t+4}a(ei,\n\"writeFloat\");h.prototype.writeFloatLE=a(function(e,t,n){return ei(this,e,t,!0,n)},\"writeFloatLE\");h.\nprototype.writeFloatBE=a(function(e,t,n){return ei(this,e,t,!1,n)},\"writeFloatBE\");function ti(r,e,t,n,i){\nreturn e=+e,t=t>>>0,i||Xn(r,e,t,8,17976931348623157e292,-17976931348623157e292),Pe.write(r,e,t,n,52,\n8),t+8}a(ti,\"writeDouble\");h.prototype.writeDoubleLE=a(function(e,t,n){return ti(this,e,t,!0,n)},\"wr\\\niteDoubleLE\");h.prototype.writeDoubleBE=a(function(e,t,n){return ti(this,e,t,!1,n)},\"writeDoubleBE\");\nh.prototype.copy=a(function(e,t,n,i){if(!h.isBuffer(e))throw new TypeError(\"argument should be a Buf\\\nfer\");if(n||(n=0),!i&&i!==0&&(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===\nn||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError(\"targetStart out of bounds\");if(n<\n0||n>=this.length)throw new RangeError(\"Index out of range\");if(i<0)throw new RangeError(\"sourceEnd \\\nout of bounds\");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);let s=i-n;return this===\ne&&typeof Uint8Array.prototype.copyWithin==\"function\"?this.copyWithin(t,n,i):Uint8Array.prototype.set.\ncall(e,this.subarray(n,i),t),s},\"copy\");h.prototype.fill=a(function(e,t,n,i){if(typeof e==\"string\"){\nif(typeof t==\"string\"?(i=t,t=0,n=this.length):typeof n==\"string\"&&(i=n,n=this.length),i!==void 0&&typeof i!=\n\"string\")throw new TypeError(\"encoding must be a string\");if(typeof i==\"string\"&&!h.isEncoding(i))throw new TypeError(\n\"Unknown encoding: \"+i);if(e.length===1){let o=e.charCodeAt(0);(i===\"utf8\"&&o<128||i===\"latin1\")&&(e=\no)}}else typeof e==\"number\"?e=e&255:typeof e==\"boolean\"&&(e=Number(e));if(t<0||this.length<t||this.length<\nn)throw new RangeError(\"Out of range index\");if(n<=t)return this;t=t>>>0,n=n===void 0?this.length:n>>>\n0,e||(e=0);let s;if(typeof e==\"number\")for(s=t;s<n;++s)this[s]=e;else{let o=h.isBuffer(e)?e:h.from(e,\ni),u=o.length;if(u===0)throw new TypeError('The value \"'+e+'\" is invalid for argument \"value\"');for(s=\n0;s<n-t;++s)this[s+t]=o[s%u]}return this},\"fill\");var Te={};function Vt(r,e,t){var n;Te[r]=(n=class extends t{constructor(){\nsuper(),Object.defineProperty(this,\"message\",{value:e.apply(this,arguments),writable:!0,configurable:!0}),\nthis.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(s){Object.defineProperty(\nthis,\"code\",{configurable:!0,enumerable:!0,value:s,writable:!0})}toString(){return`${this.name} [${r}\\\n]: ${this.message}`}},a(n,\"NodeError\"),n)}a(Vt,\"E\");Vt(\"ERR_BUFFER_OUT_OF_BOUNDS\",function(r){return r?\n`${r} is outside of buffer bounds`:\"Attempt to access memory outside buffer bounds\"},RangeError);Vt(\n\"ERR_INVALID_ARG_TYPE\",function(r,e){return`The \"${r}\" argument must be of type number. Received typ\\\ne ${typeof e}`},TypeError);Vt(\"ERR_OUT_OF_RANGE\",function(r,e,t){let n=`The value of \"${r}\" is out o\\\nf range.`,i=t;return Number.isInteger(t)&&Math.abs(t)>2**32?i=$n(String(t)):typeof t==\"bigint\"&&(i=String(\nt),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(i=$n(i)),i+=\"n\"),n+=` It must be ${e}. Re\\\nceived ${i}`,n},RangeError);function $n(r){let e=\"\",t=r.length,n=r[0]===\"-\"?1:0;for(;t>=n+4;t-=3)e=`\\\n_${r.slice(t-3,t)}${e}`;return`${r.slice(0,t)}${e}`}a($n,\"addNumericalSeparator\");function Xo(r,e,t){\nBe(e,\"offset\"),(r[e]===void 0||r[e+t]===void 0)&&je(e,r.length-(t+1))}a(Xo,\"checkBounds\");function ri(r,e,t,n,i,s){\nif(r>t||r<e){let o=typeof e==\"bigint\"?\"n\":\"\",u;throw s>3?e===0||e===BigInt(0)?u=`>= 0${o} and < 2${o}\\\n ** ${(s+1)*8}${o}`:u=`>= -(2${o} ** ${(s+1)*8-1}${o}) and < 2 ** ${(s+1)*8-1}${o}`:u=`>= ${e}${o} a\\\nnd <= ${t}${o}`,new Te.ERR_OUT_OF_RANGE(\"value\",u,r)}Xo(n,i,s)}a(ri,\"checkIntBI\");function Be(r,e){if(typeof r!=\n\"number\")throw new Te.ERR_INVALID_ARG_TYPE(e,\"number\",r)}a(Be,\"validateNumber\");function je(r,e,t){throw Math.\nfloor(r)!==r?(Be(r,t),new Te.ERR_OUT_OF_RANGE(t||\"offset\",\"an integer\",r)):e<0?new Te.ERR_BUFFER_OUT_OF_BOUNDS:\nnew Te.ERR_OUT_OF_RANGE(t||\"offset\",`>= ${t?1:0} and <= ${e}`,r)}a(je,\"boundsError\");var ea=/[^+/0-9A-Za-z-_]/g;\nfunction ta(r){if(r=r.split(\"=\")[0],r=r.trim().replace(ea,\"\"),r.length<2)return\"\";for(;r.length%4!==\n0;)r=r+\"=\";return r}a(ta,\"base64clean\");function Ht(r,e){e=e||1/0;let t,n=r.length,i=null,s=[];for(let o=0;o<\nn;++o){if(t=r.charCodeAt(o),t>55295&&t<57344){if(!i){if(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+\n1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,189),\ni=t;continue}t=(i-55296<<10|t-56320)+65536}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,t<128){if((e-=\n1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;s.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=\n3)<0)break;s.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;s.push(t>>18|\n240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error(\"Invalid code point\")}return s}a(Ht,\"utf\\\n8ToBytes\");function ra(r){let e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}a(\nra,\"asciiToBytes\");function na(r,e){let t,n,i,s=[];for(let o=0;o<r.length&&!((e-=2)<0);++o)t=r.charCodeAt(\no),n=t>>8,i=t%256,s.push(i),s.push(n);return s}a(na,\"utf16leToBytes\");function ni(r){return Nt.toByteArray(\nta(r))}a(ni,\"base64ToBytes\");function ht(r,e,t,n){let i;for(i=0;i<n&&!(i+t>=e.length||i>=r.length);++i)\ne[i+t]=r[i];return i}a(ht,\"blitBuffer\");function ue(r,e){return r instanceof e||r!=null&&r.constructor!=\nnull&&r.constructor.name!=null&&r.constructor.name===e.name}a(ue,\"isInstance\");function zt(r){return r!==\nr}a(zt,\"numberIsNaN\");var ia=function(){let r=\"0123456789abcdef\",e=new Array(256);for(let t=0;t<16;++t){\nlet n=t*16;for(let i=0;i<16;++i)e[n+i]=r[t]+r[i]}return e}();function we(r){return typeof BigInt>\"u\"?\nsa:r}a(we,\"defineBigIntMethod\");function sa(){throw new Error(\"BigInt not supported\")}a(sa,\"BufferBi\\\ngIntNotDefined\")});var b,v,x,d,m,p=G(()=>{\"use strict\";b=globalThis,v=globalThis.setImmediate??(r=>setTimeout(r,0)),x=globalThis.\nclearImmediate??(r=>clearTimeout(r)),d=typeof globalThis.Buffer==\"function\"&&typeof globalThis.Buffer.\nallocUnsafe==\"function\"?globalThis.Buffer:ii().Buffer,m=globalThis.process??{};m.env??(m.env={});try{\nm.nextTick(()=>{})}catch{let e=Promise.resolve();m.nextTick=e.then.bind(e)}});var ge=T((Rl,Kt)=>{\"use strict\";p();var Le=typeof Reflect==\"object\"?Reflect:null,si=Le&&typeof Le.apply==\n\"function\"?Le.apply:a(function(e,t,n){return Function.prototype.apply.call(e,t,n)},\"ReflectApply\"),pt;\nLe&&typeof Le.ownKeys==\"function\"?pt=Le.ownKeys:Object.getOwnPropertySymbols?pt=a(function(e){return Object.\ngetOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))},\"ReflectOwnKeys\"):pt=a(function(e){return Object.\ngetOwnPropertyNames(e)},\"ReflectOwnKeys\");function oa(r){console&&console.warn&&console.warn(r)}a(oa,\n\"ProcessEmitWarning\");var ai=Number.isNaN||a(function(e){return e!==e},\"NumberIsNaN\");function B(){B.\ninit.call(this)}a(B,\"EventEmitter\");Kt.exports=B;Kt.exports.once=la;B.EventEmitter=B;B.prototype._events=\nvoid 0;B.prototype._eventsCount=0;B.prototype._maxListeners=void 0;var oi=10;function dt(r){if(typeof r!=\n\"function\")throw new TypeError('The \"listener\" argument must be of type Function. Received type '+typeof r)}\na(dt,\"checkListener\");Object.defineProperty(B,\"defaultMaxListeners\",{enumerable:!0,get:a(function(){\nreturn oi},\"get\"),set:a(function(r){if(typeof r!=\"number\"||r<0||ai(r))throw new RangeError('The valu\\\ne of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received '+r+\".\");oi=r},\n\"set\")});B.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&\n(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};\nB.prototype.setMaxListeners=a(function(e){if(typeof e!=\"number\"||e<0||ai(e))throw new RangeError('Th\\\ne value of \"n\" is out of range. It must be a non-negative number. Received '+e+\".\");return this._maxListeners=\ne,this},\"setMaxListeners\");function ui(r){return r._maxListeners===void 0?B.defaultMaxListeners:r._maxListeners}\na(ui,\"_getMaxListeners\");B.prototype.getMaxListeners=a(function(){return ui(this)},\"getMaxListeners\");\nB.prototype.emit=a(function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i=e===\n\"error\",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(t.length>\n0&&(o=t[0]),o instanceof Error)throw o;var u=new Error(\"Unhandled error.\"+(o?\" (\"+o.message+\")\":\"\"));\nthrow u.context=o,u}var c=s[e];if(c===void 0)return!1;if(typeof c==\"function\")si(c,this,t);else for(var l=c.\nlength,f=pi(c,l),n=0;n<l;++n)si(f[n],this,t);return!0},\"emit\");function ci(r,e,t,n){var i,s,o;if(dt(\nt),s=r._events,s===void 0?(s=r._events=Object.create(null),r._eventsCount=0):(s.newListener!==void 0&&\n(r.emit(\"newListener\",e,t.listener?t.listener:t),s=r._events),o=s[e]),o===void 0)o=s[e]=t,++r._eventsCount;else if(typeof o==\n\"function\"?o=s[e]=n?[t,o]:[o,t]:n?o.unshift(t):o.push(t),i=ui(r),i>0&&o.length>i&&!o.warned){o.warned=\n!0;var u=new Error(\"Possible EventEmitter memory leak detected. \"+o.length+\" \"+String(e)+\" listeners\\\n added. Use emitter.setMaxListeners() to increase limit\");u.name=\"MaxListenersExceededWarning\",u.emitter=\nr,u.type=e,u.count=o.length,oa(u)}return r}a(ci,\"_addListener\");B.prototype.addListener=a(function(e,t){\nreturn ci(this,e,t,!1)},\"addListener\");B.prototype.on=B.prototype.addListener;B.prototype.prependListener=\na(function(e,t){return ci(this,e,t,!0)},\"prependListener\");function aa(){if(!this.fired)return this.\ntarget.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.\ntarget):this.listener.apply(this.target,arguments)}a(aa,\"onceWrapper\");function li(r,e,t){var n={fired:!1,\nwrapFn:void 0,target:r,type:e,listener:t},i=aa.bind(n);return i.listener=t,n.wrapFn=i,i}a(li,\"_onceW\\\nrap\");B.prototype.once=a(function(e,t){return dt(t),this.on(e,li(this,e,t)),this},\"once\");B.prototype.\nprependOnceListener=a(function(e,t){return dt(t),this.prependListener(e,li(this,e,t)),this},\"prepend\\\nOnceListener\");B.prototype.removeListener=a(function(e,t){var n,i,s,o,u;if(dt(t),i=this._events,i===\nvoid 0)return this;if(n=i[e],n===void 0)return this;if(n===t||n.listener===t)--this._eventsCount===0?\nthis._events=Object.create(null):(delete i[e],i.removeListener&&this.emit(\"removeListener\",e,n.listener||\nt));else if(typeof n!=\"function\"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){u=n[o].\nlistener,s=o;break}if(s<0)return this;s===0?n.shift():ua(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==\nvoid 0&&this.emit(\"removeListener\",e,u||t)}return this},\"removeListener\");B.prototype.off=B.prototype.\nremoveListener;B.prototype.removeAllListeners=a(function(e){var t,n,i;if(n=this._events,n===void 0)return this;\nif(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=\n0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.\nlength===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!==\"removeListener\"&&this.removeAllListeners(\no);return this.removeAllListeners(\"removeListener\"),this._events=Object.create(null),this._eventsCount=\n0,this}if(t=n[e],typeof t==\"function\")this.removeListener(e,t);else if(t!==void 0)for(i=t.length-1;i>=\n0;i--)this.removeListener(e,t[i]);return this},\"removeAllListeners\");function fi(r,e,t){var n=r._events;\nif(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i==\"function\"?t?[i.listener||i]:[i]:t?\nca(i):pi(i,i.length)}a(fi,\"_listeners\");B.prototype.listeners=a(function(e){return fi(this,e,!0)},\"l\\\nisteners\");B.prototype.rawListeners=a(function(e){return fi(this,e,!1)},\"rawListeners\");B.listenerCount=\nfunction(r,e){return typeof r.listenerCount==\"function\"?r.listenerCount(e):hi.call(r,e)};B.prototype.\nlistenerCount=hi;function hi(r){var e=this._events;if(e!==void 0){var t=e[r];if(typeof t==\"function\")\nreturn 1;if(t!==void 0)return t.length}return 0}a(hi,\"listenerCount\");B.prototype.eventNames=a(function(){\nreturn this._eventsCount>0?pt(this._events):[]},\"eventNames\");function pi(r,e){for(var t=new Array(e),\nn=0;n<e;++n)t[n]=r[n];return t}a(pi,\"arrayClone\");function ua(r,e){for(;e+1<r.length;e++)r[e]=r[e+1];\nr.pop()}a(ua,\"spliceOne\");function ca(r){for(var e=new Array(r.length),t=0;t<e.length;++t)e[t]=r[t].\nlistener||r[t];return e}a(ca,\"unwrapListeners\");function la(r,e){return new Promise(function(t,n){function i(o){\nr.removeListener(e,s),n(o)}a(i,\"errorListener\");function s(){typeof r.removeListener==\"function\"&&r.\nremoveListener(\"error\",i),t([].slice.call(arguments))}a(s,\"resolver\"),di(r,e,s,{once:!0}),e!==\"error\"&&\nfa(r,i,{once:!0})})}a(la,\"once\");function fa(r,e,t){typeof r.on==\"function\"&&di(r,\"error\",e,t)}a(fa,\n\"addErrorHandlerIfEventEmitter\");function di(r,e,t,n){if(typeof r.on==\"function\")n.once?r.once(e,t):\nr.on(e,t);else if(typeof r.addEventListener==\"function\")r.addEventListener(e,a(function i(s){n.once&&\nr.removeEventListener(e,i),t(s)},\"wrapListener\"));else throw new TypeError('The \"emitter\" argument m\\\nust be of type EventEmitter. Received type '+typeof r)}a(di,\"eventTargetAgnosticAddListener\")});var wi={};ie(wi,{Socket:()=>ce,isIP:()=>ha});function ha(r){return 0}var mi,yi,S,ce,Fe=G(()=>{\"use s\\\ntrict\";p();mi=Se(ge(),1);a(ha,\"isIP\");yi=/^[^.]+\\./,S=class S extends mi.EventEmitter{constructor(){\nsuper(...arguments);E(this,\"opts\",{});E(this,\"connecting\",!1);E(this,\"pending\",!0);E(this,\"writable\",\n!0);E(this,\"encrypted\",!1);E(this,\"authorized\",!1);E(this,\"destroyed\",!1);E(this,\"ws\",null);E(this,\"\\\nwriteBuffer\");E(this,\"tlsState\",0);E(this,\"tlsRead\");E(this,\"tlsWrite\")}static get poolQueryViaFetch(){\nreturn S.opts.poolQueryViaFetch??S.defaults.poolQueryViaFetch}static set poolQueryViaFetch(t){S.opts.\npoolQueryViaFetch=t}static get fetchEndpoint(){return S.opts.fetchEndpoint??S.defaults.fetchEndpoint}static set fetchEndpoint(t){\nS.opts.fetchEndpoint=t}static get fetchConnectionCache(){return!0}static set fetchConnectionCache(t){\nconsole.warn(\"The `fetchConnectionCache` option is deprecated (now always `true`)\")}static get fetchFunction(){\nreturn S.opts.fetchFunction??S.defaults.fetchFunction}static set fetchFunction(t){S.opts.fetchFunction=\nt}static get webSocketConstructor(){return S.opts.webSocketConstructor??S.defaults.webSocketConstructor}static set webSocketConstructor(t){\nS.opts.webSocketConstructor=t}get webSocketConstructor(){return this.opts.webSocketConstructor??S.webSocketConstructor}set webSocketConstructor(t){\nthis.opts.webSocketConstructor=t}static get wsProxy(){return S.opts.wsProxy??S.defaults.wsProxy}static set wsProxy(t){\nS.opts.wsProxy=t}get wsProxy(){return this.opts.wsProxy??S.wsProxy}set wsProxy(t){this.opts.wsProxy=\nt}static get coalesceWrites(){return S.opts.coalesceWrites??S.defaults.coalesceWrites}static set coalesceWrites(t){\nS.opts.coalesceWrites=t}get coalesceWrites(){return this.opts.coalesceWrites??S.coalesceWrites}set coalesceWrites(t){\nthis.opts.coalesceWrites=t}static get useSecureWebSocket(){return S.opts.useSecureWebSocket??S.defaults.\nuseSecureWebSocket}static set useSecureWebSocket(t){S.opts.useSecureWebSocket=t}get useSecureWebSocket(){\nreturn this.opts.useSecureWebSocket??S.useSecureWebSocket}set useSecureWebSocket(t){this.opts.useSecureWebSocket=\nt}static get forceDisablePgSSL(){return S.opts.forceDisablePgSSL??S.defaults.forceDisablePgSSL}static set forceDisablePgSSL(t){\nS.opts.forceDisablePgSSL=t}get forceDisablePgSSL(){return this.opts.forceDisablePgSSL??S.forceDisablePgSSL}set forceDisablePgSSL(t){\nthis.opts.forceDisablePgSSL=t}static get disableSNI(){return S.opts.disableSNI??S.defaults.disableSNI}static set disableSNI(t){\nS.opts.disableSNI=t}get disableSNI(){return this.opts.disableSNI??S.disableSNI}set disableSNI(t){this.\nopts.disableSNI=t}static get disableWarningInBrowsers(){return S.opts.disableWarningInBrowsers??S.defaults.\ndisableWarningInBrowsers}static set disableWarningInBrowsers(t){S.opts.disableWarningInBrowsers=t}get disableWarningInBrowsers(){\nreturn this.opts.disableWarningInBrowsers??S.disableWarningInBrowsers}set disableWarningInBrowsers(t){\nthis.opts.disableWarningInBrowsers=t}static get pipelineConnect(){return S.opts.pipelineConnect??S.defaults.\npipelineConnect}static set pipelineConnect(t){S.opts.pipelineConnect=t}get pipelineConnect(){return this.\nopts.pipelineConnect??S.pipelineConnect}set pipelineConnect(t){this.opts.pipelineConnect=t}static get subtls(){\nreturn S.opts.subtls??S.defaults.subtls}static set subtls(t){S.opts.subtls=t}get subtls(){return this.\nopts.subtls??S.subtls}set subtls(t){this.opts.subtls=t}static get pipelineTLS(){return S.opts.pipelineTLS??\nS.defaults.pipelineTLS}static set pipelineTLS(t){S.opts.pipelineTLS=t}get pipelineTLS(){return this.\nopts.pipelineTLS??S.pipelineTLS}set pipelineTLS(t){this.opts.pipelineTLS=t}static get rootCerts(){return S.\nopts.rootCerts??S.defaults.rootCerts}static set rootCerts(t){S.opts.rootCerts=t}get rootCerts(){return this.\nopts.rootCerts??S.rootCerts}set rootCerts(t){this.opts.rootCerts=t}wsProxyAddrForHost(t,n){let i=this.\nwsProxy;if(i===void 0)throw new Error(\"No WebSocket proxy is configured. Please see https://github.c\\\nom/neondatabase/serverless/blob/main/CONFIG.md#wsproxy-string--host-string-port-number--string--stri\\\nng\");return typeof i==\"function\"?i(t,n):`${i}?address=${t}:${n}`}setNoDelay(){return this}setKeepAlive(){\nreturn this}ref(){return this}unref(){return this}connect(t,n,i){this.connecting=!0,i&&this.once(\"co\\\nnnect\",i);let s=a(()=>{this.connecting=!1,this.pending=!1,this.emit(\"connect\"),this.emit(\"ready\")},\"\\\nhandleWebSocketOpen\"),o=a((c,l=!1)=>{c.binaryType=\"arraybuffer\",c.addEventListener(\"error\",f=>{this.\nemit(\"error\",f),this.emit(\"close\")}),c.addEventListener(\"message\",f=>{if(this.tlsState===0){let y=d.\nfrom(f.data);this.emit(\"data\",y)}}),c.addEventListener(\"close\",()=>{this.emit(\"close\")}),l?s():c.addEventListener(\n\"open\",s)},\"configureWebSocket\"),u;try{u=this.wsProxyAddrForHost(n,typeof t==\"string\"?parseInt(t,10):\nt)}catch(c){this.emit(\"error\",c),this.emit(\"close\");return}try{let l=(this.useSecureWebSocket?\"wss:\":\n\"ws:\")+\"//\"+u;if(this.webSocketConstructor!==void 0)this.ws=new this.webSocketConstructor(l),o(this.\nws);else try{this.ws=new WebSocket(l),o(this.ws)}catch{this.ws=new __unstable_WebSocket(l),o(this.ws)}}catch(c){\nlet f=(this.useSecureWebSocket?\"https:\":\"http:\")+\"//\"+u;fetch(f,{headers:{Upgrade:\"websocket\"}}).then(\ny=>{if(this.ws=y.webSocket,this.ws==null)throw c;this.ws.accept(),o(this.ws,!0)}).catch(y=>{this.emit(\n\"error\",new Error(`All attempts to open a WebSocket to connect to the database failed. Please refer \\\nto https://github.com/neondatabase/serverless/blob/main/CONFIG.md#websocketconstructor-typeof-websoc\\\nket--undefined. Details: ${y}`)),this.emit(\"close\")})}}async startTls(t){if(this.subtls===void 0)throw new Error(\n\"For Postgres SSL connections, you must set `neonConfig.subtls` to the subtls library. See https://g\\\nithub.com/neondatabase/serverless/blob/main/CONFIG.md for more information.\");this.tlsState=1;let n=await this.\nsubtls.TrustedCert.databaseFromPEM(this.rootCerts),i=new this.subtls.WebSocketReadQueue(this.ws),s=i.\nread.bind(i),o=this.rawWrite.bind(this),{read:u,write:c}=await this.subtls.startTls(t,n,s,o,{useSNI:!this.\ndisableSNI,expectPreData:this.pipelineTLS?new Uint8Array([83]):void 0});this.tlsRead=u,this.tlsWrite=\nc,this.tlsState=2,this.encrypted=!0,this.authorized=!0,this.emit(\"secureConnection\",this),this.tlsReadLoop()}async tlsReadLoop(){\nfor(;;){let t=await this.tlsRead();if(t===void 0)break;{let n=d.from(t);this.emit(\"data\",n)}}}rawWrite(t){\nif(!this.coalesceWrites){this.ws&&this.ws.send(t);return}if(this.writeBuffer===void 0)this.writeBuffer=\nt,setTimeout(()=>{this.ws&&this.ws.send(this.writeBuffer),this.writeBuffer=void 0},0);else{let n=new Uint8Array(\nthis.writeBuffer.length+t.length);n.set(this.writeBuffer),n.set(t,this.writeBuffer.length),this.writeBuffer=\nn}}write(t,n=\"utf8\",i=s=>{}){return t.length===0?(i(),!0):(typeof t==\"string\"&&(t=d.from(t,n)),this.\ntlsState===0?(this.rawWrite(t),i()):this.tlsState===1?this.once(\"secureConnection\",()=>{this.write(t,\nn,i)}):(this.tlsWrite(t),i()),!0)}end(t=d.alloc(0),n=\"utf8\",i=()=>{}){return this.write(t,n,()=>{this.\nws.close(),i()}),this}destroy(){return this.destroyed=!0,this.end()}};a(S,\"Socket\"),E(S,\"defaults\",{\npoolQueryViaFetch:!1,fetchEndpoint:a((t,n,i)=>{let s;return i?.jwtAuth?s=t.replace(yi,\"apiauth.\"):s=\nt.replace(yi,\"api.\"),\"https://\"+s+\"/sql\"},\"fetchEndpoint\"),fetchConnectionCache:!0,fetchFunction:void 0,\nwebSocketConstructor:void 0,wsProxy:a(t=>t+\"/v2\",\"wsProxy\"),useSecureWebSocket:!0,forceDisablePgSSL:!0,\ncoalesceWrites:!0,pipelineConnect:\"password\",subtls:void 0,rootCerts:\"\",pipelineTLS:!1,disableSNI:!1,\ndisableWarningInBrowsers:!1}),E(S,\"opts\",{});ce=S});var gi={};ie(gi,{parse:()=>Yt});function Yt(r,e=!1){let{protocol:t}=new URL(r),n=\"http:\"+r.substring(\nt.length),{username:i,password:s,host:o,hostname:u,port:c,pathname:l,search:f,searchParams:y,hash:g}=new URL(\nn);s=decodeURIComponent(s),i=decodeURIComponent(i),l=decodeURIComponent(l);let A=i+\":\"+s,C=e?Object.\nfromEntries(y.entries()):f;return{href:r,protocol:t,auth:A,username:i,password:s,host:o,hostname:u,port:c,\npathname:l,search:f,query:C,hash:g}}var Zt=G(()=>{\"use strict\";p();a(Yt,\"parse\")});var tr=T(Ai=>{\"use strict\";p();Ai.parse=function(r,e){return new er(r,e).parse()};var vt=class vt{constructor(e,t){\nthis.source=e,this.transform=t||Ca,this.position=0,this.entries=[],this.recorded=[],this.dimension=0}isEof(){\nreturn this.position>=this.source.length}nextCharacter(){var e=this.source[this.position++];return e===\n\"\\\\\"?{value:this.source[this.position++],escaped:!0}:{value:e,escaped:!1}}record(e){this.recorded.push(\ne)}newEntry(e){var t;(this.recorded.length>0||e)&&(t=this.recorded.join(\"\"),t===\"NULL\"&&!e&&(t=null),\nt!==null&&(t=this.transform(t)),this.entries.push(t),this.recorded=[])}consumeDimensions(){if(this.source[0]===\n\"[\")for(;!this.isEof();){var e=this.nextCharacter();if(e.value===\"=\")break}}parse(e){var t,n,i;for(this.\nconsumeDimensions();!this.isEof();)if(t=this.nextCharacter(),t.value===\"{\"&&!i)this.dimension++,this.\ndimension>1&&(n=new vt(this.source.substr(this.position-1),this.transform),this.entries.push(n.parse(\n!0)),this.position+=n.position-2);else if(t.value===\"}\"&&!i){if(this.dimension--,!this.dimension&&(this.\nnewEntry(),e))return this.entries}else t.value==='\"'&&!t.escaped?(i&&this.newEntry(!0),i=!i):t.value===\n\",\"&&!i?this.newEntry():this.record(t.value);if(this.dimension!==0)throw new Error(\"array dimension \\\nnot balanced\");return this.entries}};a(vt,\"ArrayParser\");var er=vt;function Ca(r){return r}a(Ca,\"ide\\\nntity\")});var rr=T((Zl,Ci)=>{p();var _a=tr();Ci.exports={create:a(function(r,e){return{parse:a(function(){return _a.\nparse(r,e)},\"parse\")}},\"create\")}});var Ti=T((ef,Ii)=>{\"use strict\";p();var Ia=/(\\d{1,})-(\\d{2})-(\\d{2}) (\\d{2}):(\\d{2}):(\\d{2})(\\.\\d{1,})?.*?( BC)?$/,\nTa=/^(\\d{1,})-(\\d{2})-(\\d{2})( BC)?$/,Pa=/([Z+-])(\\d{2})?:?(\\d{2})?:?(\\d{2})?/,Ba=/^-?infinity$/;Ii.\nexports=a(function(e){if(Ba.test(e))return Number(e.replace(\"i\",\"I\"));var t=Ia.exec(e);if(!t)return Ra(\ne)||null;var n=!!t[8],i=parseInt(t[1],10);n&&(i=_i(i));var s=parseInt(t[2],10)-1,o=t[3],u=parseInt(t[4],\n10),c=parseInt(t[5],10),l=parseInt(t[6],10),f=t[7];f=f?1e3*parseFloat(f):0;var y,g=La(e);return g!=null?\n(y=new Date(Date.UTC(i,s,o,u,c,l,f)),nr(i)&&y.setUTCFullYear(i),g!==0&&y.setTime(y.getTime()-g)):(y=\nnew Date(i,s,o,u,c,l,f),nr(i)&&y.setFullYear(i)),y},\"parseDate\");function Ra(r){var e=Ta.exec(r);if(e){\nvar t=parseInt(e[1],10),n=!!e[4];n&&(t=_i(t));var i=parseInt(e[2],10)-1,s=e[3],o=new Date(t,i,s);return nr(\nt)&&o.setFullYear(t),o}}a(Ra,\"getDate\");function La(r){if(r.endsWith(\"+00\"))return 0;var e=Pa.exec(r.\nsplit(\" \")[1]);if(e){var t=e[1];if(t===\"Z\")return 0;var n=t===\"-\"?-1:1,i=parseInt(e[2],10)*3600+parseInt(\ne[3]||0,10)*60+parseInt(e[4]||0,10);return i*n*1e3}}a(La,\"timeZoneOffset\");function _i(r){return-(r-\n1)}a(_i,\"bcYearToNegativeYear\");function nr(r){return r>=0&&r<100}a(nr,\"is0To99\")});var Bi=T((nf,Pi)=>{p();Pi.exports=ka;var Fa=Object.prototype.hasOwnProperty;function ka(r){for(var e=1;e<\narguments.length;e++){var t=arguments[e];for(var n in t)Fa.call(t,n)&&(r[n]=t[n])}return r}a(ka,\"ext\\\nend\")});var Fi=T((af,Li)=>{\"use strict\";p();var Ma=Bi();Li.exports=ke;function ke(r){if(!(this instanceof ke))\nreturn new ke(r);Ma(this,Va(r))}a(ke,\"PostgresInterval\");var Ua=[\"seconds\",\"minutes\",\"hours\",\"days\",\n\"months\",\"years\"];ke.prototype.toPostgres=function(){var r=Ua.filter(this.hasOwnProperty,this);return this.\nmilliseconds&&r.indexOf(\"seconds\")<0&&r.push(\"seconds\"),r.length===0?\"0\":r.map(function(e){var t=this[e]||\n0;return e===\"seconds\"&&this.milliseconds&&(t=(t+this.milliseconds/1e3).toFixed(6).replace(/\\.?0+$/,\n\"\")),t+\" \"+e},this).join(\" \")};var Da={years:\"Y\",months:\"M\",days:\"D\",hours:\"H\",minutes:\"M\",seconds:\"\\\nS\"},Oa=[\"years\",\"months\",\"days\"],qa=[\"hours\",\"minutes\",\"seconds\"];ke.prototype.toISOString=ke.prototype.\ntoISO=function(){var r=Oa.map(t,this).join(\"\"),e=qa.map(t,this).join(\"\");return\"P\"+r+\"T\"+e;function t(n){\nvar i=this[n]||0;return n===\"seconds\"&&this.milliseconds&&(i=(i+this.milliseconds/1e3).toFixed(6).replace(\n/0+$/,\"\")),i+Da[n]}};var ir=\"([+-]?\\\\d+)\",Qa=ir+\"\\\\s+years?\",Na=ir+\"\\\\s+mons?\",Wa=ir+\"\\\\s+days?\",ja=\"\\\n([+-])?([\\\\d]*):(\\\\d\\\\d):(\\\\d\\\\d)\\\\.?(\\\\d{1,6})?\",Ha=new RegExp([Qa,Na,Wa,ja].map(function(r){return\"\\\n(\"+r+\")?\"}).join(\"\\\\s*\")),Ri={years:2,months:4,days:6,hours:9,minutes:10,seconds:11,milliseconds:12},\n$a=[\"hours\",\"minutes\",\"seconds\",\"milliseconds\"];function Ga(r){var e=r+\"000000\".slice(r.length);return parseInt(\ne,10)/1e3}a(Ga,\"parseMilliseconds\");function Va(r){if(!r)return{};var e=Ha.exec(r),t=e[8]===\"-\";return Object.\nkeys(Ri).reduce(function(n,i){var s=Ri[i],o=e[s];return!o||(o=i===\"milliseconds\"?Ga(o):parseInt(o,10),\n!o)||(t&&~$a.indexOf(i)&&(o*=-1),n[i]=o),n},{})}a(Va,\"parse\")});var Mi=T((lf,ki)=>{\"use strict\";p();ki.exports=a(function(e){if(/^\\\\x/.test(e))return new d(e.substr(\n2),\"hex\");for(var t=\"\",n=0;n<e.length;)if(e[n]!==\"\\\\\")t+=e[n],++n;else if(/[0-7]{3}/.test(e.substr(n+\n1,3)))t+=String.fromCharCode(parseInt(e.substr(n+1,3),8)),n+=4;else{for(var i=1;n+i<e.length&&e[n+i]===\n\"\\\\\";)i++;for(var s=0;s<Math.floor(i/2);++s)t+=\"\\\\\";n+=Math.floor(i/2)*2}return new d(t,\"binary\")},\"\\\nparseBytea\")});var Wi=T((pf,Ni)=>{p();var Ve=tr(),ze=rr(),xt=Ti(),Di=Fi(),Oi=Mi();function St(r){return a(function(t){\nreturn t===null?t:r(t)},\"nullAllowed\")}a(St,\"allowNull\");function qi(r){return r===null?r:r===\"TRUE\"||\nr===\"t\"||r===\"true\"||r===\"y\"||r===\"yes\"||r===\"on\"||r===\"1\"}a(qi,\"parseBool\");function za(r){return r?\nVe.parse(r,qi):null}a(za,\"parseBoolArray\");function Ka(r){return parseInt(r,10)}a(Ka,\"parseBaseTenIn\\\nt\");function sr(r){return r?Ve.parse(r,St(Ka)):null}a(sr,\"parseIntegerArray\");function Ya(r){return r?\nVe.parse(r,St(function(e){return Qi(e).trim()})):null}a(Ya,\"parseBigIntegerArray\");var Za=a(function(r){\nif(!r)return null;var e=ze.create(r,function(t){return t!==null&&(t=cr(t)),t});return e.parse()},\"pa\\\nrsePointArray\"),or=a(function(r){if(!r)return null;var e=ze.create(r,function(t){return t!==null&&(t=\nparseFloat(t)),t});return e.parse()},\"parseFloatArray\"),re=a(function(r){if(!r)return null;var e=ze.\ncreate(r);return e.parse()},\"parseStringArray\"),ar=a(function(r){if(!r)return null;var e=ze.create(r,\nfunction(t){return t!==null&&(t=xt(t)),t});return e.parse()},\"parseDateArray\"),Ja=a(function(r){if(!r)\nreturn null;var e=ze.create(r,function(t){return t!==null&&(t=Di(t)),t});return e.parse()},\"parseInt\\\nervalArray\"),Xa=a(function(r){return r?Ve.parse(r,St(Oi)):null},\"parseByteAArray\"),ur=a(function(r){\nreturn parseInt(r,10)},\"parseInteger\"),Qi=a(function(r){var e=String(r);return/^\\d+$/.test(e)?e:r},\"\\\nparseBigInteger\"),Ui=a(function(r){return r?Ve.parse(r,St(JSON.parse)):null},\"parseJsonArray\"),cr=a(\nfunction(r){return r[0]!==\"(\"?null:(r=r.substring(1,r.length-1).split(\",\"),{x:parseFloat(r[0]),y:parseFloat(\nr[1])})},\"parsePoint\"),eu=a(function(r){if(r[0]!==\"<\"&&r[1]!==\"(\")return null;for(var e=\"(\",t=\"\",n=!1,\ni=2;i<r.length-1;i++){if(n||(e+=r[i]),r[i]===\")\"){n=!0;continue}else if(!n)continue;r[i]!==\",\"&&(t+=\nr[i])}var s=cr(e);return s.radius=parseFloat(t),s},\"parseCircle\"),tu=a(function(r){r(20,Qi),r(21,ur),\nr(23,ur),r(26,ur),r(700,parseFloat),r(701,parseFloat),r(16,qi),r(1082,xt),r(1114,xt),r(1184,xt),r(600,\ncr),r(651,re),r(718,eu),r(1e3,za),r(1001,Xa),r(1005,sr),r(1007,sr),r(1028,sr),r(1016,Ya),r(1017,Za),\nr(1021,or),r(1022,or),r(1231,or),r(1014,re),r(1015,re),r(1008,re),r(1009,re),r(1040,re),r(1041,re),r(\n1115,ar),r(1182,ar),r(1185,ar),r(1186,Di),r(1187,Ja),r(17,Oi),r(114,JSON.parse.bind(JSON)),r(3802,JSON.\nparse.bind(JSON)),r(199,Ui),r(3807,Ui),r(3907,re),r(2951,re),r(791,re),r(1183,re),r(1270,re)},\"init\");\nNi.exports={init:tu}});var Hi=T((mf,ji)=>{\"use strict\";p();var z=1e6;function ru(r){var e=r.readInt32BE(0),t=r.readUInt32BE(\n4),n=\"\";e<0&&(e=~e+(t===0),t=~t+1>>>0,n=\"-\");var i=\"\",s,o,u,c,l,f;{if(s=e%z,e=e/z>>>0,o=4294967296*s+\nt,t=o/z>>>0,u=\"\"+(o-z*t),t===0&&e===0)return n+u+i;for(c=\"\",l=6-u.length,f=0;f<l;f++)c+=\"0\";i=c+u+i}\n{if(s=e%z,e=e/z>>>0,o=4294967296*s+t,t=o/z>>>0,u=\"\"+(o-z*t),t===0&&e===0)return n+u+i;for(c=\"\",l=6-u.\nlength,f=0;f<l;f++)c+=\"0\";i=c+u+i}{if(s=e%z,e=e/z>>>0,o=4294967296*s+t,t=o/z>>>0,u=\"\"+(o-z*t),t===0&&\ne===0)return n+u+i;for(c=\"\",l=6-u.length,f=0;f<l;f++)c+=\"0\";i=c+u+i}return s=e%z,o=4294967296*s+t,u=\n\"\"+o%z,n+u+i}a(ru,\"readInt8\");ji.exports=ru});var Ki=T((bf,zi)=>{p();var nu=Hi(),L=a(function(r,e,t,n,i){t=t||0,n=n||!1,i=i||function(A,C,D){return A*\nMath.pow(2,D)+C};var s=t>>3,o=a(function(A){return n?~A&255:A},\"inv\"),u=255,c=8-t%8;e<c&&(u=255<<8-e&\n255,c=e),t&&(u=u>>t%8);var l=0;t%8+e>=8&&(l=i(0,o(r[s])&u,c));for(var f=e+t>>3,y=s+1;y<f;y++)l=i(l,o(\nr[y]),8);var g=(e+t)%8;return g>0&&(l=i(l,o(r[f])>>8-g,g)),l},\"parseBits\"),Vi=a(function(r,e,t){var n=Math.\npow(2,t-1)-1,i=L(r,1),s=L(r,t,1);if(s===0)return 0;var o=1,u=a(function(l,f,y){l===0&&(l=1);for(var g=1;g<=\ny;g++)o/=2,(f&1<<y-g)>0&&(l+=o);return l},\"parsePrecisionBits\"),c=L(r,e,t+1,!1,u);return s==Math.pow(\n2,t+1)-1?c===0?i===0?1/0:-1/0:NaN:(i===0?1:-1)*Math.pow(2,s-n)*c},\"parseFloatFromBits\"),iu=a(function(r){\nreturn L(r,1)==1?-1*(L(r,15,1,!0)+1):L(r,15,1)},\"parseInt16\"),$i=a(function(r){return L(r,1)==1?-1*(L(\nr,31,1,!0)+1):L(r,31,1)},\"parseInt32\"),su=a(function(r){return Vi(r,23,8)},\"parseFloat32\"),ou=a(function(r){\nreturn Vi(r,52,11)},\"parseFloat64\"),au=a(function(r){var e=L(r,16,32);if(e==49152)return NaN;for(var t=Math.\npow(1e4,L(r,16,16)),n=0,i=[],s=L(r,16),o=0;o<s;o++)n+=L(r,16,64+16*o)*t,t/=1e4;var u=Math.pow(10,L(r,\n16,48));return(e===0?1:-1)*Math.round(n*u)/u},\"parseNumeric\"),Gi=a(function(r,e){var t=L(e,1),n=L(e,\n63,1),i=new Date((t===0?1:-1)*n/1e3+9466848e5);return r||i.setTime(i.getTime()+i.getTimezoneOffset()*\n6e4),i.usec=n%1e3,i.getMicroSeconds=function(){return this.usec},i.setMicroSeconds=function(s){this.\nusec=s},i.getUTCMicroSeconds=function(){return this.usec},i},\"parseDate\"),Ke=a(function(r){for(var e=L(\nr,32),t=L(r,32,32),n=L(r,32,64),i=96,s=[],o=0;o<e;o++)s[o]=L(r,32,i),i+=32,i+=32;var u=a(function(l){\nvar f=L(r,32,i);if(i+=32,f==4294967295)return null;var y;if(l==23||l==20)return y=L(r,f*8,i),i+=f*8,\ny;if(l==25)return y=r.toString(this.encoding,i>>3,(i+=f<<3)>>3),y;console.log(\"ERROR: ElementType no\\\nt implemented: \"+l)},\"parseElement\"),c=a(function(l,f){var y=[],g;if(l.length>1){var A=l.shift();for(g=\n0;g<A;g++)y[g]=c(l,f);l.unshift(A)}else for(g=0;g<l[0];g++)y[g]=u(f);return y},\"parse\");return c(s,n)},\n\"parseArray\"),uu=a(function(r){return r.toString(\"utf8\")},\"parseText\"),cu=a(function(r){return r===null?\nnull:L(r,8)>0},\"parseBool\"),lu=a(function(r){r(20,nu),r(21,iu),r(23,$i),r(26,$i),r(1700,au),r(700,su),\nr(701,ou),r(16,cu),r(1114,Gi.bind(null,!1)),r(1184,Gi.bind(null,!0)),r(1e3,Ke),r(1007,Ke),r(1016,Ke),\nr(1008,Ke),r(1009,Ke),r(25,uu)},\"init\");zi.exports={init:lu}});var Zi=T((Sf,Yi)=>{p();Yi.exports={BOOL:16,BYTEA:17,CHAR:18,INT8:20,INT2:21,INT4:23,REGPROC:24,TEXT:25,\nOID:26,TID:27,XID:28,CID:29,JSON:114,XML:142,PG_NODE_TREE:194,SMGR:210,PATH:602,POLYGON:604,CIDR:650,\nFLOAT4:700,FLOAT8:701,ABSTIME:702,RELTIME:703,TINTERVAL:704,CIRCLE:718,MACADDR8:774,MONEY:790,MACADDR:829,\nINET:869,ACLITEM:1033,BPCHAR:1042,VARCHAR:1043,DATE:1082,TIME:1083,TIMESTAMP:1114,TIMESTAMPTZ:1184,INTERVAL:1186,\nTIMETZ:1266,BIT:1560,VARBIT:1562,NUMERIC:1700,REFCURSOR:1790,REGPROCEDURE:2202,REGOPER:2203,REGOPERATOR:2204,\nREGCLASS:2205,REGTYPE:2206,UUID:2950,TXID_SNAPSHOT:2970,PG_LSN:3220,PG_NDISTINCT:3361,PG_DEPENDENCIES:3402,\nTSVECTOR:3614,TSQUERY:3615,GTSVECTOR:3642,REGCONFIG:3734,REGDICTIONARY:3769,JSONB:3802,REGNAMESPACE:4089,\nREGROLE:4096}});var Je=T(Ze=>{p();var fu=Wi(),hu=Ki(),pu=rr(),du=Zi();Ze.getTypeParser=yu;Ze.setTypeParser=mu;Ze.arrayParser=\npu;Ze.builtins=du;var Ye={text:{},binary:{}};function Ji(r){return String(r)}a(Ji,\"noParse\");function yu(r,e){\nreturn e=e||\"text\",Ye[e]&&Ye[e][r]||Ji}a(yu,\"getTypeParser\");function mu(r,e,t){typeof e==\"function\"&&\n(t=e,e=\"text\"),Ye[e][r]=t}a(mu,\"setTypeParser\");fu.init(function(r,e){Ye.text[r]=e});hu.init(function(r,e){\nYe.binary[r]=e})});var At=T((If,Xi)=>{\"use strict\";p();var wu=Je();function Et(r){this._types=r||wu,this.text={},this.binary=\n{}}a(Et,\"TypeOverrides\");Et.prototype.getOverrides=function(r){switch(r){case\"text\":return this.text;case\"\\\nbinary\":return this.binary;default:return{}}};Et.prototype.setTypeParser=function(r,e,t){typeof e==\"\\\nfunction\"&&(t=e,e=\"text\"),this.getOverrides(e)[r]=t};Et.prototype.getTypeParser=function(r,e){return e=\ne||\"text\",this.getOverrides(e)[r]||this._types.getTypeParser(r,e)};Xi.exports=Et});function Xe(r){let e=1779033703,t=3144134277,n=1013904242,i=2773480762,s=1359893119,o=2600822924,u=528734635,\nc=1541459225,l=0,f=0,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,\n2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,\n4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,\n3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,\n1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,\n275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,\n2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],g=a((I,w)=>I>>>w|I<<32-\nw,\"rrot\"),A=new Uint32Array(64),C=new Uint8Array(64),D=a(()=>{for(let R=0,j=0;R<16;R++,j+=4)A[R]=C[j]<<\n24|C[j+1]<<16|C[j+2]<<8|C[j+3];for(let R=16;R<64;R++){let j=g(A[R-15],7)^g(A[R-15],18)^A[R-15]>>>3,le=g(\nA[R-2],17)^g(A[R-2],19)^A[R-2]>>>10;A[R]=A[R-16]+j+A[R-7]+le|0}let I=e,w=t,Z=n,W=i,J=s,X=o,se=u,oe=c;\nfor(let R=0;R<64;R++){let j=g(J,6)^g(J,11)^g(J,25),le=J&X^~J&se,de=oe+j+le+y[R]+A[R]|0,We=g(I,2)^g(I,\n13)^g(I,22),fe=I&w^I&Z^w&Z,_e=We+fe|0;oe=se,se=X,X=J,J=W+de|0,W=Z,Z=w,w=I,I=de+_e|0}e=e+I|0,t=t+w|0,\nn=n+Z|0,i=i+W|0,s=s+J|0,o=o+X|0,u=u+se|0,c=c+oe|0,f=0},\"process\"),Y=a(I=>{typeof I==\"string\"&&(I=new TextEncoder().\nencode(I));for(let w=0;w<I.length;w++)C[f++]=I[w],f===64&&D();l+=I.length},\"add\"),P=a(()=>{if(C[f++]=\n128,f==64&&D(),f+8>64){for(;f<64;)C[f++]=0;D()}for(;f<58;)C[f++]=0;let I=l*8;C[f++]=I/1099511627776&\n255,C[f++]=I/4294967296&255,C[f++]=I>>>24,C[f++]=I>>>16&255,C[f++]=I>>>8&255,C[f++]=I&255,D();let w=new Uint8Array(\n32);return w[0]=e>>>24,w[1]=e>>>16&255,w[2]=e>>>8&255,w[3]=e&255,w[4]=t>>>24,w[5]=t>>>16&255,w[6]=t>>>\n8&255,w[7]=t&255,w[8]=n>>>24,w[9]=n>>>16&255,w[10]=n>>>8&255,w[11]=n&255,w[12]=i>>>24,w[13]=i>>>16&255,\nw[14]=i>>>8&255,w[15]=i&255,w[16]=s>>>24,w[17]=s>>>16&255,w[18]=s>>>8&255,w[19]=s&255,w[20]=o>>>24,w[21]=\no>>>16&255,w[22]=o>>>8&255,w[23]=o&255,w[24]=u>>>24,w[25]=u>>>16&255,w[26]=u>>>8&255,w[27]=u&255,w[28]=\nc>>>24,w[29]=c>>>16&255,w[30]=c>>>8&255,w[31]=c&255,w},\"digest\");return r===void 0?{add:Y,digest:P}:\n(Y(r),P())}var es=G(()=>{\"use strict\";p();a(Xe,\"sha256\")});var U,et,ts=G(()=>{\"use strict\";p();U=class U{constructor(){E(this,\"_dataLength\",0);E(this,\"_bufferL\\\nength\",0);E(this,\"_state\",new Int32Array(4));E(this,\"_buffer\",new ArrayBuffer(68));E(this,\"_buffer8\");\nE(this,\"_buffer32\");this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this.\n_buffer,0,17),this.start()}static hashByteArray(e,t=!1){return this.onePassHasher.start().appendByteArray(\ne).end(t)}static hashStr(e,t=!1){return this.onePassHasher.start().appendStr(e).end(t)}static hashAsciiStr(e,t=!1){\nreturn this.onePassHasher.start().appendAsciiStr(e).end(t)}static _hex(e){let t=U.hexChars,n=U.hexOut,\ni,s,o,u;for(u=0;u<4;u+=1)for(s=u*8,i=e[u],o=0;o<8;o+=2)n[s+1+o]=t.charAt(i&15),i>>>=4,n[s+0+o]=t.charAt(\ni&15),i>>>=4;return n.join(\"\")}static _md5cycle(e,t){let n=e[0],i=e[1],s=e[2],o=e[3];n+=(i&s|~i&o)+t[0]-\n680876936|0,n=(n<<7|n>>>25)+i|0,o+=(n&i|~n&s)+t[1]-389564586|0,o=(o<<12|o>>>20)+n|0,s+=(o&n|~o&i)+t[2]+\n606105819|0,s=(s<<17|s>>>15)+o|0,i+=(s&o|~s&n)+t[3]-1044525330|0,i=(i<<22|i>>>10)+s|0,n+=(i&s|~i&o)+\nt[4]-176418897|0,n=(n<<7|n>>>25)+i|0,o+=(n&i|~n&s)+t[5]+1200080426|0,o=(o<<12|o>>>20)+n|0,s+=(o&n|~o&\ni)+t[6]-1473231341|0,s=(s<<17|s>>>15)+o|0,i+=(s&o|~s&n)+t[7]-45705983|0,i=(i<<22|i>>>10)+s|0,n+=(i&s|\n~i&o)+t[8]+1770035416|0,n=(n<<7|n>>>25)+i|0,o+=(n&i|~n&s)+t[9]-1958414417|0,o=(o<<12|o>>>20)+n|0,s+=\n(o&n|~o&i)+t[10]-42063|0,s=(s<<17|s>>>15)+o|0,i+=(s&o|~s&n)+t[11]-1990404162|0,i=(i<<22|i>>>10)+s|0,\nn+=(i&s|~i&o)+t[12]+1804603682|0,n=(n<<7|n>>>25)+i|0,o+=(n&i|~n&s)+t[13]-40341101|0,o=(o<<12|o>>>20)+\nn|0,s+=(o&n|~o&i)+t[14]-1502002290|0,s=(s<<17|s>>>15)+o|0,i+=(s&o|~s&n)+t[15]+1236535329|0,i=(i<<22|\ni>>>10)+s|0,n+=(i&o|s&~o)+t[1]-165796510|0,n=(n<<5|n>>>27)+i|0,o+=(n&s|i&~s)+t[6]-1069501632|0,o=(o<<\n9|o>>>23)+n|0,s+=(o&i|n&~i)+t[11]+643717713|0,s=(s<<14|s>>>18)+o|0,i+=(s&n|o&~n)+t[0]-373897302|0,i=\n(i<<20|i>>>12)+s|0,n+=(i&o|s&~o)+t[5]-701558691|0,n=(n<<5|n>>>27)+i|0,o+=(n&s|i&~s)+t[10]+38016083|0,\no=(o<<9|o>>>23)+n|0,s+=(o&i|n&~i)+t[15]-660478335|0,s=(s<<14|s>>>18)+o|0,i+=(s&n|o&~n)+t[4]-405537848|\n0,i=(i<<20|i>>>12)+s|0,n+=(i&o|s&~o)+t[9]+568446438|0,n=(n<<5|n>>>27)+i|0,o+=(n&s|i&~s)+t[14]-1019803690|\n0,o=(o<<9|o>>>23)+n|0,s+=(o&i|n&~i)+t[3]-187363961|0,s=(s<<14|s>>>18)+o|0,i+=(s&n|o&~n)+t[8]+1163531501|\n0,i=(i<<20|i>>>12)+s|0,n+=(i&o|s&~o)+t[13]-1444681467|0,n=(n<<5|n>>>27)+i|0,o+=(n&s|i&~s)+t[2]-51403784|\n0,o=(o<<9|o>>>23)+n|0,s+=(o&i|n&~i)+t[7]+1735328473|0,s=(s<<14|s>>>18)+o|0,i+=(s&n|o&~n)+t[12]-1926607734|\n0,i=(i<<20|i>>>12)+s|0,n+=(i^s^o)+t[5]-378558|0,n=(n<<4|n>>>28)+i|0,o+=(n^i^s)+t[8]-2022574463|0,o=(o<<\n11|o>>>21)+n|0,s+=(o^n^i)+t[11]+1839030562|0,s=(s<<16|s>>>16)+o|0,i+=(s^o^n)+t[14]-35309556|0,i=(i<<\n23|i>>>9)+s|0,n+=(i^s^o)+t[1]-1530992060|0,n=(n<<4|n>>>28)+i|0,o+=(n^i^s)+t[4]+1272893353|0,o=(o<<11|\no>>>21)+n|0,s+=(o^n^i)+t[7]-155497632|0,s=(s<<16|s>>>16)+o|0,i+=(s^o^n)+t[10]-1094730640|0,i=(i<<23|\ni>>>9)+s|0,n+=(i^s^o)+t[13]+681279174|0,n=(n<<4|n>>>28)+i|0,o+=(n^i^s)+t[0]-358537222|0,o=(o<<11|o>>>\n21)+n|0,s+=(o^n^i)+t[3]-722521979|0,s=(s<<16|s>>>16)+o|0,i+=(s^o^n)+t[6]+76029189|0,i=(i<<23|i>>>9)+\ns|0,n+=(i^s^o)+t[9]-640364487|0,n=(n<<4|n>>>28)+i|0,o+=(n^i^s)+t[12]-421815835|0,o=(o<<11|o>>>21)+n|\n0,s+=(o^n^i)+t[15]+530742520|0,s=(s<<16|s>>>16)+o|0,i+=(s^o^n)+t[2]-995338651|0,i=(i<<23|i>>>9)+s|0,\nn+=(s^(i|~o))+t[0]-198630844|0,n=(n<<6|n>>>26)+i|0,o+=(i^(n|~s))+t[7]+1126891415|0,o=(o<<10|o>>>22)+\nn|0,s+=(n^(o|~i))+t[14]-1416354905|0,s=(s<<15|s>>>17)+o|0,i+=(o^(s|~n))+t[5]-57434055|0,i=(i<<21|i>>>\n11)+s|0,n+=(s^(i|~o))+t[12]+1700485571|0,n=(n<<6|n>>>26)+i|0,o+=(i^(n|~s))+t[3]-1894986606|0,o=(o<<10|\no>>>22)+n|0,s+=(n^(o|~i))+t[10]-1051523|0,s=(s<<15|s>>>17)+o|0,i+=(o^(s|~n))+t[1]-2054922799|0,i=(i<<\n21|i>>>11)+s|0,n+=(s^(i|~o))+t[8]+1873313359|0,n=(n<<6|n>>>26)+i|0,o+=(i^(n|~s))+t[15]-30611744|0,o=\n(o<<10|o>>>22)+n|0,s+=(n^(o|~i))+t[6]-1560198380|0,s=(s<<15|s>>>17)+o|0,i+=(o^(s|~n))+t[13]+1309151649|\n0,i=(i<<21|i>>>11)+s|0,n+=(s^(i|~o))+t[4]-145523070|0,n=(n<<6|n>>>26)+i|0,o+=(i^(n|~s))+t[11]-1120210379|\n0,o=(o<<10|o>>>22)+n|0,s+=(n^(o|~i))+t[2]+718787259|0,s=(s<<15|s>>>17)+o|0,i+=(o^(s|~n))+t[9]-343485551|\n0,i=(i<<21|i>>>11)+s|0,e[0]=n+e[0]|0,e[1]=i+e[1]|0,e[2]=s+e[2]|0,e[3]=o+e[3]|0}start(){return this._dataLength=\n0,this._bufferLength=0,this._state.set(U.stateIdentity),this}appendStr(e){let t=this._buffer8,n=this.\n_buffer32,i=this._bufferLength,s,o;for(o=0;o<e.length;o+=1){if(s=e.charCodeAt(o),s<128)t[i++]=s;else if(s<\n2048)t[i++]=(s>>>6)+192,t[i++]=s&63|128;else if(s<55296||s>56319)t[i++]=(s>>>12)+224,t[i++]=s>>>6&63|\n128,t[i++]=s&63|128;else{if(s=(s-55296)*1024+(e.charCodeAt(++o)-56320)+65536,s>1114111)throw new Error(\n\"Unicode standard supports code points up to U+10FFFF\");t[i++]=(s>>>18)+240,t[i++]=s>>>12&63|128,t[i++]=\ns>>>6&63|128,t[i++]=s&63|128}i>=64&&(this._dataLength+=64,U._md5cycle(this._state,n),i-=64,n[0]=n[16])}\nreturn this._bufferLength=i,this}appendAsciiStr(e){let t=this._buffer8,n=this._buffer32,i=this._bufferLength,\ns,o=0;for(;;){for(s=Math.min(e.length-o,64-i);s--;)t[i++]=e.charCodeAt(o++);if(i<64)break;this._dataLength+=\n64,U._md5cycle(this._state,n),i=0}return this._bufferLength=i,this}appendByteArray(e){let t=this._buffer8,\nn=this._buffer32,i=this._bufferLength,s,o=0;for(;;){for(s=Math.min(e.length-o,64-i);s--;)t[i++]=e[o++];\nif(i<64)break;this._dataLength+=64,U._md5cycle(this._state,n),i=0}return this._bufferLength=i,this}getState(){\nlet e=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this.\n_bufferLength,length:this._dataLength,state:[e[0],e[1],e[2],e[3]]}}setState(e){let t=e.buffer,n=e.state,\ni=this._state,s;for(this._dataLength=e.length,this._bufferLength=e.buflen,i[0]=n[0],i[1]=n[1],i[2]=n[2],\ni[3]=n[3],s=0;s<t.length;s+=1)this._buffer8[s]=t.charCodeAt(s)}end(e=!1){let t=this._bufferLength,n=this.\n_buffer8,i=this._buffer32,s=(t>>2)+1;this._dataLength+=t;let o=this._dataLength*8;if(n[t]=128,n[t+1]=\nn[t+2]=n[t+3]=0,i.set(U.buffer32Identity.subarray(s),s),t>55&&(U._md5cycle(this._state,i),i.set(U.buffer32Identity)),\no<=4294967295)i[14]=o;else{let u=o.toString(16).match(/(.*?)(.{0,8})$/);if(u===null)return;let c=parseInt(\nu[2],16),l=parseInt(u[1],16)||0;i[14]=c,i[15]=l}return U._md5cycle(this._state,i),e?this._state:U._hex(\nthis._state)}};a(U,\"Md5\"),E(U,\"stateIdentity\",new Int32Array([1732584193,-271733879,-1732584194,271733878])),\nE(U,\"buffer32Identity\",new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),E(U,\"hexChars\",\"0123456789\\\nabcdef\"),E(U,\"hexOut\",[]),E(U,\"onePassHasher\",new U);et=U});var lr={};ie(lr,{createHash:()=>bu,createHmac:()=>vu,randomBytes:()=>gu});function gu(r){return crypto.\ngetRandomValues(d.alloc(r))}function bu(r){if(r===\"sha256\")return{update:a(function(e){return{digest:a(\nfunction(){return d.from(Xe(e))},\"digest\")}},\"update\")};if(r===\"md5\")return{update:a(function(e){return{\ndigest:a(function(){return typeof e==\"string\"?et.hashStr(e):et.hashByteArray(e)},\"digest\")}},\"update\")};\nthrow new Error(`Hash type '${r}' not supported`)}function vu(r,e){if(r!==\"sha256\")throw new Error(`\\\nOnly sha256 is supported (requested: '${r}')`);return{update:a(function(t){return{digest:a(function(){\ntypeof e==\"string\"&&(e=new TextEncoder().encode(e)),typeof t==\"string\"&&(t=new TextEncoder().encode(\nt));let n=e.length;if(n>64)e=Xe(e);else if(n<64){let c=new Uint8Array(64);c.set(e),e=c}let i=new Uint8Array(\n64),s=new Uint8Array(64);for(let c=0;c<64;c++)i[c]=54^e[c],s[c]=92^e[c];let o=new Uint8Array(t.length+\n64);o.set(i,0),o.set(t,64);let u=new Uint8Array(96);return u.set(s,0),u.set(Xe(o),64),d.from(Xe(u))},\n\"digest\")}},\"update\")}}var fr=G(()=>{\"use strict\";p();es();ts();a(gu,\"randomBytes\");a(bu,\"createHash\");\na(vu,\"createHmac\")});var tt=T((Qf,hr)=>{\"use strict\";p();hr.exports={host:\"localhost\",user:m.platform===\"win32\"?m.env.USERNAME:\nm.env.USER,database:void 0,password:null,connectionString:void 0,port:5432,rows:0,binary:!1,max:10,idleTimeoutMillis:3e4,\nclient_encoding:\"\",ssl:!1,application_name:void 0,fallback_application_name:void 0,options:void 0,parseInputDatesAsUTC:!1,\nstatement_timeout:!1,lock_timeout:!1,idle_in_transaction_session_timeout:!1,query_timeout:!1,connect_timeout:0,\nkeepalives:1,keepalives_idle:0};var Me=Je(),xu=Me.getTypeParser(20,\"text\"),Su=Me.getTypeParser(1016,\n\"text\");hr.exports.__defineSetter__(\"parseInt8\",function(r){Me.setTypeParser(20,\"text\",r?Me.getTypeParser(\n23,\"text\"):xu),Me.setTypeParser(1016,\"text\",r?Me.getTypeParser(1007,\"text\"):Su)})});var rt=T((Wf,ns)=>{\"use strict\";p();var Eu=(fr(),O(lr)),Au=tt();function Cu(r){var e=r.replace(/\\\\/g,\n\"\\\\\\\\\").replace(/\"/g,'\\\\\"');return'\"'+e+'\"'}a(Cu,\"escapeElement\");function rs(r){for(var e=\"{\",t=0;t<\nr.length;t++)t>0&&(e=e+\",\"),r[t]===null||typeof r[t]>\"u\"?e=e+\"NULL\":Array.isArray(r[t])?e=e+rs(r[t]):\nr[t]instanceof d?e+=\"\\\\\\\\x\"+r[t].toString(\"hex\"):e+=Cu(Ct(r[t]));return e=e+\"}\",e}a(rs,\"arrayString\");\nvar Ct=a(function(r,e){if(r==null)return null;if(r instanceof d)return r;if(ArrayBuffer.isView(r)){var t=d.\nfrom(r.buffer,r.byteOffset,r.byteLength);return t.length===r.byteLength?t:t.slice(r.byteOffset,r.byteOffset+\nr.byteLength)}return r instanceof Date?Au.parseInputDatesAsUTC?Tu(r):Iu(r):Array.isArray(r)?rs(r):typeof r==\n\"object\"?_u(r,e):r.toString()},\"prepareValue\");function _u(r,e){if(r&&typeof r.toPostgres==\"function\"){\nif(e=e||[],e.indexOf(r)!==-1)throw new Error('circular reference detected while preparing \"'+r+'\" fo\\\nr query');return e.push(r),Ct(r.toPostgres(Ct),e)}return JSON.stringify(r)}a(_u,\"prepareObject\");function N(r,e){\nfor(r=\"\"+r;r.length<e;)r=\"0\"+r;return r}a(N,\"pad\");function Iu(r){var e=-r.getTimezoneOffset(),t=r.getFullYear(),\nn=t<1;n&&(t=Math.abs(t)+1);var i=N(t,4)+\"-\"+N(r.getMonth()+1,2)+\"-\"+N(r.getDate(),2)+\"T\"+N(r.getHours(),\n2)+\":\"+N(r.getMinutes(),2)+\":\"+N(r.getSeconds(),2)+\".\"+N(r.getMilliseconds(),3);return e<0?(i+=\"-\",e*=\n-1):i+=\"+\",i+=N(Math.floor(e/60),2)+\":\"+N(e%60,2),n&&(i+=\" BC\"),i}a(Iu,\"dateToString\");function Tu(r){\nvar e=r.getUTCFullYear(),t=e<1;t&&(e=Math.abs(e)+1);var n=N(e,4)+\"-\"+N(r.getUTCMonth()+1,2)+\"-\"+N(r.\ngetUTCDate(),2)+\"T\"+N(r.getUTCHours(),2)+\":\"+N(r.getUTCMinutes(),2)+\":\"+N(r.getUTCSeconds(),2)+\".\"+N(\nr.getUTCMilliseconds(),3);return n+=\"+00:00\",t&&(n+=\" BC\"),n}a(Tu,\"dateToStringUTC\");function Pu(r,e,t){\nreturn r=typeof r==\"string\"?{text:r}:r,e&&(typeof e==\"function\"?r.callback=e:r.values=e),t&&(r.callback=\nt),r}a(Pu,\"normalizeQueryConfig\");var pr=a(function(r){return Eu.createHash(\"md5\").update(r,\"utf-8\").\ndigest(\"hex\")},\"md5\"),Bu=a(function(r,e,t){var n=pr(e+r),i=pr(d.concat([d.from(n),t]));return\"md5\"+i},\n\"postgresMd5PasswordHash\");ns.exports={prepareValue:a(function(e){return Ct(e)},\"prepareValueWrapper\"),\nnormalizeQueryConfig:Pu,postgresMd5PasswordHash:Bu,md5:pr}});var nt={};ie(nt,{default:()=>ku});var ku,it=G(()=>{\"use strict\";p();ku={}});var ds=T((th,ps)=>{\"use strict\";p();var yr=(fr(),O(lr));function Mu(r){if(r.indexOf(\"SCRAM-SHA-256\")===\n-1)throw new Error(\"SASL: Only mechanism SCRAM-SHA-256 is currently supported\");let e=yr.randomBytes(\n18).toString(\"base64\");return{mechanism:\"SCRAM-SHA-256\",clientNonce:e,response:\"n,,n=*,r=\"+e,message:\"\\\nSASLInitialResponse\"}}a(Mu,\"startSession\");function Uu(r,e,t){if(r.message!==\"SASLInitialResponse\")throw new Error(\n\"SASL: Last message was not SASLInitialResponse\");if(typeof e!=\"string\")throw new Error(\"SASL: SCRAM\\\n-SERVER-FIRST-MESSAGE: client password must be a string\");if(typeof t!=\"string\")throw new Error(\"SAS\\\nL: SCRAM-SERVER-FIRST-MESSAGE: serverData must be a string\");let n=qu(t);if(n.nonce.startsWith(r.clientNonce)){\nif(n.nonce.length===r.clientNonce.length)throw new Error(\"SASL: SCRAM-SERVER-FIRST-MESSAGE: server n\\\nonce is too short\")}else throw new Error(\"SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not st\\\nart with client nonce\");var i=d.from(n.salt,\"base64\"),s=Wu(e,i,n.iteration),o=Ue(s,\"Client Key\"),u=Nu(\no),c=\"n=*,r=\"+r.clientNonce,l=\"r=\"+n.nonce+\",s=\"+n.salt+\",i=\"+n.iteration,f=\"c=biws,r=\"+n.nonce,y=c+\n\",\"+l+\",\"+f,g=Ue(u,y),A=hs(o,g),C=A.toString(\"base64\"),D=Ue(s,\"Server Key\"),Y=Ue(D,y);r.message=\"SAS\\\nLResponse\",r.serverSignature=Y.toString(\"base64\"),r.response=f+\",p=\"+C}a(Uu,\"continueSession\");function Du(r,e){\nif(r.message!==\"SASLResponse\")throw new Error(\"SASL: Last message was not SASLResponse\");if(typeof e!=\n\"string\")throw new Error(\"SASL: SCRAM-SERVER-FINAL-MESSAGE: serverData must be a string\");let{serverSignature:t}=Qu(\ne);if(t!==r.serverSignature)throw new Error(\"SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does\\\n not match\")}a(Du,\"finalizeSession\");function Ou(r){if(typeof r!=\"string\")throw new TypeError(\"SASL:\\\n text must be a string\");return r.split(\"\").map((e,t)=>r.charCodeAt(t)).every(e=>e>=33&&e<=43||e>=45&&\ne<=126)}a(Ou,\"isPrintableChars\");function ls(r){return/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.\ntest(r)}a(ls,\"isBase64\");function fs(r){if(typeof r!=\"string\")throw new TypeError(\"SASL: attribute p\\\nairs text must be a string\");return new Map(r.split(\",\").map(e=>{if(!/^.=/.test(e))throw new Error(\"\\\nSASL: Invalid attribute pair entry\");let t=e[0],n=e.substring(2);return[t,n]}))}a(fs,\"parseAttribute\\\nPairs\");function qu(r){let e=fs(r),t=e.get(\"r\");if(t){if(!Ou(t))throw new Error(\"SASL: SCRAM-SERVER-\\\nFIRST-MESSAGE: nonce must only contain printable characters\")}else throw new Error(\"SASL: SCRAM-SERV\\\nER-FIRST-MESSAGE: nonce missing\");let n=e.get(\"s\");if(n){if(!ls(n))throw new Error(\"SASL: SCRAM-SERV\\\nER-FIRST-MESSAGE: salt must be base64\")}else throw new Error(\"SASL: SCRAM-SERVER-FIRST-MESSAGE: salt\\\n missing\");let i=e.get(\"i\");if(i){if(!/^[1-9][0-9]*$/.test(i))throw new Error(\"SASL: SCRAM-SERVER-FI\\\nRST-MESSAGE: invalid iteration count\")}else throw new Error(\"SASL: SCRAM-SERVER-FIRST-MESSAGE: itera\\\ntion missing\");let s=parseInt(i,10);return{nonce:t,salt:n,iteration:s}}a(qu,\"parseServerFirstMessage\");\nfunction Qu(r){let t=fs(r).get(\"v\");if(t){if(!ls(t))throw new Error(\"SASL: SCRAM-SERVER-FINAL-MESSAG\\\nE: server signature must be base64\")}else throw new Error(\"SASL: SCRAM-SERVER-FINAL-MESSAGE: server \\\nsignature is missing\");return{serverSignature:t}}a(Qu,\"parseServerFinalMessage\");function hs(r,e){if(!d.\nisBuffer(r))throw new TypeError(\"first argument must be a Buffer\");if(!d.isBuffer(e))throw new TypeError(\n\"second argument must be a Buffer\");if(r.length!==e.length)throw new Error(\"Buffer lengths must matc\\\nh\");if(r.length===0)throw new Error(\"Buffers cannot be empty\");return d.from(r.map((t,n)=>r[n]^e[n]))}\na(hs,\"xorBuffers\");function Nu(r){return yr.createHash(\"sha256\").update(r).digest()}a(Nu,\"sha256\");function Ue(r,e){\nreturn yr.createHmac(\"sha256\",r).update(e).digest()}a(Ue,\"hmacSha256\");function Wu(r,e,t){for(var n=Ue(\nr,d.concat([e,d.from([0,0,0,1])])),i=n,s=0;s<t-1;s++)n=Ue(r,n),i=hs(i,n);return i}a(Wu,\"Hi\");ps.exports=\n{startSession:Mu,continueSession:Uu,finalizeSession:Du}});var mr={};ie(mr,{join:()=>ju});function ju(...r){return r.join(\"/\")}var wr=G(()=>{\"use strict\";p();a(\nju,\"join\")});var gr={};ie(gr,{stat:()=>Hu});function Hu(r,e){e(new Error(\"No filesystem\"))}var br=G(()=>{\"use str\\\nict\";p();a(Hu,\"stat\")});var vr={};ie(vr,{default:()=>$u});var $u,xr=G(()=>{\"use strict\";p();$u={}});var ys={};ie(ys,{StringDecoder:()=>Sr});var Er,Sr,ms=G(()=>{\"use strict\";p();Er=class Er{constructor(e){\nE(this,\"td\");this.td=new TextDecoder(e)}write(e){return this.td.decode(e,{stream:!0})}end(e){return this.\ntd.decode(e)}};a(Er,\"StringDecoder\");Sr=Er});var vs=T((fh,bs)=>{\"use strict\";p();var{Transform:Gu}=(xr(),O(vr)),{StringDecoder:Vu}=(ms(),O(ys)),ve=Symbol(\n\"last\"),It=Symbol(\"decoder\");function zu(r,e,t){let n;if(this.overflow){if(n=this[It].write(r).split(\nthis.matcher),n.length===1)return t();n.shift(),this.overflow=!1}else this[ve]+=this[It].write(r),n=\nthis[ve].split(this.matcher);this[ve]=n.pop();for(let i=0;i<n.length;i++)try{gs(this,this.mapper(n[i]))}catch(s){\nreturn t(s)}if(this.overflow=this[ve].length>this.maxLength,this.overflow&&!this.skipOverflow){t(new Error(\n\"maximum buffer reached\"));return}t()}a(zu,\"transform\");function Ku(r){if(this[ve]+=this[It].end(),this[ve])\ntry{gs(this,this.mapper(this[ve]))}catch(e){return r(e)}r()}a(Ku,\"flush\");function gs(r,e){e!==void 0&&\nr.push(e)}a(gs,\"push\");function ws(r){return r}a(ws,\"noop\");function Yu(r,e,t){switch(r=r||/\\r?\\n/,e=\ne||ws,t=t||{},arguments.length){case 1:typeof r==\"function\"?(e=r,r=/\\r?\\n/):typeof r==\"object\"&&!(r instanceof\nRegExp)&&!r[Symbol.split]&&(t=r,r=/\\r?\\n/);break;case 2:typeof r==\"function\"?(t=e,e=r,r=/\\r?\\n/):typeof e==\n\"object\"&&(t=e,e=ws)}t=Object.assign({},t),t.autoDestroy=!0,t.transform=zu,t.flush=Ku,t.readableObjectMode=\n!0;let n=new Gu(t);return n[ve]=\"\",n[It]=new Vu(\"utf8\"),n.matcher=r,n.mapper=e,n.maxLength=t.maxLength,\nn.skipOverflow=t.skipOverflow||!1,n.overflow=!1,n._destroy=function(i,s){this._writableState.errorEmitted=\n!1,s(i)},n}a(Yu,\"split\");bs.exports=Yu});var Es=T((dh,pe)=>{\"use strict\";p();var xs=(wr(),O(mr)),Zu=(xr(),O(vr)).Stream,Ju=vs(),Ss=(it(),O(nt)),\nXu=5432,Tt=m.platform===\"win32\",st=m.stderr,ec=56,tc=7,rc=61440,nc=32768;function ic(r){return(r&rc)==\nnc}a(ic,\"isRegFile\");var De=[\"host\",\"port\",\"database\",\"user\",\"password\"],Ar=De.length,sc=De[Ar-1];function Cr(){\nvar r=st instanceof Zu&&st.writable===!0;if(r){var e=Array.prototype.slice.call(arguments).concat(`\n`);st.write(Ss.format.apply(Ss,e))}}a(Cr,\"warn\");Object.defineProperty(pe.exports,\"isWin\",{get:a(function(){\nreturn Tt},\"get\"),set:a(function(r){Tt=r},\"set\")});pe.exports.warnTo=function(r){var e=st;return st=\nr,e};pe.exports.getFileName=function(r){var e=r||m.env,t=e.PGPASSFILE||(Tt?xs.join(e.APPDATA||\"./\",\"\\\npostgresql\",\"pgpass.conf\"):xs.join(e.HOME||\"./\",\".pgpass\"));return t};pe.exports.usePgPass=function(r,e){\nreturn Object.prototype.hasOwnProperty.call(m.env,\"PGPASSWORD\")?!1:Tt?!0:(e=e||\"<unkn>\",ic(r.mode)?r.\nmode&(ec|tc)?(Cr('WARNING: password file \"%s\" has group or world access; permissions should be u=rw \\\n(0600) or less',e),!1):!0:(Cr('WARNING: password file \"%s\" is not a plain file',e),!1))};var oc=pe.exports.\nmatch=function(r,e){return De.slice(0,-1).reduce(function(t,n,i){return i==1&&Number(r[n]||Xu)===Number(\ne[n])?t&&!0:t&&(e[n]===\"*\"||e[n]===r[n])},!0)};pe.exports.getPassword=function(r,e,t){var n,i=e.pipe(\nJu());function s(c){var l=ac(c);l&&uc(l)&&oc(r,l)&&(n=l[sc],i.end())}a(s,\"onLine\");var o=a(function(){\ne.destroy(),t(n)},\"onEnd\"),u=a(function(c){e.destroy(),Cr(\"WARNING: error on reading file: %s\",c),t(\nvoid 0)},\"onErr\");e.on(\"error\",u),i.on(\"data\",s).on(\"end\",o).on(\"error\",u)};var ac=pe.exports.parseLine=\nfunction(r){if(r.length<11||r.match(/^\\s+#/))return null;for(var e=\"\",t=\"\",n=0,i=0,s=0,o={},u=!1,c=a(\nfunction(f,y,g){var A=r.substring(y,g);Object.hasOwnProperty.call(m.env,\"PGPASS_NO_DEESCAPE\")||(A=A.\nreplace(/\\\\([:\\\\])/g,\"$1\")),o[De[f]]=A},\"addToObj\"),l=0;l<r.length-1;l+=1){if(e=r.charAt(l+1),t=r.charAt(\nl),u=n==Ar-1,u){c(n,i);break}l>=0&&e==\":\"&&t!==\"\\\\\"&&(c(n,i,l+1),i=l+2,n+=1)}return o=Object.keys(o).\nlength===Ar?o:null,o},uc=pe.exports.isValidEntry=function(r){for(var e={0:function(o){return o.length>\n0},1:function(o){return o===\"*\"?!0:(o=Number(o),isFinite(o)&&o>0&&o<9007199254740992&&Math.floor(o)===\no)},2:function(o){return o.length>0},3:function(o){return o.length>0},4:function(o){return o.length>\n0}},t=0;t<De.length;t+=1){var n=e[t],i=r[De[t]]||\"\",s=n(i);if(!s)return!1}return!0}});var Cs=T((gh,_r)=>{\"use strict\";p();var wh=(wr(),O(mr)),As=(br(),O(gr)),Pt=Es();_r.exports=function(r,e){\nvar t=Pt.getFileName();As.stat(t,function(n,i){if(n||!Pt.usePgPass(i,t))return e(void 0);var s=As.createReadStream(\nt);Pt.getPassword(r,s,e)})};_r.exports.warnTo=Pt.warnTo});var _s={};ie(_s,{default:()=>cc});var cc,Is=G(()=>{\"use strict\";p();cc={}});var Ps=T((xh,Ts)=>{\"use strict\";p();var lc=(Zt(),O(gi)),Ir=(br(),O(gr));function Tr(r){if(r.charAt(0)===\n\"/\"){var t=r.split(\" \");return{host:t[0],database:t[1]}}var e=lc.parse(/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.\ntest(r)?encodeURI(r).replace(/\\%25(\\d\\d)/g,\"%$1\"):r,!0),t=e.query;for(var n in t)Array.isArray(t[n])&&\n(t[n]=t[n][t[n].length-1]);var i=(e.auth||\":\").split(\":\");if(t.user=i[0],t.password=i.splice(1).join(\n\":\"),t.port=e.port,e.protocol==\"socket:\")return t.host=decodeURI(e.pathname),t.database=e.query.db,t.\nclient_encoding=e.query.encoding,t;t.host||(t.host=e.hostname);var s=e.pathname;if(!t.host&&s&&/^%2f/i.\ntest(s)){var o=s.split(\"/\");t.host=decodeURIComponent(o[0]),s=o.splice(1).join(\"/\")}switch(s&&s.charAt(\n0)===\"/\"&&(s=s.slice(1)||null),t.database=s&&decodeURI(s),(t.ssl===\"true\"||t.ssl===\"1\")&&(t.ssl=!0),\nt.ssl===\"0\"&&(t.ssl=!1),(t.sslcert||t.sslkey||t.sslrootcert||t.sslmode)&&(t.ssl={}),t.sslcert&&(t.ssl.\ncert=Ir.readFileSync(t.sslcert).toString()),t.sslkey&&(t.ssl.key=Ir.readFileSync(t.sslkey).toString()),\nt.sslrootcert&&(t.ssl.ca=Ir.readFileSync(t.sslrootcert).toString()),t.sslmode){case\"disable\":{t.ssl=\n!1;break}case\"prefer\":case\"require\":case\"verify-ca\":case\"verify-full\":break;case\"no-verify\":{t.ssl.rejectUnauthorized=\n!1;break}}return t}a(Tr,\"parse\");Ts.exports=Tr;Tr.parse=Tr});var Bt=T((Ah,Ls)=>{\"use strict\";p();var fc=(Is(),O(_s)),Rs=tt(),Bs=Ps().parse,H=a(function(r,e,t){return t===\nvoid 0?t=m.env[\"PG\"+r.toUpperCase()]:t===!1||(t=m.env[t]),e[r]||t||Rs[r]},\"val\"),hc=a(function(){switch(m.\nenv.PGSSLMODE){case\"disable\":return!1;case\"prefer\":case\"require\":case\"verify-ca\":case\"verify-full\":return!0;case\"\\\nno-verify\":return{rejectUnauthorized:!1}}return Rs.ssl},\"readSSLConfigFromEnvironment\"),Oe=a(function(r){\nreturn\"'\"+(\"\"+r).replace(/\\\\/g,\"\\\\\\\\\").replace(/'/g,\"\\\\'\")+\"'\"},\"quoteParamValue\"),ne=a(function(r,e,t){\nvar n=e[t];n!=null&&r.push(t+\"=\"+Oe(n))},\"add\"),Br=class Br{constructor(e){e=typeof e==\"string\"?Bs(e):\ne||{},e.connectionString&&(e=Object.assign({},e,Bs(e.connectionString))),this.user=H(\"user\",e),this.\ndatabase=H(\"database\",e),this.database===void 0&&(this.database=this.user),this.port=parseInt(H(\"por\\\nt\",e),10),this.host=H(\"host\",e),Object.defineProperty(this,\"password\",{configurable:!0,enumerable:!1,\nwritable:!0,value:H(\"password\",e)}),this.binary=H(\"binary\",e),this.options=H(\"options\",e),this.ssl=typeof e.\nssl>\"u\"?hc():e.ssl,typeof this.ssl==\"string\"&&this.ssl===\"true\"&&(this.ssl=!0),this.ssl===\"no-verify\"&&\n(this.ssl={rejectUnauthorized:!1}),this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,\"key\",{enumerable:!1}),\nthis.client_encoding=H(\"client_encoding\",e),this.replication=H(\"replication\",e),this.isDomainSocket=\n!(this.host||\"\").indexOf(\"/\"),this.application_name=H(\"application_name\",e,\"PGAPPNAME\"),this.fallback_application_name=\nH(\"fallback_application_name\",e,!1),this.statement_timeout=H(\"statement_timeout\",e,!1),this.lock_timeout=\nH(\"lock_timeout\",e,!1),this.idle_in_transaction_session_timeout=H(\"idle_in_transaction_session_timeo\\\nut\",e,!1),this.query_timeout=H(\"query_timeout\",e,!1),e.connectionTimeoutMillis===void 0?this.connect_timeout=\nm.env.PGCONNECT_TIMEOUT||0:this.connect_timeout=Math.floor(e.connectionTimeoutMillis/1e3),e.keepAlive===\n!1?this.keepalives=0:e.keepAlive===!0&&(this.keepalives=1),typeof e.keepAliveInitialDelayMillis==\"nu\\\nmber\"&&(this.keepalives_idle=Math.floor(e.keepAliveInitialDelayMillis/1e3))}getLibpqConnectionString(e){\nvar t=[];ne(t,this,\"user\"),ne(t,this,\"password\"),ne(t,this,\"port\"),ne(t,this,\"application_name\"),ne(\nt,this,\"fallback_application_name\"),ne(t,this,\"connect_timeout\"),ne(t,this,\"options\");var n=typeof this.\nssl==\"object\"?this.ssl:this.ssl?{sslmode:this.ssl}:{};if(ne(t,n,\"sslmode\"),ne(t,n,\"sslca\"),ne(t,n,\"s\\\nslkey\"),ne(t,n,\"sslcert\"),ne(t,n,\"sslrootcert\"),this.database&&t.push(\"dbname=\"+Oe(this.database)),this.\nreplication&&t.push(\"replication=\"+Oe(this.replication)),this.host&&t.push(\"host=\"+Oe(this.host)),this.\nisDomainSocket)return e(null,t.join(\" \"));this.client_encoding&&t.push(\"client_encoding=\"+Oe(this.client_encoding)),\nfc.lookup(this.host,function(i,s){return i?e(i,null):(t.push(\"hostaddr=\"+Oe(s)),e(null,t.join(\" \")))})}};\na(Br,\"ConnectionParameters\");var Pr=Br;Ls.exports=Pr});var Ms=T((Ih,ks)=>{\"use strict\";p();var pc=Je(),Fs=/^([A-Za-z]+)(?: (\\d+))?(?: (\\d+))?/,Lr=class Lr{constructor(e,t){\nthis.command=null,this.rowCount=null,this.oid=null,this.rows=[],this.fields=[],this._parsers=void 0,\nthis._types=t,this.RowCtor=null,this.rowAsArray=e===\"array\",this.rowAsArray&&(this.parseRow=this._parseRowAsArray)}addCommandComplete(e){\nvar t;e.text?t=Fs.exec(e.text):t=Fs.exec(e.command),t&&(this.command=t[1],t[3]?(this.oid=parseInt(t[2],\n10),this.rowCount=parseInt(t[3],10)):t[2]&&(this.rowCount=parseInt(t[2],10)))}_parseRowAsArray(e){for(var t=new Array(\ne.length),n=0,i=e.length;n<i;n++){var s=e[n];s!==null?t[n]=this._parsers[n](s):t[n]=null}return t}parseRow(e){\nfor(var t={},n=0,i=e.length;n<i;n++){var s=e[n],o=this.fields[n].name;s!==null?t[o]=this._parsers[n](\ns):t[o]=null}return t}addRow(e){this.rows.push(e)}addFields(e){this.fields=e,this.fields.length&&(this.\n_parsers=new Array(e.length));for(var t=0;t<e.length;t++){var n=e[t];this._types?this._parsers[t]=this.\n_types.getTypeParser(n.dataTypeID,n.format||\"text\"):this._parsers[t]=pc.getTypeParser(n.dataTypeID,n.\nformat||\"text\")}}};a(Lr,\"Result\");var Rr=Lr;ks.exports=Rr});var qs=T((Bh,Os)=>{\"use strict\";p();var{EventEmitter:dc}=ge(),Us=Ms(),Ds=rt(),kr=class kr extends dc{constructor(e,t,n){\nsuper(),e=Ds.normalizeQueryConfig(e,t,n),this.text=e.text,this.values=e.values,this.rows=e.rows,this.\ntypes=e.types,this.name=e.name,this.binary=e.binary,this.portal=e.portal||\"\",this.callback=e.callback,\nthis._rowMode=e.rowMode,m.domain&&e.callback&&(this.callback=m.domain.bind(e.callback)),this._result=\nnew Us(this._rowMode,this.types),this._results=this._result,this.isPreparedStatement=!1,this._canceledDueToError=\n!1,this._promise=null}requiresPreparation(){return this.name||this.rows?!0:!this.text||!this.values?\n!1:this.values.length>0}_checkForMultirow(){this._result.command&&(Array.isArray(this._results)||(this.\n_results=[this._result]),this._result=new Us(this._rowMode,this.types),this._results.push(this._result))}handleRowDescription(e){\nthis._checkForMultirow(),this._result.addFields(e.fields),this._accumulateRows=this.callback||!this.\nlisteners(\"row\").length}handleDataRow(e){let t;if(!this._canceledDueToError){try{t=this._result.parseRow(\ne.fields)}catch(n){this._canceledDueToError=n;return}this.emit(\"row\",t,this._result),this._accumulateRows&&\nthis._result.addRow(t)}}handleCommandComplete(e,t){this._checkForMultirow(),this._result.addCommandComplete(\ne),this.rows&&t.sync()}handleEmptyQuery(e){this.rows&&e.sync()}handleError(e,t){if(this._canceledDueToError&&\n(e=this._canceledDueToError,this._canceledDueToError=!1),this.callback)return this.callback(e);this.\nemit(\"error\",e)}handleReadyForQuery(e){if(this._canceledDueToError)return this.handleError(this._canceledDueToError,\ne);if(this.callback)try{this.callback(null,this._results)}catch(t){m.nextTick(()=>{throw t})}this.emit(\n\"end\",this._results)}submit(e){if(typeof this.text!=\"string\"&&typeof this.name!=\"string\")return new Error(\n\"A query must have either text or a name. Supplying neither is unsupported.\");let t=e.parsedStatements[this.\nname];return this.text&&t&&this.text!==t?new Error(`Prepared statements must be unique - '${this.name}\\\n' was used for a different statement`):this.values&&!Array.isArray(this.values)?new Error(\"Query val\\\nues must be an array\"):(this.requiresPreparation()?this.prepare(e):e.query(this.text),null)}hasBeenParsed(e){\nreturn this.name&&e.parsedStatements[this.name]}handlePortalSuspended(e){this._getRows(e,this.rows)}_getRows(e,t){\ne.execute({portal:this.portal,rows:t}),t?e.flush():e.sync()}prepare(e){this.isPreparedStatement=!0,this.\nhasBeenParsed(e)||e.parse({text:this.text,name:this.name,types:this.types});try{e.bind({portal:this.\nportal,statement:this.name,values:this.values,binary:this.binary,valueMapper:Ds.prepareValue})}catch(t){\nthis.handleError(t,e);return}e.describe({type:\"P\",name:this.portal||\"\"}),this._getRows(e,this.rows)}handleCopyInResponse(e){\ne.sendCopyFail(\"No source stream defined\")}handleCopyData(e,t){}};a(kr,\"Query\");var Fr=kr;Os.exports=\nFr});var ln=T(_=>{\"use strict\";p();Object.defineProperty(_,\"__esModule\",{value:!0});_.NoticeMessage=_.DataRowMessage=\n_.CommandCompleteMessage=_.ReadyForQueryMessage=_.NotificationResponseMessage=_.BackendKeyDataMessage=\n_.AuthenticationMD5Password=_.ParameterStatusMessage=_.ParameterDescriptionMessage=_.RowDescriptionMessage=\n_.Field=_.CopyResponse=_.CopyDataMessage=_.DatabaseError=_.copyDone=_.emptyQuery=_.replicationStart=\n_.portalSuspended=_.noData=_.closeComplete=_.bindComplete=_.parseComplete=void 0;_.parseComplete={name:\"\\\nparseComplete\",length:5};_.bindComplete={name:\"bindComplete\",length:5};_.closeComplete={name:\"closeC\\\nomplete\",length:5};_.noData={name:\"noData\",length:5};_.portalSuspended={name:\"portalSuspended\",length:5};\n_.replicationStart={name:\"replicationStart\",length:4};_.emptyQuery={name:\"emptyQuery\",length:4};_.copyDone=\n{name:\"copyDone\",length:4};var Kr=class Kr extends Error{constructor(e,t,n){super(e),this.length=t,this.\nname=n}};a(Kr,\"DatabaseError\");var Mr=Kr;_.DatabaseError=Mr;var Yr=class Yr{constructor(e,t){this.length=\ne,this.chunk=t,this.name=\"copyData\"}};a(Yr,\"CopyDataMessage\");var Ur=Yr;_.CopyDataMessage=Ur;var Zr=class Zr{constructor(e,t,n,i){\nthis.length=e,this.name=t,this.binary=n,this.columnTypes=new Array(i)}};a(Zr,\"CopyResponse\");var Dr=Zr;\n_.CopyResponse=Dr;var Jr=class Jr{constructor(e,t,n,i,s,o,u){this.name=e,this.tableID=t,this.columnID=\nn,this.dataTypeID=i,this.dataTypeSize=s,this.dataTypeModifier=o,this.format=u}};a(Jr,\"Field\");var Or=Jr;\n_.Field=Or;var Xr=class Xr{constructor(e,t){this.length=e,this.fieldCount=t,this.name=\"rowDescriptio\\\nn\",this.fields=new Array(this.fieldCount)}};a(Xr,\"RowDescriptionMessage\");var qr=Xr;_.RowDescriptionMessage=\nqr;var en=class en{constructor(e,t){this.length=e,this.parameterCount=t,this.name=\"parameterDescript\\\nion\",this.dataTypeIDs=new Array(this.parameterCount)}};a(en,\"ParameterDescriptionMessage\");var Qr=en;\n_.ParameterDescriptionMessage=Qr;var tn=class tn{constructor(e,t,n){this.length=e,this.parameterName=\nt,this.parameterValue=n,this.name=\"parameterStatus\"}};a(tn,\"ParameterStatusMessage\");var Nr=tn;_.ParameterStatusMessage=\nNr;var rn=class rn{constructor(e,t){this.length=e,this.salt=t,this.name=\"authenticationMD5Password\"}};\na(rn,\"AuthenticationMD5Password\");var Wr=rn;_.AuthenticationMD5Password=Wr;var nn=class nn{constructor(e,t,n){\nthis.length=e,this.processID=t,this.secretKey=n,this.name=\"backendKeyData\"}};a(nn,\"BackendKeyDataMes\\\nsage\");var jr=nn;_.BackendKeyDataMessage=jr;var sn=class sn{constructor(e,t,n,i){this.length=e,this.\nprocessId=t,this.channel=n,this.payload=i,this.name=\"notification\"}};a(sn,\"NotificationResponseMessa\\\nge\");var Hr=sn;_.NotificationResponseMessage=Hr;var on=class on{constructor(e,t){this.length=e,this.\nstatus=t,this.name=\"readyForQuery\"}};a(on,\"ReadyForQueryMessage\");var $r=on;_.ReadyForQueryMessage=$r;\nvar an=class an{constructor(e,t){this.length=e,this.text=t,this.name=\"commandComplete\"}};a(an,\"Comma\\\nndCompleteMessage\");var Gr=an;_.CommandCompleteMessage=Gr;var un=class un{constructor(e,t){this.length=\ne,this.fields=t,this.name=\"dataRow\",this.fieldCount=t.length}};a(un,\"DataRowMessage\");var Vr=un;_.DataRowMessage=\nVr;var cn=class cn{constructor(e,t){this.length=e,this.message=t,this.name=\"notice\"}};a(cn,\"NoticeMe\\\nssage\");var zr=cn;_.NoticeMessage=zr});var Qs=T(Rt=>{\"use strict\";p();Object.defineProperty(Rt,\"__esModule\",{value:!0});Rt.Writer=void 0;var hn=class hn{constructor(e=256){\nthis.size=e,this.offset=5,this.headerPosition=0,this.buffer=d.allocUnsafe(e)}ensure(e){if(this.buffer.\nlength-this.offset<e){let n=this.buffer,i=n.length+(n.length>>1)+e;this.buffer=d.allocUnsafe(i),n.copy(\nthis.buffer)}}addInt32(e){return this.ensure(4),this.buffer[this.offset++]=e>>>24&255,this.buffer[this.\noffset++]=e>>>16&255,this.buffer[this.offset++]=e>>>8&255,this.buffer[this.offset++]=e>>>0&255,this}addInt16(e){\nreturn this.ensure(2),this.buffer[this.offset++]=e>>>8&255,this.buffer[this.offset++]=e>>>0&255,this}addCString(e){\nif(!e)this.ensure(1);else{let t=d.byteLength(e);this.ensure(t+1),this.buffer.write(e,this.offset,\"ut\\\nf-8\"),this.offset+=t}return this.buffer[this.offset++]=0,this}addString(e=\"\"){let t=d.byteLength(e);\nreturn this.ensure(t),this.buffer.write(e,this.offset),this.offset+=t,this}add(e){return this.ensure(\ne.length),e.copy(this.buffer,this.offset),this.offset+=e.length,this}join(e){if(e){this.buffer[this.\nheaderPosition]=e;let t=this.offset-(this.headerPosition+1);this.buffer.writeInt32BE(t,this.headerPosition+\n1)}return this.buffer.slice(e?0:5,this.offset)}flush(e){let t=this.join(e);return this.offset=5,this.\nheaderPosition=0,this.buffer=d.allocUnsafe(this.size),t}};a(hn,\"Writer\");var fn=hn;Rt.Writer=fn});var Ws=T(Ft=>{\"use strict\";p();Object.defineProperty(Ft,\"__esModule\",{value:!0});Ft.serialize=void 0;\nvar pn=Qs(),F=new pn.Writer,yc=a(r=>{F.addInt16(3).addInt16(0);for(let n of Object.keys(r))F.addCString(\nn).addCString(r[n]);F.addCString(\"client_encoding\").addCString(\"UTF8\");let e=F.addCString(\"\").flush(),\nt=e.length+4;return new pn.Writer().addInt32(t).add(e).flush()},\"startup\"),mc=a(()=>{let r=d.allocUnsafe(\n8);return r.writeInt32BE(8,0),r.writeInt32BE(80877103,4),r},\"requestSsl\"),wc=a(r=>F.addCString(r).flush(\n112),\"password\"),gc=a(function(r,e){return F.addCString(r).addInt32(d.byteLength(e)).addString(e),F.\nflush(112)},\"sendSASLInitialResponseMessage\"),bc=a(function(r){return F.addString(r).flush(112)},\"se\\\nndSCRAMClientFinalMessage\"),vc=a(r=>F.addCString(r).flush(81),\"query\"),Ns=[],xc=a(r=>{let e=r.name||\n\"\";e.length>63&&(console.error(\"Warning! Postgres only supports 63 characters for query names.\"),console.\nerror(\"You supplied %s (%s)\",e,e.length),console.error(\"This can cause conflicts and silent errors e\\\nxecuting queries\"));let t=r.types||Ns,n=t.length,i=F.addCString(e).addCString(r.text).addInt16(n);for(let s=0;s<\nn;s++)i.addInt32(t[s]);return F.flush(80)},\"parse\"),qe=new pn.Writer,Sc=a(function(r,e){for(let t=0;t<\nr.length;t++){let n=e?e(r[t],t):r[t];n==null?(F.addInt16(0),qe.addInt32(-1)):n instanceof d?(F.addInt16(\n1),qe.addInt32(n.length),qe.add(n)):(F.addInt16(0),qe.addInt32(d.byteLength(n)),qe.addString(n))}},\"\\\nwriteValues\"),Ec=a((r={})=>{let e=r.portal||\"\",t=r.statement||\"\",n=r.binary||!1,i=r.values||Ns,s=i.length;\nreturn F.addCString(e).addCString(t),F.addInt16(s),Sc(i,r.valueMapper),F.addInt16(s),F.add(qe.flush()),\nF.addInt16(n?1:0),F.flush(66)},\"bind\"),Ac=d.from([69,0,0,0,9,0,0,0,0,0]),Cc=a(r=>{if(!r||!r.portal&&\n!r.rows)return Ac;let e=r.portal||\"\",t=r.rows||0,n=d.byteLength(e),i=4+n+1+4,s=d.allocUnsafe(1+i);return s[0]=\n69,s.writeInt32BE(i,1),s.write(e,5,\"utf-8\"),s[n+5]=0,s.writeUInt32BE(t,s.length-4),s},\"execute\"),_c=a(\n(r,e)=>{let t=d.allocUnsafe(16);return t.writeInt32BE(16,0),t.writeInt16BE(1234,4),t.writeInt16BE(5678,\n6),t.writeInt32BE(r,8),t.writeInt32BE(e,12),t},\"cancel\"),dn=a((r,e)=>{let n=4+d.byteLength(e)+1,i=d.\nallocUnsafe(1+n);return i[0]=r,i.writeInt32BE(n,1),i.write(e,5,\"utf-8\"),i[n]=0,i},\"cstringMessage\"),\nIc=F.addCString(\"P\").flush(68),Tc=F.addCString(\"S\").flush(68),Pc=a(r=>r.name?dn(68,`${r.type}${r.name||\n\"\"}`):r.type===\"P\"?Ic:Tc,\"describe\"),Bc=a(r=>{let e=`${r.type}${r.name||\"\"}`;return dn(67,e)},\"close\"),\nRc=a(r=>F.add(r).flush(100),\"copyData\"),Lc=a(r=>dn(102,r),\"copyFail\"),Lt=a(r=>d.from([r,0,0,0,4]),\"c\\\nodeOnlyBuffer\"),Fc=Lt(72),kc=Lt(83),Mc=Lt(88),Uc=Lt(99),Dc={startup:yc,password:wc,requestSsl:mc,sendSASLInitialResponseMessage:gc,\nsendSCRAMClientFinalMessage:bc,query:vc,parse:xc,bind:Ec,execute:Cc,describe:Pc,close:Bc,flush:a(()=>Fc,\n\"flush\"),sync:a(()=>kc,\"sync\"),end:a(()=>Mc,\"end\"),copyData:Rc,copyDone:a(()=>Uc,\"copyDone\"),copyFail:Lc,\ncancel:_c};Ft.serialize=Dc});var js=T(kt=>{\"use strict\";p();Object.defineProperty(kt,\"__esModule\",{value:!0});kt.BufferReader=void 0;\nvar Oc=d.allocUnsafe(0),mn=class mn{constructor(e=0){this.offset=e,this.buffer=Oc,this.encoding=\"utf\\\n-8\"}setBuffer(e,t){this.offset=e,this.buffer=t}int16(){let e=this.buffer.readInt16BE(this.offset);return this.\noffset+=2,e}byte(){let e=this.buffer[this.offset];return this.offset++,e}int32(){let e=this.buffer.readInt32BE(\nthis.offset);return this.offset+=4,e}uint32(){let e=this.buffer.readUInt32BE(this.offset);return this.\noffset+=4,e}string(e){let t=this.buffer.toString(this.encoding,this.offset,this.offset+e);return this.\noffset+=e,t}cstring(){let e=this.offset,t=e;for(;this.buffer[t++]!==0;);return this.offset=t,this.buffer.\ntoString(this.encoding,e,t-1)}bytes(e){let t=this.buffer.slice(this.offset,this.offset+e);return this.\noffset+=e,t}};a(mn,\"BufferReader\");var yn=mn;kt.BufferReader=yn});var Gs=T(Mt=>{\"use strict\";p();Object.defineProperty(Mt,\"__esModule\",{value:!0});Mt.Parser=void 0;var k=ln(),\nqc=js(),wn=1,Qc=4,Hs=wn+Qc,$s=d.allocUnsafe(0),bn=class bn{constructor(e){if(this.buffer=$s,this.bufferLength=\n0,this.bufferOffset=0,this.reader=new qc.BufferReader,e?.mode===\"binary\")throw new Error(\"Binary mod\\\ne not supported yet\");this.mode=e?.mode||\"text\"}parse(e,t){this.mergeBuffer(e);let n=this.bufferOffset+\nthis.bufferLength,i=this.bufferOffset;for(;i+Hs<=n;){let s=this.buffer[i],o=this.buffer.readUInt32BE(\ni+wn),u=wn+o;if(u+i<=n){let c=this.handlePacket(i+Hs,s,o,this.buffer);t(c),i+=u}else break}i===n?(this.\nbuffer=$s,this.bufferLength=0,this.bufferOffset=0):(this.bufferLength=n-i,this.bufferOffset=i)}mergeBuffer(e){\nif(this.bufferLength>0){let t=this.bufferLength+e.byteLength;if(t+this.bufferOffset>this.buffer.byteLength){\nlet i;if(t<=this.buffer.byteLength&&this.bufferOffset>=this.bufferLength)i=this.buffer;else{let s=this.\nbuffer.byteLength*2;for(;t>=s;)s*=2;i=d.allocUnsafe(s)}this.buffer.copy(i,0,this.bufferOffset,this.bufferOffset+\nthis.bufferLength),this.buffer=i,this.bufferOffset=0}e.copy(this.buffer,this.bufferOffset+this.bufferLength),\nthis.bufferLength=t}else this.buffer=e,this.bufferOffset=0,this.bufferLength=e.byteLength}handlePacket(e,t,n,i){\nswitch(t){case 50:return k.bindComplete;case 49:return k.parseComplete;case 51:return k.closeComplete;case 110:\nreturn k.noData;case 115:return k.portalSuspended;case 99:return k.copyDone;case 87:return k.replicationStart;case 73:\nreturn k.emptyQuery;case 68:return this.parseDataRowMessage(e,n,i);case 67:return this.parseCommandCompleteMessage(\ne,n,i);case 90:return this.parseReadyForQueryMessage(e,n,i);case 65:return this.parseNotificationMessage(\ne,n,i);case 82:return this.parseAuthenticationResponse(e,n,i);case 83:return this.parseParameterStatusMessage(\ne,n,i);case 75:return this.parseBackendKeyData(e,n,i);case 69:return this.parseErrorMessage(e,n,i,\"e\\\nrror\");case 78:return this.parseErrorMessage(e,n,i,\"notice\");case 84:return this.parseRowDescriptionMessage(\ne,n,i);case 116:return this.parseParameterDescriptionMessage(e,n,i);case 71:return this.parseCopyInMessage(\ne,n,i);case 72:return this.parseCopyOutMessage(e,n,i);case 100:return this.parseCopyData(e,n,i);default:\nreturn new k.DatabaseError(\"received invalid response: \"+t.toString(16),n,\"error\")}}parseReadyForQueryMessage(e,t,n){\nthis.reader.setBuffer(e,n);let i=this.reader.string(1);return new k.ReadyForQueryMessage(t,i)}parseCommandCompleteMessage(e,t,n){\nthis.reader.setBuffer(e,n);let i=this.reader.cstring();return new k.CommandCompleteMessage(t,i)}parseCopyData(e,t,n){\nlet i=n.slice(e,e+(t-4));return new k.CopyDataMessage(t,i)}parseCopyInMessage(e,t,n){return this.parseCopyMessage(\ne,t,n,\"copyInResponse\")}parseCopyOutMessage(e,t,n){return this.parseCopyMessage(e,t,n,\"copyOutRespon\\\nse\")}parseCopyMessage(e,t,n,i){this.reader.setBuffer(e,n);let s=this.reader.byte()!==0,o=this.reader.\nint16(),u=new k.CopyResponse(t,i,s,o);for(let c=0;c<o;c++)u.columnTypes[c]=this.reader.int16();return u}parseNotificationMessage(e,t,n){\nthis.reader.setBuffer(e,n);let i=this.reader.int32(),s=this.reader.cstring(),o=this.reader.cstring();\nreturn new k.NotificationResponseMessage(t,i,s,o)}parseRowDescriptionMessage(e,t,n){this.reader.setBuffer(\ne,n);let i=this.reader.int16(),s=new k.RowDescriptionMessage(t,i);for(let o=0;o<i;o++)s.fields[o]=this.\nparseField();return s}parseField(){let e=this.reader.cstring(),t=this.reader.uint32(),n=this.reader.\nint16(),i=this.reader.uint32(),s=this.reader.int16(),o=this.reader.int32(),u=this.reader.int16()===0?\n\"text\":\"binary\";return new k.Field(e,t,n,i,s,o,u)}parseParameterDescriptionMessage(e,t,n){this.reader.\nsetBuffer(e,n);let i=this.reader.int16(),s=new k.ParameterDescriptionMessage(t,i);for(let o=0;o<i;o++)\ns.dataTypeIDs[o]=this.reader.int32();return s}parseDataRowMessage(e,t,n){this.reader.setBuffer(e,n);\nlet i=this.reader.int16(),s=new Array(i);for(let o=0;o<i;o++){let u=this.reader.int32();s[o]=u===-1?\nnull:this.reader.string(u)}return new k.DataRowMessage(t,s)}parseParameterStatusMessage(e,t,n){this.\nreader.setBuffer(e,n);let i=this.reader.cstring(),s=this.reader.cstring();return new k.ParameterStatusMessage(\nt,i,s)}parseBackendKeyData(e,t,n){this.reader.setBuffer(e,n);let i=this.reader.int32(),s=this.reader.\nint32();return new k.BackendKeyDataMessage(t,i,s)}parseAuthenticationResponse(e,t,n){this.reader.setBuffer(\ne,n);let i=this.reader.int32(),s={name:\"authenticationOk\",length:t};switch(i){case 0:break;case 3:s.\nlength===8&&(s.name=\"authenticationCleartextPassword\");break;case 5:if(s.length===12){s.name=\"authen\\\nticationMD5Password\";let o=this.reader.bytes(4);return new k.AuthenticationMD5Password(t,o)}break;case 10:\n{s.name=\"authenticationSASL\",s.mechanisms=[];let o;do o=this.reader.cstring(),o&&s.mechanisms.push(o);while(o)}\nbreak;case 11:s.name=\"authenticationSASLContinue\",s.data=this.reader.string(t-8);break;case 12:s.name=\n\"authenticationSASLFinal\",s.data=this.reader.string(t-8);break;default:throw new Error(\"Unknown auth\\\nenticationOk message type \"+i)}return s}parseErrorMessage(e,t,n,i){this.reader.setBuffer(e,n);let s={},\no=this.reader.string(1);for(;o!==\"\\0\";)s[o]=this.reader.cstring(),o=this.reader.string(1);let u=s.M,\nc=i===\"notice\"?new k.NoticeMessage(t,u):new k.DatabaseError(u,t,i);return c.severity=s.S,c.code=s.C,\nc.detail=s.D,c.hint=s.H,c.position=s.P,c.internalPosition=s.p,c.internalQuery=s.q,c.where=s.W,c.schema=\ns.s,c.table=s.t,c.column=s.c,c.dataType=s.d,c.constraint=s.n,c.file=s.F,c.line=s.L,c.routine=s.R,c}};\na(bn,\"Parser\");var gn=bn;Mt.Parser=gn});var vn=T(xe=>{\"use strict\";p();Object.defineProperty(xe,\"__esModule\",{value:!0});xe.DatabaseError=xe.\nserialize=xe.parse=void 0;var Nc=ln();Object.defineProperty(xe,\"DatabaseError\",{enumerable:!0,get:a(\nfunction(){return Nc.DatabaseError},\"get\")});var Wc=Ws();Object.defineProperty(xe,\"serialize\",{enumerable:!0,\nget:a(function(){return Wc.serialize},\"get\")});var jc=Gs();function Hc(r,e){let t=new jc.Parser;return r.\non(\"data\",n=>t.parse(n,e)),new Promise(n=>r.on(\"end\",()=>n()))}a(Hc,\"parse\");xe.parse=Hc});var Vs={};ie(Vs,{connect:()=>$c});function $c({socket:r,servername:e}){return r.startTls(e),r}var zs=G(\n()=>{\"use strict\";p();a($c,\"connect\")});var En=T((Xh,Zs)=>{\"use strict\";p();var Ks=(Fe(),O(wi)),Gc=ge().EventEmitter,{parse:Vc,serialize:Q}=vn(),\nYs=Q.flush(),zc=Q.sync(),Kc=Q.end(),Sn=class Sn extends Gc{constructor(e){super(),e=e||{},this.stream=\ne.stream||new Ks.Socket,this._keepAlive=e.keepAlive,this._keepAliveInitialDelayMillis=e.keepAliveInitialDelayMillis,\nthis.lastBuffer=!1,this.parsedStatements={},this.ssl=e.ssl||!1,this._ending=!1,this._emitMessage=!1;\nvar t=this;this.on(\"newListener\",function(n){n===\"message\"&&(t._emitMessage=!0)})}connect(e,t){var n=this;\nthis._connecting=!0,this.stream.setNoDelay(!0),this.stream.connect(e,t),this.stream.once(\"connect\",function(){\nn._keepAlive&&n.stream.setKeepAlive(!0,n._keepAliveInitialDelayMillis),n.emit(\"connect\")});let i=a(function(s){\nn._ending&&(s.code===\"ECONNRESET\"||s.code===\"EPIPE\")||n.emit(\"error\",s)},\"reportStreamError\");if(this.\nstream.on(\"error\",i),this.stream.on(\"close\",function(){n.emit(\"end\")}),!this.ssl)return this.attachListeners(\nthis.stream);this.stream.once(\"data\",function(s){var o=s.toString(\"utf8\");switch(o){case\"S\":break;case\"\\\nN\":return n.stream.end(),n.emit(\"error\",new Error(\"The server does not support SSL connections\"));default:\nreturn n.stream.end(),n.emit(\"error\",new Error(\"There was an error establishing an SSL connection\"))}\nvar u=(zs(),O(Vs));let c={socket:n.stream};n.ssl!==!0&&(Object.assign(c,n.ssl),\"key\"in n.ssl&&(c.key=\nn.ssl.key)),Ks.isIP(t)===0&&(c.servername=t);try{n.stream=u.connect(c)}catch(l){return n.emit(\"error\",\nl)}n.attachListeners(n.stream),n.stream.on(\"error\",i),n.emit(\"sslconnect\")})}attachListeners(e){e.on(\n\"end\",()=>{this.emit(\"end\")}),Vc(e,t=>{var n=t.name===\"error\"?\"errorMessage\":t.name;this._emitMessage&&\nthis.emit(\"message\",t),this.emit(n,t)})}requestSsl(){this.stream.write(Q.requestSsl())}startup(e){this.\nstream.write(Q.startup(e))}cancel(e,t){this._send(Q.cancel(e,t))}password(e){this._send(Q.password(e))}sendSASLInitialResponseMessage(e,t){\nthis._send(Q.sendSASLInitialResponseMessage(e,t))}sendSCRAMClientFinalMessage(e){this._send(Q.sendSCRAMClientFinalMessage(\ne))}_send(e){return this.stream.writable?this.stream.write(e):!1}query(e){this._send(Q.query(e))}parse(e){\nthis._send(Q.parse(e))}bind(e){this._send(Q.bind(e))}execute(e){this._send(Q.execute(e))}flush(){this.\nstream.writable&&this.stream.write(Ys)}sync(){this._ending=!0,this._send(Ys),this._send(zc)}ref(){this.\nstream.ref()}unref(){this.stream.unref()}end(){if(this._ending=!0,!this._connecting||!this.stream.writable){\nthis.stream.end();return}return this.stream.write(Kc,()=>{this.stream.end()})}close(e){this._send(Q.\nclose(e))}describe(e){this._send(Q.describe(e))}sendCopyFromChunk(e){this._send(Q.copyData(e))}endCopyFrom(){\nthis._send(Q.copyDone())}sendCopyFail(e){this._send(Q.copyFail(e))}};a(Sn,\"Connection\");var xn=Sn;Zs.\nexports=xn});var eo=T((np,Xs)=>{\"use strict\";p();var Yc=ge().EventEmitter,rp=(it(),O(nt)),Zc=rt(),An=ds(),Jc=Cs(),\nXc=At(),el=Bt(),Js=qs(),tl=tt(),rl=En(),Cn=class Cn extends Yc{constructor(e){super(),this.connectionParameters=\nnew el(e),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,\nthis.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(\nthis,\"password\",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),\nthis.replication=this.connectionParameters.replication;var t=e||{};this._Promise=t.Promise||b.Promise,\nthis._types=new Xc(t.types),this._ending=!1,this._connecting=!1,this._connected=!1,this._connectionError=\n!1,this._queryable=!0,this.connection=t.connection||new rl({stream:t.stream,ssl:this.connectionParameters.\nssl,keepAlive:t.keepAlive||!1,keepAliveInitialDelayMillis:t.keepAliveInitialDelayMillis||0,encoding:this.\nconnectionParameters.client_encoding||\"utf8\"}),this.queryQueue=[],this.binary=t.binary||tl.binary,this.\nprocessID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this.ssl&&this.ssl.key&&\nObject.defineProperty(this.ssl,\"key\",{enumerable:!1}),this._connectionTimeoutMillis=t.connectionTimeoutMillis||\n0}_errorAllQueries(e){let t=a(n=>{m.nextTick(()=>{n.handleError(e,this.connection)})},\"enqueueError\");\nthis.activeQuery&&(t(this.activeQuery),this.activeQuery=null),this.queryQueue.forEach(t),this.queryQueue.\nlength=0}_connect(e){var t=this,n=this.connection;if(this._connectionCallback=e,this._connecting||this.\n_connected){let i=new Error(\"Client has already been connected. You cannot reuse a client.\");m.nextTick(\n()=>{e(i)});return}this._connecting=!0,this.connectionTimeoutHandle,this._connectionTimeoutMillis>0&&\n(this.connectionTimeoutHandle=setTimeout(()=>{n._ending=!0,n.stream.destroy(new Error(\"timeout expir\\\ned\"))},this._connectionTimeoutMillis)),this.host&&this.host.indexOf(\"/\")===0?n.connect(this.host+\"/.\\\ns.PGSQL.\"+this.port):n.connect(this.port,this.host),n.on(\"connect\",function(){t.ssl?n.requestSsl():n.\nstartup(t.getStartupConf())}),n.on(\"sslconnect\",function(){n.startup(t.getStartupConf())}),this._attachListeners(\nn),n.once(\"end\",()=>{let i=this._ending?new Error(\"Connection terminated\"):new Error(\"Connection ter\\\nminated unexpectedly\");clearTimeout(this.connectionTimeoutHandle),this._errorAllQueries(i),this._ending||\n(this._connecting&&!this._connectionError?this._connectionCallback?this._connectionCallback(i):this.\n_handleErrorEvent(i):this._connectionError||this._handleErrorEvent(i)),m.nextTick(()=>{this.emit(\"en\\\nd\")})})}connect(e){if(e){this._connect(e);return}return new this._Promise((t,n)=>{this._connect(i=>{\ni?n(i):t()})})}_attachListeners(e){e.on(\"authenticationCleartextPassword\",this._handleAuthCleartextPassword.\nbind(this)),e.on(\"authenticationMD5Password\",this._handleAuthMD5Password.bind(this)),e.on(\"authentic\\\nationSASL\",this._handleAuthSASL.bind(this)),e.on(\"authenticationSASLContinue\",this._handleAuthSASLContinue.\nbind(this)),e.on(\"authenticationSASLFinal\",this._handleAuthSASLFinal.bind(this)),e.on(\"backendKeyDat\\\na\",this._handleBackendKeyData.bind(this)),e.on(\"error\",this._handleErrorEvent.bind(this)),e.on(\"erro\\\nrMessage\",this._handleErrorMessage.bind(this)),e.on(\"readyForQuery\",this._handleReadyForQuery.bind(this)),\ne.on(\"notice\",this._handleNotice.bind(this)),e.on(\"rowDescription\",this._handleRowDescription.bind(this)),\ne.on(\"dataRow\",this._handleDataRow.bind(this)),e.on(\"portalSuspended\",this._handlePortalSuspended.bind(\nthis)),e.on(\"emptyQuery\",this._handleEmptyQuery.bind(this)),e.on(\"commandComplete\",this._handleCommandComplete.\nbind(this)),e.on(\"parseComplete\",this._handleParseComplete.bind(this)),e.on(\"copyInResponse\",this._handleCopyInResponse.\nbind(this)),e.on(\"copyData\",this._handleCopyData.bind(this)),e.on(\"notification\",this._handleNotification.\nbind(this))}_checkPgPass(e){let t=this.connection;typeof this.password==\"function\"?this._Promise.resolve().\nthen(()=>this.password()).then(n=>{if(n!==void 0){if(typeof n!=\"string\"){t.emit(\"error\",new TypeError(\n\"Password must be a string\"));return}this.connectionParameters.password=this.password=n}else this.connectionParameters.\npassword=this.password=null;e()}).catch(n=>{t.emit(\"error\",n)}):this.password!==null?e():Jc(this.connectionParameters,\nn=>{n!==void 0&&(this.connectionParameters.password=this.password=n),e()})}_handleAuthCleartextPassword(e){\nthis._checkPgPass(()=>{this.connection.password(this.password)})}_handleAuthMD5Password(e){this._checkPgPass(\n()=>{let t=Zc.postgresMd5PasswordHash(this.user,this.password,e.salt);this.connection.password(t)})}_handleAuthSASL(e){\nthis._checkPgPass(()=>{this.saslSession=An.startSession(e.mechanisms),this.connection.sendSASLInitialResponseMessage(\nthis.saslSession.mechanism,this.saslSession.response)})}_handleAuthSASLContinue(e){An.continueSession(\nthis.saslSession,this.password,e.data),this.connection.sendSCRAMClientFinalMessage(this.saslSession.\nresponse)}_handleAuthSASLFinal(e){An.finalizeSession(this.saslSession,e.data),this.saslSession=null}_handleBackendKeyData(e){\nthis.processID=e.processID,this.secretKey=e.secretKey}_handleReadyForQuery(e){this._connecting&&(this.\n_connecting=!1,this._connected=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback&&\n(this._connectionCallback(null,this),this._connectionCallback=null),this.emit(\"connect\"));let{activeQuery:t}=this;\nthis.activeQuery=null,this.readyForQuery=!0,t&&t.handleReadyForQuery(this.connection),this._pulseQueryQueue()}_handleErrorWhileConnecting(e){\nif(!this._connectionError){if(this._connectionError=!0,clearTimeout(this.connectionTimeoutHandle),this.\n_connectionCallback)return this._connectionCallback(e);this.emit(\"error\",e)}}_handleErrorEvent(e){if(this.\n_connecting)return this._handleErrorWhileConnecting(e);this._queryable=!1,this._errorAllQueries(e),this.\nemit(\"error\",e)}_handleErrorMessage(e){if(this._connecting)return this._handleErrorWhileConnecting(e);\nlet t=this.activeQuery;if(!t){this._handleErrorEvent(e);return}this.activeQuery=null,t.handleError(e,\nthis.connection)}_handleRowDescription(e){this.activeQuery.handleRowDescription(e)}_handleDataRow(e){\nthis.activeQuery.handleDataRow(e)}_handlePortalSuspended(e){this.activeQuery.handlePortalSuspended(this.\nconnection)}_handleEmptyQuery(e){this.activeQuery.handleEmptyQuery(this.connection)}_handleCommandComplete(e){\nthis.activeQuery.handleCommandComplete(e,this.connection)}_handleParseComplete(e){this.activeQuery.name&&\n(this.connection.parsedStatements[this.activeQuery.name]=this.activeQuery.text)}_handleCopyInResponse(e){\nthis.activeQuery.handleCopyInResponse(this.connection)}_handleCopyData(e){this.activeQuery.handleCopyData(\ne,this.connection)}_handleNotification(e){this.emit(\"notification\",e)}_handleNotice(e){this.emit(\"no\\\ntice\",e)}getStartupConf(){var e=this.connectionParameters,t={user:e.user,database:e.database},n=e.application_name||\ne.fallback_application_name;return n&&(t.application_name=n),e.replication&&(t.replication=\"\"+e.replication),\ne.statement_timeout&&(t.statement_timeout=String(parseInt(e.statement_timeout,10))),e.lock_timeout&&\n(t.lock_timeout=String(parseInt(e.lock_timeout,10))),e.idle_in_transaction_session_timeout&&(t.idle_in_transaction_session_timeout=\nString(parseInt(e.idle_in_transaction_session_timeout,10))),e.options&&(t.options=e.options),t}cancel(e,t){\nif(e.activeQuery===t){var n=this.connection;this.host&&this.host.indexOf(\"/\")===0?n.connect(this.host+\n\"/.s.PGSQL.\"+this.port):n.connect(this.port,this.host),n.on(\"connect\",function(){n.cancel(e.processID,\ne.secretKey)})}else e.queryQueue.indexOf(t)!==-1&&e.queryQueue.splice(e.queryQueue.indexOf(t),1)}setTypeParser(e,t,n){\nreturn this._types.setTypeParser(e,t,n)}getTypeParser(e,t){return this._types.getTypeParser(e,t)}escapeIdentifier(e){\nreturn'\"'+e.replace(/\"/g,'\"\"')+'\"'}escapeLiteral(e){for(var t=!1,n=\"'\",i=0;i<e.length;i++){var s=e[i];\ns===\"'\"?n+=s+s:s===\"\\\\\"?(n+=s+s,t=!0):n+=s}return n+=\"'\",t===!0&&(n=\" E\"+n),n}_pulseQueryQueue(){if(this.\nreadyForQuery===!0)if(this.activeQuery=this.queryQueue.shift(),this.activeQuery){this.readyForQuery=\n!1,this.hasExecuted=!0;let e=this.activeQuery.submit(this.connection);e&&m.nextTick(()=>{this.activeQuery.\nhandleError(e,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&\n(this.activeQuery=null,this.emit(\"drain\"))}query(e,t,n){var i,s,o,u,c;if(e==null)throw new TypeError(\n\"Client was passed a null or undefined query\");return typeof e.submit==\"function\"?(o=e.query_timeout||\nthis.connectionParameters.query_timeout,s=i=e,typeof t==\"function\"&&(i.callback=i.callback||t)):(o=this.\nconnectionParameters.query_timeout,i=new Js(e,t,n),i.callback||(s=new this._Promise((l,f)=>{i.callback=\n(y,g)=>y?f(y):l(g)}))),o&&(c=i.callback,u=setTimeout(()=>{var l=new Error(\"Query read timeout\");m.nextTick(\n()=>{i.handleError(l,this.connection)}),c(l),i.callback=()=>{};var f=this.queryQueue.indexOf(i);f>-1&&\nthis.queryQueue.splice(f,1),this._pulseQueryQueue()},o),i.callback=(l,f)=>{clearTimeout(u),c(l,f)}),\nthis.binary&&!i.binary&&(i.binary=!0),i._result&&!i._result._types&&(i._result._types=this._types),this.\n_queryable?this._ending?(m.nextTick(()=>{i.handleError(new Error(\"Client was closed and is not query\\\nable\"),this.connection)}),s):(this.queryQueue.push(i),this._pulseQueryQueue(),s):(m.nextTick(()=>{i.\nhandleError(new Error(\"Client has encountered a connection error and is not queryable\"),this.connection)}),\ns)}ref(){this.connection.ref()}unref(){this.connection.unref()}end(e){if(this._ending=!0,!this.connection.\n_connecting)if(e)e();else return this._Promise.resolve();if(this.activeQuery||!this._queryable?this.\nconnection.stream.destroy():this.connection.end(),e)this.connection.once(\"end\",e);else return new this.\n_Promise(t=>{this.connection.once(\"end\",t)})}};a(Cn,\"Client\");var Ut=Cn;Ut.Query=Js;Xs.exports=Ut});var io=T((op,no)=>{\"use strict\";p();var nl=ge().EventEmitter,to=a(function(){},\"NOOP\"),ro=a((r,e)=>{\nlet t=r.findIndex(e);return t===-1?void 0:r.splice(t,1)[0]},\"removeWhere\"),Tn=class Tn{constructor(e,t,n){\nthis.client=e,this.idleListener=t,this.timeoutId=n}};a(Tn,\"IdleItem\");var _n=Tn,Pn=class Pn{constructor(e){\nthis.callback=e}};a(Pn,\"PendingItem\");var Qe=Pn;function il(){throw new Error(\"Release called on cli\\\nent which has already been released to the pool.\")}a(il,\"throwOnDoubleRelease\");function Dt(r,e){if(e)\nreturn{callback:e,result:void 0};let t,n,i=a(function(o,u){o?t(o):n(u)},\"cb\"),s=new r(function(o,u){\nn=o,t=u}).catch(o=>{throw Error.captureStackTrace(o),o});return{callback:i,result:s}}a(Dt,\"promisify\");\nfunction sl(r,e){return a(function t(n){n.client=e,e.removeListener(\"error\",t),e.on(\"error\",()=>{r.log(\n\"additional client error after disconnection due to error\",n)}),r._remove(e),r.emit(\"error\",n,e)},\"i\\\ndleListener\")}a(sl,\"makeIdleListener\");var Bn=class Bn extends nl{constructor(e,t){super(),this.options=\nObject.assign({},e),e!=null&&\"password\"in e&&Object.defineProperty(this.options,\"password\",{configurable:!0,\nenumerable:!1,writable:!0,value:e.password}),e!=null&&e.ssl&&e.ssl.key&&Object.defineProperty(this.options.\nssl,\"key\",{enumerable:!1}),this.options.max=this.options.max||this.options.poolSize||10,this.options.\nmin=this.options.min||0,this.options.maxUses=this.options.maxUses||1/0,this.options.allowExitOnIdle=\nthis.options.allowExitOnIdle||!1,this.options.maxLifetimeSeconds=this.options.maxLifetimeSeconds||0,\nthis.log=this.options.log||function(){},this.Client=this.options.Client||t||ot().Client,this.Promise=\nthis.options.Promise||b.Promise,typeof this.options.idleTimeoutMillis>\"u\"&&(this.options.idleTimeoutMillis=\n1e4),this._clients=[],this._idle=[],this._expired=new WeakSet,this._pendingQueue=[],this._endCallback=\nvoid 0,this.ending=!1,this.ended=!1}_isFull(){return this._clients.length>=this.options.max}_isAboveMin(){\nreturn this._clients.length>this.options.min}_pulseQueue(){if(this.log(\"pulse queue\"),this.ended){this.\nlog(\"pulse queue ended\");return}if(this.ending){this.log(\"pulse queue on ending\"),this._idle.length&&\nthis._idle.slice().map(t=>{this._remove(t.client)}),this._clients.length||(this.ended=!0,this._endCallback());\nreturn}if(!this._pendingQueue.length){this.log(\"no queued requests\");return}if(!this._idle.length&&this.\n_isFull())return;let e=this._pendingQueue.shift();if(this._idle.length){let t=this._idle.pop();clearTimeout(\nt.timeoutId);let n=t.client;n.ref&&n.ref();let i=t.idleListener;return this._acquireClient(n,e,i,!1)}\nif(!this._isFull())return this.newClient(e);throw new Error(\"unexpected condition\")}_remove(e){let t=ro(\nthis._idle,n=>n.client===e);t!==void 0&&clearTimeout(t.timeoutId),this._clients=this._clients.filter(\nn=>n!==e),e.end(),this.emit(\"remove\",e)}connect(e){if(this.ending){let i=new Error(\"Cannot use a poo\\\nl after calling end on the pool\");return e?e(i):this.Promise.reject(i)}let t=Dt(this.Promise,e),n=t.\nresult;if(this._isFull()||this._idle.length){if(this._idle.length&&m.nextTick(()=>this._pulseQueue()),\n!this.options.connectionTimeoutMillis)return this._pendingQueue.push(new Qe(t.callback)),n;let i=a((u,c,l)=>{\nclearTimeout(o),t.callback(u,c,l)},\"queueCallback\"),s=new Qe(i),o=setTimeout(()=>{ro(this._pendingQueue,\nu=>u.callback===i),s.timedOut=!0,t.callback(new Error(\"timeout exceeded when trying to connect\"))},this.\noptions.connectionTimeoutMillis);return o.unref&&o.unref(),this._pendingQueue.push(s),n}return this.\nnewClient(new Qe(t.callback)),n}newClient(e){let t=new this.Client(this.options);this._clients.push(\nt);let n=sl(this,t);this.log(\"checking client timeout\");let i,s=!1;this.options.connectionTimeoutMillis&&\n(i=setTimeout(()=>{this.log(\"ending client due to timeout\"),s=!0,t.connection?t.connection.stream.destroy():\nt.end()},this.options.connectionTimeoutMillis)),this.log(\"connecting new client\"),t.connect(o=>{if(i&&\nclearTimeout(i),t.on(\"error\",n),o)this.log(\"client failed to connect\",o),this._clients=this._clients.\nfilter(u=>u!==t),s&&(o=new Error(\"Connection terminated due to connection timeout\",{cause:o})),this.\n_pulseQueue(),e.timedOut||e.callback(o,void 0,to);else{if(this.log(\"new client connected\"),this.options.\nmaxLifetimeSeconds!==0){let u=setTimeout(()=>{this.log(\"ending client due to expired lifetime\"),this.\n_expired.add(t),this._idle.findIndex(l=>l.client===t)!==-1&&this._acquireClient(t,new Qe((l,f,y)=>y()),\nn,!1)},this.options.maxLifetimeSeconds*1e3);u.unref(),t.once(\"end\",()=>clearTimeout(u))}return this.\n_acquireClient(t,e,n,!0)}})}_acquireClient(e,t,n,i){i&&this.emit(\"connect\",e),this.emit(\"acquire\",e),\ne.release=this._releaseOnce(e,n),e.removeListener(\"error\",n),t.timedOut?i&&this.options.verify?this.\noptions.verify(e,e.release):e.release():i&&this.options.verify?this.options.verify(e,s=>{if(s)return e.\nrelease(s),t.callback(s,void 0,to);t.callback(void 0,e,e.release)}):t.callback(void 0,e,e.release)}_releaseOnce(e,t){\nlet n=!1;return i=>{n&&il(),n=!0,this._release(e,t,i)}}_release(e,t,n){if(e.on(\"error\",t),e._poolUseCount=\n(e._poolUseCount||0)+1,this.emit(\"release\",n,e),n||this.ending||!e._queryable||e._ending||e._poolUseCount>=\nthis.options.maxUses){e._poolUseCount>=this.options.maxUses&&this.log(\"remove expended client\"),this.\n_remove(e),this._pulseQueue();return}if(this._expired.has(e)){this.log(\"remove expired client\"),this.\n_expired.delete(e),this._remove(e),this._pulseQueue();return}let s;this.options.idleTimeoutMillis&&this.\n_isAboveMin()&&(s=setTimeout(()=>{this.log(\"remove idle client\"),this._remove(e)},this.options.idleTimeoutMillis),\nthis.options.allowExitOnIdle&&s.unref()),this.options.allowExitOnIdle&&e.unref(),this._idle.push(new _n(\ne,t,s)),this._pulseQueue()}query(e,t,n){if(typeof e==\"function\"){let s=Dt(this.Promise,e);return v(function(){\nreturn s.callback(new Error(\"Passing a function as the first parameter to pool.query is not supporte\\\nd\"))}),s.result}typeof t==\"function\"&&(n=t,t=void 0);let i=Dt(this.Promise,n);return n=i.callback,this.\nconnect((s,o)=>{if(s)return n(s);let u=!1,c=a(l=>{u||(u=!0,o.release(l),n(l))},\"onError\");o.once(\"er\\\nror\",c),this.log(\"dispatching query\");try{o.query(e,t,(l,f)=>{if(this.log(\"query dispatched\"),o.removeListener(\n\"error\",c),!u)return u=!0,o.release(l),l?n(l):n(void 0,f)})}catch(l){return o.release(l),n(l)}}),i.result}end(e){\nif(this.log(\"ending\"),this.ending){let n=new Error(\"Called end on pool more than once\");return e?e(n):\nthis.Promise.reject(n)}this.ending=!0;let t=Dt(this.Promise,e);return this._endCallback=t.callback,this.\n_pulseQueue(),t.result}get waitingCount(){return this._pendingQueue.length}get idleCount(){return this.\n_idle.length}get expiredCount(){return this._clients.reduce((e,t)=>e+(this._expired.has(t)?1:0),0)}get totalCount(){\nreturn this._clients.length}};a(Bn,\"Pool\");var In=Bn;no.exports=In});var so={};ie(so,{default:()=>ol});var ol,oo=G(()=>{\"use strict\";p();ol={}});var ao=T((lp,al)=>{al.exports={name:\"pg\",version:\"8.8.0\",description:\"PostgreSQL client - pure javas\\\ncript & libpq with the same API\",keywords:[\"database\",\"libpq\",\"pg\",\"postgre\",\"postgres\",\"postgresql\",\n\"rdbms\"],homepage:\"https://github.com/brianc/node-postgres\",repository:{type:\"git\",url:\"git://github\\\n.com/brianc/node-postgres.git\",directory:\"packages/pg\"},author:\"Brian Carlson <brian.m.carlson@gmail\\\n.com>\",main:\"./lib\",dependencies:{\"buffer-writer\":\"2.0.0\",\"packet-reader\":\"1.0.0\",\"pg-connection-str\\\ning\":\"^2.5.0\",\"pg-pool\":\"^3.5.2\",\"pg-protocol\":\"^1.5.0\",\"pg-types\":\"^2.1.0\",pgpass:\"1.x\"},devDependencies:{\nasync:\"2.6.4\",bluebird:\"3.5.2\",co:\"4.6.0\",\"pg-copy-streams\":\"0.3.0\"},peerDependencies:{\"pg-native\":\"\\\n>=3.0.1\"},peerDependenciesMeta:{\"pg-native\":{optional:!0}},scripts:{test:\"make test-all\"},files:[\"li\\\nb\",\"SPONSORS.md\"],license:\"MIT\",engines:{node:\">= 8.0.0\"},gitHead:\"c99fb2c127ddf8d712500db2c7b9a5491\\\na178655\"}});var lo=T((fp,co)=>{\"use strict\";p();var uo=ge().EventEmitter,ul=(it(),O(nt)),Rn=rt(),Ne=co.exports=function(r,e,t){\nuo.call(this),r=Rn.normalizeQueryConfig(r,e,t),this.text=r.text,this.values=r.values,this.name=r.name,\nthis.callback=r.callback,this.state=\"new\",this._arrayMode=r.rowMode===\"array\",this._emitRowEvents=!1,\nthis.on(\"newListener\",function(n){n===\"row\"&&(this._emitRowEvents=!0)}.bind(this))};ul.inherits(Ne,uo);\nvar cl={sqlState:\"code\",statementPosition:\"position\",messagePrimary:\"message\",context:\"where\",schemaName:\"\\\nschema\",tableName:\"table\",columnName:\"column\",dataTypeName:\"dataType\",constraintName:\"constraint\",sourceFile:\"\\\nfile\",sourceLine:\"line\",sourceFunction:\"routine\"};Ne.prototype.handleError=function(r){var e=this.native.\npq.resultErrorFields();if(e)for(var t in e){var n=cl[t]||t;r[n]=e[t]}this.callback?this.callback(r):\nthis.emit(\"error\",r),this.state=\"error\"};Ne.prototype.then=function(r,e){return this._getPromise().then(\nr,e)};Ne.prototype.catch=function(r){return this._getPromise().catch(r)};Ne.prototype._getPromise=function(){\nreturn this._promise?this._promise:(this._promise=new Promise(function(r,e){this._once(\"end\",r),this.\n_once(\"error\",e)}.bind(this)),this._promise)};Ne.prototype.submit=function(r){this.state=\"running\";var e=this;\nthis.native=r.native,r.native.arrayMode=this._arrayMode;var t=a(function(s,o,u){if(r.native.arrayMode=\n!1,v(function(){e.emit(\"_done\")}),s)return e.handleError(s);e._emitRowEvents&&(u.length>1?o.forEach(\n(c,l)=>{c.forEach(f=>{e.emit(\"row\",f,u[l])})}):o.forEach(function(c){e.emit(\"row\",c,u)})),e.state=\"e\\\nnd\",e.emit(\"end\",u),e.callback&&e.callback(null,u)},\"after\");if(m.domain&&(t=m.domain.bind(t)),this.\nname){this.name.length>63&&(console.error(\"Warning! Postgres only supports 63 characters for query n\\\names.\"),console.error(\"You supplied %s (%s)\",this.name,this.name.length),console.error(\"This can cau\\\nse conflicts and silent errors executing queries\"));var n=(this.values||[]).map(Rn.prepareValue);if(r.\nnamedQueries[this.name]){if(this.text&&r.namedQueries[this.name]!==this.text){let s=new Error(`Prepa\\\nred statements must be unique - '${this.name}' was used for a different statement`);return t(s)}return r.\nnative.execute(this.name,n,t)}return r.native.prepare(this.name,this.text,n.length,function(s){return s?\nt(s):(r.namedQueries[e.name]=e.text,e.native.execute(e.name,n,t))})}else if(this.values){if(!Array.isArray(\nthis.values)){let s=new Error(\"Query values must be an array\");return t(s)}var i=this.values.map(Rn.\nprepareValue);r.native.query(this.text,i,t)}else r.native.query(this.text,t)}});var yo=T((yp,po)=>{\"use strict\";p();var ll=(oo(),O(so)),fl=At(),dp=ao(),fo=ge().EventEmitter,hl=(it(),O(nt)),\npl=Bt(),ho=lo(),K=po.exports=function(r){fo.call(this),r=r||{},this._Promise=r.Promise||b.Promise,this.\n_types=new fl(r.types),this.native=new ll({types:this._types}),this._queryQueue=[],this._ending=!1,this.\n_connecting=!1,this._connected=!1,this._queryable=!0;var e=this.connectionParameters=new pl(r);this.\nuser=e.user,Object.defineProperty(this,\"password\",{configurable:!0,enumerable:!1,writable:!0,value:e.\npassword}),this.database=e.database,this.host=e.host,this.port=e.port,this.namedQueries={}};K.Query=\nho;hl.inherits(K,fo);K.prototype._errorAllQueries=function(r){let e=a(t=>{m.nextTick(()=>{t.native=this.\nnative,t.handleError(r)})},\"enqueueError\");this._hasActiveQuery()&&(e(this._activeQuery),this._activeQuery=\nnull),this._queryQueue.forEach(e),this._queryQueue.length=0};K.prototype._connect=function(r){var e=this;\nif(this._connecting){m.nextTick(()=>r(new Error(\"Client has already been connected. You cannot reuse\\\n a client.\")));return}this._connecting=!0,this.connectionParameters.getLibpqConnectionString(function(t,n){\nif(t)return r(t);e.native.connect(n,function(i){if(i)return e.native.end(),r(i);e._connected=!0,e.native.\non(\"error\",function(s){e._queryable=!1,e._errorAllQueries(s),e.emit(\"error\",s)}),e.native.on(\"notifi\\\ncation\",function(s){e.emit(\"notification\",{channel:s.relname,payload:s.extra})}),e.emit(\"connect\"),e.\n_pulseQueryQueue(!0),r()})})};K.prototype.connect=function(r){if(r){this._connect(r);return}return new this.\n_Promise((e,t)=>{this._connect(n=>{n?t(n):e()})})};K.prototype.query=function(r,e,t){var n,i,s,o,u;if(r==\nnull)throw new TypeError(\"Client was passed a null or undefined query\");if(typeof r.submit==\"functio\\\nn\")s=r.query_timeout||this.connectionParameters.query_timeout,i=n=r,typeof e==\"function\"&&(r.callback=\ne);else if(s=this.connectionParameters.query_timeout,n=new ho(r,e,t),!n.callback){let c,l;i=new this.\n_Promise((f,y)=>{c=f,l=y}),n.callback=(f,y)=>f?l(f):c(y)}return s&&(u=n.callback,o=setTimeout(()=>{var c=new Error(\n\"Query read timeout\");m.nextTick(()=>{n.handleError(c,this.connection)}),u(c),n.callback=()=>{};var l=this.\n_queryQueue.indexOf(n);l>-1&&this._queryQueue.splice(l,1),this._pulseQueryQueue()},s),n.callback=(c,l)=>{\nclearTimeout(o),u(c,l)}),this._queryable?this._ending?(n.native=this.native,m.nextTick(()=>{n.handleError(\nnew Error(\"Client was closed and is not queryable\"))}),i):(this._queryQueue.push(n),this._pulseQueryQueue(),\ni):(n.native=this.native,m.nextTick(()=>{n.handleError(new Error(\"Client has encountered a connectio\\\nn error and is not queryable\"))}),i)};K.prototype.end=function(r){var e=this;this._ending=!0,this._connected||\nthis.once(\"connect\",this.end.bind(this,r));var t;return r||(t=new this._Promise(function(n,i){r=a(s=>s?\ni(s):n(),\"cb\")})),this.native.end(function(){e._errorAllQueries(new Error(\"Connection terminated\")),\nm.nextTick(()=>{e.emit(\"end\"),r&&r()})}),t};K.prototype._hasActiveQuery=function(){return this._activeQuery&&\nthis._activeQuery.state!==\"error\"&&this._activeQuery.state!==\"end\"};K.prototype._pulseQueryQueue=function(r){\nif(this._connected&&!this._hasActiveQuery()){var e=this._queryQueue.shift();if(!e){r||this.emit(\"dra\\\nin\");return}this._activeQuery=e,e.submit(this);var t=this;e.once(\"_done\",function(){t._pulseQueryQueue()})}};\nK.prototype.cancel=function(r){this._activeQuery===r?this.native.cancel(function(){}):this._queryQueue.\nindexOf(r)!==-1&&this._queryQueue.splice(this._queryQueue.indexOf(r),1)};K.prototype.ref=function(){};\nK.prototype.unref=function(){};K.prototype.setTypeParser=function(r,e,t){return this._types.setTypeParser(\nr,e,t)};K.prototype.getTypeParser=function(r,e){return this._types.getTypeParser(r,e)}});var Ln=T((gp,mo)=>{\"use strict\";p();mo.exports=yo()});var ot=T((vp,at)=>{\"use strict\";p();var dl=eo(),yl=tt(),ml=En(),wl=io(),{DatabaseError:gl}=vn(),bl=a(\nr=>{var e;return e=class extends wl{constructor(n){super(n,r)}},a(e,\"BoundPool\"),e},\"poolFactory\"),Fn=a(\nfunction(r){this.defaults=yl,this.Client=r,this.Query=this.Client.Query,this.Pool=bl(this.Client),this.\n_pools=[],this.Connection=ml,this.types=Je(),this.DatabaseError=gl},\"PG\");typeof m.env.NODE_PG_FORCE_NATIVE<\n\"u\"?at.exports=new Fn(Ln()):(at.exports=new Fn(dl),Object.defineProperty(at.exports,\"native\",{configurable:!0,\nenumerable:!1,get(){var r=null;try{r=new Fn(Ln())}catch(e){if(e.code!==\"MODULE_NOT_FOUND\")throw e}return Object.\ndefineProperty(at.exports,\"native\",{value:r}),r}}))});p();p();Fe();Zt();p();var pa=Object.defineProperty,da=Object.defineProperties,ya=Object.getOwnPropertyDescriptors,bi=Object.\ngetOwnPropertySymbols,ma=Object.prototype.hasOwnProperty,wa=Object.prototype.propertyIsEnumerable,vi=a(\n(r,e,t)=>e in r?pa(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,\"__defNormalProp\"),\nga=a((r,e)=>{for(var t in e||(e={}))ma.call(e,t)&&vi(r,t,e[t]);if(bi)for(var t of bi(e))wa.call(e,t)&&\nvi(r,t,e[t]);return r},\"__spreadValues\"),ba=a((r,e)=>da(r,ya(e)),\"__spreadProps\"),va=1008e3,xi=new Uint8Array(\nnew Uint16Array([258]).buffer)[0]===2,xa=new TextDecoder,Jt=new TextEncoder,yt=Jt.encode(\"0123456789\\\nabcdef\"),mt=Jt.encode(\"0123456789ABCDEF\"),Sa=Jt.encode(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqr\\\nstuvwxyz0123456789+/\");var Si=Sa.slice();Si[62]=45;Si[63]=95;var He,wt;function Ea(r,{alphabet:e,scratchArr:t}={}){if(!He)if(He=\nnew Uint16Array(256),wt=new Uint16Array(256),xi)for(let C=0;C<256;C++)He[C]=yt[C&15]<<8|yt[C>>>4],wt[C]=\nmt[C&15]<<8|mt[C>>>4];else for(let C=0;C<256;C++)He[C]=yt[C&15]|yt[C>>>4]<<8,wt[C]=mt[C&15]|mt[C>>>4]<<\n8;r.byteOffset%4!==0&&(r=new Uint8Array(r));let n=r.length,i=n>>>1,s=n>>>2,o=t||new Uint16Array(n),u=new Uint32Array(\nr.buffer,r.byteOffset,s),c=new Uint32Array(o.buffer,o.byteOffset,i),l=e===\"upper\"?wt:He,f=0,y=0,g;if(xi)\nfor(;f<s;)g=u[f++],c[y++]=l[g>>>8&255]<<16|l[g&255],c[y++]=l[g>>>24]<<16|l[g>>>16&255];else for(;f<s;)\ng=u[f++],c[y++]=l[g>>>24]<<16|l[g>>>16&255],c[y++]=l[g>>>8&255]<<16|l[g&255];for(f<<=2;f<n;)o[f]=l[r[f++]];\nreturn xa.decode(o.subarray(0,n))}a(Ea,\"_toHex\");function Aa(r,e={}){let t=\"\",n=r.length,i=va>>>1,s=Math.\nceil(n/i),o=new Uint16Array(s>1?i:n);for(let u=0;u<s;u++){let c=u*i,l=c+i;t+=Ea(r.subarray(c,l),ba(ga(\n{},e),{scratchArr:o}))}return t}a(Aa,\"_toHexChunked\");function Ei(r,e={}){return e.alphabet!==\"upper\"&&\ntypeof r.toHex==\"function\"?r.toHex():Aa(r,e)}a(Ei,\"toHex\");p();var gt=class gt{constructor(e,t){this.strings=e;this.values=t}toParameterizedQuery(e={query:\"\",params:[]}){\nlet{strings:t,values:n}=this;for(let i=0,s=t.length;i<s;i++)if(e.query+=t[i],i<n.length){let o=n[i];\nif(o instanceof Ge)e.query+=o.sql;else if(o instanceof Ce)if(o.queryData instanceof gt)o.queryData.toParameterizedQuery(\ne);else{if(o.queryData.params?.length)throw new Error(\"This query is not composable\");e.query+=o.queryData.\nquery}else{let{params:u}=e;u.push(o),e.query+=\"$\"+u.length,(o instanceof d||ArrayBuffer.isView(o))&&\n(e.query+=\"::bytea\")}}return e}};a(gt,\"SqlTemplate\");var $e=gt,Xt=class Xt{constructor(e){this.sql=e}};\na(Xt,\"UnsafeRawSql\");var Ge=Xt;p();function bt(){typeof window<\"u\"&&typeof document<\"u\"&&typeof console<\"u\"&&typeof console.warn==\"func\\\ntion\"&&console.warn(`          \n        ************************************************************\n        *                                                          *\n        *  WARNING: Running SQL directly from the browser can have *\n        *  security implications. Even if your database is         *\n        *  protected by Row-Level Security (RLS), use it at your   *\n        *  own risk. This approach is great for fast prototyping,  *\n        *  but ensure proper safeguards are in place to prevent    *\n        *  misuse or execution of expensive SQL queries by your    *\n        *  end users.                                              *\n        *                                                          *\n        *  If you've assessed the risks, suppress this message     *\n        *  using the disableWarningInBrowsers configuration        *\n        *  parameter.                                              *\n        *                                                          *\n        ************************************************************`)}a(bt,\"warnIfBrowser\");Fe();var as=Se(At()),us=Se(rt());var _t=class _t extends Error{constructor(t){super(t);E(this,\"name\",\"NeonDbError\");E(this,\"severity\");\nE(this,\"code\");E(this,\"detail\");E(this,\"hint\");E(this,\"position\");E(this,\"internalPosition\");E(this,\n\"internalQuery\");E(this,\"where\");E(this,\"schema\");E(this,\"table\");E(this,\"column\");E(this,\"dataType\");\nE(this,\"constraint\");E(this,\"file\");E(this,\"line\");E(this,\"routine\");E(this,\"sourceError\");\"captureS\\\ntackTrace\"in Error&&typeof Error.captureStackTrace==\"function\"&&Error.captureStackTrace(this,_t)}};a(\n_t,\"NeonDbError\");var be=_t,is=\"transaction() expects an array of queries, or a function returning a\\\nn array of queries\",Ru=[\"severity\",\"code\",\"detail\",\"hint\",\"position\",\"internalPosition\",\"internalQue\\\nry\",\"where\",\"schema\",\"table\",\"column\",\"dataType\",\"constraint\",\"file\",\"line\",\"routine\"];function Lu(r){\nreturn r instanceof d?\"\\\\x\"+Ei(r):r}a(Lu,\"encodeBuffersAsBytea\");function ss(r){let{query:e,params:t}=r instanceof\n$e?r.toParameterizedQuery():r;return{query:e,params:t.map(n=>Lu((0,us.prepareValue)(n)))}}a(ss,\"prep\\\nareQuery\");function cs(r,{arrayMode:e,fullResults:t,fetchOptions:n,isolationLevel:i,readOnly:s,deferrable:o,\nauthToken:u,disableWarningInBrowsers:c}={}){if(!r)throw new Error(\"No database connection string was\\\n provided to `neon()`. Perhaps an environment variable has not been set?\");let l;try{l=Yt(r)}catch{throw new Error(\n\"Database connection string provided to `neon()` is not a valid URL. Connection string: \"+String(r))}\nlet{protocol:f,username:y,hostname:g,port:A,pathname:C}=l;if(f!==\"postgres:\"&&f!==\"postgresql:\"||!y||\n!g||!C)throw new Error(\"Database connection string format for `neon()` should be: postgresql://user:\\\npassword@host.tld/dbname?option=value\");function D(P,...I){if(!(Array.isArray(P)&&Array.isArray(P.raw)&&\nArray.isArray(I)))throw new Error('This function can now be called only as a tagged-template functio\\\nn: sql`SELECT ${value}`, not sql(\"SELECT $1\", [value], options). For a conventional function call wi\\\nth value placeholders ($1, $2, etc.), use sql.query(\"SELECT $1\", [value], options).');return new Ce(\nY,new $e(P,I))}a(D,\"templateFn\"),D.query=(P,I,w)=>new Ce(Y,{query:P,params:I??[]},w),D.unsafe=P=>new Ge(\nP),D.transaction=async(P,I)=>{if(typeof P==\"function\"&&(P=P(D)),!Array.isArray(P))throw new Error(is);\nP.forEach(W=>{if(!(W instanceof Ce))throw new Error(is)});let w=P.map(W=>W.queryData),Z=P.map(W=>W.opts??\n{});return Y(w,Z,I)};async function Y(P,I,w){let{fetchEndpoint:Z,fetchFunction:W}=ce,J=Array.isArray(\nP)?{queries:P.map(ee=>ss(ee))}:ss(P),X=n??{},se=e??!1,oe=t??!1,R=i,j=s,le=o;w!==void 0&&(w.fetchOptions!==\nvoid 0&&(X={...X,...w.fetchOptions}),w.arrayMode!==void 0&&(se=w.arrayMode),w.fullResults!==void 0&&\n(oe=w.fullResults),w.isolationLevel!==void 0&&(R=w.isolationLevel),w.readOnly!==void 0&&(j=w.readOnly),\nw.deferrable!==void 0&&(le=w.deferrable)),I!==void 0&&!Array.isArray(I)&&I.fetchOptions!==void 0&&(X=\n{...X,...I.fetchOptions});let de=u;!Array.isArray(I)&&I?.authToken!==void 0&&(de=I.authToken);let We=typeof Z==\n\"function\"?Z(g,A,{jwtAuth:de!==void 0}):Z,fe={\"Neon-Connection-String\":r,\"Neon-Raw-Text-Output\":\"tru\\\ne\",\"Neon-Array-Mode\":\"true\"},_e=await Fu(de);_e&&(fe.Authorization=`Bearer ${_e}`),Array.isArray(P)&&\n(R!==void 0&&(fe[\"Neon-Batch-Isolation-Level\"]=R),j!==void 0&&(fe[\"Neon-Batch-Read-Only\"]=String(j)),\nle!==void 0&&(fe[\"Neon-Batch-Deferrable\"]=String(le))),c||ce.disableWarningInBrowsers||bt();let ye;try{\nye=await(W??fetch)(We,{method:\"POST\",body:JSON.stringify(J),headers:fe,...X})}catch(ee){let M=new be(\n`Error connecting to database: ${ee}`);throw M.sourceError=ee,M}if(ye.ok){let ee=await ye.json();if(Array.\nisArray(P)){let M=ee.results;if(!Array.isArray(M))throw new be(\"Neon internal error: unexpected resu\\\nlt format\");return M.map(($,me)=>{let Ot=I[me]??{},vo=Ot.arrayMode??se,xo=Ot.fullResults??oe;return os(\n$,{arrayMode:vo,fullResults:xo,types:Ot.types})})}else{let M=I??{},$=M.arrayMode??se,me=M.fullResults??\noe;return os(ee,{arrayMode:$,fullResults:me,types:M.types})}}else{let{status:ee}=ye;if(ee===400){let M=await ye.\njson(),$=new be(M.message);for(let me of Ru)$[me]=M[me]??void 0;throw $}else{let M=await ye.text();throw new be(\n`Server error (HTTP status ${ee}): ${M}`)}}}return a(Y,\"execute\"),D}a(cs,\"neon\");var dr=class dr{constructor(e,t,n){\nthis.execute=e;this.queryData=t;this.opts=n}then(e,t){return this.execute(this.queryData,this.opts).\nthen(e,t)}catch(e){return this.execute(this.queryData,this.opts).catch(e)}finally(e){return this.execute(\nthis.queryData,this.opts).finally(e)}};a(dr,\"NeonQueryPromise\");var Ce=dr;function os(r,{arrayMode:e,\nfullResults:t,types:n}){let i=new as.default(n),s=r.fields.map(c=>c.name),o=r.fields.map(c=>i.getTypeParser(\nc.dataTypeID)),u=e===!0?r.rows.map(c=>c.map((l,f)=>l===null?null:o[f](l))):r.rows.map(c=>Object.fromEntries(\nc.map((l,f)=>[s[f],l===null?null:o[f](l)])));return t?(r.viaNeonFetch=!0,r.rowAsArray=e,r.rows=u,r._parsers=\no,r._types=i,r):u}a(os,\"processQueryResult\");async function Fu(r){if(typeof r==\"string\")return r;if(typeof r==\n\"function\")try{return await Promise.resolve(r())}catch(e){let t=new be(\"Error getting auth token.\");\nthrow e instanceof Error&&(t=new be(`Error getting auth token: ${e.message}`)),t}}a(Fu,\"getAuthToken\");p();var go=Se(ot());p();var wo=Se(ot());var kn=class kn extends wo.Client{constructor(t){super(t);this.config=t}get neonConfig(){return this.\nconnection.stream}connect(t){let{neonConfig:n}=this;n.forceDisablePgSSL&&(this.ssl=this.connection.ssl=\n!1),this.ssl&&n.useSecureWebSocket&&console.warn(\"SSL is enabled for both Postgres (e.g. ?sslmode=re\\\nquire in the connection string + forceDisablePgSSL = false) and the WebSocket tunnel (useSecureWebSo\\\ncket = true). Double encryption will increase latency and CPU usage. It may be appropriate to disabl\\\ne SSL in the Postgres connection parameters or set forceDisablePgSSL = true.\");let i=typeof this.config!=\n\"string\"&&this.config?.host!==void 0||typeof this.config!=\"string\"&&this.config?.connectionString!==\nvoid 0||m.env.PGHOST!==void 0,s=m.env.USER??m.env.USERNAME;if(!i&&this.host===\"localhost\"&&this.user===\ns&&this.database===s&&this.password===null)throw new Error(`No database host or connection string wa\\\ns set, and key parameters have default values (host: localhost, user: ${s}, db: ${s}, password: null\\\n). Is an environment variable missing? Alternatively, if you intended to connect with these paramete\\\nrs, please set the host to 'localhost' explicitly.`);let o=super.connect(t),u=n.pipelineTLS&&this.ssl,\nc=n.pipelineConnect===\"password\";if(!u&&!n.pipelineConnect)return o;let l=this.connection;if(u&&l.on(\n\"connect\",()=>l.stream.emit(\"data\",\"S\")),c){l.removeAllListeners(\"authenticationCleartextPassword\"),\nl.removeAllListeners(\"readyForQuery\"),l.once(\"readyForQuery\",()=>l.on(\"readyForQuery\",this._handleReadyForQuery.\nbind(this)));let f=this.ssl?\"sslconnect\":\"connect\";l.on(f,()=>{this.neonConfig.disableWarningInBrowsers||\nbt(),this._handleAuthCleartextPassword(),this._handleReadyForQuery()})}return o}async _handleAuthSASLContinue(t){\nif(typeof crypto>\"u\"||crypto.subtle===void 0||crypto.subtle.importKey===void 0)throw new Error(\"Cann\\\not use SASL auth when `crypto.subtle` is not defined\");let n=crypto.subtle,i=this.saslSession,s=this.\npassword,o=t.data;if(i.message!==\"SASLInitialResponse\"||typeof s!=\"string\"||typeof o!=\"string\")throw new Error(\n\"SASL: protocol error\");let u=Object.fromEntries(o.split(\",\").map(M=>{if(!/^.=/.test(M))throw new Error(\n\"SASL: Invalid attribute pair entry\");let $=M[0],me=M.substring(2);return[$,me]})),c=u.r,l=u.s,f=u.i;\nif(!c||!/^[!-+--~]+$/.test(c))throw new Error(\"SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing/unpri\\\nntable\");if(!l||!/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(l))throw new Error(\n\"SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing/not base64\");if(!f||!/^[1-9][0-9]*$/.test(f))throw new Error(\n\"SASL: SCRAM-SERVER-FIRST-MESSAGE: missing/invalid iteration count\");if(!c.startsWith(i.clientNonce))\nthrow new Error(\"SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce\");if(c.\nlength===i.clientNonce.length)throw new Error(\"SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too\\\n short\");let y=parseInt(f,10),g=d.from(l,\"base64\"),A=new TextEncoder,C=A.encode(s),D=await n.importKey(\n\"raw\",C,{name:\"HMAC\",hash:{name:\"SHA-256\"}},!1,[\"sign\"]),Y=new Uint8Array(await n.sign(\"HMAC\",D,d.concat(\n[g,d.from([0,0,0,1])]))),P=Y;for(var I=0;I<y-1;I++)Y=new Uint8Array(await n.sign(\"HMAC\",D,Y)),P=d.from(\nP.map((M,$)=>P[$]^Y[$]));let w=P,Z=await n.importKey(\"raw\",w,{name:\"HMAC\",hash:{name:\"SHA-256\"}},!1,\n[\"sign\"]),W=new Uint8Array(await n.sign(\"HMAC\",Z,A.encode(\"Client Key\"))),J=await n.digest(\"SHA-256\",\nW),X=\"n=*,r=\"+i.clientNonce,se=\"r=\"+c+\",s=\"+l+\",i=\"+y,oe=\"c=biws,r=\"+c,R=X+\",\"+se+\",\"+oe,j=await n.importKey(\n\"raw\",J,{name:\"HMAC\",hash:{name:\"SHA-256\"}},!1,[\"sign\"]);var le=new Uint8Array(await n.sign(\"HMAC\",j,\nA.encode(R))),de=d.from(W.map((M,$)=>W[$]^le[$])),We=de.toString(\"base64\");let fe=await n.importKey(\n\"raw\",w,{name:\"HMAC\",hash:{name:\"SHA-256\"}},!1,[\"sign\"]),_e=await n.sign(\"HMAC\",fe,A.encode(\"Server \\\nKey\")),ye=await n.importKey(\"raw\",_e,{name:\"HMAC\",hash:{name:\"SHA-256\"}},!1,[\"sign\"]);var ee=d.from(\nawait n.sign(\"HMAC\",ye,A.encode(R)));i.message=\"SASLResponse\",i.serverSignature=ee.toString(\"base64\"),\ni.response=oe+\",p=\"+We,this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}};a(kn,\n\"NeonClient\");var ut=kn;Fe();var bo=Se(Bt());function vl(r,e){if(e)return{callback:e,result:void 0};let t,n,i=a(function(o,u){o?t(o):n(u)},\"cb\"),\ns=new r(function(o,u){n=o,t=u});return{callback:i,result:s}}a(vl,\"promisify\");var Un=class Un extends go.Pool{constructor(){\nsuper(...arguments);E(this,\"Client\",ut);E(this,\"hasFetchUnsupportedListeners\",!1);E(this,\"addListene\\\nr\",this.on)}on(t,n){return t!==\"error\"&&(this.hasFetchUnsupportedListeners=!0),super.on(t,n)}query(t,n,i){\nif(!ce.poolQueryViaFetch||this.hasFetchUnsupportedListeners||typeof t==\"function\")return super.query(\nt,n,i);typeof n==\"function\"&&(i=n,n=void 0);let s=vl(this.Promise,i);i=s.callback;try{let o=new bo.default(\nthis.options),u=encodeURIComponent,c=encodeURI,l=`postgresql://${u(o.user)}:${u(o.password)}@${u(o.host)}\\\n/${c(o.database)}`,f=typeof t==\"string\"?t:t.text,y=n??t.values??[];cs(l,{fullResults:!0,arrayMode:t.\nrowMode===\"array\"}).query(f,y,{types:t.types??this.options?.types}).then(A=>i(void 0,A)).catch(A=>i(\nA))}catch(o){i(o)}return s.result}};a(Un,\"NeonPool\");var Mn=Un;Fe();var ct=Se(ot()),kp=\"mjs\";var export_DatabaseError=ct.DatabaseError;var export_defaults=ct.defaults;var export_escapeIdentifier=ct.escapeIdentifier;\nvar export_escapeLiteral=ct.escapeLiteral;var export_types=ct.types;export{ut as Client,export_DatabaseError as DatabaseError,\nbe as NeonDbError,Ce as NeonQueryPromise,Mn as Pool,$e as SqlTemplate,Ge as UnsafeRawSql,kp as _bundleExt,\nexport_defaults as defaults,export_escapeIdentifier as escapeIdentifier,export_escapeLiteral as escapeLiteral,\ncs as neon,ce as neonConfig,export_types as types,bt as warnIfBrowser};\n/*! Bundled license information:\n\nieee754/index.js:\n  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)\n\nbuffer/index.js:\n  (*!\n   * The buffer module from node.js, for the browser.\n   *\n   * @author   Feross Aboukhadijeh <https://feross.org>\n   * @license  MIT\n   *)\n*/\n", "import type { HTTPQueryOptions, HTTPTransactionOptions, NeonQueryFunction } from '@neondatabase/serverless';\nimport { neon, types } from '@neondatabase/serverless';\nimport type { BatchItem, BatchResponse } from '~/batch.ts';\nimport type { Cache } from '~/cache/core/cache.ts';\nimport { entityKind } from '~/entity.ts';\nimport type { Logger } from '~/logger.ts';\nimport { DefaultLogger } from '~/logger.ts';\nimport { PgDatabase } from '~/pg-core/db.ts';\nimport { PgDialect } from '~/pg-core/dialect.ts';\nimport { createTableRelationsHelpers, extractTablesRelationalConfig } from '~/relations.ts';\nimport type { ExtractTablesWithRelations, RelationalSchemaConfig, TablesRelationalConfig } from '~/relations.ts';\nimport { type DrizzleConfig, isConfig } from '~/utils.ts';\nimport { type NeonHttpClient, type NeonHttpQueryResultHKT, NeonHttpSession } from './session.ts';\n\nexport interface NeonDriverOptions {\n\tlogger?: Logger;\n\tcache?: Cache;\n}\n\nexport class NeonHttpDriver {\n\tstatic readonly [entityKind]: string = 'NeonHttpDriver';\n\n\tconstructor(\n\t\tprivate client: NeonHttpClient,\n\t\tprivate dialect: PgDialect,\n\t\tprivate options: NeonDriverOptions = {},\n\t) {\n\t\tthis.initMappers();\n\t}\n\n\tcreateSession(\n\t\tschema: RelationalSchemaConfig<TablesRelationalConfig> | undefined,\n\t): NeonHttpSession<Record<string, unknown>, TablesRelationalConfig> {\n\t\treturn new NeonHttpSession(this.client, this.dialect, schema, {\n\t\t\tlogger: this.options.logger,\n\t\t\tcache: this.options.cache,\n\t\t});\n\t}\n\n\tinitMappers() {\n\t\ttypes.setTypeParser(types.builtins.TIMESTAMPTZ, (val) => val);\n\t\ttypes.setTypeParser(types.builtins.TIMESTAMP, (val) => val);\n\t\ttypes.setTypeParser(types.builtins.DATE, (val) => val);\n\t\ttypes.setTypeParser(types.builtins.INTERVAL, (val) => val);\n\t\ttypes.setTypeParser(1231, (val) => val);\n\t\ttypes.setTypeParser(1115, (val) => val);\n\t\ttypes.setTypeParser(1185, (val) => val);\n\t\ttypes.setTypeParser(1187, (val) => val);\n\t\ttypes.setTypeParser(1182, (val) => val);\n\t}\n}\n\nfunction wrap<T extends object>(\n\ttarget: T,\n\ttoken: Exclude<HTTPQueryOptions<true, true>['authToken'], undefined>,\n\tcb: (target: any, p: string | symbol, res: any) => any,\n\tdeep?: boolean,\n) {\n\treturn new Proxy(target, {\n\t\tget(target, p) {\n\t\t\tconst element = target[p as keyof typeof p];\n\t\t\tif (typeof element !== 'function' && (typeof element !== 'object' || element === null)) return element;\n\n\t\t\tif (deep) return wrap(element, token, cb);\n\t\t\tif (p === 'query') return wrap(element, token, cb, true);\n\n\t\t\treturn new Proxy(element as any, {\n\t\t\t\tapply(target, thisArg, argArray) {\n\t\t\t\t\tconst res = target.call(thisArg, ...argArray);\n\t\t\t\t\tif (typeof res === 'object' && res !== null && 'setToken' in res && typeof res.setToken === 'function') {\n\t\t\t\t\t\tres.setToken(token);\n\t\t\t\t\t}\n\t\t\t\t\treturn cb(target, p, res);\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t});\n}\n\nexport class NeonHttpDatabase<\n\tTSchema extends Record<string, unknown> = Record<string, never>,\n> extends PgDatabase<NeonHttpQueryResultHKT, TSchema> {\n\tstatic override readonly [entityKind]: string = 'NeonHttpDatabase';\n\n\t$withAuth(\n\t\ttoken: Exclude<HTTPQueryOptions<true, true>['authToken'], undefined>,\n\t): Omit<\n\t\tthis,\n\t\tExclude<\n\t\t\tkeyof this,\n\t\t\t| '$count'\n\t\t\t| 'delete'\n\t\t\t| 'select'\n\t\t\t| 'selectDistinct'\n\t\t\t| 'selectDistinctOn'\n\t\t\t| 'update'\n\t\t\t| 'insert'\n\t\t\t| 'with'\n\t\t\t| 'query'\n\t\t\t| 'execute'\n\t\t\t| 'refreshMaterializedView'\n\t\t>\n\t> {\n\t\tthis.authToken = token;\n\n\t\treturn wrap(this, token, (target, p, res) => {\n\t\t\tif (p === 'with') {\n\t\t\t\treturn wrap(res, token, (_, __, res) => res);\n\t\t\t}\n\t\t\treturn res;\n\t\t});\n\t}\n\n\t/** @internal */\n\tdeclare readonly session: NeonHttpSession<TSchema, ExtractTablesWithRelations<TSchema>>;\n\n\tasync batch<U extends BatchItem<'pg'>, T extends Readonly<[U, ...U[]]>>(\n\t\tbatch: T,\n\t): Promise<BatchResponse<T>> {\n\t\treturn this.session.batch(batch) as Promise<BatchResponse<T>>;\n\t}\n}\n\nfunction construct<\n\tTSchema extends Record<string, unknown> = Record<string, never>,\n\tTClient extends NeonQueryFunction<any, any> = NeonQueryFunction<any, any>,\n>(\n\tclient: TClient,\n\tconfig: DrizzleConfig<TSchema> = {},\n): NeonHttpDatabase<TSchema> & {\n\t$client: TClient;\n} {\n\tconst dialect = new PgDialect({ casing: config.casing });\n\tlet logger;\n\tif (config.logger === true) {\n\t\tlogger = new DefaultLogger();\n\t} else if (config.logger !== false) {\n\t\tlogger = config.logger;\n\t}\n\n\tlet schema: RelationalSchemaConfig<TablesRelationalConfig> | undefined;\n\tif (config.schema) {\n\t\tconst tablesConfig = extractTablesRelationalConfig(\n\t\t\tconfig.schema,\n\t\t\tcreateTableRelationsHelpers,\n\t\t);\n\t\tschema = {\n\t\t\tfullSchema: config.schema,\n\t\t\tschema: tablesConfig.tables,\n\t\t\ttableNamesMap: tablesConfig.tableNamesMap,\n\t\t};\n\t}\n\n\tconst driver = new NeonHttpDriver(client, dialect, { logger, cache: config.cache });\n\tconst session = driver.createSession(schema);\n\n\tconst db = new NeonHttpDatabase(\n\t\tdialect,\n\t\tsession,\n\t\tschema as RelationalSchemaConfig<ExtractTablesWithRelations<TSchema>> | undefined,\n\t);\n\t(<any> db).$client = client;\n\t(<any> db).$cache = config.cache;\n\tif ((<any> db).$cache) {\n\t\t(<any> db).$cache['invalidate'] = config.cache?.onMutate;\n\t}\n\n\treturn db as any;\n}\n\nexport function drizzle<\n\tTSchema extends Record<string, unknown> = Record<string, never>,\n\tTClient extends NeonQueryFunction<any, any> = NeonQueryFunction<false, false>,\n>(\n\t...params: [\n\t\tTClient | string,\n\t] | [\n\t\tTClient | string,\n\t\tDrizzleConfig<TSchema>,\n\t] | [\n\t\t(\n\t\t\t& DrizzleConfig<TSchema>\n\t\t\t& ({\n\t\t\t\tconnection: string | ({ connectionString: string } & HTTPTransactionOptions<boolean, boolean>);\n\t\t\t} | {\n\t\t\t\tclient: TClient;\n\t\t\t})\n\t\t),\n\t]\n): NeonHttpDatabase<TSchema> & {\n\t$client: TClient;\n} {\n\tif (typeof params[0] === 'string') {\n\t\tconst instance = neon(params[0] as string);\n\t\treturn construct(instance, params[1]) as any;\n\t}\n\n\tif (isConfig(params[0])) {\n\t\tconst { connection, client, ...drizzleConfig } = params[0] as\n\t\t\t& {\n\t\t\t\tconnection?:\n\t\t\t\t\t| ({\n\t\t\t\t\t\tconnectionString: string;\n\t\t\t\t\t} & HTTPTransactionOptions<boolean, boolean>)\n\t\t\t\t\t| string;\n\t\t\t\tclient?: TClient;\n\t\t\t}\n\t\t\t& DrizzleConfig<TSchema>;\n\n\t\tif (client) return construct(client, drizzleConfig);\n\n\t\tif (typeof connection === 'object') {\n\t\t\tconst { connectionString, ...options } = connection;\n\n\t\t\tconst instance = neon(connectionString, options);\n\n\t\t\treturn construct(instance, drizzleConfig) as any;\n\t\t}\n\n\t\tconst instance = neon(connection!);\n\n\t\treturn construct(instance, drizzleConfig) as any;\n\t}\n\n\treturn construct(params[0] as TClient, params[1] as DrizzleConfig<TSchema> | undefined) as any;\n}\n\nexport namespace drizzle {\n\texport function mock<TSchema extends Record<string, unknown> = Record<string, never>>(\n\t\tconfig?: DrizzleConfig<TSchema>,\n\t): NeonHttpDatabase<TSchema> & {\n\t\t$client: '$client is not available on drizzle.mock()';\n\t} {\n\t\treturn construct({} as any, config) as any;\n\t}\n}\n", "import type { Cache } from '~/cache/core/cache.ts';\nimport { entityKind } from '~/entity.ts';\nimport type { PgDialect } from '~/pg-core/dialect.ts';\nimport {\n\tPgDeleteBase,\n\tPgInsertBuilder,\n\tPgSelectBuilder,\n\tPgUpdateBuilder,\n\tQueryBuilder,\n} from '~/pg-core/query-builders/index.ts';\nimport type {\n\tPgQueryResultHKT,\n\tPgQueryResultKind,\n\tPgSession,\n\tPgTransaction,\n\tPgTransactionConfig,\n\tPreparedQueryConfig,\n} from '~/pg-core/session.ts';\nimport type { PgTable } from '~/pg-core/table.ts';\nimport type { TypedQueryBuilder } from '~/query-builders/query-builder.ts';\nimport type { ExtractTablesWithRelations, RelationalSchemaConfig, TablesRelationalConfig } from '~/relations.ts';\nimport { SelectionProxyHandler } from '~/selection-proxy.ts';\nimport { type ColumnsSelection, type SQL, sql, type SQLWrapper } from '~/sql/sql.ts';\nimport { WithSubquery } from '~/subquery.ts';\nimport type { DrizzleTypeError, NeonAuthToken } from '~/utils.ts';\nimport type { PgColumn } from './columns/index.ts';\nimport { PgCountBuilder } from './query-builders/count.ts';\nimport { RelationalQueryBuilder } from './query-builders/query.ts';\nimport { PgRaw } from './query-builders/raw.ts';\nimport { PgRefreshMaterializedView } from './query-builders/refresh-materialized-view.ts';\nimport type { SelectedFields } from './query-builders/select.types.ts';\nimport type { WithBuilder } from './subquery.ts';\nimport type { PgViewBase } from './view-base.ts';\nimport type { PgMaterializedView } from './view.ts';\n\nexport class PgDatabase<\n\tTQueryResult extends PgQueryResultHKT,\n\tTFullSchema extends Record<string, unknown> = Record<string, never>,\n\tTSchema extends TablesRelationalConfig = ExtractTablesWithRelations<TFullSchema>,\n> {\n\tstatic readonly [entityKind]: string = 'PgDatabase';\n\n\tdeclare readonly _: {\n\t\treadonly schema: TSchema | undefined;\n\t\treadonly fullSchema: TFullSchema;\n\t\treadonly tableNamesMap: Record<string, string>;\n\t\treadonly session: PgSession<TQueryResult, TFullSchema, TSchema>;\n\t};\n\n\tquery: TFullSchema extends Record<string, never>\n\t\t? DrizzleTypeError<'Seems like the schema generic is missing - did you forget to add it to your DB type?'>\n\t\t: {\n\t\t\t[K in keyof TSchema]: RelationalQueryBuilder<TSchema, TSchema[K]>;\n\t\t};\n\n\tconstructor(\n\t\t/** @internal */\n\t\treadonly dialect: PgDialect,\n\t\t/** @internal */\n\t\treadonly session: PgSession<any, any, any>,\n\t\tschema: RelationalSchemaConfig<TSchema> | undefined,\n\t) {\n\t\tthis._ = schema\n\t\t\t? {\n\t\t\t\tschema: schema.schema,\n\t\t\t\tfullSchema: schema.fullSchema as TFullSchema,\n\t\t\t\ttableNamesMap: schema.tableNamesMap,\n\t\t\t\tsession,\n\t\t\t}\n\t\t\t: {\n\t\t\t\tschema: undefined,\n\t\t\t\tfullSchema: {} as TFullSchema,\n\t\t\t\ttableNamesMap: {},\n\t\t\t\tsession,\n\t\t\t};\n\t\tthis.query = {} as typeof this['query'];\n\t\tif (this._.schema) {\n\t\t\tfor (const [tableName, columns] of Object.entries(this._.schema)) {\n\t\t\t\t(this.query as PgDatabase<TQueryResult, Record<string, any>>['query'])[tableName] = new RelationalQueryBuilder(\n\t\t\t\t\tschema!.fullSchema,\n\t\t\t\t\tthis._.schema,\n\t\t\t\t\tthis._.tableNamesMap,\n\t\t\t\t\tschema!.fullSchema[tableName] as PgTable,\n\t\t\t\t\tcolumns,\n\t\t\t\t\tdialect,\n\t\t\t\t\tsession,\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tthis.$cache = { invalidate: async (_params: any) => {} };\n\t}\n\n\t/**\n\t * Creates a subquery that defines a temporary named result set as a CTE.\n\t *\n\t * It is useful for breaking down complex queries into simpler parts and for reusing the result set in subsequent parts of the query.\n\t *\n\t * See docs: {@link https://orm.drizzle.team/docs/select#with-clause}\n\t *\n\t * @param alias The alias for the subquery.\n\t *\n\t * Failure to provide an alias will result in a DrizzleTypeError, preventing the subquery from being referenced in other queries.\n\t *\n\t * @example\n\t *\n\t * ```ts\n\t * // Create a subquery with alias 'sq' and use it in the select query\n\t * const sq = db.$with('sq').as(db.select().from(users).where(eq(users.id, 42)));\n\t *\n\t * const result = await db.with(sq).select().from(sq);\n\t * ```\n\t *\n\t * To select arbitrary SQL values as fields in a CTE and reference them in other CTEs or in the main query, you need to add aliases to them:\n\t *\n\t * ```ts\n\t * // Select an arbitrary SQL value as a field in a CTE and reference it in the main query\n\t * const sq = db.$with('sq').as(db.select({\n\t *   name: sql<string>`upper(${users.name})`.as('name'),\n\t * })\n\t * .from(users));\n\t *\n\t * const result = await db.with(sq).select({ name: sq.name }).from(sq);\n\t * ```\n\t */\n\t$with: WithBuilder = (alias: string, selection?: ColumnsSelection) => {\n\t\tconst self = this;\n\t\tconst as = (\n\t\t\tqb:\n\t\t\t\t| TypedQueryBuilder<ColumnsSelection | undefined>\n\t\t\t\t| SQL\n\t\t\t\t| ((qb: QueryBuilder) => TypedQueryBuilder<ColumnsSelection | undefined> | SQL),\n\t\t) => {\n\t\t\tif (typeof qb === 'function') {\n\t\t\t\tqb = qb(new QueryBuilder(self.dialect));\n\t\t\t}\n\n\t\t\treturn new Proxy(\n\t\t\t\tnew WithSubquery(\n\t\t\t\t\tqb.getSQL(),\n\t\t\t\t\tselection ?? ('getSelectedFields' in qb ? qb.getSelectedFields() ?? {} : {}) as SelectedFields,\n\t\t\t\t\talias,\n\t\t\t\t\ttrue,\n\t\t\t\t),\n\t\t\t\tnew SelectionProxyHandler({ alias, sqlAliasedBehavior: 'alias', sqlBehavior: 'error' }),\n\t\t\t);\n\t\t};\n\t\treturn { as };\n\t};\n\n\t$count(\n\t\tsource: PgTable | PgViewBase | SQL | SQLWrapper,\n\t\tfilters?: SQL<unknown>,\n\t) {\n\t\treturn new PgCountBuilder({ source, filters, session: this.session });\n\t}\n\n\t$cache: { invalidate: Cache['onMutate'] };\n\n\t/**\n\t * Incorporates a previously defined CTE (using `$with`) into the main query.\n\t *\n\t * This method allows the main query to reference a temporary named result set.\n\t *\n\t * See docs: {@link https://orm.drizzle.team/docs/select#with-clause}\n\t *\n\t * @param queries The CTEs to incorporate into the main query.\n\t *\n\t * @example\n\t *\n\t * ```ts\n\t * // Define a subquery 'sq' as a CTE using $with\n\t * const sq = db.$with('sq').as(db.select().from(users).where(eq(users.id, 42)));\n\t *\n\t * // Incorporate the CTE 'sq' into the main query and select from it\n\t * const result = await db.with(sq).select().from(sq);\n\t * ```\n\t */\n\twith(...queries: WithSubquery[]) {\n\t\tconst self = this;\n\n\t\t/**\n\t\t * Creates a select query.\n\t\t *\n\t\t * Calling this method with no arguments will select all columns from the table. Pass a selection object to specify the columns you want to select.\n\t\t *\n\t\t * Use `.from()` method to specify which table to select from.\n\t\t *\n\t\t * See docs: {@link https://orm.drizzle.team/docs/select}\n\t\t *\n\t\t * @param fields The selection object.\n\t\t *\n\t\t * @example\n\t\t *\n\t\t * ```ts\n\t\t * // Select all columns and all rows from the 'cars' table\n\t\t * const allCars: Car[] = await db.select().from(cars);\n\t\t *\n\t\t * // Select specific columns and all rows from the 'cars' table\n\t\t * const carsIdsAndBrands: { id: number; brand: string }[] = await db.select({\n\t\t *   id: cars.id,\n\t\t *   brand: cars.brand\n\t\t * })\n\t\t *   .from(cars);\n\t\t * ```\n\t\t *\n\t\t * Like in SQL, you can use arbitrary expressions as selection fields, not just table columns:\n\t\t *\n\t\t * ```ts\n\t\t * // Select specific columns along with expression and all rows from the 'cars' table\n\t\t * const carsIdsAndLowerNames: { id: number; lowerBrand: string }[] = await db.select({\n\t\t *   id: cars.id,\n\t\t *   lowerBrand: sql<string>`lower(${cars.brand})`,\n\t\t * })\n\t\t *   .from(cars);\n\t\t * ```\n\t\t */\n\t\tfunction select(): PgSelectBuilder<undefined>;\n\t\tfunction select<TSelection extends SelectedFields>(fields: TSelection): PgSelectBuilder<TSelection>;\n\t\tfunction select<TSelection extends SelectedFields>(fields?: TSelection): PgSelectBuilder<TSelection | undefined> {\n\t\t\treturn new PgSelectBuilder({\n\t\t\t\tfields: fields ?? undefined,\n\t\t\t\tsession: self.session,\n\t\t\t\tdialect: self.dialect,\n\t\t\t\twithList: queries,\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Adds `distinct` expression to the select query.\n\t\t *\n\t\t * Calling this method will return only unique values. When multiple columns are selected, it returns rows with unique combinations of values in these columns.\n\t\t *\n\t\t * Use `.from()` method to specify which table to select from.\n\t\t *\n\t\t * See docs: {@link https://orm.drizzle.team/docs/select#distinct}\n\t\t *\n\t\t * @param fields The selection object.\n\t\t *\n\t\t * @example\n\t\t * ```ts\n\t\t * // Select all unique rows from the 'cars' table\n\t\t * await db.selectDistinct()\n\t\t *   .from(cars)\n\t\t *   .orderBy(cars.id, cars.brand, cars.color);\n\t\t *\n\t\t * // Select all unique brands from the 'cars' table\n\t\t * await db.selectDistinct({ brand: cars.brand })\n\t\t *   .from(cars)\n\t\t *   .orderBy(cars.brand);\n\t\t * ```\n\t\t */\n\t\tfunction selectDistinct(): PgSelectBuilder<undefined>;\n\t\tfunction selectDistinct<TSelection extends SelectedFields>(fields: TSelection): PgSelectBuilder<TSelection>;\n\t\tfunction selectDistinct<TSelection extends SelectedFields>(\n\t\t\tfields?: TSelection,\n\t\t): PgSelectBuilder<TSelection | undefined> {\n\t\t\treturn new PgSelectBuilder({\n\t\t\t\tfields: fields ?? undefined,\n\t\t\t\tsession: self.session,\n\t\t\t\tdialect: self.dialect,\n\t\t\t\twithList: queries,\n\t\t\t\tdistinct: true,\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Adds `distinct on` expression to the select query.\n\t\t *\n\t\t * Calling this method will specify how the unique rows are determined.\n\t\t *\n\t\t * Use `.from()` method to specify which table to select from.\n\t\t *\n\t\t * See docs: {@link https://orm.drizzle.team/docs/select#distinct}\n\t\t *\n\t\t * @param on The expression defining uniqueness.\n\t\t * @param fields The selection object.\n\t\t *\n\t\t * @example\n\t\t * ```ts\n\t\t * // Select the first row for each unique brand from the 'cars' table\n\t\t * await db.selectDistinctOn([cars.brand])\n\t\t *   .from(cars)\n\t\t *   .orderBy(cars.brand);\n\t\t *\n\t\t * // Selects the first occurrence of each unique car brand along with its color from the 'cars' table\n\t\t * await db.selectDistinctOn([cars.brand], { brand: cars.brand, color: cars.color })\n\t\t *   .from(cars)\n\t\t *   .orderBy(cars.brand, cars.color);\n\t\t * ```\n\t\t */\n\t\tfunction selectDistinctOn(on: (PgColumn | SQLWrapper)[]): PgSelectBuilder<undefined>;\n\t\tfunction selectDistinctOn<TSelection extends SelectedFields>(\n\t\t\ton: (PgColumn | SQLWrapper)[],\n\t\t\tfields: TSelection,\n\t\t): PgSelectBuilder<TSelection>;\n\t\tfunction selectDistinctOn<TSelection extends SelectedFields>(\n\t\t\ton: (PgColumn | SQLWrapper)[],\n\t\t\tfields?: TSelection,\n\t\t): PgSelectBuilder<TSelection | undefined> {\n\t\t\treturn new PgSelectBuilder({\n\t\t\t\tfields: fields ?? undefined,\n\t\t\t\tsession: self.session,\n\t\t\t\tdialect: self.dialect,\n\t\t\t\twithList: queries,\n\t\t\t\tdistinct: { on },\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Creates an update query.\n\t\t *\n\t\t * Calling this method without `.where()` clause will update all rows in a table. The `.where()` clause specifies which rows should be updated.\n\t\t *\n\t\t * Use `.set()` method to specify which values to update.\n\t\t *\n\t\t * See docs: {@link https://orm.drizzle.team/docs/update}\n\t\t *\n\t\t * @param table The table to update.\n\t\t *\n\t\t * @example\n\t\t *\n\t\t * ```ts\n\t\t * // Update all rows in the 'cars' table\n\t\t * await db.update(cars).set({ color: 'red' });\n\t\t *\n\t\t * // Update rows with filters and conditions\n\t\t * await db.update(cars).set({ color: 'red' }).where(eq(cars.brand, 'BMW'));\n\t\t *\n\t\t * // Update with returning clause\n\t\t * const updatedCar: Car[] = await db.update(cars)\n\t\t *   .set({ color: 'red' })\n\t\t *   .where(eq(cars.id, 1))\n\t\t *   .returning();\n\t\t * ```\n\t\t */\n\t\tfunction update<TTable extends PgTable>(table: TTable): PgUpdateBuilder<TTable, TQueryResult> {\n\t\t\treturn new PgUpdateBuilder(table, self.session, self.dialect, queries);\n\t\t}\n\n\t\t/**\n\t\t * Creates an insert query.\n\t\t *\n\t\t * Calling this method will create new rows in a table. Use `.values()` method to specify which values to insert.\n\t\t *\n\t\t * See docs: {@link https://orm.drizzle.team/docs/insert}\n\t\t *\n\t\t * @param table The table to insert into.\n\t\t *\n\t\t * @example\n\t\t *\n\t\t * ```ts\n\t\t * // Insert one row\n\t\t * await db.insert(cars).values({ brand: 'BMW' });\n\t\t *\n\t\t * // Insert multiple rows\n\t\t * await db.insert(cars).values([{ brand: 'BMW' }, { brand: 'Porsche' }]);\n\t\t *\n\t\t * // Insert with returning clause\n\t\t * const insertedCar: Car[] = await db.insert(cars)\n\t\t *   .values({ brand: 'BMW' })\n\t\t *   .returning();\n\t\t * ```\n\t\t */\n\t\tfunction insert<TTable extends PgTable>(table: TTable): PgInsertBuilder<TTable, TQueryResult> {\n\t\t\treturn new PgInsertBuilder(table, self.session, self.dialect, queries);\n\t\t}\n\n\t\t/**\n\t\t * Creates a delete query.\n\t\t *\n\t\t * Calling this method without `.where()` clause will delete all rows in a table. The `.where()` clause specifies which rows should be deleted.\n\t\t *\n\t\t * See docs: {@link https://orm.drizzle.team/docs/delete}\n\t\t *\n\t\t * @param table The table to delete from.\n\t\t *\n\t\t * @example\n\t\t *\n\t\t * ```ts\n\t\t * // Delete all rows in the 'cars' table\n\t\t * await db.delete(cars);\n\t\t *\n\t\t * // Delete rows with filters and conditions\n\t\t * await db.delete(cars).where(eq(cars.color, 'green'));\n\t\t *\n\t\t * // Delete with returning clause\n\t\t * const deletedCar: Car[] = await db.delete(cars)\n\t\t *   .where(eq(cars.id, 1))\n\t\t *   .returning();\n\t\t * ```\n\t\t */\n\t\tfunction delete_<TTable extends PgTable>(table: TTable): PgDeleteBase<TTable, TQueryResult> {\n\t\t\treturn new PgDeleteBase(table, self.session, self.dialect, queries);\n\t\t}\n\n\t\treturn { select, selectDistinct, selectDistinctOn, update, insert, delete: delete_ };\n\t}\n\n\t/**\n\t * Creates a select query.\n\t *\n\t * Calling this method with no arguments will select all columns from the table. Pass a selection object to specify the columns you want to select.\n\t *\n\t * Use `.from()` method to specify which table to select from.\n\t *\n\t * See docs: {@link https://orm.drizzle.team/docs/select}\n\t *\n\t * @param fields The selection object.\n\t *\n\t * @example\n\t *\n\t * ```ts\n\t * // Select all columns and all rows from the 'cars' table\n\t * const allCars: Car[] = await db.select().from(cars);\n\t *\n\t * // Select specific columns and all rows from the 'cars' table\n\t * const carsIdsAndBrands: { id: number; brand: string }[] = await db.select({\n\t *   id: cars.id,\n\t *   brand: cars.brand\n\t * })\n\t *   .from(cars);\n\t * ```\n\t *\n\t * Like in SQL, you can use arbitrary expressions as selection fields, not just table columns:\n\t *\n\t * ```ts\n\t * // Select specific columns along with expression and all rows from the 'cars' table\n\t * const carsIdsAndLowerNames: { id: number; lowerBrand: string }[] = await db.select({\n\t *   id: cars.id,\n\t *   lowerBrand: sql<string>`lower(${cars.brand})`,\n\t * })\n\t *   .from(cars);\n\t * ```\n\t */\n\tselect(): PgSelectBuilder<undefined>;\n\tselect<TSelection extends SelectedFields>(fields: TSelection): PgSelectBuilder<TSelection>;\n\tselect<TSelection extends SelectedFields>(fields?: TSelection): PgSelectBuilder<TSelection | undefined> {\n\t\treturn new PgSelectBuilder({\n\t\t\tfields: fields ?? undefined,\n\t\t\tsession: this.session,\n\t\t\tdialect: this.dialect,\n\t\t});\n\t}\n\n\t/**\n\t * Adds `distinct` expression to the select query.\n\t *\n\t * Calling this method will return only unique values. When multiple columns are selected, it returns rows with unique combinations of values in these columns.\n\t *\n\t * Use `.from()` method to specify which table to select from.\n\t *\n\t * See docs: {@link https://orm.drizzle.team/docs/select#distinct}\n\t *\n\t * @param fields The selection object.\n\t *\n\t * @example\n\t * ```ts\n\t * // Select all unique rows from the 'cars' table\n\t * await db.selectDistinct()\n\t *   .from(cars)\n\t *   .orderBy(cars.id, cars.brand, cars.color);\n\t *\n\t * // Select all unique brands from the 'cars' table\n\t * await db.selectDistinct({ brand: cars.brand })\n\t *   .from(cars)\n\t *   .orderBy(cars.brand);\n\t * ```\n\t */\n\tselectDistinct(): PgSelectBuilder<undefined>;\n\tselectDistinct<TSelection extends SelectedFields>(fields: TSelection): PgSelectBuilder<TSelection>;\n\tselectDistinct<TSelection extends SelectedFields>(fields?: TSelection): PgSelectBuilder<TSelection | undefined> {\n\t\treturn new PgSelectBuilder({\n\t\t\tfields: fields ?? undefined,\n\t\t\tsession: this.session,\n\t\t\tdialect: this.dialect,\n\t\t\tdistinct: true,\n\t\t});\n\t}\n\n\t/**\n\t * Adds `distinct on` expression to the select query.\n\t *\n\t * Calling this method will specify how the unique rows are determined.\n\t *\n\t * Use `.from()` method to specify which table to select from.\n\t *\n\t * See docs: {@link https://orm.drizzle.team/docs/select#distinct}\n\t *\n\t * @param on The expression defining uniqueness.\n\t * @param fields The selection object.\n\t *\n\t * @example\n\t * ```ts\n\t * // Select the first row for each unique brand from the 'cars' table\n\t * await db.selectDistinctOn([cars.brand])\n\t *   .from(cars)\n\t *   .orderBy(cars.brand);\n\t *\n\t * // Selects the first occurrence of each unique car brand along with its color from the 'cars' table\n\t * await db.selectDistinctOn([cars.brand], { brand: cars.brand, color: cars.color })\n\t *   .from(cars)\n\t *   .orderBy(cars.brand, cars.color);\n\t * ```\n\t */\n\tselectDistinctOn(on: (PgColumn | SQLWrapper)[]): PgSelectBuilder<undefined>;\n\tselectDistinctOn<TSelection extends SelectedFields>(\n\t\ton: (PgColumn | SQLWrapper)[],\n\t\tfields: TSelection,\n\t): PgSelectBuilder<TSelection>;\n\tselectDistinctOn<TSelection extends SelectedFields>(\n\t\ton: (PgColumn | SQLWrapper)[],\n\t\tfields?: TSelection,\n\t): PgSelectBuilder<TSelection | undefined> {\n\t\treturn new PgSelectBuilder({\n\t\t\tfields: fields ?? undefined,\n\t\t\tsession: this.session,\n\t\t\tdialect: this.dialect,\n\t\t\tdistinct: { on },\n\t\t});\n\t}\n\n\t/**\n\t * Creates an update query.\n\t *\n\t * Calling this method without `.where()` clause will update all rows in a table. The `.where()` clause specifies which rows should be updated.\n\t *\n\t * Use `.set()` method to specify which values to update.\n\t *\n\t * See docs: {@link https://orm.drizzle.team/docs/update}\n\t *\n\t * @param table The table to update.\n\t *\n\t * @example\n\t *\n\t * ```ts\n\t * // Update all rows in the 'cars' table\n\t * await db.update(cars).set({ color: 'red' });\n\t *\n\t * // Update rows with filters and conditions\n\t * await db.update(cars).set({ color: 'red' }).where(eq(cars.brand, 'BMW'));\n\t *\n\t * // Update with returning clause\n\t * const updatedCar: Car[] = await db.update(cars)\n\t *   .set({ color: 'red' })\n\t *   .where(eq(cars.id, 1))\n\t *   .returning();\n\t * ```\n\t */\n\tupdate<TTable extends PgTable>(table: TTable): PgUpdateBuilder<TTable, TQueryResult> {\n\t\treturn new PgUpdateBuilder(table, this.session, this.dialect);\n\t}\n\n\t/**\n\t * Creates an insert query.\n\t *\n\t * Calling this method will create new rows in a table. Use `.values()` method to specify which values to insert.\n\t *\n\t * See docs: {@link https://orm.drizzle.team/docs/insert}\n\t *\n\t * @param table The table to insert into.\n\t *\n\t * @example\n\t *\n\t * ```ts\n\t * // Insert one row\n\t * await db.insert(cars).values({ brand: 'BMW' });\n\t *\n\t * // Insert multiple rows\n\t * await db.insert(cars).values([{ brand: 'BMW' }, { brand: 'Porsche' }]);\n\t *\n\t * // Insert with returning clause\n\t * const insertedCar: Car[] = await db.insert(cars)\n\t *   .values({ brand: 'BMW' })\n\t *   .returning();\n\t * ```\n\t */\n\tinsert<TTable extends PgTable>(table: TTable): PgInsertBuilder<TTable, TQueryResult> {\n\t\treturn new PgInsertBuilder(table, this.session, this.dialect);\n\t}\n\n\t/**\n\t * Creates a delete query.\n\t *\n\t * Calling this method without `.where()` clause will delete all rows in a table. The `.where()` clause specifies which rows should be deleted.\n\t *\n\t * See docs: {@link https://orm.drizzle.team/docs/delete}\n\t *\n\t * @param table The table to delete from.\n\t *\n\t * @example\n\t *\n\t * ```ts\n\t * // Delete all rows in the 'cars' table\n\t * await db.delete(cars);\n\t *\n\t * // Delete rows with filters and conditions\n\t * await db.delete(cars).where(eq(cars.color, 'green'));\n\t *\n\t * // Delete with returning clause\n\t * const deletedCar: Car[] = await db.delete(cars)\n\t *   .where(eq(cars.id, 1))\n\t *   .returning();\n\t * ```\n\t */\n\tdelete<TTable extends PgTable>(table: TTable): PgDeleteBase<TTable, TQueryResult> {\n\t\treturn new PgDeleteBase(table, this.session, this.dialect);\n\t}\n\n\trefreshMaterializedView<TView extends PgMaterializedView>(view: TView): PgRefreshMaterializedView<TQueryResult> {\n\t\treturn new PgRefreshMaterializedView(view, this.session, this.dialect);\n\t}\n\n\tprotected authToken?: NeonAuthToken;\n\n\texecute<TRow extends Record<string, unknown> = Record<string, unknown>>(\n\t\tquery: SQLWrapper | string,\n\t): PgRaw<PgQueryResultKind<TQueryResult, TRow>> {\n\t\tconst sequel = typeof query === 'string' ? sql.raw(query) : query.getSQL();\n\t\tconst builtQuery = this.dialect.sqlToQuery(sequel);\n\t\tconst prepared = this.session.prepareQuery<\n\t\t\tPreparedQueryConfig & { execute: PgQueryResultKind<TQueryResult, TRow> }\n\t\t>(\n\t\t\tbuiltQuery,\n\t\t\tundefined,\n\t\t\tundefined,\n\t\t\tfalse,\n\t\t);\n\t\treturn new PgRaw(\n\t\t\t() => prepared.execute(undefined, this.authToken),\n\t\t\tsequel,\n\t\t\tbuiltQuery,\n\t\t\t(result) => prepared.mapResult(result, true),\n\t\t);\n\t}\n\n\ttransaction<T>(\n\t\ttransaction: (tx: PgTransaction<TQueryResult, TFullSchema, TSchema>) => Promise<T>,\n\t\tconfig?: PgTransactionConfig,\n\t): Promise<T> {\n\t\treturn this.session.transaction(transaction, config);\n\t}\n}\n\nexport type PgWithReplicas<Q> = Q & { $primary: Q };\n\nexport const withReplicas = <\n\tHKT extends PgQueryResultHKT,\n\tTFullSchema extends Record<string, unknown>,\n\tTSchema extends TablesRelationalConfig,\n\tQ extends PgDatabase<\n\t\tHKT,\n\t\tTFullSchema,\n\t\tTSchema extends Record<string, unknown> ? ExtractTablesWithRelations<TFullSchema> : TSchema\n\t>,\n>(\n\tprimary: Q,\n\treplicas: [Q, ...Q[]],\n\tgetReplica: (replicas: Q[]) => Q = () => replicas[Math.floor(Math.random() * replicas.length)]!,\n): PgWithReplicas<Q> => {\n\tconst select: Q['select'] = (...args: []) => getReplica(replicas).select(...args);\n\tconst selectDistinct: Q['selectDistinct'] = (...args: []) => getReplica(replicas).selectDistinct(...args);\n\tconst selectDistinctOn: Q['selectDistinctOn'] = (...args: [any]) => getReplica(replicas).selectDistinctOn(...args);\n\tconst $count: Q['$count'] = (...args: [any]) => getReplica(replicas).$count(...args);\n\tconst _with: Q['with'] = (...args: any) => getReplica(replicas).with(...args);\n\tconst $with: Q['$with'] = (arg: any) => getReplica(replicas).$with(arg) as any;\n\n\tconst update: Q['update'] = (...args: [any]) => primary.update(...args);\n\tconst insert: Q['insert'] = (...args: [any]) => primary.insert(...args);\n\tconst $delete: Q['delete'] = (...args: [any]) => primary.delete(...args);\n\tconst execute: Q['execute'] = (...args: [any]) => primary.execute(...args);\n\tconst transaction: Q['transaction'] = (...args: [any]) => primary.transaction(...args);\n\tconst refreshMaterializedView: Q['refreshMaterializedView'] = (...args: [any]) =>\n\t\tprimary.refreshMaterializedView(...args);\n\n\treturn {\n\t\t...primary,\n\t\tupdate,\n\t\tinsert,\n\t\tdelete: $delete,\n\t\texecute,\n\t\ttransaction,\n\t\trefreshMaterializedView,\n\t\t$primary: primary,\n\t\tselect,\n\t\tselectDistinct,\n\t\tselectDistinctOn,\n\t\t$count,\n\t\t$with,\n\t\twith: _with,\n\t\tget query() {\n\t\t\treturn getReplica(replicas).query;\n\t\t},\n\t};\n};\n", "import type { WithCacheConfig } from '~/cache/core/types.ts';\nimport { entityKind } from '~/entity.ts';\nimport type { PgDialect } from '~/pg-core/dialect.ts';\nimport type {\n\tPgPreparedQuery,\n\tPgQueryResultHKT,\n\tPgQueryResultKind,\n\tPgSession,\n\tPreparedQueryConfig,\n} from '~/pg-core/session.ts';\nimport type { PgTable } from '~/pg-core/table.ts';\nimport type { TypedQueryBuilder } from '~/query-builders/query-builder.ts';\nimport type { SelectResultFields } from '~/query-builders/select.types.ts';\nimport { QueryPromise } from '~/query-promise.ts';\nimport type { RunnableQuery } from '~/runnable-query.ts';\nimport { SelectionProxyHandler } from '~/selection-proxy.ts';\nimport type { ColumnsSelection, Query, SQL, SQLWrapper } from '~/sql/sql.ts';\nimport type { Subquery } from '~/subquery.ts';\nimport { getTableName, Table } from '~/table.ts';\nimport { tracer } from '~/tracing.ts';\nimport { type NeonAuthToken, orderSelectedFields } from '~/utils.ts';\nimport type { PgColumn } from '../columns/common.ts';\nimport { extractUsedTable } from '../utils.ts';\nimport type { SelectedFieldsFlat, SelectedFieldsOrdered } from './select.types.ts';\n\nexport type PgDeleteWithout<\n\tT extends AnyPgDeleteBase,\n\tTDynamic extends boolean,\n\tK extends keyof T & string,\n> = TDynamic extends true ? T\n\t: Omit<\n\t\tPgDeleteBase<\n\t\t\tT['_']['table'],\n\t\t\tT['_']['queryResult'],\n\t\t\tT['_']['selectedFields'],\n\t\t\tT['_']['returning'],\n\t\t\tTDynamic,\n\t\t\tT['_']['excludedMethods'] | K\n\t\t>,\n\t\tT['_']['excludedMethods'] | K\n\t>;\n\nexport type PgDelete<\n\tTTable extends PgTable = PgTable,\n\tTQueryResult extends PgQueryResultHKT = PgQueryResultHKT,\n\tTSelectedFields extends ColumnsSelection | undefined = undefined,\n\tTReturning extends Record<string, unknown> | undefined = Record<string, unknown> | undefined,\n> = PgDeleteBase<TTable, TQueryResult, TSelectedFields, TReturning, true, never>;\n\nexport interface PgDeleteConfig {\n\twhere?: SQL | undefined;\n\ttable: PgTable;\n\treturningFields?: SelectedFieldsFlat;\n\treturning?: SelectedFieldsOrdered;\n\twithList?: Subquery[];\n}\n\nexport type PgDeleteReturningAll<\n\tT extends AnyPgDeleteBase,\n\tTDynamic extends boolean,\n> = PgDeleteWithout<\n\tPgDeleteBase<\n\t\tT['_']['table'],\n\t\tT['_']['queryResult'],\n\t\tT['_']['table']['_']['columns'],\n\t\tT['_']['table']['$inferSelect'],\n\t\tTDynamic,\n\t\tT['_']['excludedMethods']\n\t>,\n\tTDynamic,\n\t'returning'\n>;\n\nexport type PgDeleteReturning<\n\tT extends AnyPgDeleteBase,\n\tTDynamic extends boolean,\n\tTSelectedFields extends SelectedFieldsFlat,\n> = PgDeleteWithout<\n\tPgDeleteBase<\n\t\tT['_']['table'],\n\t\tT['_']['queryResult'],\n\t\tTSelectedFields,\n\t\tSelectResultFields<TSelectedFields>,\n\t\tTDynamic,\n\t\tT['_']['excludedMethods']\n\t>,\n\tTDynamic,\n\t'returning'\n>;\n\nexport type PgDeletePrepare<T extends AnyPgDeleteBase> = PgPreparedQuery<\n\tPreparedQueryConfig & {\n\t\texecute: T['_']['returning'] extends undefined ? PgQueryResultKind<T['_']['queryResult'], never>\n\t\t\t: T['_']['returning'][];\n\t}\n>;\n\nexport type PgDeleteDynamic<T extends AnyPgDeleteBase> = PgDelete<\n\tT['_']['table'],\n\tT['_']['queryResult'],\n\tT['_']['selectedFields'],\n\tT['_']['returning']\n>;\n\nexport type AnyPgDeleteBase = PgDeleteBase<any, any, any, any, any, any>;\n\nexport interface PgDeleteBase<\n\tTTable extends PgTable,\n\tTQueryResult extends PgQueryResultHKT,\n\tTSelectedFields extends ColumnsSelection | undefined = undefined,\n\tTReturning extends Record<string, unknown> | undefined = undefined,\n\tTDynamic extends boolean = false,\n\tTExcludedMethods extends string = never,\n> extends\n\tTypedQueryBuilder<\n\t\tTSelectedFields,\n\t\tTReturning extends undefined ? PgQueryResultKind<TQueryResult, never> : TReturning[]\n\t>,\n\tQueryPromise<TReturning extends undefined ? PgQueryResultKind<TQueryResult, never> : TReturning[]>,\n\tRunnableQuery<TReturning extends undefined ? PgQueryResultKind<TQueryResult, never> : TReturning[], 'pg'>,\n\tSQLWrapper\n{\n\treadonly _: {\n\t\treadonly dialect: 'pg';\n\t\treadonly table: TTable;\n\t\treadonly queryResult: TQueryResult;\n\t\treadonly selectedFields: TSelectedFields;\n\t\treadonly returning: TReturning;\n\t\treadonly dynamic: TDynamic;\n\t\treadonly excludedMethods: TExcludedMethods;\n\t\treadonly result: TReturning extends undefined ? PgQueryResultKind<TQueryResult, never> : TReturning[];\n\t};\n}\n\nexport class PgDeleteBase<\n\tTTable extends PgTable,\n\tTQueryResult extends PgQueryResultHKT,\n\tTSelectedFields extends ColumnsSelection | undefined = undefined,\n\tTReturning extends Record<string, unknown> | undefined = undefined,\n\tTDynamic extends boolean = false,\n\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\n\tTExcludedMethods extends string = never,\n> extends QueryPromise<TReturning extends undefined ? PgQueryResultKind<TQueryResult, never> : TReturning[]>\n\timplements\n\t\tTypedQueryBuilder<\n\t\t\tTSelectedFields,\n\t\t\tTReturning extends undefined ? PgQueryResultKind<TQueryResult, never> : TReturning[]\n\t\t>,\n\t\tRunnableQuery<TReturning extends undefined ? PgQueryResultKind<TQueryResult, never> : TReturning[], 'pg'>,\n\t\tSQLWrapper\n{\n\tstatic override readonly [entityKind]: string = 'PgDelete';\n\n\tprivate config: PgDeleteConfig;\n\tprotected cacheConfig?: WithCacheConfig;\n\n\tconstructor(\n\t\ttable: TTable,\n\t\tprivate session: PgSession,\n\t\tprivate dialect: PgDialect,\n\t\twithList?: Subquery[],\n\t) {\n\t\tsuper();\n\t\tthis.config = { table, withList };\n\t}\n\n\t/**\n\t * Adds a `where` clause to the query.\n\t *\n\t * Calling this method will delete only those rows that fulfill a specified condition.\n\t *\n\t * See docs: {@link https://orm.drizzle.team/docs/delete}\n\t *\n\t * @param where the `where` clause.\n\t *\n\t * @example\n\t * You can use conditional operators and `sql function` to filter the rows to be deleted.\n\t *\n\t * ```ts\n\t * // Delete all cars with green color\n\t * await db.delete(cars).where(eq(cars.color, 'green'));\n\t * // or\n\t * await db.delete(cars).where(sql`${cars.color} = 'green'`)\n\t * ```\n\t *\n\t * You can logically combine conditional operators with `and()` and `or()` operators:\n\t *\n\t * ```ts\n\t * // Delete all BMW cars with a green color\n\t * await db.delete(cars).where(and(eq(cars.color, 'green'), eq(cars.brand, 'BMW')));\n\t *\n\t * // Delete all cars with the green or blue color\n\t * await db.delete(cars).where(or(eq(cars.color, 'green'), eq(cars.color, 'blue')));\n\t * ```\n\t */\n\twhere(where: SQL | undefined): PgDeleteWithout<this, TDynamic, 'where'> {\n\t\tthis.config.where = where;\n\t\treturn this as any;\n\t}\n\n\t/**\n\t * Adds a `returning` clause to the query.\n\t *\n\t * Calling this method will return the specified fields of the deleted rows. If no fields are specified, all fields will be returned.\n\t *\n\t * See docs: {@link https://orm.drizzle.team/docs/delete#delete-with-return}\n\t *\n\t * @example\n\t * ```ts\n\t * // Delete all cars with the green color and return all fields\n\t * const deletedCars: Car[] = await db.delete(cars)\n\t *   .where(eq(cars.color, 'green'))\n\t *   .returning();\n\t *\n\t * // Delete all cars with the green color and return only their id and brand fields\n\t * const deletedCarsIdsAndBrands: { id: number, brand: string }[] = await db.delete(cars)\n\t *   .where(eq(cars.color, 'green'))\n\t *   .returning({ id: cars.id, brand: cars.brand });\n\t * ```\n\t */\n\treturning(): PgDeleteReturningAll<this, TDynamic>;\n\treturning<TSelectedFields extends SelectedFieldsFlat>(\n\t\tfields: TSelectedFields,\n\t): PgDeleteReturning<this, TDynamic, TSelectedFields>;\n\treturning(\n\t\tfields: SelectedFieldsFlat = this.config.table[Table.Symbol.Columns],\n\t): PgDeleteReturning<this, TDynamic, any> {\n\t\tthis.config.returningFields = fields;\n\t\tthis.config.returning = orderSelectedFields<PgColumn>(fields);\n\t\treturn this as any;\n\t}\n\n\t/** @internal */\n\tgetSQL(): SQL {\n\t\treturn this.dialect.buildDeleteQuery(this.config);\n\t}\n\n\ttoSQL(): Query {\n\t\tconst { typings: _typings, ...rest } = this.dialect.sqlToQuery(this.getSQL());\n\t\treturn rest;\n\t}\n\n\t/** @internal */\n\t_prepare(name?: string): PgDeletePrepare<this> {\n\t\treturn tracer.startActiveSpan('drizzle.prepareQuery', () => {\n\t\t\treturn this.session.prepareQuery<\n\t\t\t\tPreparedQueryConfig & {\n\t\t\t\t\texecute: TReturning extends undefined ? PgQueryResultKind<TQueryResult, never> : TReturning[];\n\t\t\t\t}\n\t\t\t>(this.dialect.sqlToQuery(this.getSQL()), this.config.returning, name, true, undefined, {\n\t\t\t\ttype: 'delete',\n\t\t\t\ttables: extractUsedTable(this.config.table),\n\t\t\t}, this.cacheConfig);\n\t\t});\n\t}\n\n\tprepare(name: string): PgDeletePrepare<this> {\n\t\treturn this._prepare(name);\n\t}\n\n\tprivate authToken?: NeonAuthToken;\n\t/** @internal */\n\tsetToken(token?: NeonAuthToken) {\n\t\tthis.authToken = token;\n\t\treturn this;\n\t}\n\n\toverride execute: ReturnType<this['prepare']>['execute'] = (placeholderValues) => {\n\t\treturn tracer.startActiveSpan('drizzle.operation', () => {\n\t\t\treturn this._prepare().execute(placeholderValues, this.authToken);\n\t\t});\n\t};\n\n\t/** @internal */\n\tgetSelectedFields(): this['_']['selectedFields'] {\n\t\treturn (\n\t\t\tthis.config.returningFields\n\t\t\t\t? new Proxy(\n\t\t\t\t\tthis.config.returningFields,\n\t\t\t\t\tnew SelectionProxyHandler({\n\t\t\t\t\t\talias: getTableName(this.config.table),\n\t\t\t\t\t\tsqlAliasedBehavior: 'alias',\n\t\t\t\t\t\tsqlBehavior: 'error',\n\t\t\t\t\t}),\n\t\t\t\t)\n\t\t\t\t: undefined\n\t\t) as this['_']['selectedFields'];\n\t}\n\n\t$dynamic(): PgDeleteDynamic<this> {\n\t\treturn this as any;\n\t}\n}\n", "import { ColumnAliasProxyHandler, TableAliasProxyHandler } from './alias.ts';\nimport { Column } from './column.ts';\nimport { entityKind, is } from './entity.ts';\nimport { SQL, View } from './sql/sql.ts';\nimport { Subquery } from './subquery.ts';\nimport { ViewBaseConfig } from './view-common.ts';\n\nexport class SelectionProxyHandler<T extends Subquery | Record<string, unknown> | View>\n\timplements ProxyHandler<Subquery | Record<string, unknown> | View>\n{\n\tstatic readonly [entityKind]: string = 'SelectionProxyHandler';\n\n\tprivate config: {\n\t\t/**\n\t\t * Table alias for the columns\n\t\t */\n\t\talias?: string;\n\t\t/**\n\t\t * What to do when a field is an instance of `SQL.Aliased` and it's not a selection field (from a subquery)\n\t\t *\n\t\t * `sql` - return the underlying SQL expression\n\t\t *\n\t\t * `alias` - return the field alias\n\t\t */\n\t\tsqlAliasedBehavior: 'sql' | 'alias';\n\t\t/**\n\t\t * What to do when a field is an instance of `SQL` and it doesn't have an alias declared\n\t\t *\n\t\t * `sql` - return the underlying SQL expression\n\t\t *\n\t\t * `error` - return a DrizzleTypeError on type level and throw an error on runtime\n\t\t */\n\t\tsqlBehavior: 'sql' | 'error';\n\n\t\t/**\n\t\t * Whether to replace the original name of the column with the alias\n\t\t * Should be set to `true` for views creation\n\t\t * @default false\n\t\t */\n\t\treplaceOriginalName?: boolean;\n\t};\n\n\tconstructor(config: SelectionProxyHandler<T>['config']) {\n\t\tthis.config = { ...config };\n\t}\n\n\tget(subquery: T, prop: string | symbol): any {\n\t\tif (prop === '_') {\n\t\t\treturn {\n\t\t\t\t...subquery['_' as keyof typeof subquery],\n\t\t\t\tselectedFields: new Proxy(\n\t\t\t\t\t(subquery as Subquery)._.selectedFields,\n\t\t\t\t\tthis as ProxyHandler<Record<string, unknown>>,\n\t\t\t\t),\n\t\t\t};\n\t\t}\n\n\t\tif (prop === ViewBaseConfig) {\n\t\t\treturn {\n\t\t\t\t...subquery[ViewBaseConfig as keyof typeof subquery],\n\t\t\t\tselectedFields: new Proxy(\n\t\t\t\t\t(subquery as View)[ViewBaseConfig].selectedFields,\n\t\t\t\t\tthis as ProxyHandler<Record<string, unknown>>,\n\t\t\t\t),\n\t\t\t};\n\t\t}\n\n\t\tif (typeof prop === 'symbol') {\n\t\t\treturn subquery[prop as keyof typeof subquery];\n\t\t}\n\n\t\tconst columns = is(subquery, Subquery)\n\t\t\t? subquery._.selectedFields\n\t\t\t: is(subquery, View)\n\t\t\t? subquery[ViewBaseConfig].selectedFields\n\t\t\t: subquery;\n\t\tconst value: unknown = columns[prop as keyof typeof columns];\n\n\t\tif (is(value, SQL.Aliased)) {\n\t\t\t// Never return the underlying SQL expression for a field previously selected in a subquery\n\t\t\tif (this.config.sqlAliasedBehavior === 'sql' && !value.isSelectionField) {\n\t\t\t\treturn value.sql;\n\t\t\t}\n\n\t\t\tconst newValue = value.clone();\n\t\t\tnewValue.isSelectionField = true;\n\t\t\treturn newValue;\n\t\t}\n\n\t\tif (is(value, SQL)) {\n\t\t\tif (this.config.sqlBehavior === 'sql') {\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\tthrow new Error(\n\t\t\t\t`You tried to reference \"${prop}\" field from a subquery, which is a raw SQL field, but it doesn't have an alias declared. Please add an alias to the field using \".as('alias')\" method.`,\n\t\t\t);\n\t\t}\n\n\t\tif (is(value, Column)) {\n\t\t\tif (this.config.alias) {\n\t\t\t\treturn new Proxy(\n\t\t\t\t\tvalue,\n\t\t\t\t\tnew ColumnAliasProxyHandler(\n\t\t\t\t\t\tnew Proxy(\n\t\t\t\t\t\t\tvalue.table,\n\t\t\t\t\t\t\tnew TableAliasProxyHandler(this.config.alias, this.config.replaceOriginalName ?? false),\n\t\t\t\t\t\t),\n\t\t\t\t\t),\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn value;\n\t\t}\n\n\t\tif (typeof value !== 'object' || value === null) {\n\t\t\treturn value;\n\t\t}\n\n\t\treturn new Proxy(value, new SelectionProxyHandler(this.config));\n\t}\n}\n", "import { is } from '~/entity.ts';\nimport { PgTable } from '~/pg-core/table.ts';\nimport { SQL } from '~/sql/sql.ts';\nimport { Subquery } from '~/subquery.ts';\nimport { Schema, Table } from '~/table.ts';\nimport { ViewBaseConfig } from '~/view-common.ts';\nimport { type Check, CheckBuilder } from './checks.ts';\nimport type { AnyPgColumn } from './columns/index.ts';\nimport { type ForeignKey, ForeignKeyBuilder } from './foreign-keys.ts';\nimport type { Index } from './indexes.ts';\nimport { IndexBuilder } from './indexes.ts';\nimport { PgPolicy } from './policies.ts';\nimport { type PrimaryKey, PrimaryKeyBuilder } from './primary-keys.ts';\nimport { type UniqueConstraint, UniqueConstraintBuilder } from './unique-constraint.ts';\nimport type { PgViewBase } from './view-base.ts';\nimport { PgViewConfig } from './view-common.ts';\nimport { type PgMaterializedView, PgMaterializedViewConfig, type PgView } from './view.ts';\n\nexport function getTableConfig<TTable extends PgTable>(table: TTable) {\n\tconst columns = Object.values(table[Table.Symbol.Columns]);\n\tconst indexes: Index[] = [];\n\tconst checks: Check[] = [];\n\tconst primaryKeys: PrimaryKey[] = [];\n\tconst foreignKeys: ForeignKey[] = Object.values(table[PgTable.Symbol.InlineForeignKeys]);\n\tconst uniqueConstraints: UniqueConstraint[] = [];\n\tconst name = table[Table.Symbol.Name];\n\tconst schema = table[Table.Symbol.Schema];\n\tconst policies: PgPolicy[] = [];\n\tconst enableRLS: boolean = table[PgTable.Symbol.EnableRLS];\n\n\tconst extraConfigBuilder = table[PgTable.Symbol.ExtraConfigBuilder];\n\n\tif (extraConfigBuilder !== undefined) {\n\t\tconst extraConfig = extraConfigBuilder(table[Table.Symbol.ExtraConfigColumns]);\n\t\tconst extraValues = Array.isArray(extraConfig) ? extraConfig.flat(1) as any[] : Object.values(extraConfig);\n\t\tfor (const builder of extraValues) {\n\t\t\tif (is(builder, IndexBuilder)) {\n\t\t\t\tindexes.push(builder.build(table));\n\t\t\t} else if (is(builder, CheckBuilder)) {\n\t\t\t\tchecks.push(builder.build(table));\n\t\t\t} else if (is(builder, UniqueConstraintBuilder)) {\n\t\t\t\tuniqueConstraints.push(builder.build(table));\n\t\t\t} else if (is(builder, PrimaryKeyBuilder)) {\n\t\t\t\tprimaryKeys.push(builder.build(table));\n\t\t\t} else if (is(builder, ForeignKeyBuilder)) {\n\t\t\t\tforeignKeys.push(builder.build(table));\n\t\t\t} else if (is(builder, PgPolicy)) {\n\t\t\t\tpolicies.push(builder);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tcolumns,\n\t\tindexes,\n\t\tforeignKeys,\n\t\tchecks,\n\t\tprimaryKeys,\n\t\tuniqueConstraints,\n\t\tname,\n\t\tschema,\n\t\tpolicies,\n\t\tenableRLS,\n\t};\n}\n\nexport function extractUsedTable(table: PgTable | Subquery | PgViewBase | SQL): string[] {\n\tif (is(table, PgTable)) {\n\t\treturn [table[Schema] ? `${table[Schema]}.${table[Table.Symbol.BaseName]}` : table[Table.Symbol.BaseName]];\n\t}\n\tif (is(table, Subquery)) {\n\t\treturn table._.usedTables ?? [];\n\t}\n\tif (is(table, SQL)) {\n\t\treturn table.usedTables ?? [];\n\t}\n\treturn [];\n}\n\nexport function getViewConfig<\n\tTName extends string = string,\n\tTExisting extends boolean = boolean,\n>(view: PgView<TName, TExisting>) {\n\treturn {\n\t\t...view[ViewBaseConfig],\n\t\t...view[PgViewConfig],\n\t};\n}\n\nexport function getMaterializedViewConfig<\n\tTName extends string = string,\n\tTExisting extends boolean = boolean,\n>(view: PgMaterializedView<TName, TExisting>) {\n\treturn {\n\t\t...view[ViewBaseConfig],\n\t\t...view[PgMaterializedViewConfig],\n\t};\n}\n\nexport type ColumnsWithTable<\n\tTTableName extends string,\n\tTForeignTableName extends string,\n\tTColumns extends AnyPgColumn<{ tableName: TTableName }>[],\n> = { [Key in keyof TColumns]: AnyPgColumn<{ tableName: TForeignTableName }> };\n", "import { entityKind, is } from '~/entity.ts';\nimport type { PgDialectConfig } from '~/pg-core/dialect.ts';\nimport { PgDialect } from '~/pg-core/dialect.ts';\nimport type { TypedQueryBuilder } from '~/query-builders/query-builder.ts';\nimport { SelectionProxyHandler } from '~/selection-proxy.ts';\nimport type { ColumnsSelection, SQL, SQLWrapper } from '~/sql/sql.ts';\nimport { WithSubquery } from '~/subquery.ts';\nimport type { PgColumn } from '../columns/index.ts';\nimport type { WithBuilder } from '../subquery.ts';\nimport { PgSelectBuilder } from './select.ts';\nimport type { SelectedFields } from './select.types.ts';\n\nexport class QueryBuilder {\n\tstatic readonly [entityKind]: string = 'PgQueryBuilder';\n\n\tprivate dialect: PgDialect | undefined;\n\tprivate dialectConfig: PgDialectConfig | undefined;\n\n\tconstructor(dialect?: PgDialect | PgDialectConfig) {\n\t\tthis.dialect = is(dialect, PgDialect) ? dialect : undefined;\n\t\tthis.dialectConfig = is(dialect, PgDialect) ? undefined : dialect;\n\t}\n\n\t$with: WithBuilder = (alias: string, selection?: ColumnsSelection) => {\n\t\tconst queryBuilder = this;\n\t\tconst as = (\n\t\t\tqb:\n\t\t\t\t| TypedQueryBuilder<ColumnsSelection | undefined>\n\t\t\t\t| SQL\n\t\t\t\t| ((qb: QueryBuilder) => TypedQueryBuilder<ColumnsSelection | undefined> | SQL),\n\t\t) => {\n\t\t\tif (typeof qb === 'function') {\n\t\t\t\tqb = qb(queryBuilder);\n\t\t\t}\n\n\t\t\treturn new Proxy(\n\t\t\t\tnew WithSubquery(\n\t\t\t\t\tqb.getSQL(),\n\t\t\t\t\tselection ?? ('getSelectedFields' in qb ? qb.getSelectedFields() ?? {} : {}) as SelectedFields,\n\t\t\t\t\talias,\n\t\t\t\t\ttrue,\n\t\t\t\t),\n\t\t\t\tnew SelectionProxyHandler({ alias, sqlAliasedBehavior: 'alias', sqlBehavior: 'error' }),\n\t\t\t) as any;\n\t\t};\n\t\treturn { as };\n\t};\n\n\twith(...queries: WithSubquery[]) {\n\t\tconst self = this;\n\n\t\tfunction select(): PgSelectBuilder<undefined, 'qb'>;\n\t\tfunction select<TSelection extends SelectedFields>(fields: TSelection): PgSelectBuilder<TSelection, 'qb'>;\n\t\tfunction select<TSelection extends SelectedFields>(\n\t\t\tfields?: TSelection,\n\t\t): PgSelectBuilder<TSelection | undefined, 'qb'> {\n\t\t\treturn new PgSelectBuilder({\n\t\t\t\tfields: fields ?? undefined,\n\t\t\t\tsession: undefined,\n\t\t\t\tdialect: self.getDialect(),\n\t\t\t\twithList: queries,\n\t\t\t});\n\t\t}\n\n\t\tfunction selectDistinct(): PgSelectBuilder<undefined, 'qb'>;\n\t\tfunction selectDistinct<TSelection extends SelectedFields>(fields: TSelection): PgSelectBuilder<TSelection, 'qb'>;\n\t\tfunction selectDistinct<TSelection extends SelectedFields>(\n\t\t\tfields?: TSelection,\n\t\t): PgSelectBuilder<TSelection | undefined, 'qb'> {\n\t\t\treturn new PgSelectBuilder({\n\t\t\t\tfields: fields ?? undefined,\n\t\t\t\tsession: undefined,\n\t\t\t\tdialect: self.getDialect(),\n\t\t\t\tdistinct: true,\n\t\t\t});\n\t\t}\n\n\t\tfunction selectDistinctOn(on: (PgColumn | SQLWrapper)[]): PgSelectBuilder<undefined, 'qb'>;\n\t\tfunction selectDistinctOn<TSelection extends SelectedFields>(\n\t\t\ton: (PgColumn | SQLWrapper)[],\n\t\t\tfields: TSelection,\n\t\t): PgSelectBuilder<TSelection, 'qb'>;\n\t\tfunction selectDistinctOn<TSelection extends SelectedFields>(\n\t\t\ton: (PgColumn | SQLWrapper)[],\n\t\t\tfields?: TSelection,\n\t\t): PgSelectBuilder<TSelection | undefined, 'qb'> {\n\t\t\treturn new PgSelectBuilder({\n\t\t\t\tfields: fields ?? undefined,\n\t\t\t\tsession: undefined,\n\t\t\t\tdialect: self.getDialect(),\n\t\t\t\tdistinct: { on },\n\t\t\t});\n\t\t}\n\n\t\treturn { select, selectDistinct, selectDistinctOn };\n\t}\n\n\tselect(): PgSelectBuilder<undefined, 'qb'>;\n\tselect<TSelection extends SelectedFields>(fields: TSelection): PgSelectBuilder<TSelection, 'qb'>;\n\tselect<TSelection extends SelectedFields>(fields?: TSelection): PgSelectBuilder<TSelection | undefined, 'qb'> {\n\t\treturn new PgSelectBuilder({\n\t\t\tfields: fields ?? undefined,\n\t\t\tsession: undefined,\n\t\t\tdialect: this.getDialect(),\n\t\t});\n\t}\n\n\tselectDistinct(): PgSelectBuilder<undefined>;\n\tselectDistinct<TSelection extends SelectedFields>(fields: TSelection): PgSelectBuilder<TSelection>;\n\tselectDistinct<TSelection extends SelectedFields>(fields?: TSelection): PgSelectBuilder<TSelection | undefined> {\n\t\treturn new PgSelectBuilder({\n\t\t\tfields: fields ?? undefined,\n\t\t\tsession: undefined,\n\t\t\tdialect: this.getDialect(),\n\t\t\tdistinct: true,\n\t\t});\n\t}\n\n\tselectDistinctOn(on: (PgColumn | SQLWrapper)[]): PgSelectBuilder<undefined>;\n\tselectDistinctOn<TSelection extends SelectedFields>(\n\t\ton: (PgColumn | SQLWrapper)[],\n\t\tfields: TSelection,\n\t): PgSelectBuilder<TSelection>;\n\tselectDistinctOn<TSelection extends SelectedFields>(\n\t\ton: (PgColumn | SQLWrapper)[],\n\t\tfields?: TSelection,\n\t): PgSelectBuilder<TSelection | undefined> {\n\t\treturn new PgSelectBuilder({\n\t\t\tfields: fields ?? undefined,\n\t\t\tsession: undefined,\n\t\t\tdialect: this.getDialect(),\n\t\t\tdistinct: { on },\n\t\t});\n\t}\n\n\t// Lazy load dialect to avoid circular dependency\n\tprivate getDialect() {\n\t\tif (!this.dialect) {\n\t\t\tthis.dialect = new PgDialect(this.dialectConfig);\n\t\t}\n\n\t\treturn this.dialect;\n\t}\n}\n", "import { aliasedTable, aliasedTableColumn, mapColumnsInAliasedSQLToAlias, mapColumnsInSQLToAlias } from '~/alias.ts';\nimport { CasingCache } from '~/casing.ts';\nimport { Column } from '~/column.ts';\nimport { entityKind, is } from '~/entity.ts';\nimport { DrizzleError } from '~/errors.ts';\nimport type { MigrationConfig, MigrationMeta } from '~/migrator.ts';\nimport {\n\tPgColumn,\n\tPgDate,\n\tPgDateString,\n\tPgJson,\n\tPgJsonb,\n\tPgNumeric,\n\tPgTime,\n\tPgTimestamp,\n\tPgTimestampString,\n\tPgUUID,\n} from '~/pg-core/columns/index.ts';\nimport type {\n\tAnyPgSelectQueryBuilder,\n\tPgDeleteConfig,\n\tPgInsertConfig,\n\tPgSelectJoinConfig,\n\tPgUpdateConfig,\n} from '~/pg-core/query-builders/index.ts';\nimport type { PgSelectConfig, SelectedFieldsOrdered } from '~/pg-core/query-builders/select.types.ts';\nimport { PgTable } from '~/pg-core/table.ts';\nimport {\n\ttype BuildRelationalQueryResult,\n\ttype DBQueryConfig,\n\tgetOperators,\n\tgetOrderByOperators,\n\tMany,\n\tnormalizeRelation,\n\tOne,\n\ttype Relation,\n\ttype TableRelationalConfig,\n\ttype TablesRelationalConfig,\n} from '~/relations.ts';\nimport { and, eq, View } from '~/sql/index.ts';\nimport {\n\ttype DriverValueEncoder,\n\ttype Name,\n\tParam,\n\ttype QueryTypingsValue,\n\ttype QueryWithTypings,\n\tSQL,\n\tsql,\n\ttype SQLChunk,\n} from '~/sql/sql.ts';\nimport { Subquery } from '~/subquery.ts';\nimport { getTableName, getTableUniqueName, Table } from '~/table.ts';\nimport { type Casing, orderSelectedFields, type UpdateSet } from '~/utils.ts';\nimport { ViewBaseConfig } from '~/view-common.ts';\nimport type { PgSession } from './session.ts';\nimport { PgViewBase } from './view-base.ts';\nimport type { PgMaterializedView } from './view.ts';\n\nexport interface PgDialectConfig {\n\tcasing?: Casing;\n}\n\nexport class PgDialect {\n\tstatic readonly [entityKind]: string = 'PgDialect';\n\n\t/** @internal */\n\treadonly casing: CasingCache;\n\n\tconstructor(config?: PgDialectConfig) {\n\t\tthis.casing = new CasingCache(config?.casing);\n\t}\n\n\tasync migrate(migrations: MigrationMeta[], session: PgSession, config: string | MigrationConfig): Promise<void> {\n\t\tconst migrationsTable = typeof config === 'string'\n\t\t\t? '__drizzle_migrations'\n\t\t\t: config.migrationsTable ?? '__drizzle_migrations';\n\t\tconst migrationsSchema = typeof config === 'string' ? 'drizzle' : config.migrationsSchema ?? 'drizzle';\n\t\tconst migrationTableCreate = sql`\n\t\t\tCREATE TABLE IF NOT EXISTS ${sql.identifier(migrationsSchema)}.${sql.identifier(migrationsTable)} (\n\t\t\t\tid SERIAL PRIMARY KEY,\n\t\t\t\thash text NOT NULL,\n\t\t\t\tcreated_at bigint\n\t\t\t)\n\t\t`;\n\t\tawait session.execute(sql`CREATE SCHEMA IF NOT EXISTS ${sql.identifier(migrationsSchema)}`);\n\t\tawait session.execute(migrationTableCreate);\n\n\t\tconst dbMigrations = await session.all<{ id: number; hash: string; created_at: string }>(\n\t\t\tsql`select id, hash, created_at from ${sql.identifier(migrationsSchema)}.${\n\t\t\t\tsql.identifier(migrationsTable)\n\t\t\t} order by created_at desc limit 1`,\n\t\t);\n\n\t\tconst lastDbMigration = dbMigrations[0];\n\t\tawait session.transaction(async (tx) => {\n\t\t\tfor await (const migration of migrations) {\n\t\t\t\tif (\n\t\t\t\t\t!lastDbMigration\n\t\t\t\t\t|| Number(lastDbMigration.created_at) < migration.folderMillis\n\t\t\t\t) {\n\t\t\t\t\tfor (const stmt of migration.sql) {\n\t\t\t\t\t\tawait tx.execute(sql.raw(stmt));\n\t\t\t\t\t}\n\t\t\t\t\tawait tx.execute(\n\t\t\t\t\t\tsql`insert into ${sql.identifier(migrationsSchema)}.${\n\t\t\t\t\t\t\tsql.identifier(migrationsTable)\n\t\t\t\t\t\t} (\"hash\", \"created_at\") values(${migration.hash}, ${migration.folderMillis})`,\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tescapeName(name: string): string {\n\t\treturn `\"${name}\"`;\n\t}\n\n\tescapeParam(num: number): string {\n\t\treturn `$${num + 1}`;\n\t}\n\n\tescapeString(str: string): string {\n\t\treturn `'${str.replace(/'/g, \"''\")}'`;\n\t}\n\n\tprivate buildWithCTE(queries: Subquery[] | undefined): SQL | undefined {\n\t\tif (!queries?.length) return undefined;\n\n\t\tconst withSqlChunks = [sql`with `];\n\t\tfor (const [i, w] of queries.entries()) {\n\t\t\twithSqlChunks.push(sql`${sql.identifier(w._.alias)} as (${w._.sql})`);\n\t\t\tif (i < queries.length - 1) {\n\t\t\t\twithSqlChunks.push(sql`, `);\n\t\t\t}\n\t\t}\n\t\twithSqlChunks.push(sql` `);\n\t\treturn sql.join(withSqlChunks);\n\t}\n\n\tbuildDeleteQuery({ table, where, returning, withList }: PgDeleteConfig): SQL {\n\t\tconst withSql = this.buildWithCTE(withList);\n\n\t\tconst returningSql = returning\n\t\t\t? sql` returning ${this.buildSelection(returning, { isSingleTable: true })}`\n\t\t\t: undefined;\n\n\t\tconst whereSql = where ? sql` where ${where}` : undefined;\n\n\t\treturn sql`${withSql}delete from ${table}${whereSql}${returningSql}`;\n\t}\n\n\tbuildUpdateSet(table: PgTable, set: UpdateSet): SQL {\n\t\tconst tableColumns = table[Table.Symbol.Columns];\n\n\t\tconst columnNames = Object.keys(tableColumns).filter((colName) =>\n\t\t\tset[colName] !== undefined || tableColumns[colName]?.onUpdateFn !== undefined\n\t\t);\n\n\t\tconst setSize = columnNames.length;\n\t\treturn sql.join(columnNames.flatMap((colName, i) => {\n\t\t\tconst col = tableColumns[colName]!;\n\n\t\t\tconst value = set[colName] ?? sql.param(col.onUpdateFn!(), col);\n\t\t\tconst res = sql`${sql.identifier(this.casing.getColumnCasing(col))} = ${value}`;\n\n\t\t\tif (i < setSize - 1) {\n\t\t\t\treturn [res, sql.raw(', ')];\n\t\t\t}\n\t\t\treturn [res];\n\t\t}));\n\t}\n\n\tbuildUpdateQuery({ table, set, where, returning, withList, from, joins }: PgUpdateConfig): SQL {\n\t\tconst withSql = this.buildWithCTE(withList);\n\n\t\tconst tableName = table[PgTable.Symbol.Name];\n\t\tconst tableSchema = table[PgTable.Symbol.Schema];\n\t\tconst origTableName = table[PgTable.Symbol.OriginalName];\n\t\tconst alias = tableName === origTableName ? undefined : tableName;\n\t\tconst tableSql = sql`${tableSchema ? sql`${sql.identifier(tableSchema)}.` : undefined}${\n\t\t\tsql.identifier(origTableName)\n\t\t}${alias && sql` ${sql.identifier(alias)}`}`;\n\n\t\tconst setSql = this.buildUpdateSet(table, set);\n\n\t\tconst fromSql = from && sql.join([sql.raw(' from '), this.buildFromTable(from)]);\n\n\t\tconst joinsSql = this.buildJoins(joins);\n\n\t\tconst returningSql = returning\n\t\t\t? sql` returning ${this.buildSelection(returning, { isSingleTable: !from })}`\n\t\t\t: undefined;\n\n\t\tconst whereSql = where ? sql` where ${where}` : undefined;\n\n\t\treturn sql`${withSql}update ${tableSql} set ${setSql}${fromSql}${joinsSql}${whereSql}${returningSql}`;\n\t}\n\n\t/**\n\t * Builds selection SQL with provided fields/expressions\n\t *\n\t * Examples:\n\t *\n\t * `select <selection> from`\n\t *\n\t * `insert ... returning <selection>`\n\t *\n\t * If `isSingleTable` is true, then columns won't be prefixed with table name\n\t */\n\tprivate buildSelection(\n\t\tfields: SelectedFieldsOrdered,\n\t\t{ isSingleTable = false }: { isSingleTable?: boolean } = {},\n\t): SQL {\n\t\tconst columnsLen = fields.length;\n\n\t\tconst chunks = fields\n\t\t\t.flatMap(({ field }, i) => {\n\t\t\t\tconst chunk: SQLChunk[] = [];\n\n\t\t\t\tif (is(field, SQL.Aliased) && field.isSelectionField) {\n\t\t\t\t\tchunk.push(sql.identifier(field.fieldAlias));\n\t\t\t\t} else if (is(field, SQL.Aliased) || is(field, SQL)) {\n\t\t\t\t\tconst query = is(field, SQL.Aliased) ? field.sql : field;\n\n\t\t\t\t\tif (isSingleTable) {\n\t\t\t\t\t\tchunk.push(\n\t\t\t\t\t\t\tnew SQL(\n\t\t\t\t\t\t\t\tquery.queryChunks.map((c) => {\n\t\t\t\t\t\t\t\t\tif (is(c, PgColumn)) {\n\t\t\t\t\t\t\t\t\t\treturn sql.identifier(this.casing.getColumnCasing(c));\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn c;\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tchunk.push(query);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (is(field, SQL.Aliased)) {\n\t\t\t\t\t\tchunk.push(sql` as ${sql.identifier(field.fieldAlias)}`);\n\t\t\t\t\t}\n\t\t\t\t} else if (is(field, Column)) {\n\t\t\t\t\tif (isSingleTable) {\n\t\t\t\t\t\tchunk.push(sql.identifier(this.casing.getColumnCasing(field)));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tchunk.push(field);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (i < columnsLen - 1) {\n\t\t\t\t\tchunk.push(sql`, `);\n\t\t\t\t}\n\n\t\t\t\treturn chunk;\n\t\t\t});\n\n\t\treturn sql.join(chunks);\n\t}\n\n\tprivate buildJoins(joins: PgSelectJoinConfig[] | undefined): SQL | undefined {\n\t\tif (!joins || joins.length === 0) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst joinsArray: SQL[] = [];\n\n\t\tfor (const [index, joinMeta] of joins.entries()) {\n\t\t\tif (index === 0) {\n\t\t\t\tjoinsArray.push(sql` `);\n\t\t\t}\n\t\t\tconst table = joinMeta.table;\n\t\t\tconst lateralSql = joinMeta.lateral ? sql` lateral` : undefined;\n\t\t\tconst onSql = joinMeta.on ? sql` on ${joinMeta.on}` : undefined;\n\n\t\t\tif (is(table, PgTable)) {\n\t\t\t\tconst tableName = table[PgTable.Symbol.Name];\n\t\t\t\tconst tableSchema = table[PgTable.Symbol.Schema];\n\t\t\t\tconst origTableName = table[PgTable.Symbol.OriginalName];\n\t\t\t\tconst alias = tableName === origTableName ? undefined : joinMeta.alias;\n\t\t\t\tjoinsArray.push(\n\t\t\t\t\tsql`${sql.raw(joinMeta.joinType)} join${lateralSql} ${\n\t\t\t\t\t\ttableSchema ? sql`${sql.identifier(tableSchema)}.` : undefined\n\t\t\t\t\t}${sql.identifier(origTableName)}${alias && sql` ${sql.identifier(alias)}`}${onSql}`,\n\t\t\t\t);\n\t\t\t} else if (is(table, View)) {\n\t\t\t\tconst viewName = table[ViewBaseConfig].name;\n\t\t\t\tconst viewSchema = table[ViewBaseConfig].schema;\n\t\t\t\tconst origViewName = table[ViewBaseConfig].originalName;\n\t\t\t\tconst alias = viewName === origViewName ? undefined : joinMeta.alias;\n\t\t\t\tjoinsArray.push(\n\t\t\t\t\tsql`${sql.raw(joinMeta.joinType)} join${lateralSql} ${\n\t\t\t\t\t\tviewSchema ? sql`${sql.identifier(viewSchema)}.` : undefined\n\t\t\t\t\t}${sql.identifier(origViewName)}${alias && sql` ${sql.identifier(alias)}`}${onSql}`,\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tjoinsArray.push(\n\t\t\t\t\tsql`${sql.raw(joinMeta.joinType)} join${lateralSql} ${table}${onSql}`,\n\t\t\t\t);\n\t\t\t}\n\t\t\tif (index < joins.length - 1) {\n\t\t\t\tjoinsArray.push(sql` `);\n\t\t\t}\n\t\t}\n\n\t\treturn sql.join(joinsArray);\n\t}\n\n\tprivate buildFromTable(\n\t\ttable: SQL | Subquery | PgViewBase | PgTable | undefined,\n\t): SQL | Subquery | PgViewBase | PgTable | undefined {\n\t\tif (is(table, Table) && table[Table.Symbol.IsAlias]) {\n\t\t\tlet fullName = sql`${sql.identifier(table[Table.Symbol.OriginalName])}`;\n\t\t\tif (table[Table.Symbol.Schema]) {\n\t\t\t\tfullName = sql`${sql.identifier(table[Table.Symbol.Schema]!)}.${fullName}`;\n\t\t\t}\n\t\t\treturn sql`${fullName} ${sql.identifier(table[Table.Symbol.Name])}`;\n\t\t}\n\n\t\treturn table;\n\t}\n\n\tbuildSelectQuery(\n\t\t{\n\t\t\twithList,\n\t\t\tfields,\n\t\t\tfieldsFlat,\n\t\t\twhere,\n\t\t\thaving,\n\t\t\ttable,\n\t\t\tjoins,\n\t\t\torderBy,\n\t\t\tgroupBy,\n\t\t\tlimit,\n\t\t\toffset,\n\t\t\tlockingClause,\n\t\t\tdistinct,\n\t\t\tsetOperators,\n\t\t}: PgSelectConfig,\n\t): SQL {\n\t\tconst fieldsList = fieldsFlat ?? orderSelectedFields<PgColumn>(fields);\n\t\tfor (const f of fieldsList) {\n\t\t\tif (\n\t\t\t\tis(f.field, Column)\n\t\t\t\t&& getTableName(f.field.table)\n\t\t\t\t\t!== (is(table, Subquery)\n\t\t\t\t\t\t? table._.alias\n\t\t\t\t\t\t: is(table, PgViewBase)\n\t\t\t\t\t\t? table[ViewBaseConfig].name\n\t\t\t\t\t\t: is(table, SQL)\n\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t: getTableName(table))\n\t\t\t\t&& !((table) =>\n\t\t\t\t\tjoins?.some(({ alias }) =>\n\t\t\t\t\t\talias === (table[Table.Symbol.IsAlias] ? getTableName(table) : table[Table.Symbol.BaseName])\n\t\t\t\t\t))(f.field.table)\n\t\t\t) {\n\t\t\t\tconst tableName = getTableName(f.field.table);\n\t\t\t\tthrow new Error(\n\t\t\t\t\t`Your \"${\n\t\t\t\t\t\tf.path.join('->')\n\t\t\t\t\t}\" field references a column \"${tableName}\".\"${f.field.name}\", but the table \"${tableName}\" is not part of the query! Did you forget to join it?`,\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tconst isSingleTable = !joins || joins.length === 0;\n\n\t\tconst withSql = this.buildWithCTE(withList);\n\n\t\tlet distinctSql: SQL | undefined;\n\t\tif (distinct) {\n\t\t\tdistinctSql = distinct === true ? sql` distinct` : sql` distinct on (${sql.join(distinct.on, sql`, `)})`;\n\t\t}\n\n\t\tconst selection = this.buildSelection(fieldsList, { isSingleTable });\n\n\t\tconst tableSql = this.buildFromTable(table);\n\n\t\tconst joinsSql = this.buildJoins(joins);\n\n\t\tconst whereSql = where ? sql` where ${where}` : undefined;\n\n\t\tconst havingSql = having ? sql` having ${having}` : undefined;\n\n\t\tlet orderBySql;\n\t\tif (orderBy && orderBy.length > 0) {\n\t\t\torderBySql = sql` order by ${sql.join(orderBy, sql`, `)}`;\n\t\t}\n\n\t\tlet groupBySql;\n\t\tif (groupBy && groupBy.length > 0) {\n\t\t\tgroupBySql = sql` group by ${sql.join(groupBy, sql`, `)}`;\n\t\t}\n\n\t\tconst limitSql = typeof limit === 'object' || (typeof limit === 'number' && limit >= 0)\n\t\t\t? sql` limit ${limit}`\n\t\t\t: undefined;\n\n\t\tconst offsetSql = offset ? sql` offset ${offset}` : undefined;\n\n\t\tconst lockingClauseSql = sql.empty();\n\t\tif (lockingClause) {\n\t\t\tconst clauseSql = sql` for ${sql.raw(lockingClause.strength)}`;\n\t\t\tif (lockingClause.config.of) {\n\t\t\t\tclauseSql.append(\n\t\t\t\t\tsql` of ${\n\t\t\t\t\t\tsql.join(\n\t\t\t\t\t\t\tArray.isArray(lockingClause.config.of) ? lockingClause.config.of : [lockingClause.config.of],\n\t\t\t\t\t\t\tsql`, `,\n\t\t\t\t\t\t)\n\t\t\t\t\t}`,\n\t\t\t\t);\n\t\t\t}\n\t\t\tif (lockingClause.config.noWait) {\n\t\t\t\tclauseSql.append(sql` nowait`);\n\t\t\t} else if (lockingClause.config.skipLocked) {\n\t\t\t\tclauseSql.append(sql` skip locked`);\n\t\t\t}\n\t\t\tlockingClauseSql.append(clauseSql);\n\t\t}\n\t\tconst finalQuery =\n\t\t\tsql`${withSql}select${distinctSql} ${selection} from ${tableSql}${joinsSql}${whereSql}${groupBySql}${havingSql}${orderBySql}${limitSql}${offsetSql}${lockingClauseSql}`;\n\n\t\tif (setOperators.length > 0) {\n\t\t\treturn this.buildSetOperations(finalQuery, setOperators);\n\t\t}\n\n\t\treturn finalQuery;\n\t}\n\n\tbuildSetOperations(leftSelect: SQL, setOperators: PgSelectConfig['setOperators']): SQL {\n\t\tconst [setOperator, ...rest] = setOperators;\n\n\t\tif (!setOperator) {\n\t\t\tthrow new Error('Cannot pass undefined values to any set operator');\n\t\t}\n\n\t\tif (rest.length === 0) {\n\t\t\treturn this.buildSetOperationQuery({ leftSelect, setOperator });\n\t\t}\n\n\t\t// Some recursive magic here\n\t\treturn this.buildSetOperations(\n\t\t\tthis.buildSetOperationQuery({ leftSelect, setOperator }),\n\t\t\trest,\n\t\t);\n\t}\n\n\tbuildSetOperationQuery({\n\t\tleftSelect,\n\t\tsetOperator: { type, isAll, rightSelect, limit, orderBy, offset },\n\t}: { leftSelect: SQL; setOperator: PgSelectConfig['setOperators'][number] }): SQL {\n\t\tconst leftChunk = sql`(${leftSelect.getSQL()}) `;\n\t\tconst rightChunk = sql`(${rightSelect.getSQL()})`;\n\n\t\tlet orderBySql;\n\t\tif (orderBy && orderBy.length > 0) {\n\t\t\tconst orderByValues: (SQL<unknown> | Name)[] = [];\n\n\t\t\t// The next bit is necessary because the sql operator replaces ${table.column} with `table`.`column`\n\t\t\t// which is invalid Sql syntax, Table from one of the SELECTs cannot be used in global ORDER clause\n\t\t\tfor (const singleOrderBy of orderBy) {\n\t\t\t\tif (is(singleOrderBy, PgColumn)) {\n\t\t\t\t\torderByValues.push(sql.identifier(singleOrderBy.name));\n\t\t\t\t} else if (is(singleOrderBy, SQL)) {\n\t\t\t\t\tfor (let i = 0; i < singleOrderBy.queryChunks.length; i++) {\n\t\t\t\t\t\tconst chunk = singleOrderBy.queryChunks[i];\n\n\t\t\t\t\t\tif (is(chunk, PgColumn)) {\n\t\t\t\t\t\t\tsingleOrderBy.queryChunks[i] = sql.identifier(chunk.name);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\torderByValues.push(sql`${singleOrderBy}`);\n\t\t\t\t} else {\n\t\t\t\t\torderByValues.push(sql`${singleOrderBy}`);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\torderBySql = sql` order by ${sql.join(orderByValues, sql`, `)} `;\n\t\t}\n\n\t\tconst limitSql = typeof limit === 'object' || (typeof limit === 'number' && limit >= 0)\n\t\t\t? sql` limit ${limit}`\n\t\t\t: undefined;\n\n\t\tconst operatorChunk = sql.raw(`${type} ${isAll ? 'all ' : ''}`);\n\n\t\tconst offsetSql = offset ? sql` offset ${offset}` : undefined;\n\n\t\treturn sql`${leftChunk}${operatorChunk}${rightChunk}${orderBySql}${limitSql}${offsetSql}`;\n\t}\n\n\tbuildInsertQuery(\n\t\t{ table, values: valuesOrSelect, onConflict, returning, withList, select, overridingSystemValue_ }: PgInsertConfig,\n\t): SQL {\n\t\tconst valuesSqlList: ((SQLChunk | SQL)[] | SQL)[] = [];\n\t\tconst columns: Record<string, PgColumn> = table[Table.Symbol.Columns];\n\n\t\tconst colEntries: [string, PgColumn][] = Object.entries(columns).filter(([_, col]) => !col.shouldDisableInsert());\n\n\t\tconst insertOrder = colEntries.map(\n\t\t\t([, column]) => sql.identifier(this.casing.getColumnCasing(column)),\n\t\t);\n\n\t\tif (select) {\n\t\t\tconst select = valuesOrSelect as AnyPgSelectQueryBuilder | SQL;\n\n\t\t\tif (is(select, SQL)) {\n\t\t\t\tvaluesSqlList.push(select);\n\t\t\t} else {\n\t\t\t\tvaluesSqlList.push(select.getSQL());\n\t\t\t}\n\t\t} else {\n\t\t\tconst values = valuesOrSelect as Record<string, Param | SQL>[];\n\t\t\tvaluesSqlList.push(sql.raw('values '));\n\n\t\t\tfor (const [valueIndex, value] of values.entries()) {\n\t\t\t\tconst valueList: (SQLChunk | SQL)[] = [];\n\t\t\t\tfor (const [fieldName, col] of colEntries) {\n\t\t\t\t\tconst colValue = value[fieldName];\n\t\t\t\t\tif (colValue === undefined || (is(colValue, Param) && colValue.value === undefined)) {\n\t\t\t\t\t\t// eslint-disable-next-line unicorn/no-negated-condition\n\t\t\t\t\t\tif (col.defaultFn !== undefined) {\n\t\t\t\t\t\t\tconst defaultFnResult = col.defaultFn();\n\t\t\t\t\t\t\tconst defaultValue = is(defaultFnResult, SQL) ? defaultFnResult : sql.param(defaultFnResult, col);\n\t\t\t\t\t\t\tvalueList.push(defaultValue);\n\t\t\t\t\t\t\t// eslint-disable-next-line unicorn/no-negated-condition\n\t\t\t\t\t\t} else if (!col.default && col.onUpdateFn !== undefined) {\n\t\t\t\t\t\t\tconst onUpdateFnResult = col.onUpdateFn();\n\t\t\t\t\t\t\tconst newValue = is(onUpdateFnResult, SQL) ? onUpdateFnResult : sql.param(onUpdateFnResult, col);\n\t\t\t\t\t\t\tvalueList.push(newValue);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvalueList.push(sql`default`);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalueList.push(colValue);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvaluesSqlList.push(valueList);\n\t\t\t\tif (valueIndex < values.length - 1) {\n\t\t\t\t\tvaluesSqlList.push(sql`, `);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst withSql = this.buildWithCTE(withList);\n\n\t\tconst valuesSql = sql.join(valuesSqlList);\n\n\t\tconst returningSql = returning\n\t\t\t? sql` returning ${this.buildSelection(returning, { isSingleTable: true })}`\n\t\t\t: undefined;\n\n\t\tconst onConflictSql = onConflict ? sql` on conflict ${onConflict}` : undefined;\n\n\t\tconst overridingSql = overridingSystemValue_ === true ? sql`overriding system value ` : undefined;\n\n\t\treturn sql`${withSql}insert into ${table} ${insertOrder} ${overridingSql}${valuesSql}${onConflictSql}${returningSql}`;\n\t}\n\n\tbuildRefreshMaterializedViewQuery(\n\t\t{ view, concurrently, withNoData }: { view: PgMaterializedView; concurrently?: boolean; withNoData?: boolean },\n\t): SQL {\n\t\tconst concurrentlySql = concurrently ? sql` concurrently` : undefined;\n\t\tconst withNoDataSql = withNoData ? sql` with no data` : undefined;\n\n\t\treturn sql`refresh materialized view${concurrentlySql} ${view}${withNoDataSql}`;\n\t}\n\n\tprepareTyping(encoder: DriverValueEncoder<unknown, unknown>): QueryTypingsValue {\n\t\tif (is(encoder, PgJsonb) || is(encoder, PgJson)) {\n\t\t\treturn 'json';\n\t\t} else if (is(encoder, PgNumeric)) {\n\t\t\treturn 'decimal';\n\t\t} else if (is(encoder, PgTime)) {\n\t\t\treturn 'time';\n\t\t} else if (is(encoder, PgTimestamp) || is(encoder, PgTimestampString)) {\n\t\t\treturn 'timestamp';\n\t\t} else if (is(encoder, PgDate) || is(encoder, PgDateString)) {\n\t\t\treturn 'date';\n\t\t} else if (is(encoder, PgUUID)) {\n\t\t\treturn 'uuid';\n\t\t} else {\n\t\t\treturn 'none';\n\t\t}\n\t}\n\n\tsqlToQuery(sql: SQL, invokeSource?: 'indexes' | undefined): QueryWithTypings {\n\t\treturn sql.toQuery({\n\t\t\tcasing: this.casing,\n\t\t\tescapeName: this.escapeName,\n\t\t\tescapeParam: this.escapeParam,\n\t\t\tescapeString: this.escapeString,\n\t\t\tprepareTyping: this.prepareTyping,\n\t\t\tinvokeSource,\n\t\t});\n\t}\n\n\t// buildRelationalQueryWithPK({\n\t// \tfullSchema,\n\t// \tschema,\n\t// \ttableNamesMap,\n\t// \ttable,\n\t// \ttableConfig,\n\t// \tqueryConfig: config,\n\t// \ttableAlias,\n\t// \tisRoot = false,\n\t// \tjoinOn,\n\t// }: {\n\t// \tfullSchema: Record<string, unknown>;\n\t// \tschema: TablesRelationalConfig;\n\t// \ttableNamesMap: Record<string, string>;\n\t// \ttable: PgTable;\n\t// \ttableConfig: TableRelationalConfig;\n\t// \tqueryConfig: true | DBQueryConfig<'many', true>;\n\t// \ttableAlias: string;\n\t// \tisRoot?: boolean;\n\t// \tjoinOn?: SQL;\n\t// }): BuildRelationalQueryResult<PgTable, PgColumn> {\n\t// \t// For { \"<relation>\": true }, return a table with selection of all columns\n\t// \tif (config === true) {\n\t// \t\tconst selectionEntries = Object.entries(tableConfig.columns);\n\t// \t\tconst selection: BuildRelationalQueryResult<PgTable, PgColumn>['selection'] = selectionEntries.map((\n\t// \t\t\t[key, value],\n\t// \t\t) => ({\n\t// \t\t\tdbKey: value.name,\n\t// \t\t\ttsKey: key,\n\t// \t\t\tfield: value as PgColumn,\n\t// \t\t\trelationTableTsKey: undefined,\n\t// \t\t\tisJson: false,\n\t// \t\t\tselection: [],\n\t// \t\t}));\n\n\t// \t\treturn {\n\t// \t\t\ttableTsKey: tableConfig.tsName,\n\t// \t\t\tsql: table,\n\t// \t\t\tselection,\n\t// \t\t};\n\t// \t}\n\n\t// \t// let selection: BuildRelationalQueryResult<PgTable, PgColumn>['selection'] = [];\n\t// \t// let selectionForBuild = selection;\n\n\t// \tconst aliasedColumns = Object.fromEntries(\n\t// \t\tObject.entries(tableConfig.columns).map(([key, value]) => [key, aliasedTableColumn(value, tableAlias)]),\n\t// \t);\n\n\t// \tconst aliasedRelations = Object.fromEntries(\n\t// \t\tObject.entries(tableConfig.relations).map(([key, value]) => [key, aliasedRelation(value, tableAlias)]),\n\t// \t);\n\n\t// \tconst aliasedFields = Object.assign({}, aliasedColumns, aliasedRelations);\n\n\t// \tlet where, hasUserDefinedWhere;\n\t// \tif (config.where) {\n\t// \t\tconst whereSql = typeof config.where === 'function' ? config.where(aliasedFields, operators) : config.where;\n\t// \t\twhere = whereSql && mapColumnsInSQLToAlias(whereSql, tableAlias);\n\t// \t\thasUserDefinedWhere = !!where;\n\t// \t}\n\t// \twhere = and(joinOn, where);\n\n\t// \t// const fieldsSelection: { tsKey: string; value: PgColumn | SQL.Aliased; isExtra?: boolean }[] = [];\n\t// \tlet joins: Join[] = [];\n\t// \tlet selectedColumns: string[] = [];\n\n\t// \t// Figure out which columns to select\n\t// \tif (config.columns) {\n\t// \t\tlet isIncludeMode = false;\n\n\t// \t\tfor (const [field, value] of Object.entries(config.columns)) {\n\t// \t\t\tif (value === undefined) {\n\t// \t\t\t\tcontinue;\n\t// \t\t\t}\n\n\t// \t\t\tif (field in tableConfig.columns) {\n\t// \t\t\t\tif (!isIncludeMode && value === true) {\n\t// \t\t\t\t\tisIncludeMode = true;\n\t// \t\t\t\t}\n\t// \t\t\t\tselectedColumns.push(field);\n\t// \t\t\t}\n\t// \t\t}\n\n\t// \t\tif (selectedColumns.length > 0) {\n\t// \t\t\tselectedColumns = isIncludeMode\n\t// \t\t\t\t? selectedColumns.filter((c) => config.columns?.[c] === true)\n\t// \t\t\t\t: Object.keys(tableConfig.columns).filter((key) => !selectedColumns.includes(key));\n\t// \t\t}\n\t// \t} else {\n\t// \t\t// Select all columns if selection is not specified\n\t// \t\tselectedColumns = Object.keys(tableConfig.columns);\n\t// \t}\n\n\t// \t// for (const field of selectedColumns) {\n\t// \t// \tconst column = tableConfig.columns[field]! as PgColumn;\n\t// \t// \tfieldsSelection.push({ tsKey: field, value: column });\n\t// \t// }\n\n\t// \tlet initiallySelectedRelations: {\n\t// \t\ttsKey: string;\n\t// \t\tqueryConfig: true | DBQueryConfig<'many', false>;\n\t// \t\trelation: Relation;\n\t// \t}[] = [];\n\n\t// \t// let selectedRelations: BuildRelationalQueryResult<PgTable, PgColumn>['selection'] = [];\n\n\t// \t// Figure out which relations to select\n\t// \tif (config.with) {\n\t// \t\tinitiallySelectedRelations = Object.entries(config.with)\n\t// \t\t\t.filter((entry): entry is [typeof entry[0], NonNullable<typeof entry[1]>] => !!entry[1])\n\t// \t\t\t.map(([tsKey, queryConfig]) => ({ tsKey, queryConfig, relation: tableConfig.relations[tsKey]! }));\n\t// \t}\n\n\t// \tconst manyRelations = initiallySelectedRelations.filter((r) =>\n\t// \t\tis(r.relation, Many)\n\t// \t\t&& (schema[tableNamesMap[r.relation.referencedTable[Table.Symbol.Name]]!]?.primaryKey.length ?? 0) > 0\n\t// \t);\n\t// \t// If this is the last Many relation (or there are no Many relations), we are on the innermost subquery level\n\t// \tconst isInnermostQuery = manyRelations.length < 2;\n\n\t// \tconst selectedExtras: {\n\t// \t\ttsKey: string;\n\t// \t\tvalue: SQL.Aliased;\n\t// \t}[] = [];\n\n\t// \t// Figure out which extras to select\n\t// \tif (isInnermostQuery && config.extras) {\n\t// \t\tconst extras = typeof config.extras === 'function'\n\t// \t\t\t? config.extras(aliasedFields, { sql })\n\t// \t\t\t: config.extras;\n\t// \t\tfor (const [tsKey, value] of Object.entries(extras)) {\n\t// \t\t\tselectedExtras.push({\n\t// \t\t\t\ttsKey,\n\t// \t\t\t\tvalue: mapColumnsInAliasedSQLToAlias(value, tableAlias),\n\t// \t\t\t});\n\t// \t\t}\n\t// \t}\n\n\t// \t// Transform `fieldsSelection` into `selection`\n\t// \t// `fieldsSelection` shouldn't be used after this point\n\t// \t// for (const { tsKey, value, isExtra } of fieldsSelection) {\n\t// \t// \tselection.push({\n\t// \t// \t\tdbKey: is(value, SQL.Aliased) ? value.fieldAlias : tableConfig.columns[tsKey]!.name,\n\t// \t// \t\ttsKey,\n\t// \t// \t\tfield: is(value, Column) ? aliasedTableColumn(value, tableAlias) : value,\n\t// \t// \t\trelationTableTsKey: undefined,\n\t// \t// \t\tisJson: false,\n\t// \t// \t\tisExtra,\n\t// \t// \t\tselection: [],\n\t// \t// \t});\n\t// \t// }\n\n\t// \tlet orderByOrig = typeof config.orderBy === 'function'\n\t// \t\t? config.orderBy(aliasedFields, orderByOperators)\n\t// \t\t: config.orderBy ?? [];\n\t// \tif (!Array.isArray(orderByOrig)) {\n\t// \t\torderByOrig = [orderByOrig];\n\t// \t}\n\t// \tconst orderBy = orderByOrig.map((orderByValue) => {\n\t// \t\tif (is(orderByValue, Column)) {\n\t// \t\t\treturn aliasedTableColumn(orderByValue, tableAlias) as PgColumn;\n\t// \t\t}\n\t// \t\treturn mapColumnsInSQLToAlias(orderByValue, tableAlias);\n\t// \t});\n\n\t// \tconst limit = isInnermostQuery ? config.limit : undefined;\n\t// \tconst offset = isInnermostQuery ? config.offset : undefined;\n\n\t// \t// For non-root queries without additional config except columns, return a table with selection\n\t// \tif (\n\t// \t\t!isRoot\n\t// \t\t&& initiallySelectedRelations.length === 0\n\t// \t\t&& selectedExtras.length === 0\n\t// \t\t&& !where\n\t// \t\t&& orderBy.length === 0\n\t// \t\t&& limit === undefined\n\t// \t\t&& offset === undefined\n\t// \t) {\n\t// \t\treturn {\n\t// \t\t\ttableTsKey: tableConfig.tsName,\n\t// \t\t\tsql: table,\n\t// \t\t\tselection: selectedColumns.map((key) => ({\n\t// \t\t\t\tdbKey: tableConfig.columns[key]!.name,\n\t// \t\t\t\ttsKey: key,\n\t// \t\t\t\tfield: tableConfig.columns[key] as PgColumn,\n\t// \t\t\t\trelationTableTsKey: undefined,\n\t// \t\t\t\tisJson: false,\n\t// \t\t\t\tselection: [],\n\t// \t\t\t})),\n\t// \t\t};\n\t// \t}\n\n\t// \tconst selectedRelationsWithoutPK:\n\n\t// \t// Process all relations without primary keys, because they need to be joined differently and will all be on the same query level\n\t// \tfor (\n\t// \t\tconst {\n\t// \t\t\ttsKey: selectedRelationTsKey,\n\t// \t\t\tqueryConfig: selectedRelationConfigValue,\n\t// \t\t\trelation,\n\t// \t\t} of initiallySelectedRelations\n\t// \t) {\n\t// \t\tconst normalizedRelation = normalizeRelation(schema, tableNamesMap, relation);\n\t// \t\tconst relationTableName = relation.referencedTable[Table.Symbol.Name];\n\t// \t\tconst relationTableTsName = tableNamesMap[relationTableName]!;\n\t// \t\tconst relationTable = schema[relationTableTsName]!;\n\n\t// \t\tif (relationTable.primaryKey.length > 0) {\n\t// \t\t\tcontinue;\n\t// \t\t}\n\n\t// \t\tconst relationTableAlias = `${tableAlias}_${selectedRelationTsKey}`;\n\t// \t\tconst joinOn = and(\n\t// \t\t\t...normalizedRelation.fields.map((field, i) =>\n\t// \t\t\t\teq(\n\t// \t\t\t\t\taliasedTableColumn(normalizedRelation.references[i]!, relationTableAlias),\n\t// \t\t\t\t\taliasedTableColumn(field, tableAlias),\n\t// \t\t\t\t)\n\t// \t\t\t),\n\t// \t\t);\n\t// \t\tconst builtRelation = this.buildRelationalQueryWithoutPK({\n\t// \t\t\tfullSchema,\n\t// \t\t\tschema,\n\t// \t\t\ttableNamesMap,\n\t// \t\t\ttable: fullSchema[relationTableTsName] as PgTable,\n\t// \t\t\ttableConfig: schema[relationTableTsName]!,\n\t// \t\t\tqueryConfig: selectedRelationConfigValue,\n\t// \t\t\ttableAlias: relationTableAlias,\n\t// \t\t\tjoinOn,\n\t// \t\t\tnestedQueryRelation: relation,\n\t// \t\t});\n\t// \t\tconst field = sql`${sql.identifier(relationTableAlias)}.${sql.identifier('data')}`.as(selectedRelationTsKey);\n\t// \t\tjoins.push({\n\t// \t\t\ton: sql`true`,\n\t// \t\t\ttable: new Subquery(builtRelation.sql as SQL, {}, relationTableAlias),\n\t// \t\t\talias: relationTableAlias,\n\t// \t\t\tjoinType: 'left',\n\t// \t\t\tlateral: true,\n\t// \t\t});\n\t// \t\tselectedRelations.push({\n\t// \t\t\tdbKey: selectedRelationTsKey,\n\t// \t\t\ttsKey: selectedRelationTsKey,\n\t// \t\t\tfield,\n\t// \t\t\trelationTableTsKey: relationTableTsName,\n\t// \t\t\tisJson: true,\n\t// \t\t\tselection: builtRelation.selection,\n\t// \t\t});\n\t// \t}\n\n\t// \tconst oneRelations = initiallySelectedRelations.filter((r): r is typeof r & { relation: One } =>\n\t// \t\tis(r.relation, One)\n\t// \t);\n\n\t// \t// Process all One relations with PKs, because they can all be joined on the same level\n\t// \tfor (\n\t// \t\tconst {\n\t// \t\t\ttsKey: selectedRelationTsKey,\n\t// \t\t\tqueryConfig: selectedRelationConfigValue,\n\t// \t\t\trelation,\n\t// \t\t} of oneRelations\n\t// \t) {\n\t// \t\tconst normalizedRelation = normalizeRelation(schema, tableNamesMap, relation);\n\t// \t\tconst relationTableName = relation.referencedTable[Table.Symbol.Name];\n\t// \t\tconst relationTableTsName = tableNamesMap[relationTableName]!;\n\t// \t\tconst relationTableAlias = `${tableAlias}_${selectedRelationTsKey}`;\n\t// \t\tconst relationTable = schema[relationTableTsName]!;\n\n\t// \t\tif (relationTable.primaryKey.length === 0) {\n\t// \t\t\tcontinue;\n\t// \t\t}\n\n\t// \t\tconst joinOn = and(\n\t// \t\t\t...normalizedRelation.fields.map((field, i) =>\n\t// \t\t\t\teq(\n\t// \t\t\t\t\taliasedTableColumn(normalizedRelation.references[i]!, relationTableAlias),\n\t// \t\t\t\t\taliasedTableColumn(field, tableAlias),\n\t// \t\t\t\t)\n\t// \t\t\t),\n\t// \t\t);\n\t// \t\tconst builtRelation = this.buildRelationalQueryWithPK({\n\t// \t\t\tfullSchema,\n\t// \t\t\tschema,\n\t// \t\t\ttableNamesMap,\n\t// \t\t\ttable: fullSchema[relationTableTsName] as PgTable,\n\t// \t\t\ttableConfig: schema[relationTableTsName]!,\n\t// \t\t\tqueryConfig: selectedRelationConfigValue,\n\t// \t\t\ttableAlias: relationTableAlias,\n\t// \t\t\tjoinOn,\n\t// \t\t});\n\t// \t\tconst field = sql`case when ${sql.identifier(relationTableAlias)} is null then null else json_build_array(${\n\t// \t\t\tsql.join(\n\t// \t\t\t\tbuiltRelation.selection.map(({ field }) =>\n\t// \t\t\t\t\tis(field, SQL.Aliased)\n\t// \t\t\t\t\t\t? sql`${sql.identifier(relationTableAlias)}.${sql.identifier(field.fieldAlias)}`\n\t// \t\t\t\t\t\t: is(field, Column)\n\t// \t\t\t\t\t\t? aliasedTableColumn(field, relationTableAlias)\n\t// \t\t\t\t\t\t: field\n\t// \t\t\t\t),\n\t// \t\t\t\tsql`, `,\n\t// \t\t\t)\n\t// \t\t}) end`.as(selectedRelationTsKey);\n\t// \t\tconst isLateralJoin = is(builtRelation.sql, SQL);\n\t// \t\tjoins.push({\n\t// \t\t\ton: isLateralJoin ? sql`true` : joinOn,\n\t// \t\t\ttable: is(builtRelation.sql, SQL)\n\t// \t\t\t\t? new Subquery(builtRelation.sql, {}, relationTableAlias)\n\t// \t\t\t\t: aliasedTable(builtRelation.sql, relationTableAlias),\n\t// \t\t\talias: relationTableAlias,\n\t// \t\t\tjoinType: 'left',\n\t// \t\t\tlateral: is(builtRelation.sql, SQL),\n\t// \t\t});\n\t// \t\tselectedRelations.push({\n\t// \t\t\tdbKey: selectedRelationTsKey,\n\t// \t\t\ttsKey: selectedRelationTsKey,\n\t// \t\t\tfield,\n\t// \t\t\trelationTableTsKey: relationTableTsName,\n\t// \t\t\tisJson: true,\n\t// \t\t\tselection: builtRelation.selection,\n\t// \t\t});\n\t// \t}\n\n\t// \tlet distinct: PgSelectConfig['distinct'];\n\t// \tlet tableFrom: PgTable | Subquery = table;\n\n\t// \t// Process first Many relation - each one requires a nested subquery\n\t// \tconst manyRelation = manyRelations[0];\n\t// \tif (manyRelation) {\n\t// \t\tconst {\n\t// \t\t\ttsKey: selectedRelationTsKey,\n\t// \t\t\tqueryConfig: selectedRelationQueryConfig,\n\t// \t\t\trelation,\n\t// \t\t} = manyRelation;\n\n\t// \t\tdistinct = {\n\t// \t\t\ton: tableConfig.primaryKey.map((c) => aliasedTableColumn(c as PgColumn, tableAlias)),\n\t// \t\t};\n\n\t// \t\tconst normalizedRelation = normalizeRelation(schema, tableNamesMap, relation);\n\t// \t\tconst relationTableName = relation.referencedTable[Table.Symbol.Name];\n\t// \t\tconst relationTableTsName = tableNamesMap[relationTableName]!;\n\t// \t\tconst relationTableAlias = `${tableAlias}_${selectedRelationTsKey}`;\n\t// \t\tconst joinOn = and(\n\t// \t\t\t...normalizedRelation.fields.map((field, i) =>\n\t// \t\t\t\teq(\n\t// \t\t\t\t\taliasedTableColumn(normalizedRelation.references[i]!, relationTableAlias),\n\t// \t\t\t\t\taliasedTableColumn(field, tableAlias),\n\t// \t\t\t\t)\n\t// \t\t\t),\n\t// \t\t);\n\n\t// \t\tconst builtRelationJoin = this.buildRelationalQueryWithPK({\n\t// \t\t\tfullSchema,\n\t// \t\t\tschema,\n\t// \t\t\ttableNamesMap,\n\t// \t\t\ttable: fullSchema[relationTableTsName] as PgTable,\n\t// \t\t\ttableConfig: schema[relationTableTsName]!,\n\t// \t\t\tqueryConfig: selectedRelationQueryConfig,\n\t// \t\t\ttableAlias: relationTableAlias,\n\t// \t\t\tjoinOn,\n\t// \t\t});\n\n\t// \t\tconst builtRelationSelectionField = sql`case when ${\n\t// \t\t\tsql.identifier(relationTableAlias)\n\t// \t\t} is null then '[]' else json_agg(json_build_array(${\n\t// \t\t\tsql.join(\n\t// \t\t\t\tbuiltRelationJoin.selection.map(({ field }) =>\n\t// \t\t\t\t\tis(field, SQL.Aliased)\n\t// \t\t\t\t\t\t? sql`${sql.identifier(relationTableAlias)}.${sql.identifier(field.fieldAlias)}`\n\t// \t\t\t\t\t\t: is(field, Column)\n\t// \t\t\t\t\t\t? aliasedTableColumn(field, relationTableAlias)\n\t// \t\t\t\t\t\t: field\n\t// \t\t\t\t),\n\t// \t\t\t\tsql`, `,\n\t// \t\t\t)\n\t// \t\t})) over (partition by ${sql.join(distinct.on, sql`, `)}) end`.as(selectedRelationTsKey);\n\t// \t\tconst isLateralJoin = is(builtRelationJoin.sql, SQL);\n\t// \t\tjoins.push({\n\t// \t\t\ton: isLateralJoin ? sql`true` : joinOn,\n\t// \t\t\ttable: isLateralJoin\n\t// \t\t\t\t? new Subquery(builtRelationJoin.sql as SQL, {}, relationTableAlias)\n\t// \t\t\t\t: aliasedTable(builtRelationJoin.sql as PgTable, relationTableAlias),\n\t// \t\t\talias: relationTableAlias,\n\t// \t\t\tjoinType: 'left',\n\t// \t\t\tlateral: isLateralJoin,\n\t// \t\t});\n\n\t// \t\t// Build the \"from\" subquery with the remaining Many relations\n\t// \t\tconst builtTableFrom = this.buildRelationalQueryWithPK({\n\t// \t\t\tfullSchema,\n\t// \t\t\tschema,\n\t// \t\t\ttableNamesMap,\n\t// \t\t\ttable,\n\t// \t\t\ttableConfig,\n\t// \t\t\tqueryConfig: {\n\t// \t\t\t\t...config,\n\t// \t\t\t\twhere: undefined,\n\t// \t\t\t\torderBy: undefined,\n\t// \t\t\t\tlimit: undefined,\n\t// \t\t\t\toffset: undefined,\n\t// \t\t\t\twith: manyRelations.slice(1).reduce<NonNullable<typeof config['with']>>(\n\t// \t\t\t\t\t(result, { tsKey, queryConfig: configValue }) => {\n\t// \t\t\t\t\t\tresult[tsKey] = configValue;\n\t// \t\t\t\t\t\treturn result;\n\t// \t\t\t\t\t},\n\t// \t\t\t\t\t{},\n\t// \t\t\t\t),\n\t// \t\t\t},\n\t// \t\t\ttableAlias,\n\t// \t\t});\n\n\t// \t\tselectedRelations.push({\n\t// \t\t\tdbKey: selectedRelationTsKey,\n\t// \t\t\ttsKey: selectedRelationTsKey,\n\t// \t\t\tfield: builtRelationSelectionField,\n\t// \t\t\trelationTableTsKey: relationTableTsName,\n\t// \t\t\tisJson: true,\n\t// \t\t\tselection: builtRelationJoin.selection,\n\t// \t\t});\n\n\t// \t\t// selection = builtTableFrom.selection.map((item) =>\n\t// \t\t// \tis(item.field, SQL.Aliased)\n\t// \t\t// \t\t? { ...item, field: sql`${sql.identifier(tableAlias)}.${sql.identifier(item.field.fieldAlias)}` }\n\t// \t\t// \t\t: item\n\t// \t\t// );\n\t// \t\t// selectionForBuild = [{\n\t// \t\t// \tdbKey: '*',\n\t// \t\t// \ttsKey: '*',\n\t// \t\t// \tfield: sql`${sql.identifier(tableAlias)}.*`,\n\t// \t\t// \tselection: [],\n\t// \t\t// \tisJson: false,\n\t// \t\t// \trelationTableTsKey: undefined,\n\t// \t\t// }];\n\t// \t\t// const newSelectionItem: (typeof selection)[number] = {\n\t// \t\t// \tdbKey: selectedRelationTsKey,\n\t// \t\t// \ttsKey: selectedRelationTsKey,\n\t// \t\t// \tfield,\n\t// \t\t// \trelationTableTsKey: relationTableTsName,\n\t// \t\t// \tisJson: true,\n\t// \t\t// \tselection: builtRelationJoin.selection,\n\t// \t\t// };\n\t// \t\t// selection.push(newSelectionItem);\n\t// \t\t// selectionForBuild.push(newSelectionItem);\n\n\t// \t\ttableFrom = is(builtTableFrom.sql, PgTable)\n\t// \t\t\t? builtTableFrom.sql\n\t// \t\t\t: new Subquery(builtTableFrom.sql, {}, tableAlias);\n\t// \t}\n\n\t// \tif (selectedColumns.length === 0 && selectedRelations.length === 0 && selectedExtras.length === 0) {\n\t// \t\tthrow new DrizzleError(`No fields selected for table \"${tableConfig.tsName}\" (\"${tableAlias}\")`);\n\t// \t}\n\n\t// \tlet selection: BuildRelationalQueryResult<PgTable, PgColumn>['selection'];\n\n\t// \tfunction prepareSelectedColumns() {\n\t// \t\treturn selectedColumns.map((key) => ({\n\t// \t\t\tdbKey: tableConfig.columns[key]!.name,\n\t// \t\t\ttsKey: key,\n\t// \t\t\tfield: tableConfig.columns[key] as PgColumn,\n\t// \t\t\trelationTableTsKey: undefined,\n\t// \t\t\tisJson: false,\n\t// \t\t\tselection: [],\n\t// \t\t}));\n\t// \t}\n\n\t// \tfunction prepareSelectedExtras() {\n\t// \t\treturn selectedExtras.map((item) => ({\n\t// \t\t\tdbKey: item.value.fieldAlias,\n\t// \t\t\ttsKey: item.tsKey,\n\t// \t\t\tfield: item.value,\n\t// \t\t\trelationTableTsKey: undefined,\n\t// \t\t\tisJson: false,\n\t// \t\t\tselection: [],\n\t// \t\t}));\n\t// \t}\n\n\t// \tif (isRoot) {\n\t// \t\tselection = [\n\t// \t\t\t...prepareSelectedColumns(),\n\t// \t\t\t...prepareSelectedExtras(),\n\t// \t\t];\n\t// \t}\n\n\t// \tif (hasUserDefinedWhere || orderBy.length > 0) {\n\t// \t\ttableFrom = new Subquery(\n\t// \t\t\tthis.buildSelectQuery({\n\t// \t\t\t\ttable: is(tableFrom, PgTable) ? aliasedTable(tableFrom, tableAlias) : tableFrom,\n\t// \t\t\t\tfields: {},\n\t// \t\t\t\tfieldsFlat: selectionForBuild.map(({ field }) => ({\n\t// \t\t\t\t\tpath: [],\n\t// \t\t\t\t\tfield: is(field, Column) ? aliasedTableColumn(field, tableAlias) : field,\n\t// \t\t\t\t})),\n\t// \t\t\t\tjoins,\n\t// \t\t\t\tdistinct,\n\t// \t\t\t}),\n\t// \t\t\t{},\n\t// \t\t\ttableAlias,\n\t// \t\t);\n\t// \t\tselectionForBuild = selection.map((item) =>\n\t// \t\t\tis(item.field, SQL.Aliased)\n\t// \t\t\t\t? { ...item, field: sql`${sql.identifier(tableAlias)}.${sql.identifier(item.field.fieldAlias)}` }\n\t// \t\t\t\t: item\n\t// \t\t);\n\t// \t\tjoins = [];\n\t// \t\tdistinct = undefined;\n\t// \t}\n\n\t// \tconst result = this.buildSelectQuery({\n\t// \t\ttable: is(tableFrom, PgTable) ? aliasedTable(tableFrom, tableAlias) : tableFrom,\n\t// \t\tfields: {},\n\t// \t\tfieldsFlat: selectionForBuild.map(({ field }) => ({\n\t// \t\t\tpath: [],\n\t// \t\t\tfield: is(field, Column) ? aliasedTableColumn(field, tableAlias) : field,\n\t// \t\t})),\n\t// \t\twhere,\n\t// \t\tlimit,\n\t// \t\toffset,\n\t// \t\tjoins,\n\t// \t\torderBy,\n\t// \t\tdistinct,\n\t// \t});\n\n\t// \treturn {\n\t// \t\ttableTsKey: tableConfig.tsName,\n\t// \t\tsql: result,\n\t// \t\tselection,\n\t// \t};\n\t// }\n\n\tbuildRelationalQueryWithoutPK({\n\t\tfullSchema,\n\t\tschema,\n\t\ttableNamesMap,\n\t\ttable,\n\t\ttableConfig,\n\t\tqueryConfig: config,\n\t\ttableAlias,\n\t\tnestedQueryRelation,\n\t\tjoinOn,\n\t}: {\n\t\tfullSchema: Record<string, unknown>;\n\t\tschema: TablesRelationalConfig;\n\t\ttableNamesMap: Record<string, string>;\n\t\ttable: PgTable;\n\t\ttableConfig: TableRelationalConfig;\n\t\tqueryConfig: true | DBQueryConfig<'many', true>;\n\t\ttableAlias: string;\n\t\tnestedQueryRelation?: Relation;\n\t\tjoinOn?: SQL;\n\t}): BuildRelationalQueryResult<PgTable, PgColumn> {\n\t\tlet selection: BuildRelationalQueryResult<PgTable, PgColumn>['selection'] = [];\n\t\tlet limit, offset, orderBy: NonNullable<PgSelectConfig['orderBy']> = [], where;\n\t\tconst joins: PgSelectJoinConfig[] = [];\n\n\t\tif (config === true) {\n\t\t\tconst selectionEntries = Object.entries(tableConfig.columns);\n\t\t\tselection = selectionEntries.map((\n\t\t\t\t[key, value],\n\t\t\t) => ({\n\t\t\t\tdbKey: value.name,\n\t\t\t\ttsKey: key,\n\t\t\t\tfield: aliasedTableColumn(value as PgColumn, tableAlias),\n\t\t\t\trelationTableTsKey: undefined,\n\t\t\t\tisJson: false,\n\t\t\t\tselection: [],\n\t\t\t}));\n\t\t} else {\n\t\t\tconst aliasedColumns = Object.fromEntries(\n\t\t\t\tObject.entries(tableConfig.columns).map((\n\t\t\t\t\t[key, value],\n\t\t\t\t) => [key, aliasedTableColumn(value, tableAlias)]),\n\t\t\t);\n\n\t\t\tif (config.where) {\n\t\t\t\tconst whereSql = typeof config.where === 'function'\n\t\t\t\t\t? config.where(aliasedColumns, getOperators())\n\t\t\t\t\t: config.where;\n\t\t\t\twhere = whereSql && mapColumnsInSQLToAlias(whereSql, tableAlias);\n\t\t\t}\n\n\t\t\tconst fieldsSelection: { tsKey: string; value: PgColumn | SQL.Aliased }[] = [];\n\t\t\tlet selectedColumns: string[] = [];\n\n\t\t\t// Figure out which columns to select\n\t\t\tif (config.columns) {\n\t\t\t\tlet isIncludeMode = false;\n\n\t\t\t\tfor (const [field, value] of Object.entries(config.columns)) {\n\t\t\t\t\tif (value === undefined) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (field in tableConfig.columns) {\n\t\t\t\t\t\tif (!isIncludeMode && value === true) {\n\t\t\t\t\t\t\tisIncludeMode = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tselectedColumns.push(field);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (selectedColumns.length > 0) {\n\t\t\t\t\tselectedColumns = isIncludeMode\n\t\t\t\t\t\t? selectedColumns.filter((c) => config.columns?.[c] === true)\n\t\t\t\t\t\t: Object.keys(tableConfig.columns).filter((key) => !selectedColumns.includes(key));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Select all columns if selection is not specified\n\t\t\t\tselectedColumns = Object.keys(tableConfig.columns);\n\t\t\t}\n\n\t\t\tfor (const field of selectedColumns) {\n\t\t\t\tconst column = tableConfig.columns[field]! as PgColumn;\n\t\t\t\tfieldsSelection.push({ tsKey: field, value: column });\n\t\t\t}\n\n\t\t\tlet selectedRelations: {\n\t\t\t\ttsKey: string;\n\t\t\t\tqueryConfig: true | DBQueryConfig<'many', false>;\n\t\t\t\trelation: Relation;\n\t\t\t}[] = [];\n\n\t\t\t// Figure out which relations to select\n\t\t\tif (config.with) {\n\t\t\t\tselectedRelations = Object.entries(config.with)\n\t\t\t\t\t.filter((entry): entry is [typeof entry[0], NonNullable<typeof entry[1]>] => !!entry[1])\n\t\t\t\t\t.map(([tsKey, queryConfig]) => ({ tsKey, queryConfig, relation: tableConfig.relations[tsKey]! }));\n\t\t\t}\n\n\t\t\tlet extras;\n\n\t\t\t// Figure out which extras to select\n\t\t\tif (config.extras) {\n\t\t\t\textras = typeof config.extras === 'function'\n\t\t\t\t\t? config.extras(aliasedColumns, { sql })\n\t\t\t\t\t: config.extras;\n\t\t\t\tfor (const [tsKey, value] of Object.entries(extras)) {\n\t\t\t\t\tfieldsSelection.push({\n\t\t\t\t\t\ttsKey,\n\t\t\t\t\t\tvalue: mapColumnsInAliasedSQLToAlias(value, tableAlias),\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Transform `fieldsSelection` into `selection`\n\t\t\t// `fieldsSelection` shouldn't be used after this point\n\t\t\tfor (const { tsKey, value } of fieldsSelection) {\n\t\t\t\tselection.push({\n\t\t\t\t\tdbKey: is(value, SQL.Aliased) ? value.fieldAlias : tableConfig.columns[tsKey]!.name,\n\t\t\t\t\ttsKey,\n\t\t\t\t\tfield: is(value, Column) ? aliasedTableColumn(value, tableAlias) : value,\n\t\t\t\t\trelationTableTsKey: undefined,\n\t\t\t\t\tisJson: false,\n\t\t\t\t\tselection: [],\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tlet orderByOrig = typeof config.orderBy === 'function'\n\t\t\t\t? config.orderBy(aliasedColumns, getOrderByOperators())\n\t\t\t\t: config.orderBy ?? [];\n\t\t\tif (!Array.isArray(orderByOrig)) {\n\t\t\t\torderByOrig = [orderByOrig];\n\t\t\t}\n\t\t\torderBy = orderByOrig.map((orderByValue) => {\n\t\t\t\tif (is(orderByValue, Column)) {\n\t\t\t\t\treturn aliasedTableColumn(orderByValue, tableAlias) as PgColumn;\n\t\t\t\t}\n\t\t\t\treturn mapColumnsInSQLToAlias(orderByValue, tableAlias);\n\t\t\t});\n\n\t\t\tlimit = config.limit;\n\t\t\toffset = config.offset;\n\n\t\t\t// Process all relations\n\t\t\tfor (\n\t\t\t\tconst {\n\t\t\t\t\ttsKey: selectedRelationTsKey,\n\t\t\t\t\tqueryConfig: selectedRelationConfigValue,\n\t\t\t\t\trelation,\n\t\t\t\t} of selectedRelations\n\t\t\t) {\n\t\t\t\tconst normalizedRelation = normalizeRelation(schema, tableNamesMap, relation);\n\t\t\t\tconst relationTableName = getTableUniqueName(relation.referencedTable);\n\t\t\t\tconst relationTableTsName = tableNamesMap[relationTableName]!;\n\t\t\t\tconst relationTableAlias = `${tableAlias}_${selectedRelationTsKey}`;\n\t\t\t\tconst joinOn = and(\n\t\t\t\t\t...normalizedRelation.fields.map((field, i) =>\n\t\t\t\t\t\teq(\n\t\t\t\t\t\t\taliasedTableColumn(normalizedRelation.references[i]!, relationTableAlias),\n\t\t\t\t\t\t\taliasedTableColumn(field, tableAlias),\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t);\n\t\t\t\tconst builtRelation = this.buildRelationalQueryWithoutPK({\n\t\t\t\t\tfullSchema,\n\t\t\t\t\tschema,\n\t\t\t\t\ttableNamesMap,\n\t\t\t\t\ttable: fullSchema[relationTableTsName] as PgTable,\n\t\t\t\t\ttableConfig: schema[relationTableTsName]!,\n\t\t\t\t\tqueryConfig: is(relation, One)\n\t\t\t\t\t\t? (selectedRelationConfigValue === true\n\t\t\t\t\t\t\t? { limit: 1 }\n\t\t\t\t\t\t\t: { ...selectedRelationConfigValue, limit: 1 })\n\t\t\t\t\t\t: selectedRelationConfigValue,\n\t\t\t\t\ttableAlias: relationTableAlias,\n\t\t\t\t\tjoinOn,\n\t\t\t\t\tnestedQueryRelation: relation,\n\t\t\t\t});\n\t\t\t\tconst field = sql`${sql.identifier(relationTableAlias)}.${sql.identifier('data')}`.as(selectedRelationTsKey);\n\t\t\t\tjoins.push({\n\t\t\t\t\ton: sql`true`,\n\t\t\t\t\ttable: new Subquery(builtRelation.sql as SQL, {}, relationTableAlias),\n\t\t\t\t\talias: relationTableAlias,\n\t\t\t\t\tjoinType: 'left',\n\t\t\t\t\tlateral: true,\n\t\t\t\t});\n\t\t\t\tselection.push({\n\t\t\t\t\tdbKey: selectedRelationTsKey,\n\t\t\t\t\ttsKey: selectedRelationTsKey,\n\t\t\t\t\tfield,\n\t\t\t\t\trelationTableTsKey: relationTableTsName,\n\t\t\t\t\tisJson: true,\n\t\t\t\t\tselection: builtRelation.selection,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif (selection.length === 0) {\n\t\t\tthrow new DrizzleError({ message: `No fields selected for table \"${tableConfig.tsName}\" (\"${tableAlias}\")` });\n\t\t}\n\n\t\tlet result;\n\n\t\twhere = and(joinOn, where);\n\n\t\tif (nestedQueryRelation) {\n\t\t\tlet field = sql`json_build_array(${\n\t\t\t\tsql.join(\n\t\t\t\t\tselection.map(({ field, tsKey, isJson }) =>\n\t\t\t\t\t\tisJson\n\t\t\t\t\t\t\t? sql`${sql.identifier(`${tableAlias}_${tsKey}`)}.${sql.identifier('data')}`\n\t\t\t\t\t\t\t: is(field, SQL.Aliased)\n\t\t\t\t\t\t\t? field.sql\n\t\t\t\t\t\t\t: field\n\t\t\t\t\t),\n\t\t\t\t\tsql`, `,\n\t\t\t\t)\n\t\t\t})`;\n\t\t\tif (is(nestedQueryRelation, Many)) {\n\t\t\t\tfield = sql`coalesce(json_agg(${field}${\n\t\t\t\t\torderBy.length > 0 ? sql` order by ${sql.join(orderBy, sql`, `)}` : undefined\n\t\t\t\t}), '[]'::json)`;\n\t\t\t\t// orderBy = [];\n\t\t\t}\n\t\t\tconst nestedSelection = [{\n\t\t\t\tdbKey: 'data',\n\t\t\t\ttsKey: 'data',\n\t\t\t\tfield: field.as('data'),\n\t\t\t\tisJson: true,\n\t\t\t\trelationTableTsKey: tableConfig.tsName,\n\t\t\t\tselection,\n\t\t\t}];\n\n\t\t\tconst needsSubquery = limit !== undefined || offset !== undefined || orderBy.length > 0;\n\n\t\t\tif (needsSubquery) {\n\t\t\t\tresult = this.buildSelectQuery({\n\t\t\t\t\ttable: aliasedTable(table, tableAlias),\n\t\t\t\t\tfields: {},\n\t\t\t\t\tfieldsFlat: [{\n\t\t\t\t\t\tpath: [],\n\t\t\t\t\t\tfield: sql.raw('*'),\n\t\t\t\t\t}],\n\t\t\t\t\twhere,\n\t\t\t\t\tlimit,\n\t\t\t\t\toffset,\n\t\t\t\t\torderBy,\n\t\t\t\t\tsetOperators: [],\n\t\t\t\t});\n\n\t\t\t\twhere = undefined;\n\t\t\t\tlimit = undefined;\n\t\t\t\toffset = undefined;\n\t\t\t\torderBy = [];\n\t\t\t} else {\n\t\t\t\tresult = aliasedTable(table, tableAlias);\n\t\t\t}\n\n\t\t\tresult = this.buildSelectQuery({\n\t\t\t\ttable: is(result, PgTable) ? result : new Subquery(result, {}, tableAlias),\n\t\t\t\tfields: {},\n\t\t\t\tfieldsFlat: nestedSelection.map(({ field }) => ({\n\t\t\t\t\tpath: [],\n\t\t\t\t\tfield: is(field, Column) ? aliasedTableColumn(field, tableAlias) : field,\n\t\t\t\t})),\n\t\t\t\tjoins,\n\t\t\t\twhere,\n\t\t\t\tlimit,\n\t\t\t\toffset,\n\t\t\t\torderBy,\n\t\t\t\tsetOperators: [],\n\t\t\t});\n\t\t} else {\n\t\t\tresult = this.buildSelectQuery({\n\t\t\t\ttable: aliasedTable(table, tableAlias),\n\t\t\t\tfields: {},\n\t\t\t\tfieldsFlat: selection.map(({ field }) => ({\n\t\t\t\t\tpath: [],\n\t\t\t\t\tfield: is(field, Column) ? aliasedTableColumn(field, tableAlias) : field,\n\t\t\t\t})),\n\t\t\t\tjoins,\n\t\t\t\twhere,\n\t\t\t\tlimit,\n\t\t\t\toffset,\n\t\t\t\torderBy,\n\t\t\t\tsetOperators: [],\n\t\t\t});\n\t\t}\n\n\t\treturn {\n\t\t\ttableTsKey: tableConfig.tsName,\n\t\t\tsql: result,\n\t\t\tselection,\n\t\t};\n\t}\n}\n", "import type { Column } from '~/column.ts';\nimport { entityKind } from './entity.ts';\nimport { Table } from './table.ts';\nimport type { Casing } from './utils.ts';\n\nexport function toSnakeCase(input: string) {\n\tconst words = input\n\t\t.replace(/['\\u2019]/g, '')\n\t\t.match(/[\\da-z]+|[A-Z]+(?![a-z])|[A-Z][\\da-z]+/g) ?? [];\n\n\treturn words.map((word) => word.toLowerCase()).join('_');\n}\n\nexport function toCamelCase(input: string) {\n\tconst words = input\n\t\t.replace(/['\\u2019]/g, '')\n\t\t.match(/[\\da-z]+|[A-Z]+(?![a-z])|[A-Z][\\da-z]+/g) ?? [];\n\n\treturn words.reduce((acc, word, i) => {\n\t\tconst formattedWord = i === 0 ? word.toLowerCase() : `${word[0]!.toUpperCase()}${word.slice(1)}`;\n\t\treturn acc + formattedWord;\n\t}, '');\n}\n\nfunction noopCase(input: string) {\n\treturn input;\n}\n\nexport class CasingCache {\n\tstatic readonly [entityKind]: string = 'CasingCache';\n\n\t/** @internal */\n\tcache: Record<string, string> = {};\n\tprivate cachedTables: Record<string, true> = {};\n\tprivate convert: (input: string) => string;\n\n\tconstructor(casing?: Casing) {\n\t\tthis.convert = casing === 'snake_case'\n\t\t\t? toSnakeCase\n\t\t\t: casing === 'camelCase'\n\t\t\t? toCamelCase\n\t\t\t: noopCase;\n\t}\n\n\tgetColumnCasing(column: Column): string {\n\t\tif (!column.keyAsName) return column.name;\n\n\t\tconst schema = column.table[Table.Symbol.Schema] ?? 'public';\n\t\tconst tableName = column.table[Table.Symbol.OriginalName];\n\t\tconst key = `${schema}.${tableName}.${column.name}`;\n\n\t\tif (!this.cache[key]) {\n\t\t\tthis.cacheTable(column.table);\n\t\t}\n\t\treturn this.cache[key]!;\n\t}\n\n\tprivate cacheTable(table: Table) {\n\t\tconst schema = table[Table.Symbol.Schema] ?? 'public';\n\t\tconst tableName = table[Table.Symbol.OriginalName];\n\t\tconst tableKey = `${schema}.${tableName}`;\n\n\t\tif (!this.cachedTables[tableKey]) {\n\t\t\tfor (const column of Object.values(table[Table.Symbol.Columns])) {\n\t\t\t\tconst columnKey = `${tableKey}.${column.name}`;\n\t\t\t\tthis.cache[columnKey] = this.convert(column.name);\n\t\t\t}\n\t\t\tthis.cachedTables[tableKey] = true;\n\t\t}\n\t}\n\n\tclearCache() {\n\t\tthis.cache = {};\n\t\tthis.cachedTables = {};\n\t}\n}\n", "import { entityKind } from '~/entity.ts';\nimport { type ColumnsSelection, View } from '~/sql/sql.ts';\n\nexport abstract class PgViewBase<\n\tTName extends string = string,\n\tTExisting extends boolean = boolean,\n\tTSelectedFields extends ColumnsSelection = ColumnsSelection,\n> extends View<TName, TExisting, TSelectedFields> {\n\tstatic override readonly [entityKind]: string = 'PgViewBase';\n\n\tdeclare readonly _: View<TName, TExisting, TSelectedFields>['_'] & {\n\t\treadonly viewBrand: 'PgViewBase';\n\t};\n}\n", "import type { CacheConfig, WithCacheConfig } from '~/cache/core/types.ts';\nimport { entityKind, is } from '~/entity.ts';\nimport type { PgColumn } from '~/pg-core/columns/index.ts';\nimport type { PgDialect } from '~/pg-core/dialect.ts';\nimport type { PgSession, PreparedQueryConfig } from '~/pg-core/session.ts';\nimport type { SubqueryWithSelection } from '~/pg-core/subquery.ts';\nimport type { PgTable } from '~/pg-core/table.ts';\nimport { PgViewBase } from '~/pg-core/view-base.ts';\nimport { TypedQueryBuilder } from '~/query-builders/query-builder.ts';\nimport type {\n\tBuildSubquerySelection,\n\tGetSelectTableName,\n\tGetSelectTableSelection,\n\tJoinNullability,\n\tJoinType,\n\tSelectMode,\n\tSelectResult,\n\tSetOperator,\n} from '~/query-builders/select.types.ts';\nimport { QueryPromise } from '~/query-promise.ts';\nimport type { RunnableQuery } from '~/runnable-query.ts';\nimport { SelectionProxyHandler } from '~/selection-proxy.ts';\nimport { SQL, View } from '~/sql/sql.ts';\nimport type { ColumnsSelection, Placeholder, Query, SQLWrapper } from '~/sql/sql.ts';\nimport { Subquery } from '~/subquery.ts';\nimport { Table } from '~/table.ts';\nimport { tracer } from '~/tracing.ts';\nimport {\n\tapplyMixins,\n\ttype DrizzleTypeError,\n\tgetTableColumns,\n\tgetTableLikeName,\n\thaveSameKeys,\n\ttype NeonAuthToken,\n\ttype ValueOrArray,\n} from '~/utils.ts';\nimport { orderSelectedFields } from '~/utils.ts';\nimport { ViewBaseConfig } from '~/view-common.ts';\nimport { extractUsedTable } from '../utils.ts';\nimport type {\n\tAnyPgSelect,\n\tCreatePgSelectFromBuilderMode,\n\tGetPgSetOperators,\n\tLockConfig,\n\tLockStrength,\n\tPgCreateSetOperatorFn,\n\tPgSelectConfig,\n\tPgSelectCrossJoinFn,\n\tPgSelectDynamic,\n\tPgSelectHKT,\n\tPgSelectHKTBase,\n\tPgSelectJoinFn,\n\tPgSelectPrepare,\n\tPgSelectWithout,\n\tPgSetOperatorExcludedMethods,\n\tPgSetOperatorWithResult,\n\tSelectedFields,\n\tSetOperatorRightSelect,\n\tTableLikeHasEmptySelection,\n} from './select.types.ts';\n\nexport class PgSelectBuilder<\n\tTSelection extends SelectedFields | undefined,\n\tTBuilderMode extends 'db' | 'qb' = 'db',\n> {\n\tstatic readonly [entityKind]: string = 'PgSelectBuilder';\n\n\tprivate fields: TSelection;\n\tprivate session: PgSession | undefined;\n\tprivate dialect: PgDialect;\n\tprivate withList: Subquery[] = [];\n\tprivate distinct: boolean | {\n\t\ton: (PgColumn | SQLWrapper)[];\n\t} | undefined;\n\n\tconstructor(\n\t\tconfig: {\n\t\t\tfields: TSelection;\n\t\t\tsession: PgSession | undefined;\n\t\t\tdialect: PgDialect;\n\t\t\twithList?: Subquery[];\n\t\t\tdistinct?: boolean | {\n\t\t\t\ton: (PgColumn | SQLWrapper)[];\n\t\t\t};\n\t\t},\n\t) {\n\t\tthis.fields = config.fields;\n\t\tthis.session = config.session;\n\t\tthis.dialect = config.dialect;\n\t\tif (config.withList) {\n\t\t\tthis.withList = config.withList;\n\t\t}\n\t\tthis.distinct = config.distinct;\n\t}\n\n\tprivate authToken?: NeonAuthToken;\n\t/** @internal */\n\tsetToken(token?: NeonAuthToken) {\n\t\tthis.authToken = token;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Specify the table, subquery, or other target that you're\n\t * building a select query against.\n\t *\n\t * {@link https://www.postgresql.org/docs/current/sql-select.html#SQL-FROM | Postgres from documentation}\n\t */\n\tfrom<TFrom extends PgTable | Subquery | PgViewBase | SQL>(\n\t\tsource: TableLikeHasEmptySelection<TFrom> extends true ? DrizzleTypeError<\n\t\t\t\t\"Cannot reference a data-modifying statement subquery if it doesn't contain a `returning` clause\"\n\t\t\t>\n\t\t\t: TFrom,\n\t): CreatePgSelectFromBuilderMode<\n\t\tTBuilderMode,\n\t\tGetSelectTableName<TFrom>,\n\t\tTSelection extends undefined ? GetSelectTableSelection<TFrom> : TSelection,\n\t\tTSelection extends undefined ? 'single' : 'partial'\n\t> {\n\t\tconst isPartialSelect = !!this.fields;\n\t\tconst src = source as TFrom;\n\n\t\tlet fields: SelectedFields;\n\t\tif (this.fields) {\n\t\t\tfields = this.fields;\n\t\t} else if (is(src, Subquery)) {\n\t\t\t// This is required to use the proxy handler to get the correct field values from the subquery\n\t\t\tfields = Object.fromEntries(\n\t\t\t\tObject.keys(src._.selectedFields).map((\n\t\t\t\t\tkey,\n\t\t\t\t) => [key, src[key as unknown as keyof typeof src] as unknown as SelectedFields[string]]),\n\t\t\t);\n\t\t} else if (is(src, PgViewBase)) {\n\t\t\tfields = src[ViewBaseConfig].selectedFields as SelectedFields;\n\t\t} else if (is(src, SQL)) {\n\t\t\tfields = {};\n\t\t} else {\n\t\t\tfields = getTableColumns<PgTable>(src);\n\t\t}\n\n\t\treturn (new PgSelectBase({\n\t\t\ttable: src,\n\t\t\tfields,\n\t\t\tisPartialSelect,\n\t\t\tsession: this.session,\n\t\t\tdialect: this.dialect,\n\t\t\twithList: this.withList,\n\t\t\tdistinct: this.distinct,\n\t\t}).setToken(this.authToken)) as any;\n\t}\n}\n\nexport abstract class PgSelectQueryBuilderBase<\n\tTHKT extends PgSelectHKTBase,\n\tTTableName extends string | undefined,\n\tTSelection extends ColumnsSelection,\n\tTSelectMode extends SelectMode,\n\tTNullabilityMap extends Record<string, JoinNullability> = TTableName extends string ? Record<TTableName, 'not-null'>\n\t\t: {},\n\tTDynamic extends boolean = false,\n\tTExcludedMethods extends string = never,\n\tTResult extends any[] = SelectResult<TSelection, TSelectMode, TNullabilityMap>[],\n\tTSelectedFields extends ColumnsSelection = BuildSubquerySelection<TSelection, TNullabilityMap>,\n> extends TypedQueryBuilder<TSelectedFields, TResult> {\n\tstatic override readonly [entityKind]: string = 'PgSelectQueryBuilder';\n\n\toverride readonly _: {\n\t\treadonly dialect: 'pg';\n\t\treadonly hkt: THKT;\n\t\treadonly tableName: TTableName;\n\t\treadonly selection: TSelection;\n\t\treadonly selectMode: TSelectMode;\n\t\treadonly nullabilityMap: TNullabilityMap;\n\t\treadonly dynamic: TDynamic;\n\t\treadonly excludedMethods: TExcludedMethods;\n\t\treadonly result: TResult;\n\t\treadonly selectedFields: TSelectedFields;\n\t\treadonly config: PgSelectConfig;\n\t};\n\n\tprotected config: PgSelectConfig;\n\tprotected joinsNotNullableMap: Record<string, boolean>;\n\tprotected tableName: string | undefined;\n\tprivate isPartialSelect: boolean;\n\tprotected session: PgSession | undefined;\n\tprotected dialect: PgDialect;\n\tprotected cacheConfig?: WithCacheConfig = undefined;\n\tprotected usedTables: Set<string> = new Set();\n\n\tconstructor(\n\t\t{ table, fields, isPartialSelect, session, dialect, withList, distinct }: {\n\t\t\ttable: PgSelectConfig['table'];\n\t\t\tfields: PgSelectConfig['fields'];\n\t\t\tisPartialSelect: boolean;\n\t\t\tsession: PgSession | undefined;\n\t\t\tdialect: PgDialect;\n\t\t\twithList: Subquery[];\n\t\t\tdistinct: boolean | {\n\t\t\t\ton: (PgColumn | SQLWrapper)[];\n\t\t\t} | undefined;\n\t\t},\n\t) {\n\t\tsuper();\n\t\tthis.config = {\n\t\t\twithList,\n\t\t\ttable,\n\t\t\tfields: { ...fields },\n\t\t\tdistinct,\n\t\t\tsetOperators: [],\n\t\t};\n\t\tthis.isPartialSelect = isPartialSelect;\n\t\tthis.session = session;\n\t\tthis.dialect = dialect;\n\t\tthis._ = {\n\t\t\tselectedFields: fields as TSelectedFields,\n\t\t\tconfig: this.config,\n\t\t} as this['_'];\n\t\tthis.tableName = getTableLikeName(table);\n\t\tthis.joinsNotNullableMap = typeof this.tableName === 'string' ? { [this.tableName]: true } : {};\n\n\t\tfor (const item of extractUsedTable(table)) this.usedTables.add(item);\n\t}\n\n\t/** @internal */\n\tgetUsedTables() {\n\t\treturn [...this.usedTables];\n\t}\n\n\tprivate createJoin<\n\t\tTJoinType extends JoinType,\n\t\tTIsLateral extends (TJoinType extends 'full' | 'right' ? false : boolean),\n\t>(\n\t\tjoinType: TJoinType,\n\t\tlateral: TIsLateral,\n\t): 'cross' extends TJoinType ? PgSelectCrossJoinFn<this, TDynamic, TIsLateral>\n\t\t: PgSelectJoinFn<this, TDynamic, TJoinType, TIsLateral>\n\t{\n\t\treturn ((\n\t\t\ttable: TIsLateral extends true ? Subquery | SQL : PgTable | Subquery | PgViewBase | SQL,\n\t\t\ton?: ((aliases: TSelection) => SQL | undefined) | SQL | undefined,\n\t\t) => {\n\t\t\tconst baseTableName = this.tableName;\n\t\t\tconst tableName = getTableLikeName(table);\n\n\t\t\t// store all tables used in a query\n\t\t\tfor (const item of extractUsedTable(table)) this.usedTables.add(item);\n\n\t\t\tif (typeof tableName === 'string' && this.config.joins?.some((join) => join.alias === tableName)) {\n\t\t\t\tthrow new Error(`Alias \"${tableName}\" is already used in this query`);\n\t\t\t}\n\n\t\t\tif (!this.isPartialSelect) {\n\t\t\t\t// If this is the first join and this is not a partial select and we're not selecting from raw SQL, \"move\" the fields from the main table to the nested object\n\t\t\t\tif (Object.keys(this.joinsNotNullableMap).length === 1 && typeof baseTableName === 'string') {\n\t\t\t\t\tthis.config.fields = {\n\t\t\t\t\t\t[baseTableName]: this.config.fields,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif (typeof tableName === 'string' && !is(table, SQL)) {\n\t\t\t\t\tconst selection = is(table, Subquery)\n\t\t\t\t\t\t? table._.selectedFields\n\t\t\t\t\t\t: is(table, View)\n\t\t\t\t\t\t? table[ViewBaseConfig].selectedFields\n\t\t\t\t\t\t: table[Table.Symbol.Columns];\n\t\t\t\t\tthis.config.fields[tableName] = selection;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (typeof on === 'function') {\n\t\t\t\ton = on(\n\t\t\t\t\tnew Proxy(\n\t\t\t\t\t\tthis.config.fields,\n\t\t\t\t\t\tnew SelectionProxyHandler({ sqlAliasedBehavior: 'sql', sqlBehavior: 'sql' }),\n\t\t\t\t\t) as TSelection,\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (!this.config.joins) {\n\t\t\t\tthis.config.joins = [];\n\t\t\t}\n\n\t\t\tthis.config.joins.push({ on, table, joinType, alias: tableName, lateral });\n\n\t\t\tif (typeof tableName === 'string') {\n\t\t\t\tswitch (joinType) {\n\t\t\t\t\tcase 'left': {\n\t\t\t\t\t\tthis.joinsNotNullableMap[tableName] = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcase 'right': {\n\t\t\t\t\t\tthis.joinsNotNullableMap = Object.fromEntries(\n\t\t\t\t\t\t\tObject.entries(this.joinsNotNullableMap).map(([key]) => [key, false]),\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthis.joinsNotNullableMap[tableName] = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcase 'cross':\n\t\t\t\t\tcase 'inner': {\n\t\t\t\t\t\tthis.joinsNotNullableMap[tableName] = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcase 'full': {\n\t\t\t\t\t\tthis.joinsNotNullableMap = Object.fromEntries(\n\t\t\t\t\t\t\tObject.entries(this.joinsNotNullableMap).map(([key]) => [key, false]),\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthis.joinsNotNullableMap[tableName] = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this as any;\n\t\t}) as any;\n\t}\n\n\t/**\n\t * Executes a `left join` operation by adding another table to the current query.\n\t *\n\t * Calling this method associates each row of the table with the corresponding row from the joined table, if a match is found. If no matching row exists, it sets all columns of the joined table to null.\n\t *\n\t * See docs: {@link https://orm.drizzle.team/docs/joins#left-join}\n\t *\n\t * @param table the table to join.\n\t * @param on the `on` clause.\n\t *\n\t * @example\n\t *\n\t * ```ts\n\t * // Select all users and their pets\n\t * const usersWithPets: { user: User; pets: Pet | null; }[] = await db.select()\n\t *   .from(users)\n\t *   .leftJoin(pets, eq(users.id, pets.ownerId))\n\t *\n\t * // Select userId and petId\n\t * const usersIdsAndPetIds: { userId: number; petId: number | null; }[] = await db.select({\n\t *   userId: users.id,\n\t *   petId: pets.id,\n\t * })\n\t *   .from(users)\n\t *   .leftJoin(pets, eq(users.id, pets.ownerId))\n\t * ```\n\t */\n\tleftJoin = this.createJoin('left', false);\n\n\t/**\n\t * Executes a `left join lateral` operation by adding subquery to the current query.\n\t *\n\t * A `lateral` join allows the right-hand expression to refer to columns from the left-hand side.\n\t *\n\t * Calling this method associates each row of the table with the corresponding row from the joined table, if a match is found. If no matching row exists, it sets all columns of the joined table to null.\n\t *\n\t * See docs: {@link https://orm.drizzle.team/docs/joins#left-join-lateral}\n\t *\n\t * @param table the subquery to join.\n\t * @param on the `on` clause.\n\t */\n\tleftJoinLateral = this.createJoin('left', true);\n\n\t/**\n\t * Executes a `right join` operation by adding another table to the current query.\n\t *\n\t * Calling this method associates each row of the joined table with the corresponding row from the main table, if a match is found. If no matching row exists, it sets all columns of the main table to null.\n\t *\n\t * See docs: {@link https://orm.drizzle.team/docs/joins#right-join}\n\t *\n\t * @param table the table to join.\n\t * @param on the `on` clause.\n\t *\n\t * @example\n\t *\n\t * ```ts\n\t * // Select all users and their pets\n\t * const usersWithPets: { user: User | null; pets: Pet; }[] = await db.select()\n\t *   .from(users)\n\t *   .rightJoin(pets, eq(users.id, pets.ownerId))\n\t *\n\t * // Select userId and petId\n\t * const usersIdsAndPetIds: { userId: number | null; petId: number; }[] = await db.select({\n\t *   userId: users.id,\n\t *   petId: pets.id,\n\t * })\n\t *   .from(users)\n\t *   .rightJoin(pets, eq(users.id, pets.ownerId))\n\t * ```\n\t */\n\trightJoin = this.createJoin('right', false);\n\n\t/**\n\t * Executes an `inner join` operation, creating a new table by combining rows from two tables that have matching values.\n\t *\n\t * Calling this method retrieves rows that have corresponding entries in both joined tables. Rows without matching entries in either table are excluded, resulting in a table that includes only matching pairs.\n\t *\n\t * See docs: {@link https://orm.drizzle.team/docs/joins#inner-join}\n\t *\n\t * @param table the table to join.\n\t * @param on the `on` clause.\n\t *\n\t * @example\n\t *\n\t * ```ts\n\t * // Select all users and their pets\n\t * const usersWithPets: { user: User; pets: Pet; }[] = await db.select()\n\t *   .from(users)\n\t *   .innerJoin(pets, eq(users.id, pets.ownerId))\n\t *\n\t * // Select userId and petId\n\t * const usersIdsAndPetIds: { userId: number; petId: number; }[] = await db.select({\n\t *   userId: users.id,\n\t *   petId: pets.id,\n\t * })\n\t *   .from(users)\n\t *   .innerJoin(pets, eq(users.id, pets.ownerId))\n\t * ```\n\t */\n\tinnerJoin = this.createJoin('inner', false);\n\n\t/**\n\t * Executes an `inner join lateral` operation, creating a new table by combining rows from two queries that have matching values.\n\t *\n\t * A `lateral` join allows the right-hand expression to refer to columns from the left-hand side.\n\t *\n\t * Calling this method retrieves rows that have corresponding entries in both joined tables. Rows without matching entries in either table are excluded, resulting in a table that includes only matching pairs.\n\t *\n\t * See docs: {@link https://orm.drizzle.team/docs/joins#inner-join-lateral}\n\t *\n\t * @param table the subquery to join.\n\t * @param on the `on` clause.\n\t */\n\tinnerJoinLateral = this.createJoin('inner', true);\n\n\t/**\n\t * Executes a `full join` operation by combining rows from two tables into a new table.\n\t *\n\t * Calling this method retrieves all rows from both main and joined tables, merging rows with matching values and filling in `null` for non-matching columns.\n\t *\n\t * See docs: {@link https://orm.drizzle.team/docs/joins#full-join}\n\t *\n\t * @param table the table to join.\n\t * @param on the `on` clause.\n\t *\n\t * @example\n\t *\n\t * ```ts\n\t * // Select all users and their pets\n\t * const usersWithPets: { user: User | null; pets: Pet | null; }[] = await db.select()\n\t *   .from(users)\n\t *   .fullJoin(pets, eq(users.id, pets.ownerId))\n\t *\n\t * // Select userId and petId\n\t * const usersIdsAndPetIds: { userId: number | null; petId: number | null; }[] = await db.select({\n\t *   userId: users.id,\n\t *   petId: pets.id,\n\t * })\n\t *   .from(users)\n\t *   .fullJoin(pets, eq(users.id, pets.ownerId))\n\t * ```\n\t */\n\tfullJoin = this.createJoin('full', false);\n\n\t/**\n\t * Executes a `cross join` operation by combining rows from two tables into a new table.\n\t *\n\t * Calling this method retrieves all rows from both main and joined tables, merging all rows from each table.\n\t *\n\t * See docs: {@link https://orm.drizzle.team/docs/joins#cross-join}\n\t *\n\t * @param table the table to join.\n\t *\n\t * @example\n\t *\n\t * ```ts\n\t * // Select all users, each user with every pet\n\t * const usersWithPets: { user: User; pets: Pet; }[] = await db.select()\n\t *   .from(users)\n\t *   .crossJoin(pets)\n\t *\n\t * // Select userId and petId\n\t * const usersIdsAndPetIds: { userId: number; petId: number; }[] = await db.select({\n\t *   userId: users.id,\n\t *   petId: pets.id,\n\t * })\n\t *   .from(users)\n\t *   .crossJoin(pets)\n\t * ```\n\t */\n\tcrossJoin = this.createJoin('cross', false);\n\n\t/**\n\t * Executes a `cross join lateral` operation by combining rows from two queries into a new table.\n\t *\n\t * A `lateral` join allows the right-hand expression to refer to columns from the left-hand side.\n\t *\n\t * Calling this method retrieves all rows from both main and joined queries, merging all rows from each query.\n\t *\n\t * See docs: {@link https://orm.drizzle.team/docs/joins#cross-join-lateral}\n\t *\n\t * @param table the query to join.\n\t */\n\tcrossJoinLateral = this.createJoin('cross', true);\n\n\tprivate createSetOperator(\n\t\ttype: SetOperator,\n\t\tisAll: boolean,\n\t): <TValue extends PgSetOperatorWithResult<TResult>>(\n\t\trightSelection:\n\t\t\t| ((setOperators: GetPgSetOperators) => SetOperatorRightSelect<TValue, TResult>)\n\t\t\t| SetOperatorRightSelect<TValue, TResult>,\n\t) => PgSelectWithout<\n\t\tthis,\n\t\tTDynamic,\n\t\tPgSetOperatorExcludedMethods,\n\t\ttrue\n\t> {\n\t\treturn (rightSelection) => {\n\t\t\tconst rightSelect = (typeof rightSelection === 'function'\n\t\t\t\t? rightSelection(getPgSetOperators())\n\t\t\t\t: rightSelection) as TypedQueryBuilder<\n\t\t\t\t\tany,\n\t\t\t\t\tTResult\n\t\t\t\t>;\n\n\t\t\tif (!haveSameKeys(this.getSelectedFields(), rightSelect.getSelectedFields())) {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t'Set operator error (union / intersect / except): selected fields are not the same or are in a different order',\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tthis.config.setOperators.push({ type, isAll, rightSelect });\n\t\t\treturn this as any;\n\t\t};\n\t}\n\n\t/**\n\t * Adds `union` set operator to the query.\n\t *\n\t * Calling this method will combine the result sets of the `select` statements and remove any duplicate rows that appear across them.\n\t *\n\t * See docs: {@link https://orm.drizzle.team/docs/set-operations#union}\n\t *\n\t * @example\n\t *\n\t * ```ts\n\t * // Select all unique names from customers and users tables\n\t * await db.select({ name: users.name })\n\t *   .from(users)\n\t *   .union(\n\t *     db.select({ name: customers.name }).from(customers)\n\t *   );\n\t * // or\n\t * import { union } from 'drizzle-orm/pg-core'\n\t *\n\t * await union(\n\t *   db.select({ name: users.name }).from(users),\n\t *   db.select({ name: customers.name }).from(customers)\n\t * );\n\t * ```\n\t */\n\tunion = this.createSetOperator('union', false);\n\n\t/**\n\t * Adds `union all` set operator to the query.\n\t *\n\t * Calling this method will combine the result-set of the `select` statements and keep all duplicate rows that appear across them.\n\t *\n\t * See docs: {@link https://orm.drizzle.team/docs/set-operations#union-all}\n\t *\n\t * @example\n\t *\n\t * ```ts\n\t * // Select all transaction ids from both online and in-store sales\n\t * await db.select({ transaction: onlineSales.transactionId })\n\t *   .from(onlineSales)\n\t *   .unionAll(\n\t *     db.select({ transaction: inStoreSales.transactionId }).from(inStoreSales)\n\t *   );\n\t * // or\n\t * import { unionAll } from 'drizzle-orm/pg-core'\n\t *\n\t * await unionAll(\n\t *   db.select({ transaction: onlineSales.transactionId }).from(onlineSales),\n\t *   db.select({ transaction: inStoreSales.transactionId }).from(inStoreSales)\n\t * );\n\t * ```\n\t */\n\tunionAll = this.createSetOperator('union', true);\n\n\t/**\n\t * Adds `intersect` set operator to the query.\n\t *\n\t * Calling this method will retain only the rows that are present in both result sets and eliminate duplicates.\n\t *\n\t * See docs: {@link https://orm.drizzle.team/docs/set-operations#intersect}\n\t *\n\t * @example\n\t *\n\t * ```ts\n\t * // Select course names that are offered in both departments A and B\n\t * await db.select({ courseName: depA.courseName })\n\t *   .from(depA)\n\t *   .intersect(\n\t *     db.select({ courseName: depB.courseName }).from(depB)\n\t *   );\n\t * // or\n\t * import { intersect } from 'drizzle-orm/pg-core'\n\t *\n\t * await intersect(\n\t *   db.select({ courseName: depA.courseName }).from(depA),\n\t *   db.select({ courseName: depB.courseName }).from(depB)\n\t * );\n\t * ```\n\t */\n\tintersect = this.createSetOperator('intersect', false);\n\n\t/**\n\t * Adds `intersect all` set operator to the query.\n\t *\n\t * Calling this method will retain only the rows that are present in both result sets including all duplicates.\n\t *\n\t * See docs: {@link https://orm.drizzle.team/docs/set-operations#intersect-all}\n\t *\n\t * @example\n\t *\n\t * ```ts\n\t * // Select all products and quantities that are ordered by both regular and VIP customers\n\t * await db.select({\n\t *   productId: regularCustomerOrders.productId,\n\t *   quantityOrdered: regularCustomerOrders.quantityOrdered\n\t * })\n\t * .from(regularCustomerOrders)\n\t * .intersectAll(\n\t *   db.select({\n\t *     productId: vipCustomerOrders.productId,\n\t *     quantityOrdered: vipCustomerOrders.quantityOrdered\n\t *   })\n\t *   .from(vipCustomerOrders)\n\t * );\n\t * // or\n\t * import { intersectAll } from 'drizzle-orm/pg-core'\n\t *\n\t * await intersectAll(\n\t *   db.select({\n\t *     productId: regularCustomerOrders.productId,\n\t *     quantityOrdered: regularCustomerOrders.quantityOrdered\n\t *   })\n\t *   .from(regularCustomerOrders),\n\t *   db.select({\n\t *     productId: vipCustomerOrders.productId,\n\t *     quantityOrdered: vipCustomerOrders.quantityOrdered\n\t *   })\n\t *   .from(vipCustomerOrders)\n\t * );\n\t * ```\n\t */\n\tintersectAll = this.createSetOperator('intersect', true);\n\n\t/**\n\t * Adds `except` set operator to the query.\n\t *\n\t * Calling this method will retrieve all unique rows from the left query, except for the rows that are present in the result set of the right query.\n\t *\n\t * See docs: {@link https://orm.drizzle.team/docs/set-operations#except}\n\t *\n\t * @example\n\t *\n\t * ```ts\n\t * // Select all courses offered in department A but not in department B\n\t * await db.select({ courseName: depA.courseName })\n\t *   .from(depA)\n\t *   .except(\n\t *     db.select({ courseName: depB.courseName }).from(depB)\n\t *   );\n\t * // or\n\t * import { except } from 'drizzle-orm/pg-core'\n\t *\n\t * await except(\n\t *   db.select({ courseName: depA.courseName }).from(depA),\n\t *   db.select({ courseName: depB.courseName }).from(depB)\n\t * );\n\t * ```\n\t */\n\texcept = this.createSetOperator('except', false);\n\n\t/**\n\t * Adds `except all` set operator to the query.\n\t *\n\t * Calling this method will retrieve all rows from the left query, except for the rows that are present in the result set of the right query.\n\t *\n\t * See docs: {@link https://orm.drizzle.team/docs/set-operations#except-all}\n\t *\n\t * @example\n\t *\n\t * ```ts\n\t * // Select all products that are ordered by regular customers but not by VIP customers\n\t * await db.select({\n\t *   productId: regularCustomerOrders.productId,\n\t *   quantityOrdered: regularCustomerOrders.quantityOrdered,\n\t * })\n\t * .from(regularCustomerOrders)\n\t * .exceptAll(\n\t *   db.select({\n\t *     productId: vipCustomerOrders.productId,\n\t *     quantityOrdered: vipCustomerOrders.quantityOrdered,\n\t *   })\n\t *   .from(vipCustomerOrders)\n\t * );\n\t * // or\n\t * import { exceptAll } from 'drizzle-orm/pg-core'\n\t *\n\t * await exceptAll(\n\t *   db.select({\n\t *     productId: regularCustomerOrders.productId,\n\t *     quantityOrdered: regularCustomerOrders.quantityOrdered\n\t *   })\n\t *   .from(regularCustomerOrders),\n\t *   db.select({\n\t *     productId: vipCustomerOrders.productId,\n\t *     quantityOrdered: vipCustomerOrders.quantityOrdered\n\t *   })\n\t *   .from(vipCustomerOrders)\n\t * );\n\t * ```\n\t */\n\texceptAll = this.createSetOperator('except', true);\n\n\t/** @internal */\n\taddSetOperators(setOperators: PgSelectConfig['setOperators']): PgSelectWithout<\n\t\tthis,\n\t\tTDynamic,\n\t\tPgSetOperatorExcludedMethods,\n\t\ttrue\n\t> {\n\t\tthis.config.setOperators.push(...setOperators);\n\t\treturn this as any;\n\t}\n\n\t/**\n\t * Adds a `where` clause to the query.\n\t *\n\t * Calling this method will select only those rows that fulfill a specified condition.\n\t *\n\t * See docs: {@link https://orm.drizzle.team/docs/select#filtering}\n\t *\n\t * @param where the `where` clause.\n\t *\n\t * @example\n\t * You can use conditional operators and `sql function` to filter the rows to be selected.\n\t *\n\t * ```ts\n\t * // Select all cars with green color\n\t * await db.select().from(cars).where(eq(cars.color, 'green'));\n\t * // or\n\t * await db.select().from(cars).where(sql`${cars.color} = 'green'`)\n\t * ```\n\t *\n\t * You can logically combine conditional operators with `and()` and `or()` operators:\n\t *\n\t * ```ts\n\t * // Select all BMW cars with a green color\n\t * await db.select().from(cars).where(and(eq(cars.color, 'green'), eq(cars.brand, 'BMW')));\n\t *\n\t * // Select all cars with the green or blue color\n\t * await db.select().from(cars).where(or(eq(cars.color, 'green'), eq(cars.color, 'blue')));\n\t * ```\n\t */\n\twhere(\n\t\twhere: ((aliases: this['_']['selection']) => SQL | undefined) | SQL | undefined,\n\t): PgSelectWithout<this, TDynamic, 'where'> {\n\t\tif (typeof where === 'function') {\n\t\t\twhere = where(\n\t\t\t\tnew Proxy(\n\t\t\t\t\tthis.config.fields,\n\t\t\t\t\tnew SelectionProxyHandler({ sqlAliasedBehavior: 'sql', sqlBehavior: 'sql' }),\n\t\t\t\t) as TSelection,\n\t\t\t);\n\t\t}\n\t\tthis.config.where = where;\n\t\treturn this as any;\n\t}\n\n\t/**\n\t * Adds a `having` clause to the query.\n\t *\n\t * Calling this method will select only those rows that fulfill a specified condition. It is typically used with aggregate functions to filter the aggregated data based on a specified condition.\n\t *\n\t * See docs: {@link https://orm.drizzle.team/docs/select#aggregations}\n\t *\n\t * @param having the `having` clause.\n\t *\n\t * @example\n\t *\n\t * ```ts\n\t * // Select all brands with more than one car\n\t * await db.select({\n\t * \tbrand: cars.brand,\n\t * \tcount: sql<number>`cast(count(${cars.id}) as int)`,\n\t * })\n\t *   .from(cars)\n\t *   .groupBy(cars.brand)\n\t *   .having(({ count }) => gt(count, 1));\n\t * ```\n\t */\n\thaving(\n\t\thaving: ((aliases: this['_']['selection']) => SQL | undefined) | SQL | undefined,\n\t): PgSelectWithout<this, TDynamic, 'having'> {\n\t\tif (typeof having === 'function') {\n\t\t\thaving = having(\n\t\t\t\tnew Proxy(\n\t\t\t\t\tthis.config.fields,\n\t\t\t\t\tnew SelectionProxyHandler({ sqlAliasedBehavior: 'sql', sqlBehavior: 'sql' }),\n\t\t\t\t) as TSelection,\n\t\t\t);\n\t\t}\n\t\tthis.config.having = having;\n\t\treturn this as any;\n\t}\n\n\t/**\n\t * Adds a `group by` clause to the query.\n\t *\n\t * Calling this method will group rows that have the same values into summary rows, often used for aggregation purposes.\n\t *\n\t * See docs: {@link https://orm.drizzle.team/docs/select#aggregations}\n\t *\n\t * @example\n\t *\n\t * ```ts\n\t * // Group and count people by their last names\n\t * await db.select({\n\t *    lastName: people.lastName,\n\t *    count: sql<number>`cast(count(*) as int)`\n\t * })\n\t *   .from(people)\n\t *   .groupBy(people.lastName);\n\t * ```\n\t */\n\tgroupBy(\n\t\tbuilder: (aliases: this['_']['selection']) => ValueOrArray<PgColumn | SQL | SQL.Aliased>,\n\t): PgSelectWithout<this, TDynamic, 'groupBy'>;\n\tgroupBy(...columns: (PgColumn | SQL | SQL.Aliased)[]): PgSelectWithout<this, TDynamic, 'groupBy'>;\n\tgroupBy(\n\t\t...columns:\n\t\t\t| [(aliases: this['_']['selection']) => ValueOrArray<PgColumn | SQL | SQL.Aliased>]\n\t\t\t| (PgColumn | SQL | SQL.Aliased)[]\n\t): PgSelectWithout<this, TDynamic, 'groupBy'> {\n\t\tif (typeof columns[0] === 'function') {\n\t\t\tconst groupBy = columns[0](\n\t\t\t\tnew Proxy(\n\t\t\t\t\tthis.config.fields,\n\t\t\t\t\tnew SelectionProxyHandler({ sqlAliasedBehavior: 'alias', sqlBehavior: 'sql' }),\n\t\t\t\t) as TSelection,\n\t\t\t);\n\t\t\tthis.config.groupBy = Array.isArray(groupBy) ? groupBy : [groupBy];\n\t\t} else {\n\t\t\tthis.config.groupBy = columns as (PgColumn | SQL | SQL.Aliased)[];\n\t\t}\n\t\treturn this as any;\n\t}\n\n\t/**\n\t * Adds an `order by` clause to the query.\n\t *\n\t * Calling this method will sort the result-set in ascending or descending order. By default, the sort order is ascending.\n\t *\n\t * See docs: {@link https://orm.drizzle.team/docs/select#order-by}\n\t *\n\t * @example\n\t *\n\t * ```\n\t * // Select cars ordered by year\n\t * await db.select().from(cars).orderBy(cars.year);\n\t * ```\n\t *\n\t * You can specify whether results are in ascending or descending order with the `asc()` and `desc()` operators.\n\t *\n\t * ```ts\n\t * // Select cars ordered by year in descending order\n\t * await db.select().from(cars).orderBy(desc(cars.year));\n\t *\n\t * // Select cars ordered by year and price\n\t * await db.select().from(cars).orderBy(asc(cars.year), desc(cars.price));\n\t * ```\n\t */\n\torderBy(\n\t\tbuilder: (aliases: this['_']['selection']) => ValueOrArray<PgColumn | SQL | SQL.Aliased>,\n\t): PgSelectWithout<this, TDynamic, 'orderBy'>;\n\torderBy(...columns: (PgColumn | SQL | SQL.Aliased)[]): PgSelectWithout<this, TDynamic, 'orderBy'>;\n\torderBy(\n\t\t...columns:\n\t\t\t| [(aliases: this['_']['selection']) => ValueOrArray<PgColumn | SQL | SQL.Aliased>]\n\t\t\t| (PgColumn | SQL | SQL.Aliased)[]\n\t): PgSelectWithout<this, TDynamic, 'orderBy'> {\n\t\tif (typeof columns[0] === 'function') {\n\t\t\tconst orderBy = columns[0](\n\t\t\t\tnew Proxy(\n\t\t\t\t\tthis.config.fields,\n\t\t\t\t\tnew SelectionProxyHandler({ sqlAliasedBehavior: 'alias', sqlBehavior: 'sql' }),\n\t\t\t\t) as TSelection,\n\t\t\t);\n\n\t\t\tconst orderByArray = Array.isArray(orderBy) ? orderBy : [orderBy];\n\n\t\t\tif (this.config.setOperators.length > 0) {\n\t\t\t\tthis.config.setOperators.at(-1)!.orderBy = orderByArray;\n\t\t\t} else {\n\t\t\t\tthis.config.orderBy = orderByArray;\n\t\t\t}\n\t\t} else {\n\t\t\tconst orderByArray = columns as (PgColumn | SQL | SQL.Aliased)[];\n\n\t\t\tif (this.config.setOperators.length > 0) {\n\t\t\t\tthis.config.setOperators.at(-1)!.orderBy = orderByArray;\n\t\t\t} else {\n\t\t\t\tthis.config.orderBy = orderByArray;\n\t\t\t}\n\t\t}\n\t\treturn this as any;\n\t}\n\n\t/**\n\t * Adds a `limit` clause to the query.\n\t *\n\t * Calling this method will set the maximum number of rows that will be returned by this query.\n\t *\n\t * See docs: {@link https://orm.drizzle.team/docs/select#limit--offset}\n\t *\n\t * @param limit the `limit` clause.\n\t *\n\t * @example\n\t *\n\t * ```ts\n\t * // Get the first 10 people from this query.\n\t * await db.select().from(people).limit(10);\n\t * ```\n\t */\n\tlimit(limit: number | Placeholder): PgSelectWithout<this, TDynamic, 'limit'> {\n\t\tif (this.config.setOperators.length > 0) {\n\t\t\tthis.config.setOperators.at(-1)!.limit = limit;\n\t\t} else {\n\t\t\tthis.config.limit = limit;\n\t\t}\n\t\treturn this as any;\n\t}\n\n\t/**\n\t * Adds an `offset` clause to the query.\n\t *\n\t * Calling this method will skip a number of rows when returning results from this query.\n\t *\n\t * See docs: {@link https://orm.drizzle.team/docs/select#limit--offset}\n\t *\n\t * @param offset the `offset` clause.\n\t *\n\t * @example\n\t *\n\t * ```ts\n\t * // Get the 10th-20th people from this query.\n\t * await db.select().from(people).offset(10).limit(10);\n\t * ```\n\t */\n\toffset(offset: number | Placeholder): PgSelectWithout<this, TDynamic, 'offset'> {\n\t\tif (this.config.setOperators.length > 0) {\n\t\t\tthis.config.setOperators.at(-1)!.offset = offset;\n\t\t} else {\n\t\t\tthis.config.offset = offset;\n\t\t}\n\t\treturn this as any;\n\t}\n\n\t/**\n\t * Adds a `for` clause to the query.\n\t *\n\t * Calling this method will specify a lock strength for this query that controls how strictly it acquires exclusive access to the rows being queried.\n\t *\n\t * See docs: {@link https://www.postgresql.org/docs/current/sql-select.html#SQL-FOR-UPDATE-SHARE}\n\t *\n\t * @param strength the lock strength.\n\t * @param config the lock configuration.\n\t */\n\tfor(strength: LockStrength, config: LockConfig = {}): PgSelectWithout<this, TDynamic, 'for'> {\n\t\tthis.config.lockingClause = { strength, config };\n\t\treturn this as any;\n\t}\n\n\t/** @internal */\n\tgetSQL(): SQL {\n\t\treturn this.dialect.buildSelectQuery(this.config);\n\t}\n\n\ttoSQL(): Query {\n\t\tconst { typings: _typings, ...rest } = this.dialect.sqlToQuery(this.getSQL());\n\t\treturn rest;\n\t}\n\tas<TAlias extends string>(\n\t\talias: TAlias,\n\t): SubqueryWithSelection<this['_']['selectedFields'], TAlias> {\n\t\tconst usedTables: string[] = [];\n\t\tusedTables.push(...extractUsedTable(this.config.table));\n\t\tif (this.config.joins) { for (const it of this.config.joins) usedTables.push(...extractUsedTable(it.table)); }\n\n\t\treturn new Proxy(\n\t\t\tnew Subquery(this.getSQL(), this.config.fields, alias, false, [...new Set(usedTables)]),\n\t\t\tnew SelectionProxyHandler({ alias, sqlAliasedBehavior: 'alias', sqlBehavior: 'error' }),\n\t\t) as SubqueryWithSelection<this['_']['selectedFields'], TAlias>;\n\t}\n\n\t/** @internal */\n\toverride getSelectedFields(): this['_']['selectedFields'] {\n\t\treturn new Proxy(\n\t\t\tthis.config.fields,\n\t\t\tnew SelectionProxyHandler({ alias: this.tableName, sqlAliasedBehavior: 'alias', sqlBehavior: 'error' }),\n\t\t) as this['_']['selectedFields'];\n\t}\n\n\t$dynamic(): PgSelectDynamic<this> {\n\t\treturn this;\n\t}\n\n\t$withCache(config?: { config?: CacheConfig; tag?: string; autoInvalidate?: boolean } | false) {\n\t\tthis.cacheConfig = config === undefined\n\t\t\t? { config: {}, enable: true, autoInvalidate: true }\n\t\t\t: config === false\n\t\t\t? { enable: false }\n\t\t\t: { enable: true, autoInvalidate: true, ...config };\n\t\treturn this;\n\t}\n}\n\nexport interface PgSelectBase<\n\tTTableName extends string | undefined,\n\tTSelection extends ColumnsSelection,\n\tTSelectMode extends SelectMode,\n\tTNullabilityMap extends Record<string, JoinNullability> = TTableName extends string ? Record<TTableName, 'not-null'>\n\t\t: {},\n\tTDynamic extends boolean = false,\n\tTExcludedMethods extends string = never,\n\tTResult extends any[] = SelectResult<TSelection, TSelectMode, TNullabilityMap>[],\n\tTSelectedFields extends ColumnsSelection = BuildSubquerySelection<TSelection, TNullabilityMap>,\n> extends\n\tPgSelectQueryBuilderBase<\n\t\tPgSelectHKT,\n\t\tTTableName,\n\t\tTSelection,\n\t\tTSelectMode,\n\t\tTNullabilityMap,\n\t\tTDynamic,\n\t\tTExcludedMethods,\n\t\tTResult,\n\t\tTSelectedFields\n\t>,\n\tQueryPromise<TResult>,\n\tSQLWrapper\n{}\n\nexport class PgSelectBase<\n\tTTableName extends string | undefined,\n\tTSelection extends ColumnsSelection,\n\tTSelectMode extends SelectMode,\n\tTNullabilityMap extends Record<string, JoinNullability> = TTableName extends string ? Record<TTableName, 'not-null'>\n\t\t: {},\n\tTDynamic extends boolean = false,\n\tTExcludedMethods extends string = never,\n\tTResult = SelectResult<TSelection, TSelectMode, TNullabilityMap>[],\n\tTSelectedFields = BuildSubquerySelection<TSelection, TNullabilityMap>,\n> extends PgSelectQueryBuilderBase<\n\tPgSelectHKT,\n\tTTableName,\n\tTSelection,\n\tTSelectMode,\n\tTNullabilityMap,\n\tTDynamic,\n\tTExcludedMethods,\n\tTResult,\n\tTSelectedFields\n> implements RunnableQuery<TResult, 'pg'>, SQLWrapper {\n\tstatic override readonly [entityKind]: string = 'PgSelect';\n\n\t/** @internal */\n\t_prepare(name?: string): PgSelectPrepare<this> {\n\t\tconst { session, config, dialect, joinsNotNullableMap, authToken, cacheConfig, usedTables } = this;\n\t\tif (!session) {\n\t\t\tthrow new Error('Cannot execute a query on a query builder. Please use a database instance instead.');\n\t\t}\n\n\t\tconst { fields } = config;\n\n\t\treturn tracer.startActiveSpan('drizzle.prepareQuery', () => {\n\t\t\tconst fieldsList = orderSelectedFields<PgColumn>(fields);\n\t\t\tconst query = session.prepareQuery<\n\t\t\t\tPreparedQueryConfig & { execute: TResult }\n\t\t\t>(dialect.sqlToQuery(this.getSQL()), fieldsList, name, true, undefined, {\n\t\t\t\ttype: 'select',\n\t\t\t\ttables: [...usedTables],\n\t\t\t}, cacheConfig);\n\t\t\tquery.joinsNotNullableMap = joinsNotNullableMap;\n\n\t\t\treturn query.setToken(authToken);\n\t\t});\n\t}\n\n\t/**\n\t * Create a prepared statement for this query. This allows\n\t * the database to remember this query for the given session\n\t * and call it by name, rather than specifying the full query.\n\t *\n\t * {@link https://www.postgresql.org/docs/current/sql-prepare.html | Postgres prepare documentation}\n\t */\n\tprepare(name: string): PgSelectPrepare<this> {\n\t\treturn this._prepare(name);\n\t}\n\n\tprivate authToken?: NeonAuthToken;\n\t/** @internal */\n\tsetToken(token?: NeonAuthToken) {\n\t\tthis.authToken = token;\n\t\treturn this;\n\t}\n\n\texecute: ReturnType<this['prepare']>['execute'] = (placeholderValues) => {\n\t\treturn tracer.startActiveSpan('drizzle.operation', () => {\n\t\t\treturn this._prepare().execute(placeholderValues, this.authToken);\n\t\t});\n\t};\n}\n\napplyMixins(PgSelectBase, [QueryPromise]);\n\nfunction createSetOperator(type: SetOperator, isAll: boolean): PgCreateSetOperatorFn {\n\treturn (leftSelect, rightSelect, ...restSelects) => {\n\t\tconst setOperators = [rightSelect, ...restSelects].map((select) => ({\n\t\t\ttype,\n\t\t\tisAll,\n\t\t\trightSelect: select as AnyPgSelect,\n\t\t}));\n\n\t\tfor (const setOperator of setOperators) {\n\t\t\tif (!haveSameKeys((leftSelect as any).getSelectedFields(), setOperator.rightSelect.getSelectedFields())) {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t'Set operator error (union / intersect / except): selected fields are not the same or are in a different order',\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\treturn (leftSelect as AnyPgSelect).addSetOperators(setOperators) as any;\n\t};\n}\n\nconst getPgSetOperators = () => ({\n\tunion,\n\tunionAll,\n\tintersect,\n\tintersectAll,\n\texcept,\n\texceptAll,\n});\n\n/**\n * Adds `union` set operator to the query.\n *\n * Calling this method will combine the result sets of the `select` statements and remove any duplicate rows that appear across them.\n *\n * See docs: {@link https://orm.drizzle.team/docs/set-operations#union}\n *\n * @example\n *\n * ```ts\n * // Select all unique names from customers and users tables\n * import { union } from 'drizzle-orm/pg-core'\n *\n * await union(\n *   db.select({ name: users.name }).from(users),\n *   db.select({ name: customers.name }).from(customers)\n * );\n * // or\n * await db.select({ name: users.name })\n *   .from(users)\n *   .union(\n *     db.select({ name: customers.name }).from(customers)\n *   );\n * ```\n */\nexport const union = createSetOperator('union', false);\n\n/**\n * Adds `union all` set operator to the query.\n *\n * Calling this method will combine the result-set of the `select` statements and keep all duplicate rows that appear across them.\n *\n * See docs: {@link https://orm.drizzle.team/docs/set-operations#union-all}\n *\n * @example\n *\n * ```ts\n * // Select all transaction ids from both online and in-store sales\n * import { unionAll } from 'drizzle-orm/pg-core'\n *\n * await unionAll(\n *   db.select({ transaction: onlineSales.transactionId }).from(onlineSales),\n *   db.select({ transaction: inStoreSales.transactionId }).from(inStoreSales)\n * );\n * // or\n * await db.select({ transaction: onlineSales.transactionId })\n *   .from(onlineSales)\n *   .unionAll(\n *     db.select({ transaction: inStoreSales.transactionId }).from(inStoreSales)\n *   );\n * ```\n */\nexport const unionAll = createSetOperator('union', true);\n\n/**\n * Adds `intersect` set operator to the query.\n *\n * Calling this method will retain only the rows that are present in both result sets and eliminate duplicates.\n *\n * See docs: {@link https://orm.drizzle.team/docs/set-operations#intersect}\n *\n * @example\n *\n * ```ts\n * // Select course names that are offered in both departments A and B\n * import { intersect } from 'drizzle-orm/pg-core'\n *\n * await intersect(\n *   db.select({ courseName: depA.courseName }).from(depA),\n *   db.select({ courseName: depB.courseName }).from(depB)\n * );\n * // or\n * await db.select({ courseName: depA.courseName })\n *   .from(depA)\n *   .intersect(\n *     db.select({ courseName: depB.courseName }).from(depB)\n *   );\n * ```\n */\nexport const intersect = createSetOperator('intersect', false);\n\n/**\n * Adds `intersect all` set operator to the query.\n *\n * Calling this method will retain only the rows that are present in both result sets including all duplicates.\n *\n * See docs: {@link https://orm.drizzle.team/docs/set-operations#intersect-all}\n *\n * @example\n *\n * ```ts\n * // Select all products and quantities that are ordered by both regular and VIP customers\n * import { intersectAll } from 'drizzle-orm/pg-core'\n *\n * await intersectAll(\n *   db.select({\n *     productId: regularCustomerOrders.productId,\n *     quantityOrdered: regularCustomerOrders.quantityOrdered\n *   })\n *   .from(regularCustomerOrders),\n *   db.select({\n *     productId: vipCustomerOrders.productId,\n *     quantityOrdered: vipCustomerOrders.quantityOrdered\n *   })\n *   .from(vipCustomerOrders)\n * );\n * // or\n * await db.select({\n *   productId: regularCustomerOrders.productId,\n *   quantityOrdered: regularCustomerOrders.quantityOrdered\n * })\n * .from(regularCustomerOrders)\n * .intersectAll(\n *   db.select({\n *     productId: vipCustomerOrders.productId,\n *     quantityOrdered: vipCustomerOrders.quantityOrdered\n *   })\n *   .from(vipCustomerOrders)\n * );\n * ```\n */\nexport const intersectAll = createSetOperator('intersect', true);\n\n/**\n * Adds `except` set operator to the query.\n *\n * Calling this method will retrieve all unique rows from the left query, except for the rows that are present in the result set of the right query.\n *\n * See docs: {@link https://orm.drizzle.team/docs/set-operations#except}\n *\n * @example\n *\n * ```ts\n * // Select all courses offered in department A but not in department B\n * import { except } from 'drizzle-orm/pg-core'\n *\n * await except(\n *   db.select({ courseName: depA.courseName }).from(depA),\n *   db.select({ courseName: depB.courseName }).from(depB)\n * );\n * // or\n * await db.select({ courseName: depA.courseName })\n *   .from(depA)\n *   .except(\n *     db.select({ courseName: depB.courseName }).from(depB)\n *   );\n * ```\n */\nexport const except = createSetOperator('except', false);\n\n/**\n * Adds `except all` set operator to the query.\n *\n * Calling this method will retrieve all rows from the left query, except for the rows that are present in the result set of the right query.\n *\n * See docs: {@link https://orm.drizzle.team/docs/set-operations#except-all}\n *\n * @example\n *\n * ```ts\n * // Select all products that are ordered by regular customers but not by VIP customers\n * import { exceptAll } from 'drizzle-orm/pg-core'\n *\n * await exceptAll(\n *   db.select({\n *     productId: regularCustomerOrders.productId,\n *     quantityOrdered: regularCustomerOrders.quantityOrdered\n *   })\n *   .from(regularCustomerOrders),\n *   db.select({\n *     productId: vipCustomerOrders.productId,\n *     quantityOrdered: vipCustomerOrders.quantityOrdered\n *   })\n *   .from(vipCustomerOrders)\n * );\n * // or\n * await db.select({\n *   productId: regularCustomerOrders.productId,\n *   quantityOrdered: regularCustomerOrders.quantityOrdered,\n * })\n * .from(regularCustomerOrders)\n * .exceptAll(\n *   db.select({\n *     productId: vipCustomerOrders.productId,\n *     quantityOrdered: vipCustomerOrders.quantityOrdered,\n *   })\n *   .from(vipCustomerOrders)\n * );\n * ```\n */\nexport const exceptAll = createSetOperator('except', true);\n", "import { entityKind } from '~/entity.ts';\nimport type { SQL, SQLWrapper } from '~/sql/index.ts';\n\nexport abstract class TypedQueryBuilder<TSelection, TResult = unknown, TConfig = unknown> implements SQLWrapper {\n\tstatic readonly [entityKind]: string = 'TypedQueryBuilder';\n\n\tdeclare _: {\n\t\tselectedFields: TSelection;\n\t\tresult: TResult;\n\t\tconfig?: TConfig;\n\t};\n\n\t/** @internal */\n\tgetSelectedFields(): TSelection {\n\t\treturn this._.selectedFields;\n\t}\n\n\tabstract getSQL(): SQL;\n}\n", "import type { WithCacheConfig } from '~/cache/core/types.ts';\nimport { entityKind, is } from '~/entity.ts';\nimport type { PgDialect } from '~/pg-core/dialect.ts';\nimport type { IndexColumn } from '~/pg-core/indexes.ts';\nimport type {\n\tPgPreparedQuery,\n\tPgQueryResultHKT,\n\tPgQueryResultKind,\n\tPgSession,\n\tPreparedQueryConfig,\n} from '~/pg-core/session.ts';\nimport type { PgTable, TableConfig } from '~/pg-core/table.ts';\nimport type { TypedQueryBuilder } from '~/query-builders/query-builder.ts';\nimport type { SelectResultFields } from '~/query-builders/select.types.ts';\nimport { QueryPromise } from '~/query-promise.ts';\nimport type { RunnableQuery } from '~/runnable-query.ts';\nimport { SelectionProxyHandler } from '~/selection-proxy.ts';\nimport type { ColumnsSelection, Placeholder, Query, SQLWrapper } from '~/sql/sql.ts';\nimport { Param, SQL, sql } from '~/sql/sql.ts';\nimport type { Subquery } from '~/subquery.ts';\nimport type { InferInsertModel } from '~/table.ts';\nimport { Columns, getTableName, Table } from '~/table.ts';\nimport { tracer } from '~/tracing.ts';\nimport { haveSameKeys, mapUpdateSet, type NeonAuthToken, orderSelectedFields } from '~/utils.ts';\nimport type { AnyPgColumn, PgColumn } from '../columns/common.ts';\nimport { extractUsedTable } from '../utils.ts';\nimport { QueryBuilder } from './query-builder.ts';\nimport type { SelectedFieldsFlat, SelectedFieldsOrdered } from './select.types.ts';\nimport type { PgUpdateSetSource } from './update.ts';\n\nexport interface PgInsertConfig<TTable extends PgTable = PgTable> {\n\ttable: TTable;\n\tvalues: Record<string, Param | SQL>[] | PgInsertSelectQueryBuilder<TTable> | SQL;\n\twithList?: Subquery[];\n\tonConflict?: SQL;\n\treturningFields?: SelectedFieldsFlat;\n\treturning?: SelectedFieldsOrdered;\n\tselect?: boolean;\n\toverridingSystemValue_?: boolean;\n}\n\nexport type PgInsertValue<TTable extends PgTable<TableConfig>, OverrideT extends boolean = false> =\n\t& {\n\t\t[Key in keyof InferInsertModel<TTable, { dbColumnNames: false; override: OverrideT }>]:\n\t\t\t| InferInsertModel<TTable, { dbColumnNames: false; override: OverrideT }>[Key]\n\t\t\t| SQL\n\t\t\t| Placeholder;\n\t}\n\t& {};\n\nexport type PgInsertSelectQueryBuilder<TTable extends PgTable> = TypedQueryBuilder<\n\t{ [K in keyof TTable['$inferInsert']]: AnyPgColumn | SQL | SQL.Aliased | TTable['$inferInsert'][K] }\n>;\n\nexport class PgInsertBuilder<\n\tTTable extends PgTable,\n\tTQueryResult extends PgQueryResultHKT,\n\tOverrideT extends boolean = false,\n> {\n\tstatic readonly [entityKind]: string = 'PgInsertBuilder';\n\n\tconstructor(\n\t\tprivate table: TTable,\n\t\tprivate session: PgSession,\n\t\tprivate dialect: PgDialect,\n\t\tprivate withList?: Subquery[],\n\t\tprivate overridingSystemValue_?: boolean,\n\t) {}\n\n\tprivate authToken?: NeonAuthToken;\n\t/** @internal */\n\tsetToken(token?: NeonAuthToken) {\n\t\tthis.authToken = token;\n\t\treturn this;\n\t}\n\n\toverridingSystemValue(): Omit<PgInsertBuilder<TTable, TQueryResult, true>, 'overridingSystemValue'> {\n\t\tthis.overridingSystemValue_ = true;\n\t\treturn this as any;\n\t}\n\n\tvalues(value: PgInsertValue<TTable, OverrideT>): PgInsertBase<TTable, TQueryResult>;\n\tvalues(values: PgInsertValue<TTable, OverrideT>[]): PgInsertBase<TTable, TQueryResult>;\n\tvalues(\n\t\tvalues: PgInsertValue<TTable, OverrideT> | PgInsertValue<TTable, OverrideT>[],\n\t): PgInsertBase<TTable, TQueryResult> {\n\t\tvalues = Array.isArray(values) ? values : [values];\n\t\tif (values.length === 0) {\n\t\t\tthrow new Error('values() must be called with at least one value');\n\t\t}\n\t\tconst mappedValues = values.map((entry) => {\n\t\t\tconst result: Record<string, Param | SQL> = {};\n\t\t\tconst cols = this.table[Table.Symbol.Columns];\n\t\t\tfor (const colKey of Object.keys(entry)) {\n\t\t\t\tconst colValue = entry[colKey as keyof typeof entry];\n\t\t\t\tresult[colKey] = is(colValue, SQL) ? colValue : new Param(colValue, cols[colKey]);\n\t\t\t}\n\t\t\treturn result;\n\t\t});\n\n\t\treturn new PgInsertBase(\n\t\t\tthis.table,\n\t\t\tmappedValues,\n\t\t\tthis.session,\n\t\t\tthis.dialect,\n\t\t\tthis.withList,\n\t\t\tfalse,\n\t\t\tthis.overridingSystemValue_,\n\t\t).setToken(this.authToken) as any;\n\t}\n\n\tselect(selectQuery: (qb: QueryBuilder) => PgInsertSelectQueryBuilder<TTable>): PgInsertBase<TTable, TQueryResult>;\n\tselect(selectQuery: (qb: QueryBuilder) => SQL): PgInsertBase<TTable, TQueryResult>;\n\tselect(selectQuery: SQL): PgInsertBase<TTable, TQueryResult>;\n\tselect(selectQuery: PgInsertSelectQueryBuilder<TTable>): PgInsertBase<TTable, TQueryResult>;\n\tselect(\n\t\tselectQuery:\n\t\t\t| SQL\n\t\t\t| PgInsertSelectQueryBuilder<TTable>\n\t\t\t| ((qb: QueryBuilder) => PgInsertSelectQueryBuilder<TTable> | SQL),\n\t): PgInsertBase<TTable, TQueryResult> {\n\t\tconst select = typeof selectQuery === 'function' ? selectQuery(new QueryBuilder()) : selectQuery;\n\n\t\tif (\n\t\t\t!is(select, SQL)\n\t\t\t&& !haveSameKeys(this.table[Columns], select._.selectedFields)\n\t\t) {\n\t\t\tthrow new Error(\n\t\t\t\t'Insert select error: selected fields are not the same or are in a different order compared to the table definition',\n\t\t\t);\n\t\t}\n\n\t\treturn new PgInsertBase(this.table, select, this.session, this.dialect, this.withList, true);\n\t}\n}\n\nexport type PgInsertWithout<T extends AnyPgInsert, TDynamic extends boolean, K extends keyof T & string> =\n\tTDynamic extends true ? T\n\t\t: Omit<\n\t\t\tPgInsertBase<\n\t\t\t\tT['_']['table'],\n\t\t\t\tT['_']['queryResult'],\n\t\t\t\tT['_']['selectedFields'],\n\t\t\t\tT['_']['returning'],\n\t\t\t\tTDynamic,\n\t\t\t\tT['_']['excludedMethods'] | K\n\t\t\t>,\n\t\t\tT['_']['excludedMethods'] | K\n\t\t>;\n\nexport type PgInsertReturning<\n\tT extends AnyPgInsert,\n\tTDynamic extends boolean,\n\tTSelectedFields extends SelectedFieldsFlat,\n> = PgInsertBase<\n\tT['_']['table'],\n\tT['_']['queryResult'],\n\tTSelectedFields,\n\tSelectResultFields<TSelectedFields>,\n\tTDynamic,\n\tT['_']['excludedMethods']\n>;\n\nexport type PgInsertReturningAll<T extends AnyPgInsert, TDynamic extends boolean> = PgInsertBase<\n\tT['_']['table'],\n\tT['_']['queryResult'],\n\tT['_']['table']['_']['columns'],\n\tT['_']['table']['$inferSelect'],\n\tTDynamic,\n\tT['_']['excludedMethods']\n>;\n\nexport interface PgInsertOnConflictDoUpdateConfig<T extends AnyPgInsert> {\n\ttarget: IndexColumn | IndexColumn[];\n\t/** @deprecated use either `targetWhere` or `setWhere` */\n\twhere?: SQL;\n\t// TODO: add tests for targetWhere and setWhere\n\ttargetWhere?: SQL;\n\tsetWhere?: SQL;\n\tset: PgUpdateSetSource<T['_']['table']>;\n}\n\nexport type PgInsertPrepare<T extends AnyPgInsert> = PgPreparedQuery<\n\tPreparedQueryConfig & {\n\t\texecute: T['_']['returning'] extends undefined ? PgQueryResultKind<T['_']['queryResult'], never>\n\t\t\t: T['_']['returning'][];\n\t}\n>;\n\nexport type PgInsertDynamic<T extends AnyPgInsert> = PgInsert<\n\tT['_']['table'],\n\tT['_']['queryResult'],\n\tT['_']['returning']\n>;\n\nexport type AnyPgInsert = PgInsertBase<any, any, any, any, any, any>;\n\nexport type PgInsert<\n\tTTable extends PgTable = PgTable,\n\tTQueryResult extends PgQueryResultHKT = PgQueryResultHKT,\n\tTSelectedFields extends ColumnsSelection | undefined = ColumnsSelection | undefined,\n\tTReturning extends Record<string, unknown> | undefined = Record<string, unknown> | undefined,\n> = PgInsertBase<TTable, TQueryResult, TSelectedFields, TReturning, true, never>;\n\nexport interface PgInsertBase<\n\tTTable extends PgTable,\n\tTQueryResult extends PgQueryResultHKT,\n\tTSelectedFields extends ColumnsSelection | undefined = undefined,\n\tTReturning extends Record<string, unknown> | undefined = undefined,\n\tTDynamic extends boolean = false,\n\tTExcludedMethods extends string = never,\n> extends\n\tTypedQueryBuilder<\n\t\tTSelectedFields,\n\t\tTReturning extends undefined ? PgQueryResultKind<TQueryResult, never> : TReturning[]\n\t>,\n\tQueryPromise<TReturning extends undefined ? PgQueryResultKind<TQueryResult, never> : TReturning[]>,\n\tRunnableQuery<TReturning extends undefined ? PgQueryResultKind<TQueryResult, never> : TReturning[], 'pg'>,\n\tSQLWrapper\n{\n\treadonly _: {\n\t\treadonly dialect: 'pg';\n\t\treadonly table: TTable;\n\t\treadonly queryResult: TQueryResult;\n\t\treadonly selectedFields: TSelectedFields;\n\t\treadonly returning: TReturning;\n\t\treadonly dynamic: TDynamic;\n\t\treadonly excludedMethods: TExcludedMethods;\n\t\treadonly result: TReturning extends undefined ? PgQueryResultKind<TQueryResult, never> : TReturning[];\n\t};\n}\n\nexport class PgInsertBase<\n\tTTable extends PgTable,\n\tTQueryResult extends PgQueryResultHKT,\n\tTSelectedFields extends ColumnsSelection | undefined = undefined,\n\tTReturning extends Record<string, unknown> | undefined = undefined,\n\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\n\tTDynamic extends boolean = false,\n\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\n\tTExcludedMethods extends string = never,\n> extends QueryPromise<TReturning extends undefined ? PgQueryResultKind<TQueryResult, never> : TReturning[]>\n\timplements\n\t\tTypedQueryBuilder<\n\t\t\tTSelectedFields,\n\t\t\tTReturning extends undefined ? PgQueryResultKind<TQueryResult, never> : TReturning[]\n\t\t>,\n\t\tRunnableQuery<TReturning extends undefined ? PgQueryResultKind<TQueryResult, never> : TReturning[], 'pg'>,\n\t\tSQLWrapper\n{\n\tstatic override readonly [entityKind]: string = 'PgInsert';\n\n\tprivate config: PgInsertConfig<TTable>;\n\tprotected cacheConfig?: WithCacheConfig;\n\n\tconstructor(\n\t\ttable: TTable,\n\t\tvalues: PgInsertConfig['values'],\n\t\tprivate session: PgSession,\n\t\tprivate dialect: PgDialect,\n\t\twithList?: Subquery[],\n\t\tselect?: boolean,\n\t\toverridingSystemValue_?: boolean,\n\t) {\n\t\tsuper();\n\t\tthis.config = { table, values: values as any, withList, select, overridingSystemValue_ };\n\t}\n\n\t/**\n\t * Adds a `returning` clause to the query.\n\t *\n\t * Calling this method will return the specified fields of the inserted rows. If no fields are specified, all fields will be returned.\n\t *\n\t * See docs: {@link https://orm.drizzle.team/docs/insert#insert-returning}\n\t *\n\t * @example\n\t * ```ts\n\t * // Insert one row and return all fields\n\t * const insertedCar: Car[] = await db.insert(cars)\n\t *   .values({ brand: 'BMW' })\n\t *   .returning();\n\t *\n\t * // Insert one row and return only the id\n\t * const insertedCarId: { id: number }[] = await db.insert(cars)\n\t *   .values({ brand: 'BMW' })\n\t *   .returning({ id: cars.id });\n\t * ```\n\t */\n\treturning(): PgInsertWithout<PgInsertReturningAll<this, TDynamic>, TDynamic, 'returning'>;\n\treturning<TSelectedFields extends SelectedFieldsFlat>(\n\t\tfields: TSelectedFields,\n\t): PgInsertWithout<PgInsertReturning<this, TDynamic, TSelectedFields>, TDynamic, 'returning'>;\n\treturning(\n\t\tfields: SelectedFieldsFlat = this.config.table[Table.Symbol.Columns],\n\t): PgInsertWithout<AnyPgInsert, TDynamic, 'returning'> {\n\t\tthis.config.returningFields = fields;\n\t\tthis.config.returning = orderSelectedFields<PgColumn>(fields);\n\t\treturn this as any;\n\t}\n\n\t/**\n\t * Adds an `on conflict do nothing` clause to the query.\n\t *\n\t * Calling this method simply avoids inserting a row as its alternative action.\n\t *\n\t * See docs: {@link https://orm.drizzle.team/docs/insert#on-conflict-do-nothing}\n\t *\n\t * @param config The `target` and `where` clauses.\n\t *\n\t * @example\n\t * ```ts\n\t * // Insert one row and cancel the insert if there's a conflict\n\t * await db.insert(cars)\n\t *   .values({ id: 1, brand: 'BMW' })\n\t *   .onConflictDoNothing();\n\t *\n\t * // Explicitly specify conflict target\n\t * await db.insert(cars)\n\t *   .values({ id: 1, brand: 'BMW' })\n\t *   .onConflictDoNothing({ target: cars.id });\n\t * ```\n\t */\n\tonConflictDoNothing(\n\t\tconfig: { target?: IndexColumn | IndexColumn[]; where?: SQL } = {},\n\t): PgInsertWithout<this, TDynamic, 'onConflictDoNothing' | 'onConflictDoUpdate'> {\n\t\tif (config.target === undefined) {\n\t\t\tthis.config.onConflict = sql`do nothing`;\n\t\t} else {\n\t\t\tlet targetColumn = '';\n\t\t\ttargetColumn = Array.isArray(config.target)\n\t\t\t\t? config.target.map((it) => this.dialect.escapeName(this.dialect.casing.getColumnCasing(it))).join(',')\n\t\t\t\t: this.dialect.escapeName(this.dialect.casing.getColumnCasing(config.target));\n\n\t\t\tconst whereSql = config.where ? sql` where ${config.where}` : undefined;\n\t\t\tthis.config.onConflict = sql`(${sql.raw(targetColumn)})${whereSql} do nothing`;\n\t\t}\n\t\treturn this as any;\n\t}\n\n\t/**\n\t * Adds an `on conflict do update` clause to the query.\n\t *\n\t * Calling this method will update the existing row that conflicts with the row proposed for insertion as its alternative action.\n\t *\n\t * See docs: {@link https://orm.drizzle.team/docs/insert#upserts-and-conflicts}\n\t *\n\t * @param config The `target`, `set` and `where` clauses.\n\t *\n\t * @example\n\t * ```ts\n\t * // Update the row if there's a conflict\n\t * await db.insert(cars)\n\t *   .values({ id: 1, brand: 'BMW' })\n\t *   .onConflictDoUpdate({\n\t *     target: cars.id,\n\t *     set: { brand: 'Porsche' }\n\t *   });\n\t *\n\t * // Upsert with 'where' clause\n\t * await db.insert(cars)\n\t *   .values({ id: 1, brand: 'BMW' })\n\t *   .onConflictDoUpdate({\n\t *     target: cars.id,\n\t *     set: { brand: 'newBMW' },\n\t *     targetWhere: sql`${cars.createdAt} > '2023-01-01'::date`,\n\t *   });\n\t * ```\n\t */\n\tonConflictDoUpdate(\n\t\tconfig: PgInsertOnConflictDoUpdateConfig<this>,\n\t): PgInsertWithout<this, TDynamic, 'onConflictDoNothing' | 'onConflictDoUpdate'> {\n\t\tif (config.where && (config.targetWhere || config.setWhere)) {\n\t\t\tthrow new Error(\n\t\t\t\t'You cannot use both \"where\" and \"targetWhere\"/\"setWhere\" at the same time - \"where\" is deprecated, use \"targetWhere\" or \"setWhere\" instead.',\n\t\t\t);\n\t\t}\n\t\tconst whereSql = config.where ? sql` where ${config.where}` : undefined;\n\t\tconst targetWhereSql = config.targetWhere ? sql` where ${config.targetWhere}` : undefined;\n\t\tconst setWhereSql = config.setWhere ? sql` where ${config.setWhere}` : undefined;\n\t\tconst setSql = this.dialect.buildUpdateSet(this.config.table, mapUpdateSet(this.config.table, config.set));\n\t\tlet targetColumn = '';\n\t\ttargetColumn = Array.isArray(config.target)\n\t\t\t? config.target.map((it) => this.dialect.escapeName(this.dialect.casing.getColumnCasing(it))).join(',')\n\t\t\t: this.dialect.escapeName(this.dialect.casing.getColumnCasing(config.target));\n\t\tthis.config.onConflict = sql`(${\n\t\t\tsql.raw(targetColumn)\n\t\t})${targetWhereSql} do update set ${setSql}${whereSql}${setWhereSql}`;\n\t\treturn this as any;\n\t}\n\n\t/** @internal */\n\tgetSQL(): SQL {\n\t\treturn this.dialect.buildInsertQuery(this.config);\n\t}\n\n\ttoSQL(): Query {\n\t\tconst { typings: _typings, ...rest } = this.dialect.sqlToQuery(this.getSQL());\n\t\treturn rest;\n\t}\n\n\t/** @internal */\n\t_prepare(name?: string): PgInsertPrepare<this> {\n\t\treturn tracer.startActiveSpan('drizzle.prepareQuery', () => {\n\t\t\treturn this.session.prepareQuery<\n\t\t\t\tPreparedQueryConfig & {\n\t\t\t\t\texecute: TReturning extends undefined ? PgQueryResultKind<TQueryResult, never> : TReturning[];\n\t\t\t\t}\n\t\t\t>(this.dialect.sqlToQuery(this.getSQL()), this.config.returning, name, true, undefined, {\n\t\t\t\ttype: 'insert',\n\t\t\t\ttables: extractUsedTable(this.config.table),\n\t\t\t}, this.cacheConfig);\n\t\t});\n\t}\n\n\tprepare(name: string): PgInsertPrepare<this> {\n\t\treturn this._prepare(name);\n\t}\n\n\tprivate authToken?: NeonAuthToken;\n\t/** @internal */\n\tsetToken(token?: NeonAuthToken) {\n\t\tthis.authToken = token;\n\t\treturn this;\n\t}\n\n\toverride execute: ReturnType<this['prepare']>['execute'] = (placeholderValues) => {\n\t\treturn tracer.startActiveSpan('drizzle.operation', () => {\n\t\t\treturn this._prepare().execute(placeholderValues, this.authToken);\n\t\t});\n\t};\n\n\t/** @internal */\n\tgetSelectedFields(): this['_']['selectedFields'] {\n\t\treturn (\n\t\t\tthis.config.returningFields\n\t\t\t\t? new Proxy(\n\t\t\t\t\tthis.config.returningFields,\n\t\t\t\t\tnew SelectionProxyHandler({\n\t\t\t\t\t\talias: getTableName(this.config.table),\n\t\t\t\t\t\tsqlAliasedBehavior: 'alias',\n\t\t\t\t\t\tsqlBehavior: 'error',\n\t\t\t\t\t}),\n\t\t\t\t)\n\t\t\t\t: undefined\n\t\t) as this['_']['selectedFields'];\n\t}\n\n\t$dynamic(): PgInsertDynamic<this> {\n\t\treturn this as any;\n\t}\n}\n", "import { entityKind } from '~/entity.ts';\nimport type { PgDialect } from '~/pg-core/dialect.ts';\nimport type {\n\tPgPreparedQuery,\n\tPgQueryResultHKT,\n\tPgQueryResultKind,\n\tPgSession,\n\tPreparedQueryConfig,\n} from '~/pg-core/session.ts';\nimport type { PgMaterializedView } from '~/pg-core/view.ts';\nimport { QueryPromise } from '~/query-promise.ts';\nimport type { RunnableQuery } from '~/runnable-query.ts';\nimport type { Query, SQL, SQLWrapper } from '~/sql/sql.ts';\nimport { tracer } from '~/tracing.ts';\nimport type { NeonAuthToken } from '~/utils';\n\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\nexport interface PgRefreshMaterializedView<TQueryResult extends PgQueryResultHKT>\n\textends\n\t\tQueryPromise<PgQueryResultKind<TQueryResult, never>>,\n\t\tRunnableQuery<PgQueryResultKind<TQueryResult, never>, 'pg'>,\n\t\tSQLWrapper\n{\n\treadonly _: {\n\t\treadonly dialect: 'pg';\n\t\treadonly result: PgQueryResultKind<TQueryResult, never>;\n\t};\n}\n\nexport class PgRefreshMaterializedView<TQueryResult extends PgQueryResultHKT>\n\textends QueryPromise<PgQueryResultKind<TQueryResult, never>>\n\timplements RunnableQuery<PgQueryResultKind<TQueryResult, never>, 'pg'>, SQLWrapper\n{\n\tstatic override readonly [entityKind]: string = 'PgRefreshMaterializedView';\n\n\tprivate config: {\n\t\tview: PgMaterializedView;\n\t\tconcurrently?: boolean;\n\t\twithNoData?: boolean;\n\t};\n\n\tconstructor(\n\t\tview: PgMaterializedView,\n\t\tprivate session: PgSession,\n\t\tprivate dialect: PgDialect,\n\t) {\n\t\tsuper();\n\t\tthis.config = { view };\n\t}\n\n\tconcurrently(): this {\n\t\tif (this.config.withNoData !== undefined) {\n\t\t\tthrow new Error('Cannot use concurrently and withNoData together');\n\t\t}\n\t\tthis.config.concurrently = true;\n\t\treturn this;\n\t}\n\n\twithNoData(): this {\n\t\tif (this.config.concurrently !== undefined) {\n\t\t\tthrow new Error('Cannot use concurrently and withNoData together');\n\t\t}\n\t\tthis.config.withNoData = true;\n\t\treturn this;\n\t}\n\n\t/** @internal */\n\tgetSQL(): SQL {\n\t\treturn this.dialect.buildRefreshMaterializedViewQuery(this.config);\n\t}\n\n\ttoSQL(): Query {\n\t\tconst { typings: _typings, ...rest } = this.dialect.sqlToQuery(this.getSQL());\n\t\treturn rest;\n\t}\n\n\t/** @internal */\n\t_prepare(name?: string): PgPreparedQuery<\n\t\tPreparedQueryConfig & {\n\t\t\texecute: PgQueryResultKind<TQueryResult, never>;\n\t\t}\n\t> {\n\t\treturn tracer.startActiveSpan('drizzle.prepareQuery', () => {\n\t\t\treturn this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()), undefined, name, true);\n\t\t});\n\t}\n\n\tprepare(name: string): PgPreparedQuery<\n\t\tPreparedQueryConfig & {\n\t\t\texecute: PgQueryResultKind<TQueryResult, never>;\n\t\t}\n\t> {\n\t\treturn this._prepare(name);\n\t}\n\n\tprivate authToken?: NeonAuthToken;\n\t/** @internal */\n\tsetToken(token: NeonAuthToken) {\n\t\tthis.authToken = token;\n\t\treturn this;\n\t}\n\n\texecute: ReturnType<this['prepare']>['execute'] = (placeholderValues) => {\n\t\treturn tracer.startActiveSpan('drizzle.operation', () => {\n\t\t\treturn this._prepare().execute(placeholderValues, this.authToken);\n\t\t});\n\t};\n}\n", "import type { WithCacheConfig } from '~/cache/core/types.ts';\nimport type { GetColumnData } from '~/column.ts';\nimport { entityKind, is } from '~/entity.ts';\nimport type { PgDialect } from '~/pg-core/dialect.ts';\nimport type {\n\tPgPreparedQuery,\n\tPgQueryResultHKT,\n\tPgQueryResultKind,\n\tPgSession,\n\tPreparedQueryConfig,\n} from '~/pg-core/session.ts';\nimport { PgTable } from '~/pg-core/table.ts';\nimport type { TypedQueryBuilder } from '~/query-builders/query-builder.ts';\nimport type {\n\tAppendToNullabilityMap,\n\tAppendToResult,\n\tGetSelectTableName,\n\tGetSelectTableSelection,\n\tJoinNullability,\n\tJoinType,\n\tSelectMode,\n\tSelectResult,\n} from '~/query-builders/select.types.ts';\nimport { QueryPromise } from '~/query-promise.ts';\nimport type { RunnableQuery } from '~/runnable-query.ts';\nimport { SelectionProxyHandler } from '~/selection-proxy.ts';\nimport { type ColumnsSelection, type Query, SQL, type SQLWrapper } from '~/sql/sql.ts';\nimport { Subquery } from '~/subquery.ts';\nimport { getTableName, Table } from '~/table.ts';\nimport {\n\ttype Assume,\n\ttype DrizzleTypeError,\n\ttype Equal,\n\tgetTableLikeName,\n\tmapUpdateSet,\n\ttype NeonAuthToken,\n\torderSelectedFields,\n\ttype Simplify,\n\ttype UpdateSet,\n} from '~/utils.ts';\nimport { ViewBaseConfig } from '~/view-common.ts';\nimport type { PgColumn } from '../columns/common.ts';\nimport { extractUsedTable } from '../utils.ts';\nimport type { PgViewBase } from '../view-base.ts';\nimport type {\n\tPgSelectJoinConfig,\n\tSelectedFields,\n\tSelectedFieldsOrdered,\n\tTableLikeHasEmptySelection,\n} from './select.types.ts';\n\nexport interface PgUpdateConfig {\n\twhere?: SQL | undefined;\n\tset: UpdateSet;\n\ttable: PgTable;\n\tfrom?: PgTable | Subquery | PgViewBase | SQL;\n\tjoins: PgSelectJoinConfig[];\n\treturningFields?: SelectedFields;\n\treturning?: SelectedFieldsOrdered;\n\twithList?: Subquery[];\n}\n\nexport type PgUpdateSetSource<TTable extends PgTable> =\n\t& {\n\t\t[Key in keyof TTable['$inferInsert']]?:\n\t\t\t| GetColumnData<TTable['_']['columns'][Key]>\n\t\t\t| SQL\n\t\t\t| PgColumn\n\t\t\t| undefined;\n\t}\n\t& {};\n\nexport class PgUpdateBuilder<TTable extends PgTable, TQueryResult extends PgQueryResultHKT> {\n\tstatic readonly [entityKind]: string = 'PgUpdateBuilder';\n\n\tdeclare readonly _: {\n\t\treadonly table: TTable;\n\t};\n\n\tconstructor(\n\t\tprivate table: TTable,\n\t\tprivate session: PgSession,\n\t\tprivate dialect: PgDialect,\n\t\tprivate withList?: Subquery[],\n\t) {}\n\n\tprivate authToken?: NeonAuthToken;\n\tsetToken(token: NeonAuthToken) {\n\t\tthis.authToken = token;\n\t\treturn this;\n\t}\n\n\tset(\n\t\tvalues: PgUpdateSetSource<TTable>,\n\t): PgUpdateWithout<PgUpdateBase<TTable, TQueryResult>, false, 'leftJoin' | 'rightJoin' | 'innerJoin' | 'fullJoin'> {\n\t\treturn new PgUpdateBase<TTable, TQueryResult>(\n\t\t\tthis.table,\n\t\t\tmapUpdateSet(this.table, values),\n\t\t\tthis.session,\n\t\t\tthis.dialect,\n\t\t\tthis.withList,\n\t\t).setToken(this.authToken);\n\t}\n}\n\nexport type PgUpdateWithout<\n\tT extends AnyPgUpdate,\n\tTDynamic extends boolean,\n\tK extends keyof T & string,\n> = TDynamic extends true ? T : Omit<\n\tPgUpdateBase<\n\t\tT['_']['table'],\n\t\tT['_']['queryResult'],\n\t\tT['_']['from'],\n\t\tT['_']['selectedFields'],\n\t\tT['_']['returning'],\n\t\tT['_']['nullabilityMap'],\n\t\tT['_']['joins'],\n\t\tTDynamic,\n\t\tT['_']['excludedMethods'] | K\n\t>,\n\tT['_']['excludedMethods'] | K\n>;\n\nexport type PgUpdateWithJoins<\n\tT extends AnyPgUpdate,\n\tTDynamic extends boolean,\n\tTFrom extends PgTable | Subquery | PgViewBase | SQL,\n> = TDynamic extends true ? T : Omit<\n\tPgUpdateBase<\n\t\tT['_']['table'],\n\t\tT['_']['queryResult'],\n\t\tTFrom,\n\t\tT['_']['selectedFields'],\n\t\tT['_']['returning'],\n\t\tAppendToNullabilityMap<T['_']['nullabilityMap'], GetSelectTableName<TFrom>, 'inner'>,\n\t\t[...T['_']['joins'], {\n\t\t\tname: GetSelectTableName<TFrom>;\n\t\t\tjoinType: 'inner';\n\t\t\ttable: TFrom;\n\t\t}],\n\t\tTDynamic,\n\t\tExclude<T['_']['excludedMethods'] | 'from', 'leftJoin' | 'rightJoin' | 'innerJoin' | 'fullJoin'>\n\t>,\n\tExclude<T['_']['excludedMethods'] | 'from', 'leftJoin' | 'rightJoin' | 'innerJoin' | 'fullJoin'>\n>;\n\nexport type PgUpdateJoinFn<\n\tT extends AnyPgUpdate,\n\tTDynamic extends boolean,\n\tTJoinType extends JoinType,\n> = <\n\tTJoinedTable extends PgTable | Subquery | PgViewBase | SQL,\n>(\n\ttable: TableLikeHasEmptySelection<TJoinedTable> extends true ? DrizzleTypeError<\n\t\t\t\"Cannot reference a data-modifying statement subquery if it doesn't contain a `returning` clause\"\n\t\t>\n\t\t: TJoinedTable,\n\ton:\n\t\t| (\n\t\t\t(\n\t\t\t\tupdateTable: T['_']['table']['_']['columns'],\n\t\t\t\tfrom: T['_']['from'] extends PgTable ? T['_']['from']['_']['columns']\n\t\t\t\t\t: T['_']['from'] extends Subquery | PgViewBase ? T['_']['from']['_']['selectedFields']\n\t\t\t\t\t: never,\n\t\t\t) => SQL | undefined\n\t\t)\n\t\t| SQL\n\t\t| undefined,\n) => PgUpdateJoin<T, TDynamic, TJoinType, TJoinedTable>;\n\nexport type PgUpdateJoin<\n\tT extends AnyPgUpdate,\n\tTDynamic extends boolean,\n\tTJoinType extends JoinType,\n\tTJoinedTable extends PgTable | Subquery | PgViewBase | SQL,\n> = TDynamic extends true ? T : PgUpdateBase<\n\tT['_']['table'],\n\tT['_']['queryResult'],\n\tT['_']['from'],\n\tT['_']['selectedFields'],\n\tT['_']['returning'],\n\tAppendToNullabilityMap<T['_']['nullabilityMap'], GetSelectTableName<TJoinedTable>, TJoinType>,\n\t[...T['_']['joins'], {\n\t\tname: GetSelectTableName<TJoinedTable>;\n\t\tjoinType: TJoinType;\n\t\ttable: TJoinedTable;\n\t}],\n\tTDynamic,\n\tT['_']['excludedMethods']\n>;\n\ntype Join = {\n\tname: string | undefined;\n\tjoinType: JoinType;\n\ttable: PgTable | Subquery | PgViewBase | SQL;\n};\n\ntype AccumulateToResult<\n\tT extends AnyPgUpdate,\n\tTSelectMode extends SelectMode,\n\tTJoins extends Join[],\n\tTSelectedFields extends ColumnsSelection,\n> = TJoins extends [infer TJoin extends Join, ...infer TRest extends Join[]] ? AccumulateToResult<\n\t\tT,\n\t\tTSelectMode extends 'partial' ? TSelectMode : 'multiple',\n\t\tTRest,\n\t\tAppendToResult<\n\t\t\tT['_']['table']['_']['name'],\n\t\t\tTSelectedFields,\n\t\t\tTJoin['name'],\n\t\t\tTJoin['table'] extends Table ? TJoin['table']['_']['columns']\n\t\t\t\t: TJoin['table'] extends Subquery ? Assume<TJoin['table']['_']['selectedFields'], SelectedFields>\n\t\t\t\t: never,\n\t\t\tTSelectMode extends 'partial' ? TSelectMode : 'multiple'\n\t\t>\n\t>\n\t: TSelectedFields;\n\nexport type PgUpdateReturningAll<T extends AnyPgUpdate, TDynamic extends boolean> = PgUpdateWithout<\n\tPgUpdateBase<\n\t\tT['_']['table'],\n\t\tT['_']['queryResult'],\n\t\tT['_']['from'],\n\t\tEqual<T['_']['joins'], []> extends true ? T['_']['table']['_']['columns'] : Simplify<\n\t\t\t& Record<T['_']['table']['_']['name'], T['_']['table']['_']['columns']>\n\t\t\t& {\n\t\t\t\t[K in keyof T['_']['joins'] as T['_']['joins'][K]['table']['_']['name']]:\n\t\t\t\t\tT['_']['joins'][K]['table']['_']['columns'];\n\t\t\t}\n\t\t>,\n\t\tSelectResult<\n\t\t\tAccumulateToResult<\n\t\t\t\tT,\n\t\t\t\t'single',\n\t\t\t\tT['_']['joins'],\n\t\t\t\tGetSelectTableSelection<T['_']['table']>\n\t\t\t>,\n\t\t\t'partial',\n\t\t\tT['_']['nullabilityMap']\n\t\t>,\n\t\tT['_']['nullabilityMap'],\n\t\tT['_']['joins'],\n\t\tTDynamic,\n\t\tT['_']['excludedMethods']\n\t>,\n\tTDynamic,\n\t'returning'\n>;\n\nexport type PgUpdateReturning<\n\tT extends AnyPgUpdate,\n\tTDynamic extends boolean,\n\tTSelectedFields extends SelectedFields,\n> = PgUpdateWithout<\n\tPgUpdateBase<\n\t\tT['_']['table'],\n\t\tT['_']['queryResult'],\n\t\tT['_']['from'],\n\t\tTSelectedFields,\n\t\tSelectResult<\n\t\t\tAccumulateToResult<\n\t\t\t\tT,\n\t\t\t\t'partial',\n\t\t\t\tT['_']['joins'],\n\t\t\t\tTSelectedFields\n\t\t\t>,\n\t\t\t'partial',\n\t\t\tT['_']['nullabilityMap']\n\t\t>,\n\t\tT['_']['nullabilityMap'],\n\t\tT['_']['joins'],\n\t\tTDynamic,\n\t\tT['_']['excludedMethods']\n\t>,\n\tTDynamic,\n\t'returning'\n>;\n\nexport type PgUpdatePrepare<T extends AnyPgUpdate> = PgPreparedQuery<\n\tPreparedQueryConfig & {\n\t\texecute: T['_']['returning'] extends undefined ? PgQueryResultKind<T['_']['queryResult'], never>\n\t\t\t: T['_']['returning'][];\n\t}\n>;\n\nexport type PgUpdateDynamic<T extends AnyPgUpdate> = PgUpdate<\n\tT['_']['table'],\n\tT['_']['queryResult'],\n\tT['_']['from'],\n\tT['_']['returning'],\n\tT['_']['nullabilityMap']\n>;\n\nexport type PgUpdate<\n\tTTable extends PgTable = PgTable,\n\tTQueryResult extends PgQueryResultHKT = PgQueryResultHKT,\n\tTFrom extends PgTable | Subquery | PgViewBase | SQL | undefined = undefined,\n\tTSelectedFields extends ColumnsSelection | undefined = undefined,\n\tTReturning extends Record<string, unknown> | undefined = Record<string, unknown> | undefined,\n\tTNullabilityMap extends Record<string, JoinNullability> = Record<TTable['_']['name'], 'not-null'>,\n\tTJoins extends Join[] = [],\n> = PgUpdateBase<TTable, TQueryResult, TFrom, TSelectedFields, TReturning, TNullabilityMap, TJoins, true, never>;\n\nexport type AnyPgUpdate = PgUpdateBase<any, any, any, any, any, any, any, any, any>;\n\nexport interface PgUpdateBase<\n\tTTable extends PgTable,\n\tTQueryResult extends PgQueryResultHKT,\n\tTFrom extends PgTable | Subquery | PgViewBase | SQL | undefined = undefined,\n\tTSelectedFields extends ColumnsSelection | undefined = undefined,\n\tTReturning extends Record<string, unknown> | undefined = undefined,\n\tTNullabilityMap extends Record<string, JoinNullability> = Record<TTable['_']['name'], 'not-null'>,\n\tTJoins extends Join[] = [],\n\tTDynamic extends boolean = false,\n\tTExcludedMethods extends string = never,\n> extends\n\tTypedQueryBuilder<\n\t\tTSelectedFields,\n\t\tTReturning extends undefined ? PgQueryResultKind<TQueryResult, never> : TReturning[]\n\t>,\n\tQueryPromise<TReturning extends undefined ? PgQueryResultKind<TQueryResult, never> : TReturning[]>,\n\tRunnableQuery<TReturning extends undefined ? PgQueryResultKind<TQueryResult, never> : TReturning[], 'pg'>,\n\tSQLWrapper\n{\n\treadonly _: {\n\t\treadonly dialect: 'pg';\n\t\treadonly table: TTable;\n\t\treadonly joins: TJoins;\n\t\treadonly nullabilityMap: TNullabilityMap;\n\t\treadonly queryResult: TQueryResult;\n\t\treadonly from: TFrom;\n\t\treadonly selectedFields: TSelectedFields;\n\t\treadonly returning: TReturning;\n\t\treadonly dynamic: TDynamic;\n\t\treadonly excludedMethods: TExcludedMethods;\n\t\treadonly result: TReturning extends undefined ? PgQueryResultKind<TQueryResult, never> : TReturning[];\n\t};\n}\n\nexport class PgUpdateBase<\n\tTTable extends PgTable,\n\tTQueryResult extends PgQueryResultHKT,\n\tTFrom extends PgTable | Subquery | PgViewBase | SQL | undefined = undefined,\n\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\n\tTSelectedFields extends ColumnsSelection | undefined = undefined,\n\tTReturning extends Record<string, unknown> | undefined = undefined,\n\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\n\tTNullabilityMap extends Record<string, JoinNullability> = Record<TTable['_']['name'], 'not-null'>,\n\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\n\tTJoins extends Join[] = [],\n\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\n\tTDynamic extends boolean = false,\n\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\n\tTExcludedMethods extends string = never,\n> extends QueryPromise<TReturning extends undefined ? PgQueryResultKind<TQueryResult, never> : TReturning[]>\n\timplements\n\t\tRunnableQuery<TReturning extends undefined ? PgQueryResultKind<TQueryResult, never> : TReturning[], 'pg'>,\n\t\tSQLWrapper\n{\n\tstatic override readonly [entityKind]: string = 'PgUpdate';\n\n\tprivate config: PgUpdateConfig;\n\tprivate tableName: string | undefined;\n\tprivate joinsNotNullableMap: Record<string, boolean>;\n\tprotected cacheConfig?: WithCacheConfig;\n\n\tconstructor(\n\t\ttable: TTable,\n\t\tset: UpdateSet,\n\t\tprivate session: PgSession,\n\t\tprivate dialect: PgDialect,\n\t\twithList?: Subquery[],\n\t) {\n\t\tsuper();\n\t\tthis.config = { set, table, withList, joins: [] };\n\t\tthis.tableName = getTableLikeName(table);\n\t\tthis.joinsNotNullableMap = typeof this.tableName === 'string' ? { [this.tableName]: true } : {};\n\t}\n\n\tfrom<TFrom extends PgTable | Subquery | PgViewBase | SQL>(\n\t\tsource: TableLikeHasEmptySelection<TFrom> extends true ? DrizzleTypeError<\n\t\t\t\t\"Cannot reference a data-modifying statement subquery if it doesn't contain a `returning` clause\"\n\t\t\t>\n\t\t\t: TFrom,\n\t): PgUpdateWithJoins<this, TDynamic, TFrom> {\n\t\tconst src = source as TFrom;\n\t\tconst tableName = getTableLikeName(src);\n\t\tif (typeof tableName === 'string') {\n\t\t\tthis.joinsNotNullableMap[tableName] = true;\n\t\t}\n\t\tthis.config.from = src;\n\t\treturn this as any;\n\t}\n\n\tprivate getTableLikeFields(table: PgTable | Subquery | PgViewBase): Record<string, unknown> {\n\t\tif (is(table, PgTable)) {\n\t\t\treturn table[Table.Symbol.Columns];\n\t\t} else if (is(table, Subquery)) {\n\t\t\treturn table._.selectedFields;\n\t\t}\n\t\treturn table[ViewBaseConfig].selectedFields;\n\t}\n\n\tprivate createJoin<TJoinType extends JoinType>(\n\t\tjoinType: TJoinType,\n\t): PgUpdateJoinFn<this, TDynamic, TJoinType> {\n\t\treturn ((\n\t\t\ttable: PgTable | Subquery | PgViewBase | SQL,\n\t\t\ton: ((updateTable: TTable, from: TFrom) => SQL | undefined) | SQL | undefined,\n\t\t) => {\n\t\t\tconst tableName = getTableLikeName(table);\n\n\t\t\tif (typeof tableName === 'string' && this.config.joins.some((join) => join.alias === tableName)) {\n\t\t\t\tthrow new Error(`Alias \"${tableName}\" is already used in this query`);\n\t\t\t}\n\n\t\t\tif (typeof on === 'function') {\n\t\t\t\tconst from = this.config.from && !is(this.config.from, SQL)\n\t\t\t\t\t? this.getTableLikeFields(this.config.from)\n\t\t\t\t\t: undefined;\n\t\t\t\ton = on(\n\t\t\t\t\tnew Proxy(\n\t\t\t\t\t\tthis.config.table[Table.Symbol.Columns],\n\t\t\t\t\t\tnew SelectionProxyHandler({ sqlAliasedBehavior: 'sql', sqlBehavior: 'sql' }),\n\t\t\t\t\t) as any,\n\t\t\t\t\tfrom && new Proxy(\n\t\t\t\t\t\tfrom,\n\t\t\t\t\t\tnew SelectionProxyHandler({ sqlAliasedBehavior: 'sql', sqlBehavior: 'sql' }),\n\t\t\t\t\t) as any,\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tthis.config.joins.push({ on, table, joinType, alias: tableName });\n\n\t\t\tif (typeof tableName === 'string') {\n\t\t\t\tswitch (joinType) {\n\t\t\t\t\tcase 'left': {\n\t\t\t\t\t\tthis.joinsNotNullableMap[tableName] = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcase 'right': {\n\t\t\t\t\t\tthis.joinsNotNullableMap = Object.fromEntries(\n\t\t\t\t\t\t\tObject.entries(this.joinsNotNullableMap).map(([key]) => [key, false]),\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthis.joinsNotNullableMap[tableName] = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcase 'inner': {\n\t\t\t\t\t\tthis.joinsNotNullableMap[tableName] = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcase 'full': {\n\t\t\t\t\t\tthis.joinsNotNullableMap = Object.fromEntries(\n\t\t\t\t\t\t\tObject.entries(this.joinsNotNullableMap).map(([key]) => [key, false]),\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthis.joinsNotNullableMap[tableName] = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this as any;\n\t\t}) as any;\n\t}\n\n\tleftJoin = this.createJoin('left');\n\n\trightJoin = this.createJoin('right');\n\n\tinnerJoin = this.createJoin('inner');\n\n\tfullJoin = this.createJoin('full');\n\n\t/**\n\t * Adds a 'where' clause to the query.\n\t *\n\t * Calling this method will update only those rows that fulfill a specified condition.\n\t *\n\t * See docs: {@link https://orm.drizzle.team/docs/update}\n\t *\n\t * @param where the 'where' clause.\n\t *\n\t * @example\n\t * You can use conditional operators and `sql function` to filter the rows to be updated.\n\t *\n\t * ```ts\n\t * // Update all cars with green color\n\t * await db.update(cars).set({ color: 'red' })\n\t *   .where(eq(cars.color, 'green'));\n\t * // or\n\t * await db.update(cars).set({ color: 'red' })\n\t *   .where(sql`${cars.color} = 'green'`)\n\t * ```\n\t *\n\t * You can logically combine conditional operators with `and()` and `or()` operators:\n\t *\n\t * ```ts\n\t * // Update all BMW cars with a green color\n\t * await db.update(cars).set({ color: 'red' })\n\t *   .where(and(eq(cars.color, 'green'), eq(cars.brand, 'BMW')));\n\t *\n\t * // Update all cars with the green or blue color\n\t * await db.update(cars).set({ color: 'red' })\n\t *   .where(or(eq(cars.color, 'green'), eq(cars.color, 'blue')));\n\t * ```\n\t */\n\twhere(where: SQL | undefined): PgUpdateWithout<this, TDynamic, 'where'> {\n\t\tthis.config.where = where;\n\t\treturn this as any;\n\t}\n\n\t/**\n\t * Adds a `returning` clause to the query.\n\t *\n\t * Calling this method will return the specified fields of the updated rows. If no fields are specified, all fields will be returned.\n\t *\n\t * See docs: {@link https://orm.drizzle.team/docs/update#update-with-returning}\n\t *\n\t * @example\n\t * ```ts\n\t * // Update all cars with the green color and return all fields\n\t * const updatedCars: Car[] = await db.update(cars)\n\t *   .set({ color: 'red' })\n\t *   .where(eq(cars.color, 'green'))\n\t *   .returning();\n\t *\n\t * // Update all cars with the green color and return only their id and brand fields\n\t * const updatedCarsIdsAndBrands: { id: number, brand: string }[] = await db.update(cars)\n\t *   .set({ color: 'red' })\n\t *   .where(eq(cars.color, 'green'))\n\t *   .returning({ id: cars.id, brand: cars.brand });\n\t * ```\n\t */\n\treturning(): PgUpdateReturningAll<this, TDynamic>;\n\treturning<TSelectedFields extends SelectedFields>(\n\t\tfields: TSelectedFields,\n\t): PgUpdateReturning<this, TDynamic, TSelectedFields>;\n\treturning(\n\t\tfields?: SelectedFields,\n\t): PgUpdateWithout<AnyPgUpdate, TDynamic, 'returning'> {\n\t\tif (!fields) {\n\t\t\tfields = Object.assign({}, this.config.table[Table.Symbol.Columns]);\n\n\t\t\tif (this.config.from) {\n\t\t\t\tconst tableName = getTableLikeName(this.config.from);\n\n\t\t\t\tif (typeof tableName === 'string' && this.config.from && !is(this.config.from, SQL)) {\n\t\t\t\t\tconst fromFields = this.getTableLikeFields(this.config.from);\n\t\t\t\t\tfields[tableName] = fromFields as any;\n\t\t\t\t}\n\n\t\t\t\tfor (const join of this.config.joins) {\n\t\t\t\t\tconst tableName = getTableLikeName(join.table);\n\n\t\t\t\t\tif (typeof tableName === 'string' && !is(join.table, SQL)) {\n\t\t\t\t\t\tconst fromFields = this.getTableLikeFields(join.table);\n\t\t\t\t\t\tfields[tableName] = fromFields as any;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.config.returningFields = fields;\n\t\tthis.config.returning = orderSelectedFields<PgColumn>(fields);\n\t\treturn this as any;\n\t}\n\n\t/** @internal */\n\tgetSQL(): SQL {\n\t\treturn this.dialect.buildUpdateQuery(this.config);\n\t}\n\n\ttoSQL(): Query {\n\t\tconst { typings: _typings, ...rest } = this.dialect.sqlToQuery(this.getSQL());\n\t\treturn rest;\n\t}\n\n\t/** @internal */\n\t_prepare(name?: string): PgUpdatePrepare<this> {\n\t\tconst query = this.session.prepareQuery<\n\t\t\tPreparedQueryConfig & { execute: TReturning[] }\n\t\t>(this.dialect.sqlToQuery(this.getSQL()), this.config.returning, name, true, undefined, {\n\t\t\ttype: 'insert',\n\t\t\ttables: extractUsedTable(this.config.table),\n\t\t}, this.cacheConfig);\n\t\tquery.joinsNotNullableMap = this.joinsNotNullableMap;\n\t\treturn query;\n\t}\n\n\tprepare(name: string): PgUpdatePrepare<this> {\n\t\treturn this._prepare(name);\n\t}\n\n\tprivate authToken?: NeonAuthToken;\n\t/** @internal */\n\tsetToken(token?: NeonAuthToken) {\n\t\tthis.authToken = token;\n\t\treturn this;\n\t}\n\n\toverride execute: ReturnType<this['prepare']>['execute'] = (placeholderValues) => {\n\t\treturn this._prepare().execute(placeholderValues, this.authToken);\n\t};\n\n\t/** @internal */\n\tgetSelectedFields(): this['_']['selectedFields'] {\n\t\treturn (\n\t\t\tthis.config.returningFields\n\t\t\t\t? new Proxy(\n\t\t\t\t\tthis.config.returningFields,\n\t\t\t\t\tnew SelectionProxyHandler({\n\t\t\t\t\t\talias: getTableName(this.config.table),\n\t\t\t\t\t\tsqlAliasedBehavior: 'alias',\n\t\t\t\t\t\tsqlBehavior: 'error',\n\t\t\t\t\t}),\n\t\t\t\t)\n\t\t\t\t: undefined\n\t\t) as this['_']['selectedFields'];\n\t}\n\n\t$dynamic(): PgUpdateDynamic<this> {\n\t\treturn this as any;\n\t}\n}\n", "import { entityKind } from '~/entity.ts';\nimport { SQL, sql, type SQLWrapper } from '~/sql/sql.ts';\nimport type { NeonAuthToken } from '~/utils.ts';\nimport type { PgSession } from '../session.ts';\nimport type { PgTable } from '../table.ts';\n\nexport class PgCountBuilder<\n\tTSession extends PgSession<any, any, any>,\n> extends SQL<number> implements Promise<number>, SQLWrapper {\n\tprivate sql: SQL<number>;\n\tprivate token?: NeonAuthToken;\n\n\tstatic override readonly [entityKind] = 'PgCountBuilder';\n\t[Symbol.toStringTag] = 'PgCountBuilder';\n\n\tprivate session: TSession;\n\n\tprivate static buildEmbeddedCount(\n\t\tsource: PgTable | SQL | SQLWrapper,\n\t\tfilters?: SQL<unknown>,\n\t): SQL<number> {\n\t\treturn sql<number>`(select count(*) from ${source}${sql.raw(' where ').if(filters)}${filters})`;\n\t}\n\n\tprivate static buildCount(\n\t\tsource: PgTable | SQL | SQLWrapper,\n\t\tfilters?: SQL<unknown>,\n\t): SQL<number> {\n\t\treturn sql<number>`select count(*) as count from ${source}${sql.raw(' where ').if(filters)}${filters};`;\n\t}\n\n\tconstructor(\n\t\treadonly params: {\n\t\t\tsource: PgTable | SQL | SQLWrapper;\n\t\t\tfilters?: SQL<unknown>;\n\t\t\tsession: TSession;\n\t\t},\n\t) {\n\t\tsuper(PgCountBuilder.buildEmbeddedCount(params.source, params.filters).queryChunks);\n\n\t\tthis.mapWith(Number);\n\n\t\tthis.session = params.session;\n\n\t\tthis.sql = PgCountBuilder.buildCount(\n\t\t\tparams.source,\n\t\t\tparams.filters,\n\t\t);\n\t}\n\n\t/** @intrnal */\n\tsetToken(token?: NeonAuthToken) {\n\t\tthis.token = token;\n\t\treturn this;\n\t}\n\n\tthen<TResult1 = number, TResult2 = never>(\n\t\tonfulfilled?: ((value: number) => TResult1 | PromiseLike<TResult1>) | null | undefined,\n\t\tonrejected?: ((reason: any) => TResult2 | PromiseLike<TResult2>) | null | undefined,\n\t): Promise<TResult1 | TResult2> {\n\t\treturn Promise.resolve(this.session.count(this.sql, this.token))\n\t\t\t.then(\n\t\t\t\tonfulfilled,\n\t\t\t\tonrejected,\n\t\t\t);\n\t}\n\n\tcatch(\n\t\tonRejected?: ((reason: any) => any) | null | undefined,\n\t): Promise<number> {\n\t\treturn this.then(undefined, onRejected);\n\t}\n\n\tfinally(onFinally?: (() => void) | null | undefined): Promise<number> {\n\t\treturn this.then(\n\t\t\t(value) => {\n\t\t\t\tonFinally?.();\n\t\t\t\treturn value;\n\t\t\t},\n\t\t\t(reason) => {\n\t\t\t\tonFinally?.();\n\t\t\t\tthrow reason;\n\t\t\t},\n\t\t);\n\t}\n}\n", "import { entityKind } from '~/entity.ts';\nimport { QueryPromise } from '~/query-promise.ts';\nimport {\n\ttype BuildQueryResult,\n\ttype BuildRelationalQueryResult,\n\ttype DBQueryConfig,\n\tmapRelationalRow,\n\ttype TableRelationalConfig,\n\ttype TablesRelationalConfig,\n} from '~/relations.ts';\nimport type { RunnableQuery } from '~/runnable-query.ts';\nimport type { Query, QueryWithTypings, SQL, SQLWrapper } from '~/sql/sql.ts';\nimport { tracer } from '~/tracing.ts';\nimport type { KnownKeysOnly, NeonAuthToken } from '~/utils.ts';\nimport type { PgDialect } from '../dialect.ts';\nimport type { PgPreparedQuery, PgSession, PreparedQueryConfig } from '../session.ts';\nimport type { PgTable } from '../table.ts';\n\nexport class RelationalQueryBuilder<TSchema extends TablesRelationalConfig, TFields extends TableRelationalConfig> {\n\tstatic readonly [entityKind]: string = 'PgRelationalQueryBuilder';\n\n\tconstructor(\n\t\tprivate fullSchema: Record<string, unknown>,\n\t\tprivate schema: TSchema,\n\t\tprivate tableNamesMap: Record<string, string>,\n\t\tprivate table: PgTable,\n\t\tprivate tableConfig: TableRelationalConfig,\n\t\tprivate dialect: PgDialect,\n\t\tprivate session: PgSession,\n\t) {}\n\n\tfindMany<TConfig extends DBQueryConfig<'many', true, TSchema, TFields>>(\n\t\tconfig?: KnownKeysOnly<TConfig, DBQueryConfig<'many', true, TSchema, TFields>>,\n\t): PgRelationalQuery<BuildQueryResult<TSchema, TFields, TConfig>[]> {\n\t\treturn new PgRelationalQuery(\n\t\t\tthis.fullSchema,\n\t\t\tthis.schema,\n\t\t\tthis.tableNamesMap,\n\t\t\tthis.table,\n\t\t\tthis.tableConfig,\n\t\t\tthis.dialect,\n\t\t\tthis.session,\n\t\t\tconfig ? (config as DBQueryConfig<'many', true>) : {},\n\t\t\t'many',\n\t\t);\n\t}\n\n\tfindFirst<TSelection extends Omit<DBQueryConfig<'many', true, TSchema, TFields>, 'limit'>>(\n\t\tconfig?: KnownKeysOnly<TSelection, Omit<DBQueryConfig<'many', true, TSchema, TFields>, 'limit'>>,\n\t): PgRelationalQuery<BuildQueryResult<TSchema, TFields, TSelection> | undefined> {\n\t\treturn new PgRelationalQuery(\n\t\t\tthis.fullSchema,\n\t\t\tthis.schema,\n\t\t\tthis.tableNamesMap,\n\t\t\tthis.table,\n\t\t\tthis.tableConfig,\n\t\t\tthis.dialect,\n\t\t\tthis.session,\n\t\t\tconfig ? { ...(config as DBQueryConfig<'many', true> | undefined), limit: 1 } : { limit: 1 },\n\t\t\t'first',\n\t\t);\n\t}\n}\n\nexport class PgRelationalQuery<TResult> extends QueryPromise<TResult>\n\timplements RunnableQuery<TResult, 'pg'>, SQLWrapper\n{\n\tstatic override readonly [entityKind]: string = 'PgRelationalQuery';\n\n\tdeclare readonly _: {\n\t\treadonly dialect: 'pg';\n\t\treadonly result: TResult;\n\t};\n\n\tconstructor(\n\t\tprivate fullSchema: Record<string, unknown>,\n\t\tprivate schema: TablesRelationalConfig,\n\t\tprivate tableNamesMap: Record<string, string>,\n\t\tprivate table: PgTable,\n\t\tprivate tableConfig: TableRelationalConfig,\n\t\tprivate dialect: PgDialect,\n\t\tprivate session: PgSession,\n\t\tprivate config: DBQueryConfig<'many', true> | true,\n\t\tprivate mode: 'many' | 'first',\n\t) {\n\t\tsuper();\n\t}\n\n\t/** @internal */\n\t_prepare(name?: string): PgPreparedQuery<PreparedQueryConfig & { execute: TResult }> {\n\t\treturn tracer.startActiveSpan('drizzle.prepareQuery', () => {\n\t\t\tconst { query, builtQuery } = this._toSQL();\n\n\t\t\treturn this.session.prepareQuery<PreparedQueryConfig & { execute: TResult }>(\n\t\t\t\tbuiltQuery,\n\t\t\t\tundefined,\n\t\t\t\tname,\n\t\t\t\ttrue,\n\t\t\t\t(rawRows, mapColumnValue) => {\n\t\t\t\t\tconst rows = rawRows.map((row) =>\n\t\t\t\t\t\tmapRelationalRow(this.schema, this.tableConfig, row, query.selection, mapColumnValue)\n\t\t\t\t\t);\n\t\t\t\t\tif (this.mode === 'first') {\n\t\t\t\t\t\treturn rows[0] as TResult;\n\t\t\t\t\t}\n\t\t\t\t\treturn rows as TResult;\n\t\t\t\t},\n\t\t\t);\n\t\t});\n\t}\n\n\tprepare(name: string): PgPreparedQuery<PreparedQueryConfig & { execute: TResult }> {\n\t\treturn this._prepare(name);\n\t}\n\n\tprivate _getQuery() {\n\t\treturn this.dialect.buildRelationalQueryWithoutPK({\n\t\t\tfullSchema: this.fullSchema,\n\t\t\tschema: this.schema,\n\t\t\ttableNamesMap: this.tableNamesMap,\n\t\t\ttable: this.table,\n\t\t\ttableConfig: this.tableConfig,\n\t\t\tqueryConfig: this.config,\n\t\t\ttableAlias: this.tableConfig.tsName,\n\t\t});\n\t}\n\n\t/** @internal */\n\tgetSQL(): SQL {\n\t\treturn this._getQuery().sql as SQL;\n\t}\n\n\tprivate _toSQL(): { query: BuildRelationalQueryResult; builtQuery: QueryWithTypings } {\n\t\tconst query = this._getQuery();\n\n\t\tconst builtQuery = this.dialect.sqlToQuery(query.sql as SQL);\n\n\t\treturn { query, builtQuery };\n\t}\n\n\ttoSQL(): Query {\n\t\treturn this._toSQL().builtQuery;\n\t}\n\n\tprivate authToken?: NeonAuthToken;\n\t/** @internal */\n\tsetToken(token?: NeonAuthToken) {\n\t\tthis.authToken = token;\n\t\treturn this;\n\t}\n\n\toverride execute(): Promise<TResult> {\n\t\treturn tracer.startActiveSpan('drizzle.operation', () => {\n\t\t\treturn this._prepare().execute(undefined, this.authToken);\n\t\t});\n\t}\n}\n", "import { entityKind } from '~/entity.ts';\nimport { QueryPromise } from '~/query-promise.ts';\nimport type { RunnableQuery } from '~/runnable-query.ts';\nimport type { PreparedQuery } from '~/session.ts';\nimport type { Query, SQL, SQLWrapper } from '~/sql/sql.ts';\n\nexport interface PgRaw<TResult> extends QueryPromise<TResult>, RunnableQuery<TResult, 'pg'>, SQLWrapper {}\n\nexport class PgRaw<TResult> extends QueryPromise<TResult>\n\timplements RunnableQuery<TResult, 'pg'>, SQLWrapper, PreparedQuery\n{\n\tstatic override readonly [entityKind]: string = 'PgRaw';\n\n\tdeclare readonly _: {\n\t\treadonly dialect: 'pg';\n\t\treadonly result: TResult;\n\t};\n\n\tconstructor(\n\t\tpublic execute: () => Promise<TResult>,\n\t\tprivate sql: SQL,\n\t\tprivate query: Query,\n\t\tprivate mapBatchResult: (result: unknown) => unknown,\n\t) {\n\t\tsuper();\n\t}\n\n\t/** @internal */\n\tgetSQL() {\n\t\treturn this.sql;\n\t}\n\n\tgetQuery() {\n\t\treturn this.query;\n\t}\n\n\tmapResult(result: unknown, isFromBatch?: boolean) {\n\t\treturn isFromBatch ? this.mapBatchResult(result) : result;\n\t}\n\n\t_prepare(): PreparedQuery {\n\t\treturn this;\n\t}\n\n\t/** @internal */\n\tisResponseInArrayMode() {\n\t\treturn false;\n\t}\n}\n", "import type { FullQueryResults, NeonQueryFunction, NeonQueryPromise } from '@neondatabase/serverless';\nimport type { BatchItem } from '~/batch.ts';\nimport { type Cache, NoopCache } from '~/cache/core/index.ts';\nimport type { WithCacheConfig } from '~/cache/core/types.ts';\nimport { entityKind } from '~/entity.ts';\nimport type { Logger } from '~/logger.ts';\nimport { NoopLogger } from '~/logger.ts';\nimport type { PgDialect } from '~/pg-core/dialect.ts';\nimport { PgTransaction } from '~/pg-core/index.ts';\nimport type { SelectedFieldsOrdered } from '~/pg-core/query-builders/select.types.ts';\nimport type { PgQueryResultHKT, PgTransactionConfig, PreparedQueryConfig } from '~/pg-core/session.ts';\nimport { PgPreparedQuery as PgPreparedQuery, PgSession } from '~/pg-core/session.ts';\nimport type { RelationalSchemaConfig, TablesRelationalConfig } from '~/relations.ts';\nimport type { PreparedQuery } from '~/session.ts';\nimport { fillPlaceholders, type Query, type SQL } from '~/sql/sql.ts';\nimport { mapResultRow, type NeonAuthToken } from '~/utils.ts';\n\nexport type NeonHttpClient = NeonQueryFunction<any, any>;\n\nconst rawQueryConfig = {\n\tarrayMode: false,\n\tfullResults: true,\n} as const;\nconst queryConfig = {\n\tarrayMode: true,\n\tfullResults: true,\n} as const;\n\nexport class NeonHttpPreparedQuery<T extends PreparedQueryConfig> extends PgPreparedQuery<T> {\n\tstatic override readonly [entityKind]: string = 'NeonHttpPreparedQuery';\n\tprivate clientQuery: (sql: string, params: any[], opts: Record<string, any>) => NeonQueryPromise<any, any>;\n\n\tconstructor(\n\t\tprivate client: NeonHttpClient,\n\t\tquery: Query,\n\t\tprivate logger: Logger,\n\t\tcache: Cache,\n\t\tqueryMetadata: {\n\t\t\ttype: 'select' | 'update' | 'delete' | 'insert';\n\t\t\ttables: string[];\n\t\t} | undefined,\n\t\tcacheConfig: WithCacheConfig | undefined,\n\t\tprivate fields: SelectedFieldsOrdered | undefined,\n\t\tprivate _isResponseInArrayMode: boolean,\n\t\tprivate customResultMapper?: (rows: unknown[][]) => T['execute'],\n\t) {\n\t\tsuper(query, cache, queryMetadata, cacheConfig);\n\t\t// `client.query` is for @neondatabase/serverless v1.0.0 and up, where the\n\t\t// root query function `client` is only usable as a template function;\n\t\t// `client` is a fallback for earlier versions\n\t\tthis.clientQuery = (client as any).query ?? client as any;\n\t}\n\n\tasync execute(placeholderValues: Record<string, unknown> | undefined): Promise<T['execute']>;\n\t/** @internal */\n\tasync execute(placeholderValues: Record<string, unknown> | undefined, token?: NeonAuthToken): Promise<T['execute']>;\n\t/** @internal */\n\tasync execute(\n\t\tplaceholderValues: Record<string, unknown> | undefined = {},\n\t\ttoken: NeonAuthToken | undefined = this.authToken,\n\t): Promise<T['execute']> {\n\t\tconst params = fillPlaceholders(this.query.params, placeholderValues);\n\n\t\tthis.logger.logQuery(this.query.sql, params);\n\n\t\tconst { fields, clientQuery, query, customResultMapper } = this;\n\n\t\tif (!fields && !customResultMapper) {\n\t\t\treturn this.queryWithCache(query.sql, params, async () => {\n\t\t\t\treturn clientQuery(\n\t\t\t\t\tquery.sql,\n\t\t\t\t\tparams,\n\t\t\t\t\ttoken === undefined\n\t\t\t\t\t\t? rawQueryConfig\n\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t...rawQueryConfig,\n\t\t\t\t\t\t\tauthToken: token,\n\t\t\t\t\t\t},\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\n\t\tconst result = await this.queryWithCache(query.sql, params, async () => {\n\t\t\treturn await clientQuery(\n\t\t\t\tquery.sql,\n\t\t\t\tparams,\n\t\t\t\ttoken === undefined\n\t\t\t\t\t? queryConfig\n\t\t\t\t\t: {\n\t\t\t\t\t\t...queryConfig,\n\t\t\t\t\t\tauthToken: token,\n\t\t\t\t\t},\n\t\t\t);\n\t\t});\n\n\t\treturn this.mapResult(result);\n\t}\n\n\toverride mapResult(result: unknown): unknown {\n\t\tif (!this.fields && !this.customResultMapper) {\n\t\t\treturn result;\n\t\t}\n\n\t\tconst rows = (result as FullQueryResults<true>).rows;\n\n\t\tif (this.customResultMapper) {\n\t\t\treturn this.customResultMapper(rows);\n\t\t}\n\n\t\treturn rows.map((row) => mapResultRow(this.fields!, row, this.joinsNotNullableMap));\n\t}\n\n\tall(placeholderValues: Record<string, unknown> | undefined = {}): Promise<T['all']> {\n\t\tconst params = fillPlaceholders(this.query.params, placeholderValues);\n\t\tthis.logger.logQuery(this.query.sql, params);\n\t\treturn this.clientQuery(\n\t\t\tthis.query.sql,\n\t\t\tparams,\n\t\t\tthis.authToken === undefined ? rawQueryConfig : {\n\t\t\t\t...rawQueryConfig,\n\t\t\t\tauthToken: this.authToken,\n\t\t\t},\n\t\t).then((result) => result.rows);\n\t}\n\n\tvalues(placeholderValues: Record<string, unknown> | undefined): Promise<T['values']>;\n\t/** @internal */\n\tvalues(placeholderValues: Record<string, unknown> | undefined, token?: NeonAuthToken): Promise<T['values']>;\n\t/** @internal */\n\tvalues(placeholderValues: Record<string, unknown> | undefined = {}, token?: NeonAuthToken): Promise<T['values']> {\n\t\tconst params = fillPlaceholders(this.query.params, placeholderValues);\n\t\tthis.logger.logQuery(this.query.sql, params);\n\t\treturn this.clientQuery(this.query.sql, params, { arrayMode: true, fullResults: true, authToken: token }).then((\n\t\t\tresult,\n\t\t) => result.rows);\n\t}\n\n\t/** @internal */\n\tisResponseInArrayMode() {\n\t\treturn this._isResponseInArrayMode;\n\t}\n}\n\nexport interface NeonHttpSessionOptions {\n\tlogger?: Logger;\n\tcache?: Cache;\n}\n\nexport class NeonHttpSession<\n\tTFullSchema extends Record<string, unknown>,\n\tTSchema extends TablesRelationalConfig,\n> extends PgSession<NeonHttpQueryResultHKT, TFullSchema, TSchema> {\n\tstatic override readonly [entityKind]: string = 'NeonHttpSession';\n\n\tprivate clientQuery: (sql: string, params: any[], opts: Record<string, any>) => NeonQueryPromise<any, any>;\n\tprivate logger: Logger;\n\tprivate cache: Cache;\n\n\tconstructor(\n\t\tprivate client: NeonHttpClient,\n\t\tdialect: PgDialect,\n\t\tprivate schema: RelationalSchemaConfig<TSchema> | undefined,\n\t\tprivate options: NeonHttpSessionOptions = {},\n\t) {\n\t\tsuper(dialect);\n\t\t// `client.query` is for @neondatabase/serverless v1.0.0 and up, where the\n\t\t// root query function `client` is only usable as a template function;\n\t\t// `client` is a fallback for earlier versions\n\t\tthis.clientQuery = (client as any).query ?? client as any;\n\t\tthis.logger = options.logger ?? new NoopLogger();\n\t\tthis.cache = options.cache ?? new NoopCache();\n\t}\n\n\tprepareQuery<T extends PreparedQueryConfig = PreparedQueryConfig>(\n\t\tquery: Query,\n\t\tfields: SelectedFieldsOrdered | undefined,\n\t\tname: string | undefined,\n\t\tisResponseInArrayMode: boolean,\n\t\tcustomResultMapper?: (rows: unknown[][]) => T['execute'],\n\t\tqueryMetadata?: {\n\t\t\ttype: 'select' | 'update' | 'delete' | 'insert';\n\t\t\ttables: string[];\n\t\t},\n\t\tcacheConfig?: WithCacheConfig,\n\t): PgPreparedQuery<T> {\n\t\treturn new NeonHttpPreparedQuery(\n\t\t\tthis.client,\n\t\t\tquery,\n\t\t\tthis.logger,\n\t\t\tthis.cache,\n\t\t\tqueryMetadata,\n\t\t\tcacheConfig,\n\t\t\tfields,\n\t\t\tisResponseInArrayMode,\n\t\t\tcustomResultMapper,\n\t\t);\n\t}\n\n\tasync batch<U extends BatchItem<'pg'>, T extends Readonly<[U, ...U[]]>>(\n\t\tqueries: T,\n\t) {\n\t\tconst preparedQueries: PreparedQuery[] = [];\n\t\tconst builtQueries: NeonQueryPromise<any, true>[] = [];\n\t\tfor (const query of queries) {\n\t\t\tconst preparedQuery = query._prepare();\n\t\t\tconst builtQuery = preparedQuery.getQuery();\n\t\t\tpreparedQueries.push(preparedQuery);\n\t\t\tbuiltQueries.push(\n\t\t\t\tthis.clientQuery(builtQuery.sql, builtQuery.params, {\n\t\t\t\t\tfullResults: true,\n\t\t\t\t\tarrayMode: preparedQuery.isResponseInArrayMode(),\n\t\t\t\t}),\n\t\t\t);\n\t\t}\n\n\t\tconst batchResults = await this.client.transaction(builtQueries, queryConfig);\n\n\t\treturn batchResults.map((result, i) => preparedQueries[i]!.mapResult(result, true)) as any;\n\t}\n\n\t// change return type to QueryRows<true>\n\tasync query(query: string, params: unknown[]): Promise<FullQueryResults<true>> {\n\t\tthis.logger.logQuery(query, params);\n\t\tconst result = await this.clientQuery(query, params, { arrayMode: true, fullResults: true });\n\t\treturn result;\n\t}\n\n\t// change return type to QueryRows<false>\n\tasync queryObjects(\n\t\tquery: string,\n\t\tparams: unknown[],\n\t): Promise<FullQueryResults<false>> {\n\t\treturn this.clientQuery(query, params, { arrayMode: false, fullResults: true });\n\t}\n\n\toverride async count(sql: SQL): Promise<number>;\n\t/** @internal */\n\toverride async count(sql: SQL, token?: NeonAuthToken): Promise<number>;\n\t/** @internal */\n\toverride async count(sql: SQL, token?: NeonAuthToken): Promise<number> {\n\t\tconst res = await this.execute<{ rows: [{ count: string }] }>(sql, token);\n\n\t\treturn Number(\n\t\t\tres['rows'][0]['count'],\n\t\t);\n\t}\n\n\toverride async transaction<T>(\n\t\t_transaction: (tx: NeonTransaction<TFullSchema, TSchema>) => Promise<T>,\n\t\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\n\t\t_config: PgTransactionConfig = {},\n\t): Promise<T> {\n\t\tthrow new Error('No transactions support in neon-http driver');\n\t}\n}\n\nexport class NeonTransaction<\n\tTFullSchema extends Record<string, unknown>,\n\tTSchema extends TablesRelationalConfig,\n> extends PgTransaction<NeonHttpQueryResultHKT, TFullSchema, TSchema> {\n\tstatic override readonly [entityKind]: string = 'NeonHttpTransaction';\n\n\toverride async transaction<T>(_transaction: (tx: NeonTransaction<TFullSchema, TSchema>) => Promise<T>): Promise<T> {\n\t\tthrow new Error('No transactions support in neon-http driver');\n\t\t// const savepointName = `sp${this.nestedIndex + 1}`;\n\t\t// const tx = new NeonTransaction(this.dialect, this.session, this.schema, this.nestedIndex + 1);\n\t\t// await tx.execute(sql.raw(`savepoint ${savepointName}`));\n\t\t// try {\n\t\t// \tconst result = await transaction(tx);\n\t\t// \tawait tx.execute(sql.raw(`release savepoint ${savepointName}`));\n\t\t// \treturn result;\n\t\t// } catch (e) {\n\t\t// \tawait tx.execute(sql.raw(`rollback to savepoint ${savepointName}`));\n\t\t// \tthrow e;\n\t\t// }\n\t}\n}\n\nexport type NeonHttpQueryResult<T> = Omit<FullQueryResults<false>, 'rows'> & { rows: T[] };\n\nexport interface NeonHttpQueryResultHKT extends PgQueryResultHKT {\n\ttype: NeonHttpQueryResult<this['row']>;\n}\n", "import { entityKind } from '~/entity.ts';\nimport type { Table } from '~/index.ts';\nimport type { CacheConfig } from './types.ts';\n\nexport abstract class Cache {\n\tstatic readonly [entityKind]: string = 'Cache';\n\n\tabstract strategy(): 'explicit' | 'all';\n\n\t/**\n\t * Invoked if we should check cache for cached response\n\t * @param sql\n\t * @param tables\n\t */\n\tabstract get(\n\t\tkey: string,\n\t\ttables: string[],\n\t\tisTag: boolean,\n\t\tisAutoInvalidate?: boolean,\n\t): Promise<any[] | undefined>;\n\n\t/**\n\t * Invoked if new query should be inserted to cache\n\t * @param sql\n\t * @param tables\n\t */\n\tabstract put(\n\t\thashedQuery: string,\n\t\tresponse: any,\n\t\ttables: string[],\n\t\tisTag: boolean,\n\t\tconfig?: CacheConfig,\n\t): Promise<void>;\n\n\t/**\n\t * Invoked if insert, update, delete was invoked\n\t * @param tables\n\t */\n\tabstract onMutate(\n\t\tparams: MutationOption,\n\t): Promise<void>;\n}\n\nexport class NoopCache extends Cache {\n\toverride strategy() {\n\t\treturn 'all' as const;\n\t}\n\n\tstatic override readonly [entityKind]: string = 'NoopCache';\n\n\toverride async get(_key: string): Promise<any[] | undefined> {\n\t\treturn undefined;\n\t}\n\toverride async put(\n\t\t_hashedQuery: string,\n\t\t_response: any,\n\t\t_tables: string[],\n\t\t_config?: any,\n\t): Promise<void> {\n\t\t// noop\n\t}\n\toverride async onMutate(_params: MutationOption): Promise<void> {\n\t\t// noop\n\t}\n}\n\nexport type MutationOption = { tags?: string | string[]; tables?: Table<any> | Table<any>[] | string | string[] };\n\nexport async function hashQuery(sql: string, params?: any[]) {\n\tconst dataToHash = `${sql}-${JSON.stringify(params)}`;\n\tconst encoder = new TextEncoder();\n\tconst data = encoder.encode(dataToHash);\n\tconst hashBuffer = await crypto.subtle.digest('SHA-256', data);\n\tconst hashArray = [...new Uint8Array(hashBuffer)];\n\tconst hashHex = hashArray.map((b) => b.toString(16).padStart(2, '0')).join('');\n\n\treturn hashHex;\n}\n", "import { type Cache, hashQuery, NoopCache } from '~/cache/core/cache.ts';\nimport type { WithCacheConfig } from '~/cache/core/types.ts';\nimport { entityKind, is } from '~/entity.ts';\nimport { TransactionRollbackError } from '~/errors.ts';\nimport { DrizzleQueryError } from '~/errors/index.ts';\nimport type { TablesRelationalConfig } from '~/relations.ts';\nimport type { PreparedQuery } from '~/session.ts';\nimport { type Query, type SQL, sql } from '~/sql/index.ts';\nimport { tracer } from '~/tracing.ts';\nimport type { NeonAuthToken } from '~/utils.ts';\nimport { PgDatabase } from './db.ts';\nimport type { PgDialect } from './dialect.ts';\nimport type { SelectedFieldsOrdered } from './query-builders/select.types.ts';\n\nexport interface PreparedQueryConfig {\n\texecute: unknown;\n\tall: unknown;\n\tvalues: unknown;\n}\n\nexport abstract class PgPreparedQuery<T extends PreparedQueryConfig> implements PreparedQuery {\n\tconstructor(\n\t\tprotected query: Query,\n\t\t// cache instance\n\t\tprivate cache: Cache | undefined,\n\t\t// per query related metadata\n\t\tprivate queryMetadata: {\n\t\t\ttype: 'select' | 'update' | 'delete' | 'insert';\n\t\t\ttables: string[];\n\t\t} | undefined,\n\t\t// config that was passed through $withCache\n\t\tprivate cacheConfig?: WithCacheConfig,\n\t) {\n\t\t// it means that no $withCache options were passed and it should be just enabled\n\t\tif (cache && cache.strategy() === 'all' && cacheConfig === undefined) {\n\t\t\tthis.cacheConfig = { enable: true, autoInvalidate: true };\n\t\t}\n\t\tif (!this.cacheConfig?.enable) {\n\t\t\tthis.cacheConfig = undefined;\n\t\t}\n\t}\n\n\tprotected authToken?: NeonAuthToken;\n\n\tgetQuery(): Query {\n\t\treturn this.query;\n\t}\n\n\tmapResult(response: unknown, _isFromBatch?: boolean): unknown {\n\t\treturn response;\n\t}\n\n\t/** @internal */\n\tsetToken(token?: NeonAuthToken) {\n\t\tthis.authToken = token;\n\t\treturn this;\n\t}\n\n\tstatic readonly [entityKind]: string = 'PgPreparedQuery';\n\n\t/** @internal */\n\tjoinsNotNullableMap?: Record<string, boolean>;\n\n\t/** @internal */\n\tprotected async queryWithCache<T>(\n\t\tqueryString: string,\n\t\tparams: any[],\n\t\tquery: () => Promise<T>,\n\t): Promise<T> {\n\t\tif (this.cache === undefined || is(this.cache, NoopCache) || this.queryMetadata === undefined) {\n\t\t\ttry {\n\t\t\t\treturn await query();\n\t\t\t} catch (e) {\n\t\t\t\tthrow new DrizzleQueryError(queryString, params, e as Error);\n\t\t\t}\n\t\t}\n\n\t\t// don't do any mutations, if globally is false\n\t\tif (this.cacheConfig && !this.cacheConfig.enable) {\n\t\t\ttry {\n\t\t\t\treturn await query();\n\t\t\t} catch (e) {\n\t\t\t\tthrow new DrizzleQueryError(queryString, params, e as Error);\n\t\t\t}\n\t\t}\n\n\t\t// For mutate queries, we should query the database, wait for a response, and then perform invalidation\n\t\tif (\n\t\t\t(\n\t\t\t\tthis.queryMetadata.type === 'insert' || this.queryMetadata.type === 'update'\n\t\t\t\t|| this.queryMetadata.type === 'delete'\n\t\t\t) && this.queryMetadata.tables.length > 0\n\t\t) {\n\t\t\ttry {\n\t\t\t\tconst [res] = await Promise.all([\n\t\t\t\t\tquery(),\n\t\t\t\t\tthis.cache.onMutate({ tables: this.queryMetadata.tables }),\n\t\t\t\t]);\n\t\t\t\treturn res;\n\t\t\t} catch (e) {\n\t\t\t\tthrow new DrizzleQueryError(queryString, params, e as Error);\n\t\t\t}\n\t\t}\n\n\t\t// don't do any reads if globally disabled\n\t\tif (!this.cacheConfig) {\n\t\t\ttry {\n\t\t\t\treturn await query();\n\t\t\t} catch (e) {\n\t\t\t\tthrow new DrizzleQueryError(queryString, params, e as Error);\n\t\t\t}\n\t\t}\n\n\t\tif (this.queryMetadata.type === 'select') {\n\t\t\tconst fromCache = await this.cache.get(\n\t\t\t\tthis.cacheConfig.tag ?? await hashQuery(queryString, params),\n\t\t\t\tthis.queryMetadata.tables,\n\t\t\t\tthis.cacheConfig.tag !== undefined,\n\t\t\t\tthis.cacheConfig.autoInvalidate,\n\t\t\t);\n\t\t\tif (fromCache === undefined) {\n\t\t\t\tlet result;\n\t\t\t\ttry {\n\t\t\t\t\tresult = await query();\n\t\t\t\t} catch (e) {\n\t\t\t\t\tthrow new DrizzleQueryError(queryString, params, e as Error);\n\t\t\t\t}\n\t\t\t\t// put actual key\n\t\t\t\tawait this.cache.put(\n\t\t\t\t\tthis.cacheConfig.tag ?? await hashQuery(queryString, params),\n\t\t\t\t\tresult,\n\t\t\t\t\t// make sure we send tables that were used in a query only if user wants to invalidate it on each write\n\t\t\t\t\tthis.cacheConfig.autoInvalidate ? this.queryMetadata.tables : [],\n\t\t\t\t\tthis.cacheConfig.tag !== undefined,\n\t\t\t\t\tthis.cacheConfig.config,\n\t\t\t\t);\n\t\t\t\t// put flag if we should invalidate or not\n\t\t\t\treturn result;\n\t\t\t}\n\n\t\t\treturn fromCache as unknown as T;\n\t\t}\n\t\ttry {\n\t\t\treturn await query();\n\t\t} catch (e) {\n\t\t\tthrow new DrizzleQueryError(queryString, params, e as Error);\n\t\t}\n\t}\n\n\tabstract execute(placeholderValues?: Record<string, unknown>): Promise<T['execute']>;\n\t/** @internal */\n\tabstract execute(placeholderValues?: Record<string, unknown>, token?: NeonAuthToken): Promise<T['execute']>;\n\t/** @internal */\n\tabstract execute(placeholderValues?: Record<string, unknown>, token?: NeonAuthToken): Promise<T['execute']>;\n\n\t/** @internal */\n\tabstract all(placeholderValues?: Record<string, unknown>): Promise<T['all']>;\n\n\t/** @internal */\n\tabstract isResponseInArrayMode(): boolean;\n}\n\nexport interface PgTransactionConfig {\n\tisolationLevel?: 'read uncommitted' | 'read committed' | 'repeatable read' | 'serializable';\n\taccessMode?: 'read only' | 'read write';\n\tdeferrable?: boolean;\n}\n\nexport abstract class PgSession<\n\tTQueryResult extends PgQueryResultHKT = PgQueryResultHKT,\n\tTFullSchema extends Record<string, unknown> = Record<string, never>,\n\tTSchema extends TablesRelationalConfig = Record<string, never>,\n> {\n\tstatic readonly [entityKind]: string = 'PgSession';\n\n\tconstructor(protected dialect: PgDialect) {}\n\n\tabstract prepareQuery<T extends PreparedQueryConfig = PreparedQueryConfig>(\n\t\tquery: Query,\n\t\tfields: SelectedFieldsOrdered | undefined,\n\t\tname: string | undefined,\n\t\tisResponseInArrayMode: boolean,\n\t\tcustomResultMapper?: (rows: unknown[][], mapColumnValue?: (value: unknown) => unknown) => T['execute'],\n\t\tqueryMetadata?: {\n\t\t\ttype: 'select' | 'update' | 'delete' | 'insert';\n\t\t\ttables: string[];\n\t\t},\n\t\tcacheConfig?: WithCacheConfig,\n\t): PgPreparedQuery<T>;\n\n\texecute<T>(query: SQL): Promise<T>;\n\t/** @internal */\n\texecute<T>(query: SQL, token?: NeonAuthToken): Promise<T>;\n\t/** @internal */\n\texecute<T>(query: SQL, token?: NeonAuthToken): Promise<T> {\n\t\treturn tracer.startActiveSpan('drizzle.operation', () => {\n\t\t\tconst prepared = tracer.startActiveSpan('drizzle.prepareQuery', () => {\n\t\t\t\treturn this.prepareQuery<PreparedQueryConfig & { execute: T }>(\n\t\t\t\t\tthis.dialect.sqlToQuery(query),\n\t\t\t\t\tundefined,\n\t\t\t\t\tundefined,\n\t\t\t\t\tfalse,\n\t\t\t\t);\n\t\t\t});\n\n\t\t\treturn prepared.setToken(token).execute(undefined, token);\n\t\t});\n\t}\n\n\tall<T = unknown>(query: SQL): Promise<T[]> {\n\t\treturn this.prepareQuery<PreparedQueryConfig & { all: T[] }>(\n\t\t\tthis.dialect.sqlToQuery(query),\n\t\t\tundefined,\n\t\t\tundefined,\n\t\t\tfalse,\n\t\t).all();\n\t}\n\n\tasync count(sql: SQL): Promise<number>;\n\t/** @internal */\n\tasync count(sql: SQL, token?: NeonAuthToken): Promise<number>;\n\t/** @internal */\n\tasync count(sql: SQL, token?: NeonAuthToken): Promise<number> {\n\t\tconst res = await this.execute<[{ count: string }]>(sql, token);\n\n\t\treturn Number(\n\t\t\tres[0]['count'],\n\t\t);\n\t}\n\n\tabstract transaction<T>(\n\t\ttransaction: (tx: PgTransaction<TQueryResult, TFullSchema, TSchema>) => Promise<T>,\n\t\tconfig?: PgTransactionConfig,\n\t): Promise<T>;\n}\n\nexport abstract class PgTransaction<\n\tTQueryResult extends PgQueryResultHKT,\n\tTFullSchema extends Record<string, unknown> = Record<string, never>,\n\tTSchema extends TablesRelationalConfig = Record<string, never>,\n> extends PgDatabase<TQueryResult, TFullSchema, TSchema> {\n\tstatic override readonly [entityKind]: string = 'PgTransaction';\n\n\tconstructor(\n\t\tdialect: PgDialect,\n\t\tsession: PgSession<any, any, any>,\n\t\tprotected schema: {\n\t\t\tfullSchema: Record<string, unknown>;\n\t\t\tschema: TSchema;\n\t\t\ttableNamesMap: Record<string, string>;\n\t\t} | undefined,\n\t\tprotected readonly nestedIndex = 0,\n\t) {\n\t\tsuper(dialect, session, schema);\n\t}\n\n\trollback(): never {\n\t\tthrow new TransactionRollbackError();\n\t}\n\n\t/** @internal */\n\tgetTransactionConfigSQL(config: PgTransactionConfig): SQL {\n\t\tconst chunks: string[] = [];\n\t\tif (config.isolationLevel) {\n\t\t\tchunks.push(`isolation level ${config.isolationLevel}`);\n\t\t}\n\t\tif (config.accessMode) {\n\t\t\tchunks.push(config.accessMode);\n\t\t}\n\t\tif (typeof config.deferrable === 'boolean') {\n\t\t\tchunks.push(config.deferrable ? 'deferrable' : 'not deferrable');\n\t\t}\n\t\treturn sql.raw(chunks.join(' '));\n\t}\n\n\tsetTransaction(config: PgTransactionConfig): Promise<void> {\n\t\treturn this.session.execute(sql`set transaction ${this.getTransactionConfigSQL(config)}`);\n\t}\n\n\tabstract override transaction<T>(\n\t\ttransaction: (tx: PgTransaction<TQueryResult, TFullSchema, TSchema>) => Promise<T>,\n\t): Promise<T>;\n}\n\nexport interface PgQueryResultHKT {\n\treadonly $brand: 'PgQueryResultHKT';\n\treadonly row: unknown;\n\treadonly type: unknown;\n}\n\nexport type PgQueryResultKind<TKind extends PgQueryResultHKT, TRow> = (TKind & {\n\treadonly row: TRow;\n})['type'];\n", "export class DrizzleQueryError extends Error {\n\tconstructor(\n\t\tpublic query: string,\n\t\tpublic params: any[],\n\t\tpublic override cause?: Error,\n\t) {\n\t\tsuper(`Failed query: ${query}\\nparams: ${params}`);\n\t\tError.captureStackTrace(this, DrizzleQueryError);\n\n\t\t// ES2022+: preserves original error on `.cause`\n\t\tif (cause) (this as any).cause = cause;\n\t}\n}\n", "export * from './auth';\nexport * from './assistantConfigs';", "import {\n\tpgTable,\n\ttext,\n\ttimestamp,\n\tboolean,\n\tinteger,\n} from 'drizzle-orm/pg-core';\n\nexport const user = pgTable('user', {\n\tid: text('id').primaryKey(),\n\tname: text('name').notNull(),\n\temail: text('email').notNull().unique(),\n\temailVerified: boolean('email_verified')\n\t\t.$defaultFn(() => false)\n\t\t.notNull(),\n\timage: text('image'),\n\tcreatedAt: timestamp('created_at')\n\t\t.$defaultFn(() => /* @__PURE__ */ new Date())\n\t\t.notNull(),\n\tupdatedAt: timestamp('updated_at')\n\t\t.$defaultFn(() => /* @__PURE__ */ new Date())\n\t\t.notNull(),\n});\n\nexport const session = pgTable('session', {\n\tid: text('id').primaryKey(),\n\texpiresAt: timestamp('expires_at').notNull(),\n\ttoken: text('token').notNull().unique(),\n\tcreatedAt: timestamp('created_at').notNull(),\n\tupdatedAt: timestamp('updated_at').notNull(),\n\tipAddress: text('ip_address'),\n\tuserAgent: text('user_agent'),\n\tuserId: text('user_id')\n\t\t.notNull()\n\t\t.references(() => user.id, { onDelete: 'cascade' }),\n});\n\nexport const account = pgTable('account', {\n\tid: text('id').primaryKey(),\n\taccountId: text('account_id').notNull(),\n\tproviderId: text('provider_id').notNull(),\n\tuserId: text('user_id')\n\t\t.notNull()\n\t\t.references(() => user.id, { onDelete: 'cascade' }),\n\taccessToken: text('access_token'),\n\trefreshToken: text('refresh_token'),\n\tidToken: text('id_token'),\n\taccessTokenExpiresAt: timestamp('access_token_expires_at'),\n\trefreshTokenExpiresAt: timestamp('refresh_token_expires_at'),\n\tscope: text('scope'),\n\tpassword: text('password'),\n\tcreatedAt: timestamp('created_at').notNull(),\n\tupdatedAt: timestamp('updated_at').notNull(),\n});\n\nexport const verification = pgTable('verification', {\n\tid: text('id').primaryKey(),\n\tidentifier: text('identifier').notNull(),\n\tvalue: text('value').notNull(),\n\texpiresAt: timestamp('expires_at').notNull(),\n\tcreatedAt: timestamp('created_at').$defaultFn(\n\t\t() => /* @__PURE__ */ new Date(),\n\t),\n\tupdatedAt: timestamp('updated_at').$defaultFn(\n\t\t() => /* @__PURE__ */ new Date(),\n\t),\n});\n", "import {\n\tpgTable,\n\ttext,\n\ttimestamp,\n\tunique,\n\tprimaryKey,\n} from 'drizzle-orm/pg-core';\n\nimport { user } from './auth';\n\nexport const assistantConfig = pgTable(\n\t'assistant_config',\n\t{\n\t\tuserId: text('user_id')\n\t\t\t.notNull()\n\t\t\t.references(() => user.id, { onDelete: 'cascade' }),\n\t\tid: text('id').notNull(),\n\t\tname: text('name').notNull(),\n\t\turl: text('url').notNull(),\n\t\tpassword: text('password'),\n\t\tcreatedAt: timestamp('created_at')\n\t\t\t.$defaultFn(() => /* @__PURE__ */ new Date())\n\t\t\t.notNull(),\n\t\tupdatedAt: timestamp('updated_at')\n\t\t\t.$defaultFn(() => /* @__PURE__ */ new Date())\n\t\t\t.notNull(),\n\t\tlastAccessedAt: timestamp('last_accessed_at')\n\t\t\t.$defaultFn(() => /* @__PURE__ */ new Date())\n\t\t\t.notNull(),\n\t},\n\t(table) => ({\n\t\tpk: primaryKey({ columns: [table.userId, table.id] }),\n\t\tuserUrlUnique: unique('user_url_unique').on(table.userId, table.url),\n\t}),\n);\n", "import type { Middleware } from \"./common\";\n\nconst drainBody: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} finally {\n\t\ttry {\n\t\t\tif (request.body !== null && !request.bodyUsed) {\n\t\t\t\tconst reader = request.body.getReader();\n\t\t\t\twhile (!(await reader.read()).done) {}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(\"Failed to drain the unused request body.\", e);\n\t\t}\n\t}\n};\n\nexport default drainBody;\n", "import type { Middleware } from \"./common\";\n\ninterface JsonError {\n\tmessage?: string;\n\tname?: string;\n\tstack?: string;\n\tcause?: JsonError;\n}\n\nfunction reduceError(e: any): JsonError {\n\treturn {\n\t\tname: e?.name,\n\t\tmessage: e?.message ?? String(e),\n\t\tstack: e?.stack,\n\t\tcause: e?.cause === undefined ? undefined : reduceError(e.cause),\n\t};\n}\n\n// See comment in `bundle.ts` for details on why this is needed\nconst jsonError: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} catch (e: any) {\n\t\tconst error = reduceError(e);\n\t\treturn Response.json(error, {\n\t\t\tstatus: 500,\n\t\t\theaders: { \"MF-Experimental-Error-Stack\": \"true\" },\n\t\t});\n\t}\n};\n\nexport default jsonError;\n", "export type Awaitable<T> = T | Promise<T>;\n// TODO: allow dispatching more events?\nexport type Dispatcher = (\n\ttype: \"scheduled\",\n\tinit: { cron?: string }\n) => Awaitable<void>;\n\nexport type IncomingRequest = Request<\n\tunknown,\n\tIncomingRequestCfProperties<unknown>\n>;\n\nexport interface MiddlewareContext {\n\tdispatch: Dispatcher;\n\tnext(request: IncomingRequest, env: any): Awaitable<Response>;\n}\n\nexport type Middleware = (\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tmiddlewareCtx: MiddlewareContext\n) => Awaitable<Response>;\n\nconst __facade_middleware__: Middleware[] = [];\n\n// The register functions allow for the insertion of one or many middleware,\n// We register internal middleware first in the stack, but have no way of controlling\n// the order that addMiddleware is run in service workers so need an internal function.\nexport function __facade_register__(...args: (Middleware | Middleware[])[]) {\n\t__facade_middleware__.push(...args.flat());\n}\nexport function __facade_registerInternal__(\n\t...args: (Middleware | Middleware[])[]\n) {\n\t__facade_middleware__.unshift(...args.flat());\n}\n\nfunction __facade_invokeChain__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tmiddlewareChain: Middleware[]\n): Awaitable<Response> {\n\tconst [head, ...tail] = middlewareChain;\n\tconst middlewareCtx: MiddlewareContext = {\n\t\tdispatch,\n\t\tnext(newRequest, newEnv) {\n\t\t\treturn __facade_invokeChain__(newRequest, newEnv, ctx, dispatch, tail);\n\t\t},\n\t};\n\treturn head(request, env, ctx, middlewareCtx);\n}\n\nexport function __facade_invoke__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tfinalMiddleware: Middleware\n): Awaitable<Response> {\n\treturn __facade_invokeChain__(request, env, ctx, dispatch, [\n\t\t...__facade_middleware__,\n\t\tfinalMiddleware,\n\t]);\n}\n"],
  "mappings": "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;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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",
  "names": ["isFunction", "isObject", "node", "node", "node", "node", "schema", "node", "node", "schema", "node", "node", "schema", "node", "AliasNode", "node", "node", "schema", "isObject", "isFunction", "isObject", "node", "node", "node", "node", "node", "node", "node", "node", "node", "node", "isObject", "reference", "node", "node", "sql", "node", "message", "args", "node", "node", "reference", "node", "value", "node", "it", "trim", "AliasNode", "schema", "node", "node", "node", "value", "value", "it", "node", "args", "parseOperator", "v", "node", "value", "node", "node", "node", "node", "node", "groupBy", "node", "node", "node", "node", "node", "node", "node", "node", "node", "node", "node", "node", "output", "node", "node", "fetch", "args", "node", "args", "node", "isFunction", "it", "node", "node", "isFunction", "value", "it", "node", "value", "args", "isFunction", "value", "node", "node", "node", "args", "node", "node", "args", "error", "node", "args", "error", "args", "error", "node", "node", "isFunction", "it", "node", "randomString", "randomString", "node", "schema", "node", "AliasNode", "schema", "args", "node", "not", "type", "args", "value", "node", "args", "error", "schema", "args", "node", "node", "groupBy", "groupBy", "isFunction", "node", "isFunction", "node", "args", "AliasNode", "node", "value", "args", "groupBy", "error", "AliasNode", "node", "node", "args", "args", "AliasNode", "args", "node", "node", "value", "args", "node", "type", "value", "node", "value", "AliasNode", "node", "node", "node", "binary", "reference", "value", "args", "node", "schema", "isFunction", "isObject", "AliasNode", "it", "trim", "AliasNode", "schema", "node", "node", "node", "node", "node", "node", "value", "node", "node", "node", "value", "node", "node", "node", "node", "node", "node", "node", "value", "value", "node", "node", "node", "node", "node", "node", "node", "args", "node", "createView", "args", "node", "node", "node", "trim", "node", "createView", "schema", "reference", "node", "isFunction", "error", "config", "isFunction", "value", "isObject", "isFunction", "isObject", "args", "value", "schema", "db", "error", "node", "AliasNode", "value", "sql", "array", "node", "node", "value", "sql", "config", "isFunction", "db", "sql", "node", "db", "sql", "type", "it", "config", "db", "ID_WRAP_REGEX", "db", "it", "db", "isObject", "isObject", "isFunction", "sql", "ID_WRAP_REGEX", "node", "db", "it", "b", "LOCK_ID", "db", "config", "db", "PRIVATE_RELEASE_METHOD", "config", "isFunction", "sql", "config", "db", "db", "config", "error", "randomString", "value", "db", "node", "char", "config", "db", "ConnectionMutex", "config", "db", "sql2", "it", "next", "value", "paths", "match", "next", "decoder", "url", "v", "a", "value", "url", "value", "raw", "text", "value", "v", "args", "value", "v2", "text", "object", "html", "html2", "args", "p", "m", "clone", "app", "next", "url", "env", "a", "b", "node", "m", "value", "map", "a", "b", "p", "m", "paths", "match", "init", "router", "Node", "m", "p", "v", "a", "node", "b", "Node", "Hono", "next", "value", "array", "value", "v", "message", "v", "v", "desc", "value", "args", "error", "regex", "regex", "value", "value", "value", "value", "indent", "v", "date", "year", "suffix", "count", "char", "value", "args", "optional", "object", "suffix", "indent", "value", "node", "v", "value", "value", "v", "implementation", "args", "schema", "keywords", "v", "e", "config", "v", "error", "config", "error", "clone", "value", "v", "transformed", "node", "value", "implementation", "schema", "js", "schema", "node", "v", "args", "args", "value", "schema", "node", "js", "implementation", "schema", "node", "greatestCommonDivisor", "schema", "implementation", "schema", "node", "implementation", "schema", "node", "implementation", "schema", "node", "implementation", "schema", "node", "implementation", "node", "schema", "implementation", "schema", "node", "implementation", "node", "schema", "implementation", "schema", "node", "schema", "node", "v", "json", "value", "js", "implementation", "schema", "node", "args", "value", "schema", "result", "args", "intersection", "io", "node", "r", "implementation", "kind", "schema", "implementation", "node", "js", "js", "implementation", "schema", "config", "node", "implementation", "schema", "v", "node", "p", "js", "implementation", "schema", "m", "node", "js", "implementation", "schema", "config", "node", "implementation", "schema", "node", "b", "js", "v", "cases", "d", "unique", "intersection", "l", "r", "implementation", "schema", "node", "implementation", "schema", "b", "node", "value", "implementation", "schema", "node", "implementation", "schema", "node", "raw", "js", "value", "node", "value", "implementation", "schema", "config", "intersection", "v", "required", "optional", "js", "defaultableMorphsCache", "args", "implementation", "value", "schema", "node", "js", "config", "v", "value", "reference", "cached", "v", "value", "d", "date", "char", "node", "message", "value", "args", "args", "v", "node", "schema", "v", "value", "value", "node", "args", "v", "config", "generic", "value", "node", "args", "args", "v", "v", "regex", "schema", "parsed", "capitalize", "epoch", "date", "error", "capitalize", "json", "args", "Required", "env", "isProduction", "app", "env", "array", "splitPath", "match", "node", "regex", "splitPath", "m", "node", "match", "value", "error", "tryDecode", "init", "issue", "message", "_serialize", "options", "url", "headers", "json", "createEndpoint", "util", "assertIs", "assertNever", "object", "joinValues", "array", "objectUtil", "m", "map", "x", "errorUtil", "errorMap", "check", "transform", "args", "regex", "ip", "version", "base64", "parsedType", "ctx", "result", "schema", "issues", "types", "type", "a", "b", "elements", "enumValues", "processed", "freeze", "ZodFirstPartyTypeKind", "required", "config", "createRouter", "router", "methods", "initializer", "init", "cached", "floatSafeRemainder", "getParsedType", "omit", "v", "array", "value", "cached", "floatSafeRemainder", "object", "schema", "getParsedType", "omit", "a", "b", "Class", "x", "message", "config", "args", "error", "issue", "schema", "value", "schema", "value", "schema", "value", "uuid", "version", "email", "base64", "args", "regex", "time", "timeRegex", "string", "integer", "number", "inst", "floatSafeRemainder", "integer", "inst", "args", "x", "line", "checks", "isAborted", "result", "value", "string", "_", "v", "uuid", "email", "url", "inst", "base64", "isValidJWT", "algorithm", "number", "isDate", "isValidDate", "result", "cached", "v", "isObject", "allowsEval", "value", "r", "p", "results", "left", "right", "mergeValues", "a", "b", "result", "output", "result", "v", "x", "result", "left", "r", "issue", "schema", "p", "registry", "Class", "_emoji", "Class", "Class", "Class", "Class", "Class", "value", "value", "value", "includes", "suffix", "Class", "Class", "schema", "datetime", "date", "time", "duration", "initializer", "issue", "issues", "ZodError", "safeParse", "safeParseAsync", "ZodType", "def", "safeParse", "safeParseAsync", "check", "args", "_ZodString", "ZodString", "_emoji", "datetime", "date", "time", "duration", "string", "email", "ZodNumber", "ZodType", "value", "number", "ZodBoolean", "ZodType", "boolean", "ZodBigInt", "value", "ZodAny", "ZodType", "ZodUnknown", "unknown", "ZodNever", "ZodDate", "ZodType", "value", "date", "ZodArray", "ZodObject", "ZodType", "unknown", "args", "ZodOptional", "object", "ZodUnion", "ZodType", "ZodIntersection", "ZodType", "ZodRecord", "ZodType", "ZodEnum", "ZodType", "value", "v", "ZodType", "issue", "output", "ZodOptional", "ZodNullable", "ZodDefault", "ZodType", "ZodCatch", "ZodType", "ZodType", "ZodReadonly", "ZodType", "issue", "bigint", "boolean", "date", "number", "string", "string", "ZodString", "number", "ZodNumber", "boolean", "ZodBoolean", "bigint", "ZodBigInt", "date", "ZodDate", "char", "value", "base64", "algorithm", "encoder", "b", "base64", "number", "b", "a", "bytes", "hex", "char", "array", "a", "pad", "b", "value", "isLE", "bytes", "a", "b", "sigma", "output", "number", "a", "pad", "output", "tag", "crypto", "crypto", "number", "args", "binary", "bytes", "message", "message", "algorithm", "types", "value", "isObject", "isObject", "algorithm", "parse", "freeze", "cached", "isObject", "algorithm", "getCryptoKey", "getCryptoKey", "algorithm", "isObject", "date", "value", "value", "isObject", "getCryptoKey", "isObject", "isObject", "clone", "jwk", "error", "cached", "url", "isObject", "url", "json", "decode", "decode", "isObject", "decode", "isObject", "isBytes", "a", "b", "u32", "clean", "createView", "rotl", "isLE", "isLE", "asciis", "asciiToBase16", "hexToBytes", "hex", "array", "char", "ts", "utf8ToBytes", "toBytes", "utf8ToBytes", "checkOpts", "toBytes", "toBytes", "pad", "clean", "message", "checkOpts", "clean", "createView", "Ti", "setBigUint64", "value", "isLE", "a", "b", "createView", "toBytes", "clean", "E", "G", "clean", "ii", "rotl", "checkOpts", "p", "u32", "clean", "p", "hex", "a", "b", "config", "hex", "hexToBytes", "error", "url", "value", "isJSONSerializable", "text", "value", "isJSONSerializable", "getBody", "value", "url", "message", "schema", "getURL", "url", "m", "value", "p", "_url", "fetch", "getBody", "clearTimeout", "text", "parser", "env", "env2", "value", "message", "url", "error", "env", "url2", "algorithm", "hmac", "hex", "base64", "value", "date", "encoder", "decoder", "value", "time", "date", "match", "ms", "session", "value", "message", "timestamp", "args", "object", "string", "date", "boolean", "schema", "user", "session", "schema", "user", "isPlainObject", "value", "object", "p", "char", "transform", "p", "url", "object", "base64", "isValid", "session2", "session", "error", "config", "string", "email", "user", "schema", "parsed", "verification", "number", "boolean", "account", "user", "a", "value", "url", "session", "duration", "base64", "error", "refreshToken", "base64", "value", "error", "url", "user", "isValid", "refreshToken", "error", "url", "string", "object", "boolean", "number", "p", "email", "user", "a", "session", "schema", "error2", "value", "v", "verification", "account", "revokeOtherSessions", "account2", "verify", "url2", "value", "ip", "isValidIP", "ipv4Regex", "ipv6Regex", "string", "email", "url", "session", "window", "db", "value", "ip", "p", "isMatch", "m", "error", "createRouter", "schema", "value", "user", "session", "account", "value", "colors", "config", "schema", "m2", "m", "args", "v", "db", "config", "BunSqliteDialect", "schema", "value", "type", "and", "or", "db", "config", "record", "value", "a", "b", "count", "isObject", "user", "account", "session", "email", "a", "user2", "cached", "parsed", "verification", "config", "schema", "normalize", "type", "types", "logger", "db", "value", "m", "account", "logger", "env", "value", "x", "session", "value", "type", "config", "value", "value", "config", "args", "char", "value", "startFrom", "array", "config", "as", "ref", "actions", "type", "range", "value", "v", "a", "config", "sql", "version", "version", "otel", "rawTracer", "schema", "value", "config", "p", "decoder", "value", "encoder", "sql", "param", "raw", "value", "placeholder", "name", "encoder", "SQL", "p", "name", "schema", "value", "sql", "message", "message", "config", "p", "value", "result", "decoder", "node", "value", "a", "b", "type", "value", "bigint", "a", "b", "config", "value", "a", "b", "config", "boolean", "config", "a", "b", "config", "value", "a", "b", "sql", "value", "date", "a", "b", "config", "value", "value", "integer", "a", "b", "config", "config", "value", "json", "config", "value", "value", "a", "b", "config", "config", "value", "a", "b", "mode", "value", "x", "a", "b", "config", "hexToBytes", "hex", "bytes", "x", "value", "parsed", "a", "b", "config", "config", "value", "value", "config", "a", "b", "config", "time", "a", "b", "config", "value", "a", "b", "sql", "uuid", "config", "a", "b", "config", "a", "b", "config", "value", "v", "a", "b", "config", "a", "b", "config", "value", "v", "a", "b", "bigint", "boolean", "date", "integer", "json", "time", "uuid", "schema", "name", "config", "value", "sql", "v", "isNull", "exists", "sql", "config", "exists", "isNull", "sql", "schema", "value", "relations", "primaryKey", "config", "schema", "value", "decoder", "sql", "db", "config", "getSchema", "schema", "sql", "lt", "S", "vt", "or", "U", "ne", "gt", "Xt", "_t", "is", "dr", "kn", "Un", "config", "value", "schema", "config", "session", "sql", "value", "groupBy", "table", "type", "select", "encoder", "schema", "queryConfig", "joinOn", "field", "config", "session", "type", "groupBy", "it", "union", "as", "session", "session", "config", "sql", "it", "session", "session", "tableName", "sql", "value", "schema", "session", "config", "mode", "sql", "session", "schema", "as", "sql", "config", "sql", "encoder", "b", "sql", "session", "schema", "config", "logger", "schema", "sql", "schema", "target", "p", "res", "config", "logger", "session", "db", "instance", "drizzle", "boolean", "env", "sql", "env", "Hono", "next", "env", "env", "error", "args", "env", "env", "type", "init"]
}
